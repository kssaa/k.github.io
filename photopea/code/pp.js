(function(){function pc(){this.gc={};this.bP={}}pc.DS=[];pc.sK=function(m){var g=pc.DS;if(g.length!=0){var L=new Y(p.E.VB);
for(var K=0;K<g.length;K++)g[K].g(L)}window.requestAnimationFrame(pc.sK)};window.requestAnimationFrame(pc.sK);
pc.prototype.sA=function(m){var g=this.gc[m];if(g==null)return!1;return g.length>0};pc.prototype.addEventListener=function(m,g){this.v(m,g,null)};
pc.prototype.v=function(m,g,L){if(this.gc[m]==null){this.gc[m]=[];this.bP[m]=[]}this.gc[m].push(g);this.bP[m].push(L);
if(m==p.E.VB){var K=pc.DS;if(K.indexOf(this)==-1)K.push(this)}};pc.prototype.removeEventListener=function(m,g){var L=this.gc[m];
if(L==null)return;var K=L.indexOf(g);if(K<0)return;var r=this.bP[m];L.splice(K,1);r.splice(K,1);if(m==p.E.VB&&L.length==0){var R=pc.DS;
R.splice(R.indexOf(this),1)}};pc.prototype.g=function(m){m.currentTarget=this;if(m.target==null)m.target=this;
var g=this.gc[m.type];if(g==null)return;var L=this.bP[m.type];for(var K=0;K<g.length;K++){if(L[K]==null)g[K](m);
else g[K].call(L[K],m)}};function az(){pc.call(this);this.yk={};this.gP={};this.IJL=0;this.IlG={};this.IlX=0;
az.mJ=this}az.prototype=new pc;az.IE_=function(m,g){var L=0,K=az.tC;while(L<K.length){if((g>>>L&1)==1)break;
L++}if(g==0||K[L][1]==""){if((g&15)!=0&&az.st(m,[33,126])>.7)L=0;else if(g==0)L=0;else{L=0}}return K[L][1]};
az.Dk=120;az.tw=20;az.cols=16;az.kx=function(m){var g=m.name.postScriptName;if(g==null)return null;return g.replace(/ /g,"-")};
az.sH=function(m){var g=m.name,L=g.typoFamilyName?g.typoFamilyName:g.fontFamily,K=g.typoSubfamilyName?g.typoSubfamilyName:g.fontSubfamily,r=az.Ihj,R=L.toLowerCase();
for(var Q=0;Q<r.length;Q++){if(r[Q]=="roman")continue;if(R.endsWith(" "+r[Q])||R.endsWith("-"+r[Q])){var F=L.length-r[Q].length,q=L.slice(F);
L=L.slice(0,F-1);if(q!=""){if(K=="Regular"||K==L+" Regular")K=q;else K=q+" "+K}break}}var n="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var Q=0;Q<n.length;Q++)if(L.startsWith(n[Q])){var q=L.slice(n[Q].length);L=n[Q];if(q.startsWith(" ")||q.startsWith("-"))q=q.slice(1);
if(q!=""){if(K=="Regular")K=q;else K=q+" "+K}break}var W={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},z=W[az.kx(m)];
if(z)K=z;return[L,K]};az.prototype.Ei=function(m,g){if(this.yk[m])return this.yk[m];if(this.gP[m])return null;
var L=null,K=this.X$();if(K[m]!=null)L=K[m][5];if(L==null){var r=az.IXZ[m];if(r==null){var R="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),Q=m.toLowerCase(),F=0;
if(Q.indexOf("sans")!=-1)F=0;else if(Q.indexOf("serif")!=-1)F=4;var q=Q.indexOf("bold")!=-1||Q.indexOf("-black")!=-1,n=Q.indexOf("italic")!=-1||Q.indexOf("oblique")!=-1||Q.endsWith("-it");
if(q&&n)F+=3;else if(n)F+=2;else if(q)F+=1;r=R[F]}if(g!=null&&g>128)r=this.su(g,r);if(this.IlG[m]==null){this.IlG[m]=1;
var W=Date.now()-this.IJL>2e3?2e3:0;this.IJL=Date.now();alert(m+" \u27A1 "+r,W)}return this.Ei(r,g)}this.gP[m]="a";
var z=new Y(p.E.V,!0);z.data={P:p.o.Yj,Su:{url:"rsrc/fonts/"+L}};this.g(z)};az.prototype.su=function(m,g,L){var K=this.yk[g];
if(K&&Typr.U.codeToGlyph(K,m)!=0)return g;var r=this.X$(),R=az.IEA(m),Q=R[0];if(r[g]&&(r[g][3]&Q)==0){if(L)for(var F=0;
F<L.length;F++){var q=L[F].Name,n=r[q];if(n&&(n[3]&Q)!=0)return q}var q=az.tC[R[1]][4];if(r[q])return q}return g};
az.IEA=function(m){var g=az.tC,L=[0];for(var K=0;K<g.length;K++){var r=g[K][2];for(var R=0;R<r.length;
R+=2)if(r[R]<=m&&m<=r[R+1]){L[0]+=1<<K;L.push(K)}}if(L.length==1)L.push(0);return L};az.prototype.IEN=function(m,g){if(g!=!0){var L=Date.now()-this.IlX>2e3?2e3:0;
this.IlX=Date.now();alert(aT.get([22,6,0])+" "+m.name.fullName+" "+aT.get([23,0])+".",L)}var K=az.kx(m),r=this.X$(),R=r[K],Q=az.IEP(m);
if(R==null){var F=document.createElement("canvas"),q=F.getContext("2d");F.width=az.Dk;F.height=az.tw;
var n=az.tw*1.2/m.head.unitsPerEm;q.translate(4,az.tw*.9);q.scale(n,-n);q.fillStyle="#000000";var W=Typr.U.shape(m,az.IE_(m,Q[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(m,W),q);q.fill();Q.Ilh=F.toDataURL();this.sf(Q)}delete this.gP[K];
this.yk[K]=m};az.Ix$=function(){var m=az.tC,g=[];for(var L=0;L<m.length;L++)g.push(m[L][0]);return g};
az.tC=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
az.IEP=function(m,g,L){var K=m.name,n=0;if(az.kx(m)==null){console.log(m);throw"No postScriptName!"}var r=az.tC,R=[];
for(var Q=0;Q<r.length;Q++){var F=r[Q][2],q=r[Q][3];R[Q]=az.st(m,F)>q?1:0}for(var Q=0;Q<R.length;Q++)n+=R[Q]<<Q;
var W=az.sH(m);return[W[0],W[1],az.kx(m),n,L,g]};az.st=function(m,g){var L=0,K=0;for(var r=0;r<g.length;
r+=2){for(var R=g[r];R<=g[r+1];R++){var Q=Typr.U.codeToGlyph(m,R);if(Q==0)K++;else L++}}return L/(L+K)};
az.IxA=function(m,g){if(m[2]<g[2])return-1;if(m[2]>g[2])return 1;return 0};az.ILf=function(m,g){if(m[5]=="fs/"+m[2]+".otf")m[5]="";
else if(m[5]=="gf/"+m[2]+".otf")m[5]="a";if(m[2]==(m[0]+"-"+m[1]).replace(/\s/g,"")){m[2]=""}else if(m[2]==m[0].replace(/\s/g,"")){m[2]="a"}if(g){if(m[0]==g[0])m[0]="";
if(m[1]==g[1])m[1]="";if(m[3]==g[3])m[3]="";if(m[4]==g[4])m[4]=""}return m.join(",")};az.IXS=function(m,g){m=m.split(",");
if(m[0]=="")m[0]=g[0];if(m[1]=="")m[1]=g[1];if(m[3]=="")m[3]=g[3];else m[3]=parseInt(m[3]);if(m[4]=="")m[4]=g[4];
else m[4]=parseInt(m[4]);if(m[2]=="")m[2]=(m[0]+"-"+m[1]).replace(/\s/g,"");else if(m[2]=="a")m[2]=m[0].replace(/\s/g,"");
if(m[5]=="")m[5]="fs/"+m[2]+".otf";else if(m[5]=="a")m[5]="gf/"+m[2]+".otf";return m};az.IXZ={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
az.prototype.X$=function(){if(FNTS.map==null){var m=FNTS.list,g=[];for(var L=0;L<m.length;L++){g[L]=az.IXS(m[L],g[L-1]);
g[L].Bj=L;this.sf(g[L])}}return FNTS.map};az.prototype.sf=function(m){var g=m[0],L=m[1],K=m[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[m[2]]=m;if(FNTS.mapFS==null)FNTS.mapFS={};var r=FNTS.mapFS[g+"---"+L];FNTS.mapFS[g+"---"+L]=m;
if(FNTS.mapSub==null)FNTS.mapSub={};var R=FNTS.mapSub[g];if(R==null)R=FNTS.mapSub[g]=[];var Q=R.indexOf(L);
if(Q==-1)R.push(L);else R[Q]=L};az.IBq=function(m,g){return az.Ek(m)-az.Ek(g)};az.Ek=function(m){m=m.toLowerCase();
var g=az.IBl(m)+(az.Ihh(m)<<1);if(m.indexOf("cond")==-1)g+=1<<25;return g};az.IBl=function(m){return m.indexOf("italic")!=-1||m.indexOf("oblique")!=-1?1:0};
az.Ihj="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
az.IhR=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
az.Ihh=function(m){var g=az.IhR,L=-1,K=-1;for(var r=0;r<g.length;r++){var R=g[r];if(R instanceof Array)for(var Q=0;
Q<R.length;Q++){var F=R[Q];if(m.indexOf(F)!=-1&&(L==-1||K<F.length)){L=r;K=F.length}}else if(m.indexOf(R)!=-1&&(L==-1||K<R.length)){L=r;
K=R.length}}if(L==-1)L=8;return L};az.zU=function(m,g){var L=1e9,K=null,r=az.Ek(g);for(var R=0;R<m.length;
R++){var Q=Math.abs(az.Ek(m[R])-r);if(Q<L){L=Q;K=m[R]}}return K};az.prototype.DO=function(m,g){this.X$();
return FNTS.mapFS[m+"---"+g]};az.prototype.zI=function(m){this.X$();return FNTS.mapSub[m]};az.prototype.IVT=function(){this.X$();
return FNTS.mapSub};var ah={kD:0,kl:null,td:null,zq:null,zQ:null,DM:null,zj:!0,zR:0,DC:!1},RJ=0;ah.MS=function(){return ah.KA()!=null&&ah.KA()[p.jw("!&|'&50")]*200>Date.now()/5};
ah.rs=function(){return ah.I$n()!=null};ah.KA=function(){return ah.DM};ah.Rb=function(m){window.addEventListener("message",ah.IVX,!1);
setInterval(ah.zD,5e3);if(ah.rs()){ah.kl=m;ah.Ev()}else setTimeout(m,1)};ah.zD=function(){if(ah.rs()&&ah.DC){ah.zx(ah.DH());
ah.DC=!1}};ah.DZ=function(m){ah.kl=m;var g="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
ah.zq=window.open(g,"_blank")};ah.IVC=function(){localStorage.removeItem(ah.kD+"_uid");localStorage.removeItem(ah.kD+"_provider");
localStorage.removeItem(ah.kD+"_token");ah.DM=null};ah.IVX=function(m){if(m.data instanceof ArrayBuffer||m.data instanceof Object)return;
if(m.data.charAt(0)!="{")return;var g=JSON.parse(m.data);if(g.prms==null)return;var L=g.prms.split(",");
if(L[0]=="papi_logged_in"){localStorage[ah.kD+"_uid"]=L[1];ah.EC(L[2]);localStorage[ah.kD+"_provider"]=L[3];
ah.zq.close();ah.Ev()}if(L[0]=="payment_complete"){ah.zQ.close();ah.Ev()}};ah.I$n=function(){var m=localStorage[ah.kD+"_token"];
if(m!=null&&Date.now()*.001+10<parseInt(m.split("-")[0]))return m;return null};ah.EC=function(m){var g=localStorage[ah.kD+"_token"];
if(g!=null&&parseInt(m.split("-")[0])<parseInt(g.split("-")[0]))return;localStorage[ah.kD+"_token"]=m;
clearTimeout(ah.zR);ah.zR=setTimeout(ah.IUr,Math.min(1e9,parseInt(m.split("-")[0])*1e3-Date.now()-20*1e3))};
ah.IUr=function(){var m=new XMLHttpRequest;m.open("POST","https://www.photopea.com/papi/record_new.php",!0);
m.onload=ah.Iqi;var g=ah.DE()+"&read=2";m.setRequestHeader("Content-type","application/x-www-form-urlencoded");
m.send(g)};ah.Ev=function(){var m=new XMLHttpRequest;m.open("POST","https://www.photopea.com/papi/record_new.php",!0);
m.onload=ah.IqJ;var g=ah.DE()+"&read=1";m.setRequestHeader("Content-type","application/x-www-form-urlencoded");
m.send(g)};ah.zx=function(m){var g=new XMLHttpRequest;g.open("POST","https://www.photopea.com/papi/record_new.php",!0);
g.onload=ah.Iqd;var L=ah.DE()+"&read=0&score=0&spublic="+ah.zj+"&record="+encodeURIComponent(JSON.stringify(m));
g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.send(L)};ah.IqJ=function(m){var g=JSON.parse(m.target.response);
if(g.error){}else{ah.DM=g.user;var L=ah.DH(),K=g.record;if(g.record){ah.zj=g.spublic;ah.zJ(K)}else if(L)ah.zx(L)}ah.EC(g.token);
if(ah.kl){ah.kl();ah.kl=null}if(ah.td){ah.td();ah.td=null}};ah.Iqi=function(m){var g=JSON.parse(m.target.response);
ah.EC(g.token)};ah.Iqd=function(m){var g=JSON.parse(m.target.response);ah.EC(g.token);if(ah.td)ah.Ev()};
ah.DE=function(){return"app="+ah.kD+"&uid="+localStorage[ah.kD+"_uid"]+"&token="+localStorage[ah.kD+"_token"]};
ah.kG=function(){return ah.DH()};ah.DF=function(m,g){ah.zJ(m);ah.DC=!0;if(g){ah.td=g;ah.zD()}};ah.DH=function(){var m=localStorage[ah.kD+"_stateLocal"],g;
if(m==null)return null;try{g=JSON.parse(m)}catch(QX){return null}return g};ah.zJ=function(m){var g=JSON.stringify(m);
localStorage[ah.kD+"_stateLocal"]=g};ah.order=function(m,g,L){ah.kl=L;var K="https://www.photopea.com/papi/order.php?ptype="+g+"&param="+m+"&uid="+localStorage[ah.kD+"_uid"]+"&token="+localStorage[ah.kD+"_token"];
ah.zQ=window.open(K,"_blank")};var aT={};aT.Eh=0;aT.Dd={};aT.zG=function(m){var g=LNG.tables,L=g[m];
if(typeof L=="string"){L=g[m]=aT.dH(L)}return L};aT.dH=function(m){var g=[],L=0,K=0,r=[],R=m.length;
while(K!=R){var Q=m[K];if(Q=="["){g.push(r);r=[];K=L=K+1}else if(Q=="]"){r.push(L==K?null:m.substring(L,K));
var F=r;r=g.pop();r.push(F);K=L=K+1}else if(Q==";"){if(m[K-1]!="]")r.push(L==K?null:m.substring(L,K));
K=L=K+1}else K++}return r};aT.get=function(m){if(typeof m=="string")return m;var g=JSON.stringify(m),R=0;
if(aT.Dd[g]!=null)return aT.Dd[g];var L=aT.zG(0),K=aT.zG(aT.Eh),r=aT.zk(m,K);if(r==null)r=aT.zk(m,L);
for(var Q=0;Q<m.length;Q++){var F=m[Q];if(typeof F!="number"){var q=aT.get(F),n=r.indexOf("VAR"+R);r=r.slice(0,n)+q+r.slice(n+4);
R++}}return r};aT.zk=function(m,g){for(var L=0;L<m.length;L++){g=g[m[L]];if(g==null)return null;else if(typeof g=="string")break}return g.split("::")[0]};
aT.IqP=function(){var m=function(L,K){var r=L.code,R=K.code;if(r=="en")return-1;if(R=="en")return 1;
var Q=navigator.languages,F=Q.indexOf(r)!=-1,q=Q.indexOf(R)!=-1;if(F&&q)return r>R?1:-1;if(F)return-1;
if(q)return 1;return r>R?1:-1},g=LNG.langs.slice(0);g.sort(m);return g};aT.IQQ=function(m){aT.Eh=m};
aT.Dc=function(m){for(var g=0;g<LNG.langs.length;g++)if(LNG.langs[g].code==m)aT.Eh=g};aT.zO=function(){return LNG.langs[aT.Eh].code};
aT.IQm=function(m){for(var g=0;g<m.length;g+=2)aT.Dd[JSON.stringify(m[g])]=m[g+1]};aT.zM=function(m){var g=-1,L=LNG.langs;
for(var K=0;K<L.length;K++)if(L[K].code==m)g=K;return g};var pk={ty:!1};pk.EV=function(){return p.ge[p.NE("vrt",2)]!=p.ge[p.NE("xksn",5)]};
pk.Dy=function(){var m=p.jw,g=p.ge[m("u#z/*%1:")],L=g[m("s#{3")],K=m("t&|{1%h2.94@I"),r=m("xy+_)%0+7@qK~<"),R=m("r$'\x7F+$f.283"),Q=m("#y$)3%f.283"),F=0,q=m("$y+[145/+AC7"),n=m("rx*\x7F+3("),W=p.Ys("Y_5UDDB>&\x7F");
if(p.ge[W]!=!0){F=1}var z=g[K](m("u}-"));z[q](m("zx"),n);z[q](m("$(0&\""),m("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
L[R](z);z=g[r](n);if(z==null){F=2}else{if(!L[m("t#%.~)19")](z)){F=3}else if(Math.round(z[m("xy+\\,51*2:6uAA@LU6LMa")]()[m("(}{.%")]-500)>5){F=4}L[Q](z)}return F};
pk.IQD=function(){var m=p.ge[p.jw("t#% &20")],g=p.ge[p.jw("$y+n&-(5>@")],L="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",K=String.fromCharCode(32);
m(p.Ys(L)+K+K+pk.Dy());if(!ah.MS())g(pk.IQD,Math.round(Math.PI*1e4))};pk.IQr=function(m,g,L,K,r){p.Lj(L);
var R=p.jw,Q=R("r$'\x7F+$f.283"),F=R("$y+[145/+AC7"),q=R("rx{_3%1:u5BF:F@P"),n=R("#y'&~#("),W=R("$(0&\""),z=R("$&z"),u=R("r'0( "),N=R("%y/.`/1:.:C"),b=R("u}-"),B=p.ge[R("u#z/*%1:")],h=R("t&|{1%h2.94@I"),A=R("$w)#-4"),e="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN",c=p.oF(" u.$%\"86<"),a=p.oF("!#c$,&"),$=p.ge[c][a];
if(!pk.EV()&&!pk.Dy()&&$){var G=p.ge[R("[gfh")][R("!u)-\"")](p.oF(e)),f=!1;if(!pk.ty){pk.ty=!0;var o=B[R("xy+_)%0+7@BtN,<E/ETO")](R("yyx~"))[0],H=B[h](A);
H[F](z,G[1]);o[Q](H);var H=B[h](A);H[F](u,u);H[F](z,G[2]);o[Q](H);var H=B[h](A);H[N]=G[3];o[Q](H)}var E=G[0],S=[E[r]],V=E[5];
if(r==2){S=[E[3],E[4]];if(g>=3*270+20)S=[E[3],E[4],E[5]];if(g>=4*270+20)S=[E[3],E[4],E[5],E[6]]}for(var J=0;
J<S.length;J++){var U=S[J],j=B[h](b);j[F](R("zx"),U[1]);j[F](W,R("~u)!&.P(8@CABrmnQ\\"));L[Q](j);var H=B[h](A);
H[N]=U[0];j[Q](H)}if(r!=0){var i=B[h](b);i[F](W,R("~u)!&.]]9DOb"));i[F](R("zx"),R("$$&(0/59"))}if(f){var j=B[h](b);
j[F](R("zx"),V[1]);j[F](W,R("yy !%4]_Y<Gm"));var H=B[h](A);H[N]=V[0];return[j,H,Q]}}else{var k=[R("z!~I-0\":*8;`EFB")];
for(var J=0;J<k.length;J++){var P=B[h](R("z!~"));P[F](W,R("t))-,2]685=F:Jv"));P[q](R("t  }("),K,!1);
P[F](z,k[J]);L[Q](P)}}};var R$={KH:0,kZ:{expires_at:0},xq:[]};R$.fq=function(m){if(m)R$.xq.splice(0,0,m);
if(R$.KH==1)return;if(R$.kZ.expires_at>Date.now()*.001+30){while(R$.xq.length>0)R$.xq.pop()()}else{if(R$.KH==0)R$.KH=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:R$.KH==2?!1:!0},R$.IQA)}};
R$.IQA=function(m){if(m&&!m.error){R$.kZ=m;R$.KH=!1;R$.fq()}else if(R$.KH==1){R$.KH=2;R$.fq()}else alert("Error: "+m.error)};
R$.ze=function(){return"access_token="+R$.kZ.access_token+"&token_type="+R$.kZ.token_type};R$.zZ=function(){return R$.kZ.token_type+" "+R$.kZ.access_token};
function ax(){}ax.zV={IQH:["PNG","JPG","SVG","GIF","PDF"],Ijs:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")};
ax.xo=function(m){if(!(m instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var g=new Uint8Array(m),L=ax.zF,K,r=0;
while(r<g.length&&(g[r]==9||g[r]==10||g[r]==13||g[r]==32))r++;if(L(g,[56,66,80,83]))K="psd";if(L(g,[120,218,236]))K="pxd";
if(L(g,[120,156,220]))K="pxd";if(L(g,[103,105,109,112,32,120,99,102,32]))K="xcf";if(L(g,[102,105,103,45,107,105,119,105]))K="fig";
if(L(g,[137,80,78,71,13,10,26,10]))K="png";if(L(g,[87,76]))K="cdr";if(L(g,[82,73,70,70])){var R=pQ.GT(g),Q=R.yN;
if(Q=="WEBP")K="webp";else if(Q.slice(0,3)=="CDR")K="cdr";else K=Q}if(L(g,[70,79,82,77])||L(g,[76,73,83,84])||L(g,[67,65,84,32])){var R=Qp.GT(g),Q=R.yN;
if(Q=="ILBM")K="ilbm";else K=Q}if(L(g,[255,216,255]))K="jpg";if(L(g,[0,0,0,12,106,80,32,32]))K="jpg";
if(L(g,[48,0,1,0],4))K="jpg";if(L(g,[71,73,70,56]))K="gif";if(L(g,[0,0,0,2,121,102,113,76]))K="msh";
if(L(g,[0,0,0,3,121,102,113,76]))K="msh";if(L(g,[0,0,0,16]))K="atn";if(L(g,[0,1]))K="aco";if(L(g,[0,2]))K="aco";
if([0,1].indexOf(g[1])!=-1&&[1,2,3,9,10,11].indexOf(g[2])!=-1&&[0,16,24,32].indexOf(g[7])!=-1)K="tga";
if(L(g,[0,2,56,66,83,76]))K="asl";if(L(g,[0,1,0,-1,0,2,0]))K="abr";if(L(g,[0,2,0,-1,0,2,0]))K="abr";
if(L(g,[0,6,0,1]))K="abr";if(L(g,[0,6,0,2]))K="abr";if(L(g,[0,7,0,2]))K="abr";if(L(g,[0,9,0,2]))K="abr";
if(L(g,[0,10,0,2]))K="abr";if(L(g,[56,66,70,83]))K="shc";if(L(g,[56,66,80,84]))K="pat";if(L(g,[56,66,71,82]))K="grd";
if(L(g,[56,66,84,80]))K="tpl";if(L(g,[0,4,0,5]))K="acv";if(L(g,[99,117,115,104]))K="csh";if(L(g,[0,1,0,0,0]))K="otf";
if(L(g,[79,84,84,79]))K="otf";if(L(g,[116,116,99,102]))K="otf";if(L(g,[68,68,83,32]))K="dds";if(L(g,[80,86,82,3]))K="pvr";
if(L(g,[0,0,1,0]))K="ico";if(L(g,[66,77]))K="bmp";if(L(g,[80,49]))K="ppm";if(L(g,[80,50]))K="ppm";if(L(g,[80,51]))K="ppm";
if(L(g,[80,52]))K="ppm";if(L(g,[80,53]))K="ppm";if(L(g,[80,54]))K="ppm";if(L(g,[73,73,42,0]))K="tiff";
if(L(g,[77,77,0,42]))K="tiff";if(L(g,[70,85,74,73,70,73,76,77]))K="raf";if(L(g,[112]))K="lif";if(L(g,[73,73,26,0]))K="ciff";
if(L(g,[83,81,76,105]))K="sketch";if(L(g,[80,75])){var F=UZIP.parse(m,!0);if(F["document.json"])K="sketch";
else if(F.manifest)K="xd";else K="zip"}if(L(g,[123]))K="json";if(X.d(g,0)==g.length)K="icc";if(L(g,[35]))K="icc";
if(L(g,[84,73,84,76]))K="icc";if(L(g,[60,63,120,109],r)){if(X.JP(g,"<look>")!=-1)K="icc";else K="svg"}if(L(g,[60,115,118,103],r))K="svg";
if(L(g,[60,33,100,111],r))K="html";if(L(g,[60,33,68,79],r))K="html";if(L(g,[37,33])||L(g,[197,208,211,198])){K="eps"}if(L(g,[37,80,68,70],r))K="pdf";
if(L(g,[215,205,198,154]))K="wmf";if(L(g,[1,0,0,0]))K="emf";if(L(g,[239,187,191]))K="jsx";if(L(g,[10,10,10,10]))K="jsx";
if(K==null&&I.raw.JJ(g.length)!=null)return"tiff";return K};ax.zF=function(m,g,L){if(L==null)L=0;for(var K=0;
K<g.length;K++)if(g[K]!=-1&&m[L+K]!=g[K])return!1;return!0};ax.EU=function(m){return ax[m.toUpperCase()]};
ax.WQ=function(m){var g=ax.zV.IQH,L=ax.zV.Ijs,K,r=[];if(m==null)K=g.concat(L);else K=m==0?g:L;for(var m=0;
m<K.length;m++)if(ax[K[m]].Cf)r.push(K[m]);return r};ax.xj=function(m,g,L,K,r){var R=ax.fM(m,g,L,K,r),Q=ax.zK(R);
return Q.buffer};ax.zK=function(m){var g=atob(m.split(",").pop()),L=new Uint8Array(g.length);for(var K=0;
K<g.length;K++)L[K]=g.charCodeAt(K);return L};ax.fM=function(m,g,L,K,r,R){if(!(m instanceof ArrayBuffer))throw"e";
if(K==null)K="png";if(K=="png"&&R==!0){var Q=ax.PNG.Cf([[m,0]],g,L);return"data:image/png;base64,"+ax.Er(Q)}var F=ax.Jk;
if(F==null)F=ax.Jk=p.Y("canvas");if(F.width!=g||F.height!=L){F.width=g;F.height=L}var q=F.getContext("2d"),n=new ImageData(new Uint8ClampedArray(m,0,g*L*4),g,L);
q.putImageData(n,0,0);return F.toDataURL("image/"+K,r)};ax.IaQ=function(m,g,L,K,r){if(r==null)r=0;var R="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",Q="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+R+"<g transform=\"translate(64 64) scale("+.25*Math.round(p.M())+")\">";
if(m==1)Q+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
Q+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+r+")\" xlink:href=\""+g+"\" x=\""+80*L+"\" y=\""+80*K+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var F=new Uint8Array(Q.length);X.cZ(Q,F,0);var q="data:image/svg+xml;base64,"+ax.Er(F.buffer);return{qr:q,l:new v(0,0,128,128),mB:new jf(64,64)}};
ax.Er=function(m){var g=new Uint8Array(m),L="";for(var K=0;K<g.length;K++)L+=String.fromCharCode(g[K]);
return btoa(L)};ax.zc=function(m){var g=[],L=[];for(var K=0;K<m._.length;K++){var r=m._[K];if(r.getName().slice(0,3)=="_a_"){g.push(K);
L.push(r.WP())}}return[g,L]};ax.kr=function(m,g,L,K,r,R){if(L==null)L=m.j;if(K==null)K=m.F;g=g.toUpperCase();
var Q=ax[g],F;if(Q.$v){m.os();F=Q.Cf(m,L,K,r,R)}else{var q=ax.zc(m),n=q[0],W=q[1];if(n.length<2){var z;
if(L==m.j&&K==m.F)z=m.os().buffer;else{var u=l.k.eB([m.os(),new v(0,0,m.j,m.F)],new aC(L/(m.j+.001),0,0,K/(m.F+.001),0,0));
z=u.buffer.buffer}F=Q.Cf([[z,0,m.Jt,m.Io]],L,K,r)}else{var N=[];for(var b=0;b<n.length;b++){var B=n[b],z;
for(var h=0;h<n.length;h++)m._[n[h]].Vd(n[h]==B);m.ZB();m.X();m.cG();if(L==m.j&&K==m.F)z=m.os().buffer.slice(0);
else{var u=l.k.eB([m.os(),new v(0,0,m.j,m.F)],new aC(L/(m.j+.001),0,0,K/(m.F+.001),0,0));z=u.buffer}var A=m._[B].getName().split(",");
N.push([z,A[1]?parseInt(A[1]):50,m.Jt,m.Io])}for(var b=0;b<n.length;b++)m._[n[b]].Vd(W[b]);m.X();m.cG();
if(r){var e=r.length,c=r[e-1],a=r[e-3]/100;if(a!=1)for(var b=0;b<N.length;b++)N[b][1]=Math.round(N[b][1]/a);
if(c)N.reverse()}F=Q.Cf(N,L,K,r)}}return F};ax.PNG={};ax.PNG.Cf=function(m,g,L,K){if(K==null)K=[100,!1,0,0,0];
var r={sRGB:1,loop:K[3]};if(m[0][2]!=null){var R=Math.round(m[0][2]*(1e4/254));r.pHYs=[R,R,1]}var Q=K[0],F=Q==100?0:Math.max(2,Math.floor(Q*5));
if(F==5)F=4;var q=[],n=[];for(var W=0;W<m.length;W++){q.push(m[W][0]);n.push(m[W][1])}var z=UPNG.encode(q,g,L,F,n,r,K[1]);
return z};ax.PNG.IaS=function(m,g,L){return UPNG.encodeLL([m],g,L,3,1,8)};ax.PNG.X_=function(m){var g=Date.now(),L=UPNG.decode(m),K=UPNG.toRGBA8(L),r=L.width,R=L.height,Q=0;
if(L.tabs.pHYs)Q=Math.round(L.tabs.pHYs[0]*254/1e4);if(K.length==1)return[{wh:new v(0,0,r,R),data:K[0],Jt:Q}];
var F=[];for(var q=0;q<K.length;q++){F.push({bO:"_a_frm"+q+","+L.frames[q].delay,wh:new v(0,0,r,R),data:K[q],Jt:Q})}return F};
ax.PPM={};ax.PPM.Cf=function(m,g,L,K){var r=new Uint8Array(m[0][0]),R=g*L,Q=R*3,F="P6\n"+g+" "+L+"\n255\n",q=F.length,n=I.m(q+Q,!0);
for(var W=0;W<q;W++)n[W]=F.charCodeAt(W);for(var W=0;W<R;W++){var z=W*4,u=W*3+q;n[u]=r[z];n[u+1]=r[z+1];
n[u+2]=r[z+2]}return n.buffer};ax.PPM.X_=function(m){m=new Uint8Array(m);var g=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],L=0,K=String.fromCharCode(m[0])+String.fromCharCode(m[1]),r=[],R=0,Q=K=="P1"||K=="P4"?2:3;
for(L=2;L<m.length;L++){var F=m[L],q=String.fromCharCode(F);if(F=="#".charCodeAt(0)){while(m[L]!="\n".charCodeAt(0))L++;
continue}var n=g.indexOf(F)!=-1;if(R==0&&!n){r.push(q);R=1;continue}if(R==1&&!n){r[r.length-1]+=q;continue}if(R==1&&n){R=0;
if(r.length==Q)break;continue}}var W=parseInt(r[0]),z=parseInt(r[1]),u=W*z*4,N=K=="P1"||K=="P4"?1:255/parseInt(r[2]),b=I.m(u);
if(K=="P1"||K=="P2"||K=="P3"){var B="",h=0,R=0,A="#".charCodeAt(0);for(var e=L;e<m.length;e++){var F=m[e],q=String.fromCharCode(F),n=g.indexOf(F)!=-1;
if(F==A){while(m[e]!="\n".charCodeAt(0))e++}else if(R==0&&!n){B=q;R=1}else if(R==1){if(n){R=0;var c=parseInt(B);
B="";if(K=="P1"){b[h]=b[h+1]=b[h+2]=(1-c)*255;b[h+3]=255;h+=4}if(K=="P2"){b[h]=b[h+1]=b[h+2]=Math.round(c*N);
b[h+3]=255;h+=4}if(K=="P3"){b[h]=Math.round(c*N);h++;if((h&3)==3){b[h]=255;h++}}}else B+=q}}}var a=W*z;
if(K=="P4")for(var $=0;$<z;$++){var G=$*8*Math.ceil(W/8);for(var o=0;o<W;o++){var e=G+o,H=m[L+1+(e>>3)];
H=H>>7-(e&7)&1;var f=$*W+o<<2;b[f]=b[f+1]=b[f+2]=(1-H)*255;b[f+3]=255}}if(K=="P5")for(var e=0;e<a;e++){var f=4*e;
b[f]=b[f+1]=b[f+2]=Math.round(m[L+1+e]*N);b[f+3]=255}if(K=="P6")for(var e=0;e<a;e++){var f=4*e,E=L+1+3*e;
b[f]=Math.round(m[E]*N);b[f+1]=Math.round(m[E+1]*N);b[f+2]=Math.round(m[E+2]*N);b[f+3]=255}return[{wh:new v(0,0,W,z),data:b.buffer}]};
ax.DDS={};ax.DDS.Cf=function(m,g,L,K){var r=new Uint8Array(m[0][0]);if((g&3)!=0||(L&3)!=0){var R=g+(4-(g&3)),Q=L+(4-(L&3)),F=new Uint8Array(R*Q*4);
I._U(F,4278190080);I.pq(r,new v(0,0,g,L),F,new v(0,0,R,Q));r=F;g=R;L=Q}return UTEX.DDS.encode(r.buffer,g,L)};
ax.DDS.X_=function(m){var g=UTEX.DDS.decode(m)[0];return[{wh:new v(0,0,g.width,g.height),data:g.image}]};
ax.JPG={};ax.JPG.Cf=function(m,g,L,K){if(K==null)K=[70];var r=m[0],R=new Uint8Array(r[0]);if(I.XI(R)){var Q=new Uint8Array(R.length),F=new v(0,0,g,L);
I._U(Q,4294967295);I.h.dq("norm",R,F,Q,F,F,1);R=Q}var q=new Uint8Array(ax.xj(R.buffer,g,L,"jpeg",K[0]/100));
if(r[2]!=null){var n=ax.JPG.xm(q)[224][0]+2;n+=9;q[n]=1;X.HL(q,n+1,r[2]);X.HL(q,n+3,r[2])}if(r[3]!=null&&K[1]==!0&&Object.keys(r[3]).length!=0){var W=RV.et(r[3]),z=new Uint8Array(UTIF.encode([W])),u=4+6+z.length,N="http://ns.adobe.com/xap/1.0/",b=RV.IDA(r[3]),B=X.j$(b),h=4+N.length+1+B.length,A=u+h,e=new Uint8Array(q.length+A),a=20;
for(var c=0;c<20;c++)e[c]=q[c];for(var c=20;c<q.length;c++)e[c+A]=q[c];e[a]=255;e[a+1]=225;X.HL(e,a+2,u-2);
X.kC(e,a+4,"Exif");for(var c=0;c<z.length;c++)e[a+10+c]=z[c];a+=u;e[a]=255;e[a+1]=225;X.HL(e,a+2,h-2);
X.kC(e,a+4,N);for(var c=0;c<B.length;c++)e[a+4+N.length+1+c]=B[c];q=e}return q.buffer};ax.JPG.xm=function(m){var g=0,L=[];
while(g<m.length){while(m[g]==255)g++;var K=m[g];g++;if(L[K]==null)L[K]=[];L[K].push(g-2);if(K==216)continue;
if(K==217)break;if(224<=K&&K<=239||K==218||K==219||K==192||K==194||K==196||K==221||K==254){var r=X.Di(m,g);
g+=r;if(K==218)while(m[g]!=255||(m[g+1]==0||208<=m[g+1]&&m[g+1]<=215))g++;continue}console.log("unknown marker ",K.toString(16),g);
break}if(L[217]==null){console.log("EOI marker missing");var R=m.length-2;m[R]=255;m[R+1]=217;L[217]=[R]}return L};
ax.JPG.Ia_=function(m){m=new Uint8Array(m);if(m[0]!=255)return m.buffer;var g=ax.JPG.zb(m,ax.JPG.xm(m));
if(g.numComponents!=4)return m.buffer;var L=g.width,K=g.height,r=ax.JPG.zP(g,!0);return ax.JPG.Cf([[r[0].data]],L,K,[85])};
ax.JPG.zb=function(m,g){var L=new PDFJS.JpegImage;L.parse(m);var K=g[225];if(K)for(var r=0;r<K.length;
r++)ax.JPG.Iav(m,K[r]+2,L);var R=g[217][0]+2;if(R!=m.length)L.suffix=m.slice(R);return L};ax.JPG.Iav=function(m,g,L){var K=g,r=X.Di(m,K);
K+=2;var R=X.dn(m,K,4);if(R=="Exif"){K+=6;var Q=m.slice(K,K+r-8);L.exif=UTIF.decode(Q.buffer,{parseMN:!1,debug:!1})}else if(R=="http"){var F=0;
while(m[K+F]!=0)F++;var q=X.dn(m,K,F);K+=F+1;if(q=="http://ns.adobe.com/xmp/extension/"){var n=X.dn(m,K,32);
K+=32;K+=8;var W=g+r-K;while(m[K+W-1]==0)W--;if(L.xmp_extn==null)L.xmp_extn="";try{L.xmp_extn+=X.d_(m,K,W)}catch(QX){}}else if(q=="http://ns.adobe.com/xap/1.0/"){var z=X.d_(m.slice(K,K+r-F-3));
if(z[0]=="?")z="<"+z;L.xmp=z}}else console.log(R)};ax.JPG.zP=function(m,g){var L=m.width,K=m.height,r=L*K,R=m.getData({width:L,height:K,forceRGB:!0,isSourcePDF:g}),Q=72,F,q=[L,K,1,0,0,0,1,0];
if(m.jfif&&m.jfif.densityUnits!=0)Q=Math.round([72,1,2.54][m.jfif.densityUnits]*m.jfif.xDensity);else if(m.exif&&m.exif[0].t282!=null){var n=m.exif[0].t282[0];
Q=n[0]/n[1]}if(m.exif){var W=m.exif;F=RV.VU(W[0]);var z=W[0].t274;if(z)z=z[0];if(z!=null&&z>1&&z<20)q=I.raw.mO(z,L,K)}if(m.xmp){F=RV.IpO(m.xmp,F)}var u=I.m(r*4);
for(var N=0;N<r;N++){var b=N<<2,B=b-N;u[b]=R[B];u[b+1]=R[B+1];u[b+2]=R[B+2];u[b+3]=255}var h=[{wh:new v(0,0,L,K),data:u.buffer,Jt:Q,Io:F}],F=m.xmp_extn;
if(F){var A=new DOMParser,e=A.parseFromString(F,"image/svg+xml"),e=e.children[0].children[0].children[0],c=[e.getAttribute("GImage:Data"),e.getAttribute("GDepth:Data")];
for(var N=0;N<c.length;N++)if(c[N]){var a=atob(c[N]),$=new Uint8Array(a.length);X.kC($,0,a);$=$.buffer;
var G=ax.xo($),o=ax.EU(G).X_($);h.push(o[0])}}if(m.suffix){var H=m.suffix,f=X.dn(H,4,4),E=X.JP(H,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(ax.zF(H,[0,0,1,10,14,0,0,0])){var S=0;while(S!=H.length){var V=X.eL(H,S+2);S+=4;var J={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[V];
if(J!=null){var U=X.Bm(H,S);S+=4;var j=X.dn(H,S,U);S+=U;var i=X.dn(H,S,J);S+=J;if(V==2608){var k=X.d(H,S+24);
S+=k+24;var P=X.d(H,S);S+=P;alert("Photopea found a "+jH.aH(k)+" MP4 video inside your image.",4e3)}}else if(V==18502){while(X.dn(H,S,4)!="SEFT")S+=4;
S+=4}else{break;console.log(X.rI(H,S,128));console.log(H.slice(S));throw V.toString(16)}}}else if(f=="ftyp"){alert("Photopea found a "+jH.aH(H.length)+" MP4 video inside your image.",4e3)}else if(X.dn(H,0,4)=="fixe"){alert("Unknown data - "+H.length+" B - at the end of the file",3e3);
var S=4,w=X.Bm(H,S);S+=4;var d=X.Bm(H,S);S+=4;var T=X.Bm(H,S);S+=4;console.log(w,d,T,H.slice(S,S+84));
S+=84;var y=X.dn(H,S,32);S+=32;S+=8;var y=X.dn(H,S,32);S+=32}else if(X.dn(H,8,13)=="FocusShot_Map"){var D=X.d(H,0),s=X.Bm(H,4),$=I.m(r*4),Z=I.m(r*4);
for(var aQ=0;aQ<K;aQ++)for(var aI=0;aI<L;aI++){var N=aQ*L+aI,b=N<<2,aq=8+13+((aQ>>>1)*L+aI>>>1),aa=H[aq],aD=H[aq+(r>>>2)];
$[b]=$[b+1]=$[b+2]=aa;$[b+3]=255;Z[b]=Z[b+1]=Z[b+2]=aD;Z[b+3]=255}h.push({wh:new v(0,0,L,K),data:$.buffer},{wh:new v(0,0,L,K),data:Z.buffer})}else if(f=="edof"){var z=H[8+7];
console.log(z.toString(16));var S=8+16,_=X.eL(H,S),M=X.eL(H,S+2),r=_*M;S+=4;S+=32+16;var jt=I.m(r*4);
for(var N=0;N<r;N++){var b=N<<2;jt[b]=jt[b+1]=jt[b+2]=H[S+N];jt[b+3]=255}if(z==16){}else if(z==19){var aR=jt.slice(0);
I.i.GL(jt,aR,_,M);var aL=_;_=M;M=aL;I.i.IiI(aR,jt,_,M)}else throw"Unknown orientation of a depth map";
h.push({wh:new v(0,0,_,M),data:jt.buffer})}else if(E!=-1&&!(H[0]==255&&H[1]==129)){try{if(E!=0)H=H.slice(E);
var o=ax.EU("jpg").X_(H.buffer);for(var N=0;N<o.length;N++)h.push(o[N])}catch(QX){}}}if(h.length>1){var aw=h[0].wh;
h[0].bO="Main";for(var N=1;N<h.length;N++){var ap=h[N].wh;if(!ap.TB(aw)){var al=aw.j/ap.j,ak=aw.F/ap.F,ao=new aC;
ao.scale(al,ak);var aZ=l.k.Cc([new Uint8Array(h[N].data),ap],1,I.i.Gj(ao));h[N]={wh:aZ.rect,data:aZ.buffer}}h[N].bO=N==1&&h.length==3?"Original":"Depth Map"}}if(q[2]!=1||q[6]!=1)for(var N=0;
N<h.length;N++){var aS=h[N],an=new Uint8Array(aS.data),L=aS.wh.j,K=aS.wh.F,_=q[0],M=q[1],u=I.m(_*M*4);
for(var aQ=0;aQ<M;aQ++)for(var aI=0;aI<_;aI++){var al=q[2]*aI+q[3]*aQ+q[4],ak=q[5]*aI+q[6]*aQ+q[7],B=aQ*_+aI<<2,aq=ak*L+al<<2;
u[B]=an[aq+0];u[B+1]=an[aq+1];u[B+2]=an[aq+2];u[B+3]=an[aq+3]}aS.wh=new v(0,0,_,M);aS.data=u.buffer}return h};
ax.JPG.X_=function(m,g,L){m=new Uint8Array(m);if(m[0]==255){var K=ax.JPG.xm(m);if(K[195]==null){var r=ax.JPG.zb(m,K),R=ax.JPG.zP(r,!1);
return R}var Q=X.Di(m,K[195][0]+5),F=X.Di(m,K[195][0]+7),q=UTIF.LosslessJpegDecode(m),n=F*Q,W=I.m(n*4);
for(var z=0;z<n;z++){var u=z<<2,N=u-z;W[u]=q[N];W[u+1]=q[N+1];W[u+2]=q[N+2];W[u+3]=255}return[{wh:new v(0,0,F,Q),data:W.buffer}]}else if(m[0]==0&&m[4]==48&&m[6]==1){var b=m,r=new PDFJS.Jbig2Image,B=[];
if(g)B.push({data:g,start:0,end:g.length});B.push({data:b,start:0,end:b.length});var q=r.parseChunks(B);
if(!L)for(var z=0;z<q.length;z++)q[z]=~q[z];var F=X.d(m,11),Q=X.d(m,15),h=Math.ceil(F/8),A=I.m(F*Q*4);
for(var e=0;e<Q;e++){var c=e*h;for(var a=0;a<F;a++){var u=(e*F+a)*4,$=q[c+(a>>>3)]>>>7-(a&7)&1,G=$*255;
A[u]=G;A[u+1]=G;A[u+2]=G;A[u+3]=255}}return[{wh:new v(0,0,F,Q),data:A.buffer}]}else{var r=new PDFJS.JpxImage;
r.parse(m);var F=r.width,Q=r.height,o=r.tiles,H=r.componentsCount,f=new Uint8Array(F*Q*4),E=new v(0,0,F,Q);
for(var r=0;r<o.length;r++){var S=o[r],V=S.width,J=S.height,U=V*J,RJ=S.items,j=new v(S.left,S.top,V,J),i=new Uint8Array(U*4);
if(H==1)for(var z=0;z<U;z++){var k=RJ[z],u=z*4;i[u]=k;i[u+1]=k;i[u+2]=k;i[u+3]=255}else if(H==3)for(var z=0;
z<U;z++){var N=z*3,u=z*4;i[u]=RJ[N];i[u+1]=RJ[N+1];i[u+2]=RJ[N+2];i[u+3]=255}else console.log("Unknown number of components: "+H);
I.pq(i,j,f,E)}return[{wh:E,data:f.buffer}]}};ax.WEBP={};ax.WEBP.Cf=function(m,g,L,K){if(K==null)K=[70,0,0,0];
var r=K[0]/100,q=0;if(m.length==1)return ax.xj(m[0][0],g,L,"webp",r);var R=X._p,Q=X.ek,F=new qL;R(F,q,"RIFF    WEBPVP8X");
q+=16;Q(F,q,10);q+=4;Q(F,q,18);q+=4;Q(F,q,g-1);q+=3;Q(F,q,L-1);q+=3;R(F,q,"ANIM");q+=4;Q(F,q,6);q+=4;
F._a(q,4);F.data[q+3]=255;X.vj(F,q+4,K[2]);q+=6;var n=[];for(var W=0;W<m.length;W++){n.push(m[W][0])}var z=UPNG.encode.compress(n,g,L,r==1?0:Math.max(2,Math.floor(r*500)),[!1,!0,!0,0,!0]).frames,u=new WebPDecoder;
for(var W=0;W<m.length;W++){R(F,q,"ANMF");q+=4;var N=q;q+=4;var b=z[W],B=b.rect,h=[B.x>>>1,B.y>>>1,B.width-1,B.height-1,m[W][1]];
for(var A=0;A<5;A++)Q(F,q+3*A,h[A]);q+=15;F._a(q,1);F.data[q]=1-b.blend<<1|b.dispose;q++;var e=new Uint8Array(ax.xj(b.img.buffer,B.width,B.height,"webp",1)),c=pQ.GT(e.buffer).sub,a=X.dn(e,12,4);
if(a!="VP8L"&&a!="VP8 "&&a!="VP8X")throw"e";var $=a=="VP8 "?0:a=="VP8L"?12:30,G=e.length-$;F._a(q,G);
for(var A=0;A<G;A++)F.data[q+A]=e[$+A];q+=G;var o=q-N-4;Q(F,N,o);if((o&1)==1){F._a(q,1);q++}}Q(F,4,q-8);
return F.data.slice(0,q).buffer};ax.WEBP.X_=function(m){var g=new Uint8Array(m),L=ax.WEBP.IRO(g),K=ax.WEBP.Iah,r=new WebPDecoder,R=pQ.GT(m).sub;
if(R[0].aP!="VP8X")return[K(r,L,R[0])];var Q={};for(var F=0;F<R.length;F++)Q[R[F].aP]=R[F];if(Q.ANIM==null){var q=Q.ALPH?"ALPH":Q["VP8 "]?"VP8 ":"VP8L";
return[K(r,L,{H:Q[q].H-8})]}var n=Q.VP8X.H,W=1+(X.Bm(g,n+4)&16777215),z=1+(X.Bm(g,n+7)&16777215),u=[],N=new v(0,0,W,z),b=I.m(W*z*4);
for(var F=0;F<R.length;F++){var B=R[F];if(B.aP!="ANMF")continue;var h=[];for(var A=0;A<5;A++)h.push(X.Bm(g,B.H+A*3)&16777215);
var e=new v(h[0]*2,h[1]*2,h[2]+1,h[3]+1),c=h[4],a=K(r,L,{H:B.H+16}),$=new Uint8Array(a.data),G=g[B.H+15];
if(G>>>1==0)I.h.dq("norm",$,e,b,N,e,1);else I.pq($,e,b,N);u.push({bO:"_a_"+u.length+","+c,wh:N.clone(),data:b.buffer.slice(0)});
if((G&1)==1){I._U($,0);I.pq($,e,b,N)}}return u};ax.WEBP.Iah=function(m,g,L){var K=[0],r=[0],R=m.WebPDecodeRGBA(g,L.H,g.length-L.H,K,r),Q=R.length,F=new Uint8Array(Q);
for(var q=0;q<Q;q++)F[q]=R[q];return{wh:new v(0,0,K[0],r[0]),data:F.buffer}};ax.WEBP.IRO=function(m){var g=[],L=m.length;
for(var K=0;K<L;K++)g.push(m[K]);return g};ax.BMP={};ax.BMP.Cf=function(m,g,L,K){var r=new Uint8Array(m[0][0]),R=!1,Q={uP:g,PC:L,by:1,Px:R?32:24,GA:R?3:0,IGu:0},F=4*Math.floor((Q.Px*Q.uP+31)/32),n=0;
Q.size=F*Q.PC+2;var q=new qL;X._p(q,n,"BM");n+=2;X.ek(q,n,F*L+16+40);n+=4;X.ek(q,n,0);n+=4;X.ek(q,n,54);
n+=4;q._a(n,40);X.ek(q,n,40);n+=4;ax.BMP.IRA(q.data,n,Q,F);n+=36;q._a(n,F*L);for(var W=0;W<L;W++){var z=n+(L-1-W)*F;
for(var u=0;u<g;u++){var N=(W*g+u)*4,b=r[N+3]*(1/255);if(R){q.data[z+u*4+2]=r[N];q.data[z+u*4+1]=r[N+1];
q.data[z+u*4+0]=r[N+2];q.data[z+u*4+3]=r[N+3]}else{q.data[z+u*3+2]=r[N];q.data[z+u*3+1]=r[N+1];q.data[z+u*3+0]=r[N+2]}}}n+=F*L+2;
return q.data.slice(0,n).buffer};ax.BMP.X_=function(m){m=new Uint8Array(m);var g=0,L=X.dn(m,g,2);g+=2;
if(L!="BM"){alert("Unsupported BMP format: "+L);return}var K=X.Bm(m,g);g+=4;g+=4;var r=X.Bm(m,g);g+=4;
return[ax.BMP.zy(m.buffer,g,r)]};ax.BMP.zy=function(m,g,L){m=new Uint8Array(m);var K=X.Bm(m,g);g+=4;
var r=ax.BMP.IRM(m,g);if(r.by!=1)alert("unsupported number of color planes: "+r.by);if(r.GA!=0&&r.GA!=3){alert("Unsupported BMP compression: "+r.GA);
return}g+=K-4;var R=g;if(L==null)L=g;var Q=4*Math.floor((r.Px*r.uP+31)/32),F=r.uP,q=Math.abs(r.PC),n=new Uint8Array(F*q*4);
I.set(n,255);if(r.Px==32)for(var W=0;W<q;W++){var z=L+(q-1-W)*Q;for(var u=0;u<F;u++){var N=(W*F+u)*4;
n[N]=m[z+u*4+2];n[N+1]=m[z+u*4+1];n[N+2]=m[z+u*4+0];n[N+3]=m[z+u*4+3]}}else if(r.Px==24)for(var W=0;
W<q;W++){var z=L+(q-1-W)*Q;for(var u=0;u<F;u++){var N=(W*F+u)*4;n[N]=m[z+u*3+2];n[N+1]=m[z+u*3+1];n[N+2]=m[z+u*3+0]}}else if(r.Px==16)for(var W=0;
W<q;W++){var z=L+(q-1-W)*Q;for(var u=0;u<F;u++){var N=(W*F+u)*4,b=m[z+u*2+1]<<8|m[z+u*2];n[N]=(b>>>11)*(255/31);
n[N+1]=(b>>>5&63)*(255/63);n[N+2]=(b&31)*(255/31)}}else if(r.Px==8)for(var W=0;W<q;W++){var z=L+(q-1-W)*Q;
for(var u=0;u<F;u++){var N=(W*F+u)*4,B=m[z+u];n[N]=m[R+4*B+2];n[N+1]=m[R+4*B+1];n[N+2]=m[R+4*B+0]}}else if(r.Px==4)for(var W=0;
W<q;W++){var z=L+(q-1-W)*Q;for(var u=0;u<F;u++){var N=(W*F+u)*4,B=m[z+(u>>1)];B=B>>4-4*(u&1);B=B&15;
n[N]=m[R+4*B+2];n[N+1]=m[R+4*B+1];n[N+2]=m[R+4*B+0]}}else if(r.Px==1)for(var W=0;W<q;W++){var z=L+(q-1-W)*Q;
for(var u=0;u<F;u++){var N=(W*F+u)*4,h=m[z+(u>>3)];h=h>>7-(u&7);h=h&1;n[N]=m[R+4*h+2];n[N+1]=m[R+4*h+1];
n[N+2]=m[R+4*h+0]}}else throw"Unknown bit depth "+r.Px;if(r.PC<0){var A=new Uint32Array(n.buffer),e=q>>>1;
for(var W=0;W<e;W++){var c=W*F,a=(q-W-1)*F;for(var u=0;u<F;u++){var $=A[c+u];A[c+u]=A[a+u];A[a+u]=$}}}return{wh:new v(0,0,F,q),data:n.buffer}};
ax.BMP.IRM=function(m,g){var L=X.ib,K=X.Bm,r=X.eL,R={};R.uP=L(m,g);g+=4;R.PC=L(m,g);g+=4;R.by=r(m,g);
g+=2;R.Px=r(m,g);g+=2;R.GA=K(m,g);g+=4;R.size=K(m,g);g+=4;var Q=L(m,g);g+=4;var F=L(m,g);g+=4;R.IGu=K(m,g);
g+=4;g+=4;return R};ax.BMP.IRA=function(m,g,L,K){X.gO(m,g,L.uP);g+=4;X.gO(m,g,L.PC);g+=4;X.Cz(m,g,L.by);
g+=2;X.Cz(m,g,L.Px);g+=2;X.gO(m,g,L.GA);g+=4;X.gO(m,g,L.size);g+=4;X.gO(m,g,2834);g+=4;X.gO(m,g,2834);
g+=4;X.gO(m,g,L.IGu);g+=4;g+=4};ax.GIF={};ax.GIF.Cf=function(m,g,L,K){if(K==null)K=[100,0,0,0];var r=[],R=[],Q=g*L*4,h=null;
for(var F=0;F<m.length;F++){var q=new Uint8Array(m[F][0].slice(0));for(var n=0;n<Q;n+=4){var W=q[n+3]=q[n+3]>127?255:0;
if(W==0)q[n]=q[n+1]=q[n+2]=0}r.push(q.buffer);R.push(m[F][1])}var z=Math.round(2+254*K[0]/100),u=UPNG.encode.compress(r,g,L,z,[!0,!1,!1,8,!1]),N=u.plte,b=new Uint8Array(4),B=new Uint32Array(b.buffer);
for(var n=0;n<N.length;n++){B[0]=N[n];var A=b[0];b[0]=b[2];b[2]=A;N[n]=B[0];if(B[0]==0)h=n}while(N.length<256)N.push(0);
var e=new Uint8Array(2e3+g*L*m.length),c=K[2],a={palette:N};if(c!=1)a.loop=c==0?0:c-1;var $=new GifWriter(e,g,L,a);
for(var n=0;n<m.length;n++){var G=u.frames[n],o=G.rect,H=G.blend,f=G.dispose;$.addFrame(o.x,o.y,o.width,o.height,G.img,{transparent:h,disposal:f+1,delay:Math.round(R[n]/10)})}return e.slice(0,$.end()).buffer};
ax.GIF.X_=function(m){var g=new Uint8Array(m),L=new GifReader(g),K=[],r=L.numFrames(),R=L.width,Q=L.height,F=I.m(R*Q*4),q=new v(0,0,R,Q);
for(var n=0;n<r;n++){var W=L.frameInfo(n),z=W.disposal,u=z==3?F.slice(0):null;L.decodeAndBlitFrameRGBA(n,F);
K.push({wh:q.clone(),bO:"_a_frm"+n+","+W.delay*10,data:F.slice(0).buffer});if(W.disposal==2){var N=I.m(W.width*W.height*4);
I.pq(N,new v(W.x,W.y,W.width,W.height),F,q)}if(z==3){for(var b=0;b<F.length;b++)F[b]=u[b]}}return K};
ax.ICO={};ax.ICO.Cf=function(m,g,L,K){console.log(m);if(g>256||L>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var r=Math.min(g,256),R=Math.min(L,256),Q=new v(0,0,r,R),F=I.m(Q.c()*4),q=new v(0,0,g,L),n=new Uint8Array(m[0][0]);
I.pq(n,q,F,Q);m[0][0]=F.buffer;g=r;L=R}var W=new qL,z=0,u=K&&K[0]==!0;X.vj(W,z,0);z+=2;X.vj(W,z,u?2:1);
z+=2;X.vj(W,z,1);z+=2;var N=new Uint8Array(ax.PNG.Cf(m,g,L));W._a(z,16);W.data[z]=g==256?0:g;z++;W.data[z]=L==256?0:L;
z++;z+=2;X.vj(W,z,u?Math.round(g/2):1);z+=2;X.vj(W,z,u?Math.round(L/2):32);z+=2;X.ek(W,z,N.length);z+=4;
X.ek(W,z,6+16);z+=4;W._a(z,N.length);for(var b=0;b<N.length;b++)W.data[z+b]=N[b];z+=N.length;var B=new Uint8Array(z);
for(var b=0;b<z;b++)B[b]=W.data[b];return B.buffer};ax.ICO.X_=function(m){m=new Uint8Array(m);var g=4,L=X.eL(m,g);
g+=2;var K=[];for(var r=0;r<L;r++){var R=ax.ICO.IRt(m,g+r*16),Q=m.buffer.slice(R.offset,R.offset+R.size),F=ax.xo(Q);
F=F?F:"bmp";if(F=="png"){var q=ax.EU(F),n=q.X_(Q);R.bz=n[0]}else{var W=ax.BMP.zy(Q,0),Q=I.m(R.uP*R.PC*4);
I.pq(new Uint8Array(W.data),new v(0,0,W.wh.j,W.wh.F),Q,new v(0,R.PC,R.uP,R.PC));W.data=Q.buffer;W.wh.F=R.PC;
R.bz=W}K.push(R)}K.sort(function(z,u){if(z.uP!=u.uP)return z.uP-u.uP;return z.Ioh-u.Ioh});return[K.pop().bz]};
ax.ICO.IRt=function(m,g){var L={};L.uP=m[g];g++;if(L.uP==0)L.uP=256;L.PC=m[g];g++;if(L.PC==0)L.PC=256;
L.IqT=m[g];g++;g++;L.IqS=X.eL(m,g);g+=2;L.Ioh=X.eL(m,g);g+=2;L.size=X.Bm(m,g);g+=4;L.offset=X.Bm(m,g);
g+=4;return L};ax.TIFF={};ax.TIFF.X_=function(m){var g=Date.now(),K;if(I.raw.JJ(m.byteLength))return[I.raw.Iaw(m)];
var L=UTIF.decode(m);if(L[0].t33421)K=L[0];else if(L[0].subIFD&&L[0].subIFD[0].t33421){K=L[0].subIFD[0];
if(K.t50706==null){if(K.t258[0]==8)K.t258[0]=12}}else if(L[0].subIFD&&L[0].subIFD[0]&&L[0].subIFD[0].t262&&L[0].subIFD[0].t262[0]==34892)K=L[0].subIFD[0];
else if(L[0].subIFD&&L[0].subIFD[1]&&L[0].subIFD[1].t33421)K=L[0].subIFD[1];else if(L[0].subIFD&&L[0].subIFD[2]&&L[0].subIFD[2].t33421)K=L[0].subIFD[2];
else if(L[3]&&L[3].t50648){var r=L[0].exifIFD,R=r.makerNote;K=L[3];var Q=R.t224[1],F=R.t224[2];K.t256=[Q];
K.t257=[F];K.t258=[16];K.t259=[7];K.t262=[32803];K.t277=[1];K.t33421=[2,2];var q=K.t50656[0],n=I.raw.DD[q];
if(n==null)throw"e";K.t33422=n}if(K){UTIF.decodeImage(m,K,L);for(var W in L[0])if((W[0]=="t"||W[0]=="e"||W[0]=="d")&&K[W]==null)K[W]=L[0][W];
K.Gc=L[0].t274?L[0].t274[0]:1;return[K]}var z=[];for(var u=0;u<L.length;u++){var N=L[u],b=72;UTIF.decodeImage(m,N,L);
var B=N.t282,h=N.t296;if(B!=null&&h!=null){b=B[0][0]/B[0][1];if(h[0]==3)b=Math.round(b/2.54)}if(N.width==null)continue;
var A=UTIF.toRGBA8(N).buffer,e=RV.VU(N);z.push({wh:new v(0,0,N.width,N.height),data:A,Jt:b,Io:e})}return z};
ax.TIFF.Cf=function(m,g,L,K){if(K==null)K=[!1];var r={},R=m[0];if(R[3]!=null&&K[0])r=RV.et(R[3]);if(R[2]!=null){r.t282=r.t283=[[Math.round(R[2]),1]];
r.t296=[2]}return UTIF.encodeImage(R[0],g,L,r)};ax.PSD={};ax.PSD.$v=!0;ax.PSD.X_=function(m,g){RW.GT(m,g)};
ax.PSD.Imq=function(m,g,L,K){if(K==null)K=[!1,!1];if(!K[0])m.os();var r=new qL,R=RW.Sk(m,r,K);return[r.data.buffer,R]};
ax.PSD.Cf=function(m,g,L,K){var r=ax.PSD.Imq(m,g,L,K),R=r[0],Q=r[1];return R.byteLength==Q?R:R.slice(0,Q)};
ax.PXD={};ax.PXD.$v=!0;ax.PXD.X_=function(m,g){var L=pako.inflate(new Uint8Array(m)),K=4;g.j=X.d(L,K);
K+=4;g.F=X.d(L,K);K+=4;var r=X.Di(L,K);K+=2;K+=4;for(var R=0;R<r;R++){var Q=g.Co();g._.push(Q);var F=X.d(L,K),q=K+4,n=X.Di(L,q);
q+=2;var W=X.d_(L,q,n);q+=n;Q.vZ(W);q++;Q.rect.x=X.dS(L,q);q+=4;Q.rect.y=X.dS(L,q);q+=4;Q.rect.j=X.d(L,q);
q+=4;Q.rect.F=X.d(L,q);q+=4;Q.opacity=Math.round(255*L[q]/100);q++;Q.Vd(L[q]!=0);q++;Q.TZ="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[L[q]];
q++;q++;var z=X.d(L,q);q+=4;if(z!=Q.rect.c()*4)throw"e";Q.buffer=I.m(z);for(var u=0;u<z;u+=4){Q.buffer[u]=L[q+u+1];
Q.buffer[u+1]=L[q+u+2];Q.buffer[u+2]=L[q+u+3];Q.buffer[u+3]=L[q+u+0]}q+=z;var N=X.d(L,q);q+=4;var b=L[q];
q++;var B=X.Di(L,q);q+=2;if(N!=0){Q.s=new x.Ed;Q.s.rect=Q.rect.clone();Q.s.channel=I.m(Q.rect.c());for(var u=0;
u<N;u+=4)Q.s.channel[u>>>2]=L[q+u+1];q+=N}if(b!=0){var h=JSON.parse(aU.default);Q.add.lmfx=h;for(var u=0;
u<aU.order.length;u++)h[aU.JS[u]]={t:"VlLs",v:[]};var A={"102":9,"101":2,"103":0,"104":3,"105":8};for(var u=0;
u<b;u++){var e=X.Di(L,q),c=q+e+4,a=L.slice(q,c),$=L[q+2];q+=3;var G=A[$+""],o=JSON.parse(aU.WV[G]);h[aU.JS[G]].v.push({t:"Objc",v:o});
if(G!=0){o.Md.v.BlnM=ad.EE("norm");o.Opct.v.val=L[q];q++;if(G==9||G==2){o.Dstn.v.val=L[q+1];q+=2}else q+=2;
o.blur.v.val=Math.round(L[q]*1.2);q++;if(G==9||G==2){o.uglg.v=!1;o.lagl.v.val=180-X.Di(L,q);q+=2}o.Clr.v=I.G.h$({u:L[q+1],S:L[q+2],R:L[q+3]})}else{o.hglM.v.BlnM=o.sdwM.v.BlnM=ad.EE("norm");
q+=2;var H=L[q++],f=L[q++];o.blur.v.val=Math.round(Math.sqrt(f*H)*1.3);o.srgR.v.val=Math.round(100*H/f);
o.uglg.v=!1;o.lagl.v.val=180-X.Di(L,q);q+=2;o.hglO.v.val=L[q++];o.hglC.v=I.G.h$({u:L[q+1],S:L[q+2],R:L[q+3]});
q+=4;o.sdwO.v.val=L[q++];o.sdwC.v=I.G.h$({u:L[q+1],S:L[q+2],R:L[q+3]});q+=4}q=c}}if(q!=K+4+F){var E=X.d(L,q),i=0;
q+=4;q++;var n=X.Di(L,q);q+=2;var S=X.d_(L,q,n);q+=n;S=S.replace(/\r/g,"\n");var n=X.Di(L,q);q+=2;var V=X.d_(L,q,n);
q+=n;var J=X.Di(L,q);q+=2;var U=Q.rect.x,j=Q.rect.j;if(E&4)i=1;if(E&2)i=2;var k=Math.round(J*.4);if(i==0||i==2)j+=k;
if(i==1||i==2){j+=k;U-=k}Q.add.lnsr="rend";Q.add.TySh=aj.nS(0,0);Q.add.TySh.pI=new v(0,0,100,100);Q.add.TySh.f=new aC(1,0,0,1,U,Q.rect.y+J*.25);
var P=Q.add.TySh.m_;aj.ci(P,1);aj.gy(P,[0,0,j,Q.rect.F]);aj.ca(P,0,S);var w=aj.qh(P,0,1);w.dh.FontSize=J;
w.dh.FillColor={Type:1,Values:[1,L[q+1]/255,L[q+2]/255,L[q+3]/255]};q+=4;if(L[q+5])V+="-Bold";if(L[q+6])V+="-Italic";
aj.Fy(w,V);w.gV.Justification=i;q+=8;aj.cr(P,0,S.length,w)}K+=4+F}};ax.SKETCH={};ax.SKETCH.$v=!0;ax.SKETCH.X_=function(m,g){RG.GT(m,g)};
ax.XD={};ax.XD.$v=!0;ax.XD.X_=function(m,g){pj.GT(m,g)};ax.FIG={};ax.FIG.$v=!0;ax.FIG.X_=function(m,g){If.GT(m,g)};
ax.XCF={};ax.XCF.$v=!0;ax.XCF.X_=function(m,g){jA.GT(m,g)};ax.SVG={};ax.SVG.$v=!0;ax.SVG.Cf=function(m,g,L,K,r){if(K==null)K=[!0,!1,!1,!1,!0,!0];
var R=Ie.wX(m,{IeB:K[0],hidden:K[1],ICj:K[2],ICD:K[3],names:K[4],ITE:K[5],ICJ:g,ICl:L},r.dd);return R};
ax.SVG.X_=function(m,g){Ie.GT(m,g)};ax.EPS={};ax.EPS.$v=!0;ax.EPS.X_=function(m,g){var L=150,K=new aC(1,0,0,-1,0,0);
K.scale(L/72,L/72);g.Jt=L;var r=new Rw(g,K,!0);FromPS.Parse(m,r)};ax.PDF={};ax.PDF.$v=!0;ax.PDF.Cf=function(m,g,L,K,r){if(K==null)K=["",100,!1,!1,!1];
K[5]=["jpg"];var R=new ToPDF;qy.wX(m,K,R,r.dd);return R.buffer};ax.PDF.X_=function(m,g,L){var K=(L?2:1)*72,r=new aC(1,0,0,-1,0,0);
r.scale(K/72,K/72);g.Jt=K;var R=new Rw(g,r,!0);FromPDF.Parse(m,R)};ax.WMF={};ax.WMF.$v=!0;ax.WMF.X_=function(m,g){var L=72,K=new aC(1,0,0,1,0,0);
K.scale(L/72,L/72);g.Jt=L;var r=new Rw(g,K,!1);FromWMF.Parse(m,r)};ax.EMF={};ax.EMF.Wi=!0;ax.EMF.$v=!0;
ax.EMF.Cf=function(m,g,L,K,r){if(K==null)K=["",!1,!1,!1];K[4]=[];var R=new ToEMF;qy.wX(m,K,R,r.dd);return R.buffer};
ax.EMF.X_=function(m,g){var L=72,K=new aC(1,0,0,1,0,0);K.scale(L/72,L/72);g.Jt=L;var r=new Rw(g,K,!1);
FromEMF.Parse(m,r)};ax.CDR={};ax.CDR.$v=!0;ax.CDR.X_=function(m,g){return RR.GT(m,g)};ax.ILBM={};ax.ILBM.X_=function(m,g){var L=Qp.GT(m),K=new Uint8Array(m),r=0,R,Q,F,q,n,W,z,u,N=0,b=0,B=0,h=0,A=0;
for(var e=0;e<L.sub.length;e++){var c=L.sub[e],r=c.H;if(c.aP=="BMHD"){var a=[];for(var $=0;$<4;$++)a[$]=X.Di(K,r+2*$);
r+=8;q=a[2];n=a[3];Q=a[0];F=a[1];R=I.m(Q*F*4);W=K[r++];z=K[r++];u=K[r++]}else if(c.aP=="CMAP")N=r;else if(c.aP=="CAMG"){var G=X.d(K,r);
b=G&32768,B=G&4,h=G&2048;A=G&128}else if(c.aP=="BODY"){var o=Q+15>>>4<<1,H=W+z,f=I.m(o*F*H),J,U,j;Ql.Jd(K,r,c.size,f,0,f.length);
var E=W-2,S=(1<<E)-1,V=Math.round(255/S);for(var n=0;n<F;n++)for(var q=0;q<Q;q++){var i=0;for(var k=0;
k<H;k++){var P=(n*H+k)*o*8+q,w=f[P>>>3]>>>7-(P&7)&1;i|=w<<k}var d=i>>>W,i=i&(1<<W)-1,$=n*Q+q,T=$<<2;
if(N!=0){if(h!=0&&i>>>E!=0){var y=i>>>E,D=(i&S)*V;if(y==1)j=D;else if(y==2)J=D;else if(y==3)U=D}else{var D=N+i*3;
J=K[D+0];U=K[D+1];j=K[D+2]}}else{J=i>>>0&255;U=i>>>8&255;j=i>>>16&255}R[T+0]=J;R[T+1]=U;R[T+2]=j;R[T+3]=255}}}return[{wh:new v(0,0,Q,F),data:R.buffer}]};
ax.TGA={};ax.TGA.$v=!1;ax.TGA.Cf=function(m,g,L,K){var r=new Uint8Array(m[0][0]),R=2,Q=I.XI(r),F=Q?4:3,q=new Uint8Array(g*L*F);
for(var n=0;n<L;n++)for(var W=0;W<g;W++){var z=n*g+W<<2,u=((L-n-1)*g+W)*F;q[u]=r[z+2];q[u+1]=r[z+1];
q[u+2]=r[z+0];if(Q)q[u+3]=r[z+3]}if(!0){var N=q.length,b=0,B=new Uint8Array(N*2),h=0,A=0,e=g*F;while(A<N){var c=A,a=0,$=e*(Math.floor(A/e)+1);
while(c<$&&a<128){var G=!0;for(var o=0;o<F;o++)G=G&q[A+o]==q[c+o];if(!G)break;c+=F;a++}if(a==1){var H=1;
while(H<128&&A+(H+1)*F<$){var G=!0,f=A+H*F;for(var o=0;o<F;o++)G=G&q[f+o]==q[f+F+o];if(G)break;H++}B[h++]=H-1;
for(var E=0;E<H;E++)for(var o=0;o<F;o++)B[h++]=q[A++]}else{B[h++]=127+a;for(var o=0;o<F;o++)B[h+o]=q[A+o];
h+=F;A+=F*a;b+=a}}q=B.slice(0,h);R+=8}var S=new Uint8Array(18+q.length+26);S[2]=R;X.Cz(S,12,g);X.Cz(S,14,L);
S[16]=F*8;S[17]=F==4?8:0;S.set(q,18);X.kC(S,18+q.length+8,"TRUEVISION-XFILE.");return S.buffer};ax.TGA.X_=function(m){var g=new Uint8Array(m),L=0,K=g[0],r=g[1],R=g[2],Q=g[4]*256+g[3],F=g[6]*256+g[5],q=g[7],n=g[9]*256+g[8],W=g[11]*256+g[10],z=g[13]*256+g[12],u=g[15]*256+g[14],N=g[16],b=g[17],B=b>>>4,h=X.dn(g,18,K),A=I.m(z*u*4),L=18+K+(F*q>>>3),e=new Uint8Array(g.buffer,L);
if(R>3){var c=0,a=g,$=new Uint8Array(z*u*N>>>3),G=L,o=0,H=g.length,f=N>>>3;while(o<$.length){var E=a[G];
G++;if(E<128)for(var S=0;S<E+1;S++){for(var V=0;V<f;V++){$[o]=a[G];o++;G++}}else{for(var S=0;S<E-127;
S++){for(var V=0;V<f;V++){$[o]=a[G+V];o++}}G+=f}}R-=8;e=$;L=G}else L+=z*u*N>>>3;var J=new Uint8Array(4),U=ax.TGA.ImL;
for(var j=0;j<u;j++)for(var i=0;i<z;i++){var k=(B&2)==0?(u-j-1)*z+i:j*z+i,P=j*z+i,w,d,T,y=255,D=k*N>>>3;
if(R==1){var s=0;if(N==8)s=e[D];else throw"e";U(g,18+K+Q+(s*q>>>3),q,J);w=J[0];d=J[1];T=J[2];y=J[3]}else if(R==2){U(e,D,N,J);
w=J[0];d=J[1];T=J[2];y=J[3]}else if(R==3){if(N==8)w=d=T=e[D];else throw"e"}var Z=P*4;A[Z]=w;A[Z+1]=d;
A[Z+2]=T;A[Z+3]=y}return[{wh:new v(0,0,z,u),data:A.buffer,bO:h}]};ax.TGA.ImL=function(m,g,L,K){var r,R,Q,F=255;
if(L==24||L==32){Q=m[g];R=m[g+1];r=m[g+2];if(L==32)F=m[g+3]}else if(L==16){var q=m[g+1]<<8|m[g+0];r=q>>>10&31;
R=q>>>5&31;Q=q>>>0&31;r=Math.round(r*(255/31));R=Math.round(R*(255/31));Q=Math.round(Q*(255/31))}else throw"e";
K[0]=r;K[1]=R;K[2]=Q;K[3]=F};ax.LIF={};ax.LIF.X_=function(m){var g=new Uint8Array(m),L=0,K=112,r=42,R=X.Bm,W;
L+=8;var Q=g[L];L++;if(Q!=r)throw"e";var F=R(g,L);L+=4;var q=X.iK(g,L,F);L+=F*2;var n=[];while(L<g.length){W=R(g,L);
L+=4;if(W!=K)throw W;L+=4;W=g[L];L++;if(W!=r)throw W;var z=R(g,L);L+=4;var u=g[L];L++;if(u!=r){L-=5;
z=R(g,L);L+=8;W=g[L];L++;if(W!=r)throw W}var N=R(g,L)*2;L+=4;if(z>0)n.push(L+N);L+=N+z}var b=new DOMParser,B=b.parseFromString(q,"image/svg+xml").firstChild.firstChild,h=[];
ax.LIF.zf(B,g,n,h);return h};ax.LIF.zf=function(m,g,L,K){var r=m.firstChild.firstChild;if(r.tagName=="Image"){var R=r.getElementsByTagName("ImageDescription")[0],Q=R.children[0].children,F=R.children[1].children,q=L.shift(),n=[];
for(var W=0;W<F.length;W++)n.push(parseInt(F[W].getAttribute("NumberOfElements")));while(n.length>3)n[2]*=n.pop();
var z=Q.length,u=n[0],N=n[1],b=n[2],B=parseInt(F[0].getAttribute("BytesInc"));for(var h=0;h<b;h++){var A=I.m(u*N*4);
I._U(A,4278190080);for(var e=0;e<z;e++){var c=I.m(u*N);if(B==1)for(var a=0;a<c.length;a++)c[a]=g[q+a];
else if(B==2)for(var a=0;a<c.length;a++)c[a]=Math.min(255,(g[q+a*2+1]<<8|g[q+a*2])>>>2);else throw B;
if(e!=3)I.eX(c,A,e);if(z==1){I.eX(c,A,1);I.eX(c,A,2)}q+=u*N*B}K.push({wh:new v(0,0,u,N),data:A.buffer})}}else{var $=m.children,G=0;
while(G<$.length&&$[G].tagName!="Children")G++;if(G==$.length)throw"e";$=$[G].children;for(var o=0;o<$.length;
o++)ax.LIF.zf($[o],g,L,K)}};ax.RAF={};ax.RAF.X_=function(m){var g=new Uint8Array(m),L=16,K=X.dn(g,L,4),R=32,A=0,e=0,c=!1,w;
L+=4;var r=X.dn(g,L,8);L+=8;while(g[L+R-1]==0)R--;var Q=X.dn(g,L,R);L+=32;var F=X.dn(g,L,4);L+=4;L+=20;
var q=X.d(g,L);L+=4;var n=X.d(g,L);L+=4;var W=X.d(g,L);L+=4;var z=X.d(g,L);L+=4;var u=X.d(g,L);L+=4;
var N=X.d(g,L);L+=4;var b="FujiFilm "+Q,B=[0,1,1,2];if(b=="FujiFilm X10"){b="FujiFilm FinePix X10";B=[2,1,1,0]}var h={t271:["FujiFilm"],t272:[b],t277:[1],t33421:[2,2],t33422:B,Gc:1};
L=W;var a=[],$=X.Di,G=X.d(g,L);L+=4;for(var o=0;o<G;o++){var H=$(g,L);L+=2;var f=$(g,L);L+=2;if(H==256){e=$(g,L);
A=$(g,L+2)}else if(H==272){a=[$(g,L),$(g,L+2)]}else if(H==273){a.push($(g,L),$(g,L+2))}else if(H==304){c=!(g[L]>>>7)}else if(H==305){var E=Math.round(Math.sqrt(f)),S=[];
for(var V=0;V<f;V++)S.push(g[L+V]);S.reverse();h.t33421=[E,E];h.t33422=S}else if(H==12272){var J=$(g,L),U=$(g,L+2),j=$(g,L+6);
h.t50728=[J/U,1,J/j]}L+=f}var i=A<e,k=g.slice(u,u+N),P=Math.round(N*8/(A*e));if(k[0]==73&&k[1]==73&&k[2]==42){w=UTIF.decode(k.buffer)[0].fujiIFD;
P=w.t61443[0];var d=w.t61454;h.t50728=[d[0]/d[1],1,d[0]/d[2]];var T=w.t61447[0];k=k.slice(T,T+w.t61448[0])}var N=k.length,y=N*8<A*e*P;
if(y)alert("Compressed RAF is not supported yet :(");function D(aq,aa,aD){aD=aD<<8-(aa&7);var _=aa>>>3;
aq[_]|=aD>>>16;aq[_+1]|=aD>>>8;aq[_+2]|=aD}var s=N*8/(A*e);if(s==16)for(var o=0;o<N;o+=2){var Z=k[o];
k[o]=k[o+1];k[o+1]=Z}else if(s==14){for(var o=0;o<N;o+=4){var Z=k[o];k[o]=k[o+3];k[o+3]=Z;Z=k[o+1];k[o+1]=k[o+2];
k[o+2]=Z}}else if(s==12)for(var o=0;o<N;o+=3){var aQ=k[o+2]<<16|k[o+1]<<8|k[o+0];aQ=aQ>>>12|(aQ&4095)<<12;
k[o]=aQ>>>16&255;k[o+1]=aQ>>>8&255;k[o+2]=aQ&255}if(i)k=ax.RAF.ImM(k,A,e);var aI=i?2:1;A*=aI;h.t256=[A];
h.t257=[e];h.t258=[P];h.t50719=[a[1],a[0]*aI];h.t50720=[a[3],a[2]*aI];h.width=A;h.height=e;h.data=new Uint8Array(k.buffer);
return[h]};ax.RAF.ImM=function(m,g,L){m=new Uint16Array(m.buffer);var K=new Uint16Array(g*L*2);for(var r=0;
r<L;r+=2)for(var R=0;R<g;R++){var Q=r*g+R,F=Q*2,q=m[Q],n=m[Q+g];K[F+1]=K[F+2*g]=n;if(((r>>>1)+R&1)==0){K[F]=q;
K[F+2*g+1]=m[Q+1]}else{K[F]=m[Q-1];K[F+2*g+1]=q}}return K};ax.RAW={};ax.RAW.Wi=!0;ax.RAW.Cf=function(m,g,L,K){var r=new Uint8Array(m[0][0]),R=g*L,Q=[1,3,4][K[0]],F=8+8*K[1],q=K[2];
if(Q==1){var n=new Uint8Array(g*L);I.Vl(r,n,0);r=n}if(Q==3){var n=new Uint8Array(g*L*3);for(var W=0;
W<R;W++){var z=W*4,u=W*3;n[u]=r[z];n[u+1]=r[z+1];n[u+2]=r[z+2]}r=n}if(F==16){var N=r.length,n=new Uint8Array(N*2);
for(var W=0;W<N;W++){var b=Math.round(r[W]*(65535/255));n[W*2+q]=b>>>8;n[W*2+1-q]=b&255}r=n}return r.buffer};
function I(){}I.ZQ=document.createElement("canvas");I.r=I.ZQ.getContext("2d");I.xL=function(m,g,L,K){K=Math.log(K)/Math.log(2);
K=Math.round(K);for(var r=0;r<L;r++)for(var R=0;R<g;R++){var Q=r*g+R<<2,F=I.tm(r,R,K);m[Q]=m[Q+1]=m[Q+2]=F;
m[Q+3]=255}};I.tm=function(m,g,L){return 255-((m>>>L)+(g>>>L)&1)*51};I.IA=function(m){var g=m.toString(16);
while(g.length<6)g="0"+g;return g};I.Im_=function(m){return parseInt(m,16)};I.xM=function(m){return.3*m.u+.59*m.S+.11*m.R};
I.EF=function(m){return Math.max(m.u,m.S,m.R)-Math.min(m.u,m.S,m.R)};I.Mi=function(m,g,L){return.3*m+.59*g+.11*L};
I.IJD=function(m,g,L){return Math.max(m,g,L)-Math.min(m,g,L)};I.Eg=function(m,g){var L=g-m,K=Math.abs(L),r=L-1,R=L+1;
if(Math.abs(r)<K)L=r;else if(Math.abs(R)<K)L=R;return L};I.kA=function(m,g,L,K){return(g-L)*K/(m-L)};
I.xJ=function(m){return m<.0031308?12.92*m:1.055*Math.pow(m,1/2.4)-.055};I.ImP=function(m){return m<.04045?m/12.92:Math.pow((m+.055)/1.055,2.4)};
I.IJG=function(m,g,L,K){if(L<g)L+=K;if(m<g)m+=K;return(m-g)/(L-g)};I.Ims=function(m,g){var L=Math.min(m.length,g.length);
for(var K=0;K<L;K+=4){var r=m[K],R=m[K+1],Q=m[K+2];g[K]=16+Math.floor(65.481/255*r+128.553/255*R+24.966/255*Q+.5);
g[K+1]=128-Math.floor(37.797/255*r-74.203/255*R+112/255*Q+.5);g[K+2]=128+Math.floor(112/255*r-93.786/255*R-18.214/255*Q+.5);
g[K+3]=m[K+3]}};I.aO=function(m,g,L){var K=Math.max(m,g,L),r=Math.min(m,g,L),R=0,Q=0,F=(K+r)*.5;if(K!=r){var q=K-r;
Q=F>.5?q/(2-(K+r)):q/(K+r);switch(K){case m:R=(g-L)/q+(g<L?6:0);break;case g:R=(L-m)/q+2;break;case L:R=(m-g)/q+4;
break}R*=1/6}return{PC:R,Gr:Q,lS:F}};I.FU=function(m,g,L){var K,r,R;if(g==0)K=r=R=L;else{var Q=L<.5?L*(1+g):L+g-L*g,F=2*L-Q;
K=I.FJ(F,Q,m+1/3);r=I.FJ(F,Q,m);R=I.FJ(F,Q,m-1/3)}return{u:K,S:r,R:R}};I.FJ=function(m,g,L){if(L<0)L+=1;
if(L>1)L-=1;if(L<1/6)return m+(g-m)*6*L;if(L<1/2)return g;if(L<2/3)return m+(g-m)*(2/3-L)*6;return m};
I.MW=function(m,g,L){var K=Math.max(m,g,L),r=Math.min(m,g,L),R,Q,F=K,q=K-r;Q=K==0?0:q/K;if(K==r)R=0;
else{switch(K){case m:R=(g-L)/q+(g<L?6:0);break;case g:R=(L-m)/q+2;break;case L:R=(m-g)/q+4;break}R*=1/6}return{PC:R,Gr:Q,nw:F}};
I.ww=function(m,g,L){var K,r,R,Q,F,q,n,W;Q=Math.floor(m*6);F=m*6-Q;q=L*(1-g);n=L*(1-F*g);W=L*(1-(1-F)*g);
switch(Q%6){case 0:K=L,r=W,R=q;break;case 1:K=n,r=L,R=q;break;case 2:K=q,r=L,R=W;break;case 3:K=q,r=n,R=L;
break;case 4:K=W,r=q,R=L;break;case 5:K=L,r=q,R=n;break}return{u:K,S:r,R:R}};I.xS=function(){var m=[],g=[];
for(var L=0;L<2e3;L++){var K=L/1e3;m[L]=I.ImP(K);g[L]=K>.008856?Math.pow(K,1/3):(903.3*K+16)*(1/116)}return[m,g]}();
I.Kf=function(m,g,L){var K=I.xS[0],r=I.xS[1];m=K[~~(m*(1e3/255))];g=K[~~(g*(1e3/255))];L=K[~~(L*(1e3/255))];
var R=I.za.IMx,Q=R[0]*m+R[1]*g+R[2]*L,F=R[4]*m+R[5]*g+R[6]*L,q=R[8]*m+R[9]*g+R[10]*L;Q=Q*(100/96.72);
F=F*(100/100);q=q*(100/81.427);return I.tp(Q,F,q)};I.tp=function(m,g,L){var K=I.xS[1],r=K[~~(m*1e3)],R=K[~~(g*1e3)],Q=K[~~(L*1e3)];
return{dU:116*R-16,Wh:500*(r-R),R:200*(R-Q)}};I.tx=function(m,g,L){var K=903.3,r=.008856,R=(m+16)/116,Q=R*R*R,F=R-L/200,q=F*F*F,n=g/500+R,W=n*n*n,z=q>r?q:(116*F-16)/K,u=Q>r?Q:(116*R-16)/K,N=W>r?W:(116*n-16)/K,b=N*96.72,B=u*100,h=z*81.427,A=I.za.hj(I.za.wH,[b/100,B/100,h/100,0]);
for(var e=0;e<4;e++)A[e]=Math.max(0,Math.min(255,I.xJ(A[e])*255));return{u:A[0],S:A[1],R:A[2]}};I.tL=function(m,g,L,K,r){var R=m.dU,Q=m.Wh,F=m.R,q=(R<g.dU?g.dU-R:L.dU<R?L.dU-R:0)*(1/100),n=(Q<g.Wh?g.Wh-Q:L.Wh<Q?L.Wh-Q:0)*(1/116),W=(F<g.R?g.R-F:L.R<F?L.R-F:0)*(1/116),z=Math.sqrt(q*q+n*n+W*W)*1.35;
return z<=K?Math.min(1,1.17*(1-z*r)):0};I.Oa=function(m,g,L){var K=g-I.xM(m);L.u=m.u+K;L.S=m.S+K;L.R=m.R+K;
I.Ipn(L)};I.Es=function(m,g,L){var K=m.u,r=m.S,R=m.R;if(K==r&&r==R){L.u=L.S=L.R=0}else if(K>r){if(K>R){if(r>R){L.u=g;
L.S=I.kA(K,r,R,g);L.R=0}else{L.u=g;L.R=I.kA(K,R,r,g);L.S=0}}else{L.R=g;L.u=I.kA(R,K,r,g);L.S=0}}else{if(K<R){if(r>R){L.S=g;
L.R=I.kA(r,R,K,g);L.u=0}else{L.R=g;L.S=I.kA(R,r,K,g);L.u=0}}else{L.S=g;L.u=I.kA(r,K,R,g);L.R=0}}};I.Ipn=function(m){var g=m.u,L=m.S,K=m.R,r=I.Mi(g,L,K),R=Math.min(g,L,K),Q=Math.max(g,L,K);
if(R<0){var F=r/(r-R);g=r+(g-r)*F;L=r+(L-r)*F;K=r+(K-r)*F}if(Q>1){var F=(1-r)/(Q-r);g=r+(g-r)*F;L=r+(L-r)*F;
K=r+(K-r)*F}m.u=g;m.S=L;m.R=K};I.fe=function(m,g,L,K,r,R){var Q=new Uint32Array(m.buffer),F=0;K=Math.log(K)/Math.log(2);
K=Math.round(K);for(var q=0;q<L;q++)for(var n=0;n<g;n++){Q[F++]=(q+R>>K)+(n+r>>K)&1==1?4291348680:4294967295}};
I.IJr=function(m,g,L){return(m>>L)+(g>>L)&1==1?200:255};I.Wt=function(m,g){var L=m.length;for(var K=0;
K<L;K+=4)g[K>>2]=Math.floor(m[K+0]*.3+m[K+1]*.59+m[K+2]*.11+.5)};I.xk=function(m,g){var L=g.length;for(var K=0;
K<L;K+=4){var r=m[K>>>2];g[K]=r;g[K+1]=r;g[K+2]=r}};I.JL=function(m,g){var L=m.Wh,K=m.u,r=m.S,R=m.R,Q=Math.min(m.Wh.length,g.buffer.byteLength>>>2),F=4*Math.floor(Q/4),q=new Uint32Array(g.buffer),n=new Uint32Array(L.buffer),W=new Uint32Array(K.buffer),z=new Uint32Array(r.buffer),u=new Uint32Array(R.buffer);
for(var N=0;N<F;N+=4){var b=n[N>>2],B=u[N>>2],h=z[N>>2],A=W[N>>2];q[N]=b<<24|(B&255)<<16|(h&255)<<8|A&255;
q[N+1]=(b&65280)<<16|(B&65280)<<8|h&65280|(A&65280)>>>8;q[N+2]=(b&16711680)<<8|B&16711680|(h&16711680)>>>8|(A&16711680)>>>16;
q[N+3]=b&4278190080|(B&4278190080)>>>8|(h&4278190080)>>>16|(A&4278190080)>>>24}for(var N=F;N<Q;N++)q[N]=L[N]<<24|R[N]<<16|r[N]<<8|K[N]};
I.IJz=function(m,g,L,K){var r=m.Wh,R=m.u,Q=m.S,F=m.R,q=new Uint32Array(g.buffer),n=K.x-L.x,W=n+K.j,z=K.y-L.y,u=z+K.F;
for(var N=z;N<u;N++){var b=N*L.j+n;for(var B=n;B<W;B++){q[b]=r[b]<<24|F[b]<<16|Q[b]<<8|R[b];b++}}};I.cd=function(m,g){var L=g.Wh,K=g.u,r=g.S,R=g.R,Q=Math.min(g.Wh.length,m.buffer.byteLength>>>2),F=4*Math.floor(Q/4),q=new Uint32Array(m.buffer),n=new Uint32Array(L.buffer),W=new Uint32Array(K.buffer),z=new Uint32Array(r.buffer),u=new Uint32Array(R.buffer);
for(var N=0;N<F;N+=4){var b=q[N],B=q[N+1],h=q[N+2],A=q[N+3];W[N>>2]=b&255|(B&255)<<8|(h&255)<<16|A<<24;
z[N>>2]=(b&65280)>>8|B&65280|(h&65280)<<8|(A&65280)<<16;u[N>>2]=(b&16711680)>>16|(B&16711680)>>8|h&16711680|(A&16711680)<<8;
n[N>>2]=b>>>24|B>>>24<<8|h>>>24<<16|A&4278190080}for(var N=F;N<Q;N++){var e=q[N];K[N]=e>>0&255;r[N]=e>>8&255;
R[N]=e>>16&255;L[N]=e>>24&255}};I.Vl=function(m,g,L){var K=new Uint8Array(m.buffer),r=Math.min(K.length/4,g.length);
for(var R=0;R<r;R++){g[R]=K[(R<<2)+L]}};I.eX=function(m,g,L){var K=new Uint8Array(g.buffer),r=new Uint32Array(m.buffer),R=Math.min(K.length/4,m.length),Q=0;
while(Q+4<R){var F=r[Q>>>2];K[(Q<<2)+L]=F&255;K[(Q<<2)+L+4]=F>>>8&255;K[(Q<<2)+L+8]=F>>>16&255;K[(Q<<2)+L+12]=F>>>24;
Q+=4}while(Q<R){K[(Q<<2)+L]=m[Q];Q++}};I.clone=function(m){return m.slice(0)};I.Ol=function(m,g){I.set(m.Wh,g);
I.set(m.u,g);I.set(m.S,g);I.set(m.R,g)};I.set=function(m,g){g=Math.round(g);var L=g<<24|g<<16|g<<8|g,K=new Uint32Array(m.buffer),r=K.length;
for(var R=0;R<r;R++)K[R]=L};I._U=function(m,g,L){if(L==null)L=0;var K=new Uint32Array(m.buffer),r=K.length;
for(var R=0;R<r;R++)K[R]=K[R]&L|g};I.IpE=function(m,g,L,K,r){if(r==null)r=0;var R=new Uint32Array(m.buffer);
L=L.my(g);var Q=L.x-g.x,F=L.y-g.y,q=L.j,n=L.F,W=g.j;for(var z=0;z<n;z++){var u=(F+z)*W+Q;for(var N=0;
N<q;N++){R[u]=R[u]&r|K;u++}}};I.IlU=function(m,g){I.jR(m.Wh,g.Wh);I.jR(m.u,g.u);I.jR(m.S,g.S);I.jR(m.R,g.R)};
I.jR=function(m,g){var L=Math.min(m.buffer.byteLength,g.buffer.byteLength),K=L>>>2,m=new Uint32Array(m.buffer,0,K),g=new Uint32Array(g.buffer,0,K);
g.set(m)};I.IlR=function(m,g){return I.TB(m.Wh,g.Wh)&&I.TB(m.u,g.u)&&I.TB(m.S,g.S)&&I.TB(m.R,g.R)};I.TB=function(m,g){var L=m.buffer.byteLength,K=g.buffer.byteLength,r=new Uint32Array(m.buffer,0,L>>2),R=new Uint32Array(g.buffer,0,K>>2);
if(L!=K)return!1;var Q=r.length;for(var F=0;F<Q;F++)if(R[F]!=r[F])return!1;return!0};I.eb=function(m){var g=new Uint32Array(m.buffer),L=g.length;
for(var K=0;K<L;K++)g[K]=~g[K]};I.Ilw=function(m){var g=m.length;for(var L=3;L<g;L+=4)m[L]=~m[L]};I.IpF=function(m){return m+(m%4==0?0:4-m%4)};
I.m=function(m,g){if(g==null)g=!1;if(!g)m=I.IpF(m);try{var L=new Uint8Array(m)}catch(QX){alert("Not enough RAM! (need "+Math.round(m/(1<<20))+" MB)",7e3);
throw"low_ram"}return L};I.Ez=function(m){var g=m.length,L=m[g-2],K=m[g-1];while(K.j>=2||K.F>=2){var r=I.Ok(L,K);
m.push(r.qT,r.rect);L=r.qT;K=r.rect}};I.IlL=function(m){var g=m.length,L=m[g-2],K=m[g-1];while(K.j>=2||K.F>=2){var r=I.tS(L,K);
m.push(r.qT,r.rect);L=r.qT;K=r.rect}};I.Ok=function(m,g,L){var K=g.j,r=g.F,R=K>>1,Q=r>>1,F=new v(g.x,g.y,R,Q),q=L&&L.length==R*Q*4?L:I.m(R*Q*4),n=new Uint32Array(m.buffer),W=new Uint32Array(q.buffer);
for(var z=0;z<Q;z++)for(var u=0;u<R;u++){var N=z*R+u,b=(z<<1)*K+(u<<1),B=n[b],h=n[b+1],A=n[b+K],e=n[b+K+1],c=B>>>24,a=h>>>24,$=A>>>24,G=e>>>24,o=c+a+$+G;
if(o==1020){var H=(B>>>0&255)+(h>>>0&255)+(A>>>0&255)+(e>>>0&255)+2>>>2,f=(B>>>8&255)+(h>>>8&255)+(A>>>8&255)+(e>>>8&255)+2>>>2,E=(B>>>16&255)+(h>>>16&255)+(A>>>16&255)+(e>>>16&255)+2>>>2;
W[N]=255<<24|E<<16|f<<8|H}else if(o==0)W[N]=0;else{var H=(B>>>0&255)*c+(h>>>0&255)*a+(A>>>0&255)*$+(e>>>0&255)*G,f=(B>>>8&255)*c+(h>>>8&255)*a+(A>>>8&255)*$+(e>>>8&255)*G,E=(B>>>16&255)*c+(h>>>16&255)*a+(A>>>16&255)*$+(e>>>16&255)*G,S=1/o;
H=~~(H*S+.5);f=~~(f*S+.5);E=~~(E*S+.5);W[N]=o+2>>>2<<24|E<<16|f<<8|H}}return{rect:F,qT:q}};I.tJ=function(m,g,L){var K=g.j,r=g.F,R=K>>1,Q=r>>1,F=new v(g.x,g.y,R,Q),q=L&&L.length==R*Q*4?L:I.m(R*Q*4),n=new Uint32Array(m.buffer),W=new Uint32Array(q.buffer);
for(var z=0;z<Q;z++)for(var u=0;u<R;u++){var N=z*R+u,b=(z<<1)*K+(u<<1),B=n[b],h=n[b+1],A=n[b+K],e=n[b+K+1],c=2+(B>>>0&255)+(h>>>0&255)+(A>>>0&255)+(e>>>0&255)>>>2,a=2+(B>>>8&255)+(h>>>8&255)+(A>>>8&255)+(e>>>8&255)>>>2,$=2+(B>>>16&255)+(h>>>16&255)+(A>>>16&255)+(e>>>16&255)>>>2;
W[N]=4278190080|$<<16|a<<8|c}return{rect:F,qT:q}};I.Ipg=function(m,g,L){var K=g.j,r=g.F,R=2*Math.floor(K/3),Q=2*Math.floor(r/3),F=new v(g.x,g.y,R,Q),q=L&&L.length==R*Q*4?L:I.m(R*Q*4),n=new Uint32Array(m.buffer),W=new Uint32Array(q.buffer);
for(var z=0;z<Q;z+=2)for(var u=0;u<R;u+=2){var N=z*R+u,b=(z*3>>>1)*K+(u*3>>>1),B=n[b],h=n[b+1],A=n[b+2],e=n[b+K],c=n[b+1+K],a=n[b+2+K],$=n[b+K+K],G=n[b+1+K+K],o=n[b+2+K+K],H=B>>>24<<2,f=(B>>>16&255)*H,E=(B>>>8&255)*H,S=(B&255)*H,V=h>>>24<<1,J=(h>>>16&255)*V,U=(h>>>8&255)*V,j=(h&255)*V,i=A>>>24<<2,k=(A>>>16&255)*i,P=(A>>>8&255)*i,w=(A&255)*i,d=e>>>24<<1,T=(e>>>16&255)*d,y=(e>>>8&255)*d,D=(e&255)*d,s=c>>>24,Z=(c>>>16&255)*s,aQ=(c>>>8&255)*s,aI=(c&255)*s,aq=a>>>24<<1,aa=(a>>>16&255)*aq,aD=(a>>>8&255)*aq,_=(a&255)*aq,M=$>>>24<<2,jt=($>>>16&255)*M,aR=($>>>8&255)*M,aL=($&255)*M,aw=G>>>24<<1,ap=(G>>>16&255)*aw,al=(G>>>8&255)*aw,ak=(G&255)*aw,ao=o>>>24<<2,aZ=(o>>>16&255)*ao,aS=(o>>>8&255)*ao,an=(o&255)*ao,IU=H+V+d+s,a_=i+V+aq+s,aG=M+aw+d+s,aM=ao+aw+aq+s,av=IU==0?0:1/IU,aA=a_==0?0:1/a_,IL=aG==0?0:1/aG,aB=aM==0?0:1/aM,aV=0,Ia=0,aK=0,aE=0;
aV=~~(.5+(S+j+D+aI)*av);Ia=~~(.5+(E+U+y+aQ)*av);aK=~~(.5+(f+J+T+Z)*av);aE=~~(.5+IU*(1/9));W[N]=aE<<24|aK<<16|Ia<<8|aV;
aV=~~(.5+(w+j+_+aI)*aA);Ia=~~(.5+(P+U+aD+aQ)*aA);aK=~~(.5+(k+J+aa+Z)*aA);aE=~~(.5+a_*(1/9));W[N+1]=aE<<24|aK<<16|Ia<<8|aV;
aV=~~(.5+(aL+ak+D+aI)*IL);Ia=~~(.5+(aR+al+y+aQ)*IL);aK=~~(.5+(jt+ap+T+Z)*IL);aE=~~(.5+aG*(1/9));W[N+R]=aE<<24|aK<<16|Ia<<8|aV;
aV=~~(.5+(an+ak+_+aI)*aB);Ia=~~(.5+(aS+al+aD+aQ)*aB);aK=~~(.5+(aZ+ap+aa+Z)*aB);aE=~~(.5+aM*(1/9));W[N+R+1]=aE<<24|aK<<16|Ia<<8|aV}return{rect:F,qT:q}};
I.ID$=function(m,g,L){var K=g.j,r=g.F,R=2*Math.floor(K/3),Q=2*Math.floor(r/3),F=new v(g.x,g.y,R,Q),q=L&&L.length==R*Q*4?L:I.m(R*Q*4),n=new Uint32Array(m.buffer),W=new Uint32Array(q.buffer);
for(var z=0;z<Q;z+=2)for(var u=0;u<R;u+=2){var N=z*R+u,b=(z*3>>>1)*K+(u*3>>>1),B=n[b],h=n[b+1],A=n[b+2],e=n[b+K],c=n[b+1+K],a=n[b+2+K],$=n[b+K+K],G=n[b+1+K+K],o=n[b+2+K+K],H=(B>>>16&255)<<2,f=(B>>>8&255)<<2,E=(B&255)<<2,S=(h>>>16&255)<<1,V=(h>>>8&255)<<1,J=(h&255)<<1,U=(A>>>16&255)<<2,j=(A>>>8&255)<<2,i=(A&255)<<2,k=(e>>>16&255)<<1,P=(e>>>8&255)<<1,w=(e&255)<<1,d=c>>>16&255,T=c>>>8&255,y=c&255,D=(a>>>16&255)<<1,s=(a>>>8&255)<<1,Z=(a&255)<<1,aQ=($>>>16&255)<<2,aI=($>>>8&255)<<2,aq=($&255)<<2,aa=(G>>>16&255)<<1,aD=(G>>>8&255)<<1,_=(G&255)<<1,M=(o>>>16&255)<<2,jt=(o>>>8&255)<<2,aR=(o&255)<<2,aL=0,aw=0,ap=0;
aL=~~(.5+(E+J+w+y)*(1/9));aw=~~(.5+(f+V+P+T)*(1/9));ap=~~(.5+(H+S+k+d)*(1/9));W[N]=255<<24|ap<<16|aw<<8|aL;
aL=~~(.5+(i+J+Z+y)*(1/9));aw=~~(.5+(j+V+s+T)*(1/9));ap=~~(.5+(U+S+D+d)*(1/9));W[N+1]=255<<24|ap<<16|aw<<8|aL;
aL=~~(.5+(aq+_+w+y)*(1/9));aw=~~(.5+(aI+aD+P+T)*(1/9));ap=~~(.5+(aQ+aa+k+d)*(1/9));W[N+R]=255<<24|ap<<16|aw<<8|aL;
aL=~~(.5+(aR+_+Z+y)*(1/9));aw=~~(.5+(jt+aD+s+T)*(1/9));ap=~~(.5+(M+aa+D+d)*(1/9));W[N+R+1]=255<<24|ap<<16|aw<<8|aL}return{rect:F,qT:q}};
I.XI=function(m){var g=255,L=m.length;L-=L&31;for(var K=3;K<L;K+=32)g=g&m[K]&m[K+4]&m[K+8]&m[K+12]&m[K+16]&m[K+20]&m[K+24]&m[K+28];
return g!=255};I.xO=function(m,g,L,K){var r=I.Ok,R=I.Ipg,F=0;if(!I.XI(m)){r=I.tJ;R=I.ID$}var Q={qT:m,rect:g},q=L;
while(q<.499){F++;q*=2}for(var n=0;n<F;n++)Q=r(Q.qT,Q.rect,K);if(q<.5001)Q=r(Q.qT,Q.rect,K);else Q=R(Q.qT,Q.rect,K);
return Q};I.tl=function(m,g,L,K){var r=I.tS,R=I.IDH,Q={qT:m,rect:g},F=0,q=L;while(q<.499){F++;q*=2}for(var n=0;
n<F;n++)Q=r(Q.qT,Q.rect,K);if(q<.5001)Q=r(Q.qT,Q.rect,K);else Q=R(Q.qT,Q.rect,K);return Q};I.tS=function(m,g,L){var K=g.j,r=g.F,R=K>>1,Q=r>>1,F=new v(g.x,g.y,R,Q);
if(m==null)return{rect:F};var q=L&&L.length>=R*Q?L:I.m(R*Q);for(var n=0;n<Q;n++){var W=n*R;for(var z=0;
z<R;z++){var u=(n<<1)*K+(z<<1);q[W+z]=2+m[u]+m[u+1]+m[u+K]+m[u+K+1]>>>2}}return{rect:F,qT:q}};I.IDH=function(m,g,L){var K=g.j,r=g.F,R=2*Math.floor(K/3),Q=2*Math.floor(r/3),F=new v(g.x,g.y,R,Q);
if(m==null)return{rect:F};var q=L&&L.length>=R*Q?L:I.m(R*Q);for(var n=0;n<Q;n+=2)for(var W=0;W<R;W+=2){var z=n*R+W,u=(n*3>>>1)*K+(W*3>>>1),N=m[u]<<2,b=m[u+1]<<1,B=m[u+2]<<2,h=m[u+K]<<1,A=m[u+1+K],e=m[u+2+K]<<1,c=m[u+K+K]<<2,a=m[u+1+K+K]<<1,$=m[u+2+K+K]<<2;
q[z]=~~(.5+(N+b+h+A)*(1/9));q[z+1]=~~(.5+(B+b+e+A)*(1/9));q[z+R]=~~(.5+(c+a+h+A)*(1/9));q[z+R+1]=~~(.5+($+a+e+A)*(1/9))}return{rect:F,qT:q}};
I.Cp=function(m,g,L,K,r){var R=g.my(K);if(r)R=R.my(r);var Q=Math.max(0,R.x-g.x),F=Math.max(0,R.x-K.x),q=Math.max(0,R.y-g.y),n=Math.max(0,R.y-K.y),W=R.j,z=R.F;
for(var u=0;u<z;u++){var N=(q+u)*g.j+Q,b=(n+u)*K.j+F;for(var B=0;B<W;B++){L[b+B]=m[N+B]}}};I.ti=function(m,g,L,K){if(g.TB(K)){I.eX(m,L,3);
return}var r=g.my(K),R=Math.max(0,r.x-g.x),Q=Math.max(0,r.x-K.x),F=Math.max(0,r.y-g.y),q=Math.max(0,r.y-K.y),n=r.j,W=r.F;
for(var z=0;z<W;z++){var u=(F+z)*g.j+R,N=(q+z)*K.j+Q;for(var b=0;b<n;b++)L[(N+b<<2)+3]=m[u+b]}};I.xe=function(m,g,L,K){var r=g.my(K),R=Math.max(0,r.x-g.x),Q=Math.max(0,r.x-K.x),F=Math.max(0,r.y-g.y),q=Math.max(0,r.y-K.y),n=r.j,W=r.F;
for(var z=0;z<W;z++){var u=(F+z)*g.j+R,N=(q+z)*K.j+Q;for(var b=0;b<n;b++)L[N+b]=m[(u+b<<2)+3]}};I.IlJ=function(m,g,L,K){var r=g.my(K),R=Math.max(0,r.x-g.x),Q=Math.max(0,r.x-K.x),F=Math.max(0,r.y-g.y),q=Math.max(0,r.y-K.y),n=r.j,W=r.F;
for(var z=0;z<W;z++){var u=(F+z)*g.j+R,N=(q+z)*K.j+Q;for(var b=0;b<n;b++)L[N++]=m[u++]}};I.pq=function(m,g,L,K,r){if(g.TB(K)&&(r==null||r.TB(K))){I.jR(m,L);
return}m=new Uint32Array(m.buffer),L=new Uint32Array(L.buffer);var R=g.my(K);if(r)R=R.my(r);var Q=Math.max(0,R.x-g.x),F=Math.max(0,R.x-K.x),q=Math.max(0,R.y-g.y),n=Math.max(0,R.y-K.y),W=R.j,z=R.F,u=W&3,N=u==0?W:W-u;
for(var b=0;b<z;b++){var B=(q+b)*g.j+Q,h=(n+b)*K.j+F,A=0;while(A<N){L[h+A]=m[B+A];L[h+A+1]=m[B+A+1];
L[h+A+2]=m[B+A+2];L[h+A+3]=m[B+A+3];A+=4}if(u==1){L[h+A]=m[B+A]}else if(u==2){L[h+A]=m[B+A];L[h+A+1]=m[B+A+1]}else if(u==3){L[h+A]=m[B+A];
L[h+A+1]=m[B+A+1];L[h+A+2]=m[B+A+2]}}};I.xv=function(m,g,L,K){var r=g.my(K),R=Math.max(0,r.x-g.x),Q=Math.max(0,r.x-K.x),F=Math.max(0,r.y-g.y),q=Math.max(0,r.y-K.y),n=r.j,W=r.F,z=m.Wh,u=m.u,N=m.S,b=m.R,B=L.Wh,h=L.u,A=L.S,e=L.R;
for(var c=0;c<W;c++){var a=(F+c)*g.j+R,$=(q+c)*K.j+Q;for(var G=0;G<n;G++){B[$+G]=z[a+G];h[$+G]=u[a+G];
A[$+G]=N[a+G];e[$+G]=b[a+G]}}};I.fn=function(m){var g=m.length;for(var L=0;L<g;L+=4){var K=m[L+3];m[L]=~~(m[L]*K*(1/255)+.5);
m[L+1]=~~(m[L+1]*K*(1/255)+.5);m[L+2]=~~(m[L+2]*K*(1/255)+.5)}};I.ft=function(m){var g=m.length;for(var L=0;
L<g;L+=4){var K=m[L+3];if(K==0||K==255)continue;var r=255/K;m[L]=~~(m[L]*r+.5);m[L+1]=~~(m[L+1]*r+.5);
m[L+2]=~~(m[L+2]*r+.5)}};I.Ild=function(){var m=new Uint8Array(256*256);for(var g=0;g<256;g++)for(var L=0;
L<256;L++)m[L*256+g]=Math.round(255*g/L);return m}();I.Xx=function(m,g){for(var L=0;L<m.length;L++)if(m[L]!=g)return!1;
return!0};I.Nn=function(m){return m+1+(m>>>8)>>>8};I.round=function(m,g){if(g==null)g=128;var L=m.length;
for(var K=0;K<L;K++)m[K]=m[K]<g?0:255};I.Xw=function(m,g){var L=m.length;for(var K=0;K<L;K++)m[K]=Math.round(m[K]*g)};
I.Ilc=function(m,g){var L=m.length;for(var K=0;K<L;K+=4)m[K+3]=Math.round(m[K+3]*g)};I.XG=function(m,g){var L=new Uint32Array(m.buffer),K=new Uint32Array(g.buffer),r=L.length;
for(var R=0;R<r;R++){var Q=L[R],F=K[R];K[R]=I.Nn((Q>>>24)*(F>>>24))<<24|I.Nn((Q>>>16&255)*(F>>>16&255))<<16|I.Nn((Q>>>8&255)*(F>>>8&255))<<8|I.Nn((Q&255)*(F&255))}};
I.tk=function(m,g){var L=m.length;for(var K=0;K<L;K++)g[(K<<2)+3]=I.Nn(g[(K<<2)+3]*m[K])};I.IDz=function(m,g,L,K){var r=Math.max(0,K.x-g.x),R=Math.max(0,g.x-K.x),Q=Math.max(0,K.y-g.y),F=Math.max(0,g.y-K.y),q=Math.min(g.x+g.j,K.x+K.j)-Math.max(g.x,K.x),n=Math.min(g.y+g.F,K.y+K.F)-Math.max(g.y,K.y);
for(var W=0;W<n;W++){var z=(Q+W)*g.j+r,u=(F+W)*K.j+R;for(var N=0;N<q;N++){L[u]=I.Nn(L[u]*m[z]);z++;u++}}};
I.lD=function(m,g,L,K){var r=Math.max(0,K.x-g.x),R=Math.max(0,g.x-K.x),Q=Math.max(0,K.y-g.y),F=Math.max(0,g.y-K.y),q=Math.min(g.x+g.j,K.x+K.j)-Math.max(g.x,K.x),n=Math.min(g.y+g.F,K.y+K.F)-Math.max(g.y,K.y);
for(var W=0;W<n;W++){var z=(Q+W)*g.j+r,u=((F+W)*K.j+R<<2)+3;for(var N=0;N<q;N++){L[u]=I.Nn(L[u]*m[z]);
z++;u+=4}}};I.xZ=function(m,g,L,K){var r=Math.max(0,K.x-g.x),R=Math.max(0,g.x-K.x),Q=Math.max(0,K.y-g.y),F=Math.max(0,g.y-K.y),q=Math.min(g.x+g.j,K.x+K.j)-Math.max(g.x,K.x),n=Math.min(g.y+g.F,K.y+K.F)-Math.max(g.y,K.y);
for(var W=0;W<n;W++){var z=((Q+W)*g.j+r<<2)+3,u=((F+W)*K.j+R<<2)+3;for(var N=0;N<q;N++){L[u]=I.Nn(L[u]*m[z]);
z+=4;u+=4}}};I.IlY=function(m,g,L,K){var r=1/255,R=Math.max(0,K.x-g.x),Q=Math.max(0,g.x-K.x),F=Math.max(0,K.y-g.y),q=Math.max(0,g.y-K.y),n=Math.min(g.x+g.j,K.x+K.j)-Math.max(g.x,K.x),W=Math.min(g.y+g.F,K.y+K.F)-Math.max(g.y,K.y);
for(var z=0;z<W;z++){var u=(F+z)*g.j+R,N=(q+z)*K.j+Q;for(var b=0;b<n;b++){L[N]=r*L[N]*(255-m[u]);u++;
N++}}};I.Ilf=function(m,g){var L=[];for(var K=0;K<256;K++)L.push(0);var r=m.length,R=1/255;for(var K=0;
K<r;K++)L[m[K]]+=g[K]*R;return L};I.Oh=function(m){var g=new Float64Array(256),L=new Float64Array(256),K=new Float64Array(256),r=new Float64Array(256),R=m.length;
for(var Q=0;Q<R;Q+=4){var F=m[Q+3]*(1/255);L[m[Q+0]]+=F;K[m[Q+1]]+=F;r[m[Q+2]]+=F}for(var Q=0;Q<256;
Q++)g[Q]=L[Q]+K[Q]+r[Q];return[g,L,K,r,R>>>2]};I.te=function(m,g){var L=new Uint32Array(m.buffer),K=L.length;
for(var r=0;r<K;r++){var R=L[r],Q=R&255,F=R>>8&255,q=R>>16&255,n=R>>24&255;L[r]=g[Q]|g[F]<<8|g[q]<<16|g[n]<<24}};
I.IxG=function(m,g,L,K,r,R,Q){var F=new Uint32Array(m.buffer),q=new Uint32Array(g.buffer),n=F.length,W=0;
while(256<<W<L.length)W++;if(!Q&&!R){for(var z=0;z!=n;z++){var u=F[z],N=(u&255)<<W,b=(u>>>8&255)<<W,B=(u>>>16&255)<<W,h=L[N],A=K[b],e=r[B];
q[z]=h|A<<8|e<<16|u&4278190080}return}for(var z=0;z<n;z++){var u=F[z],N=(u&255)<<W,b=(u>>>8&255)<<W,B=(u>>>16&255)<<W;
if(R)N=b=B=Math.round(N*.3+b*.59+B*.11);var h=L[N],A=K[b],e=r[B];if(Q){var c=I.Mi(N,b,B),a=I.Mi(h,A,e);
if(c>a){var $=(c-a)/(255-a);h+=$*(255-h);A+=$*(255-A);e+=$*(255-e)}else if(a==0)h=A=e=0;else{var $=c/a;
h=$*h;A=$*A;e=$*e}}q[z]=h|A<<8|e<<16|u&4278190080}};I.IGI=function(m){var g=new Uint32Array(256),K=0;
for(var L=0;L<m.length;L++)g[m[L]]++;for(var L=0;L<256;L++)if(g[L]>g[K])K=L;return K};I.YR=function(m,g){var L=g.j,K=g.F,top=0,r=0,R=0,Q=0,F=0;
F=0;for(var q=0;q<K;q++){var n=q*L;for(var W=0;W<L;W++)F|=m[n+W];if(F!=0)break;top++}if(top==K)return new v(0,0,0,0);
F=0;for(var q=K-1;q>=0;q--){var n=q*L;for(var W=0;W<L;W++)F|=m[n+W];if(F!=0)break;R++}var z=K-R;F=0;
for(var W=0;W<L;W++){for(var q=top;q<z;q++)F|=m[q*L+W];if(F!=0)break;r++}F=0;for(var W=L-1;W>=0;W--){for(var q=top;
q<z;q++)F|=m[q*L+W];if(F!=0)break;Q++}var u=new v(g.x+r,g.y+top,L-r-Q,K-top-R);return u};I.xn=function(m,g,L,K){if(K==null)K=[!0,!0,!0,!0];
if(L==null)L=0;var r=new Uint32Array(m.buffer),R=g.j,Q=g.F,top=0,F=0,q=0,n=0,W=!1,z=[r[0],r[r.length-1],0][L];
W=!1;if(K[0])for(var u=0;u<Q;u++){var N=u*R;for(var b=0;b<R;b++)if(r[N+b]!=z)W=!0;if(W)break;top++}W=!1;
if(K[2])for(var u=Q-1;u>=0;u--){var N=u*R;for(var b=0;b<R;b++)if(r[N+b]!=z)W=!0;if(W)break;q++}W=!1;
if(K[1])for(var b=0;b<R;b++){for(var u=0;u<Q;u++)if(r[u*R+b]!=z)W=!0;if(W)break;F++}W=!1;if(K[3])for(var b=R-1;
b>=0;b--){for(var u=0;u<Q;u++)if(r[u*R+b]!=z)W=!0;if(W)break;n++}var B=new v(g.x+F,g.y+top,R-F-n,Q-top-q);
return B.L_()?new v(0,0,0,0):B};I.IGD=function(m){var g=255,L=m.length;for(var K=3;K<L;K+=4)g=g&m[K];
return g};I.qV=function(m){var g=I.YR(m.channel,m.rect);if(g.TB(m.rect))return;var L=I.m(g.c());I.Cp(m.channel,m.rect,L,g);
m.channel=L;m.rect=g};I.Xo=function(m){var g=I.m(m.buffer.length>>2);I.Vl(m.buffer,g,3);var L=I.YR(g,m.rect);
if(L.TB(m.rect))return;var K=new I.m(L.c()*4);I.pq(m.buffer,m.rect,K,L);m.buffer=K;m.rect=L};I.extend=function(m,g,L){if(m.rect.Vp(g))return;
var K=m.rect.uM(g),r=I.m(K.c());if(L!=null)I.set(r,L);I.Cp(m.channel,m.rect,r,K);m.rect=K;m.channel=r};
I.Ixg=function(m,g){if(g.L_()||m.rect.Vp(g))return;var L=m.rect.uM(g),K=I.m(L.c()*4);I.pq(m.buffer,m.rect,K,L);
m.rect=L;m.buffer=K};I.IGx=function(m,g,L){var K=g.clone(),r=L.c(),R=m.uM(K);while(R.c()/m.c()<2&&R.c()<r){K.XH(16,16);
R=R.uM(K).my(L)}if(r/R.c()<2)R=L.clone();return R};I.tv=function(m){var g=m.length;for(var L=0;L<g;L+=4){var K=m[L+3];
if(m[L]>K)m[L]=K;if(m[L+1]>K)m[L+1]=K;if(m[L+2]>K)m[L+2]=K}};I.wF=function(m,g,L){if(!L.Rn(m))return!1;
var K=Math.floor(m.x)-L.x,r=Math.floor(m.y)-L.y,R=r*L.j+K;return g[R]>128};I.IwI=function(m,g,L){if(!L.Rn(m))return!1;
var K=Math.floor(m.x)-L.x,r=Math.floor(m.y)-L.y,R=r*L.j+K;return g[4*R+3]>128};I.xE=function(m){if(I.XS.length<m){I.XS=I.m(m);
I.set(I.XS,255)}return I.XS};I.XS=I.m(0);I.ae=function(m){if(I.xX.length<m)I.xX=I.m(m);return I.xX};
I.xX=I.m(0);I.ha=function(m){this.Wh=I.m(m);this.u=I.m(m);this.S=I.m(m);this.R=I.m(m)};I.ha.prototype.clone=function(){var m=this.Wh.length,g=new I.ha(1);
g.Wh=I.clone(this.Wh);g.u=I.clone(this.u);g.S=I.clone(this.S);g.R=I.clone(this.R);return g};I.tZ={Iwq:function(m,g){var L=m.length;
m.push(g);var K=L>>>1;while(K!=0&&m[L][0]<m[K][0]){var r=m[L];m[L]=m[K];m[K]=r;L=K;K=L>>>1}},Iwe:function(m){if(m.length==2)return m.pop();
var top=m[1],g=1;m[1]=m.pop();var L=m.length;while(!0){var K=g<<1,r=K+1,R=g;if(K<L&&m[K][0]<m[R][0])R=K;
else if(r<L&&m[r][0]<m[R][0])R=r;else break;var Q=m[g];m[g]=m[R];m[R]=Q;g=R}return top}};I.h={};I.h.Xs=new Float64Array(256);
I.h.Aq=new Uint8Array(256*256);I.h.xg=new Uint8Array(256*256);(function(){for(var m=0;m<256;m++)I.h.Xs[m]=255/m;
for(var m=0;m<256;m++)for(var g=0;g<256;g++)I.h.Aq[m*256+g]=m==0?0:Math.round(g*255/m);for(var m=0;m<256;
m++)for(var g=0;g<256;g++)I.h.xg[m*256+g]=Math.round(m*(255-g)/255)}());I.h.dq=function(m,g,L,K,r,R,Q,F){if(F==null)F=ai.hb();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(m)==-1){Q=Q*F.fill;F.fill=1;F.style=!1}var q="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),n="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),W=I.h[m+"F"];
if(F.XW==null&&m=="norm")I.h.IwX(g,L,K,r,R,Q,W,F.XA?1:0);else if(m=="diss")I.h.ILc(g,L,K,r,R,Q,W,F.XA?1:0);
else if(q.indexOf(m)!=-1)I.h.ILr(g,L,K,r,R,Q,W,F);else if(n.indexOf(m)!=-1)I.h.ILF(g,L,K,r,R,Q,W,F)};
I.h.Iwn=function(m,g,L){var K=m*L+1-L;return K<.001?0:1-Math.min(1,(1-g)/K)};I.h.IwE=function(m,g,L){return m*L==1?1:Math.min(1,g/(1-m*L))};
I.h.MN=function(m){return m<=.25?((16*m-12)*m+4)*m:Math.sqrt(m)};I.h.normF=function(m,g,L){return m};
I.h.darkF=function(m,g,L){return Math.min(m,g)};I.h["mul F"]=function(m,g,L){return m*g};I.h.idivF=function(m,g,L){var K=m*L+1-L;
return g==1?1:1-g>=K?0:1-(1-g)/K};I.h.lbrnF=function(m,g,L){return Math.max(0,m*L+g-L)};I.h.dkClF=function(m,g,L){var K=I.xM(m)<I.xM(g)?m:g;
L.u=K.u;L.S=K.S;L.R=K.R;return L};I.h.liteF=function(m,g,L){return Math.max(m,g)};I.h.scrnF=function(m,g,L){return g+m-g*m};
I.h["div F"]=function(m,g,L){m*=L;return g==0?0:g>=1-m?1:g/(1-m)};I.h.lddgF=function(m,g,L){m*=L;return Math.min(1,m+g)};
I.h.lgClF=function(m,g,L){var K=I.xM(m)>I.xM(g)?m:g;L.u=K.u;L.S=K.S;L.R=K.R;return L};I.h.overF=function(m,g,L){return I.h.hLitF(g,m,L)};
I.h.sLitF=function(m,g,L){return m<=.5?g-(1-2*m)*g*(1-g):g+(2*m-1)*(I.h.MN(g)-g)};I.h.hLitF=function(m,g,L){return m<=.5?I.h["mul F"](2*m,g,L):I.h.scrnF(2*m-1,g,L)};
I.h.vLitF=function(m,g,L){return m<=.5?I.h.Iwn(2*m,g,L):I.h.IwE(2*m-1,g,L)};I.h.lLitF=function(m,g,L){return m<=.5?I.h.lbrnF(2*m,g,L):I.h.lddgF(2*m-1,g,L)};
I.h.pLitF=function(m,g,L){return m<=.5?I.h.darkF(2*m,g,L):I.h.liteF(2*m-1,g,L)};I.h.hMixF=function(m,g,L){if(L>.99)return m+g<1?0:1;
return Math.min(1,Math.max(0,(g+m*L-L)/(1-L+1e-6)))};I.h.diffF=function(m,g,L){m*=L;return Math.abs(m-g)};
I.h.smudF=function(m,g,L){return m+g-2*m*g};I.h.fsubF=function(m,g,L){return Math.max(g-m,0)};I.h.fdivF=function(m,g,L){return Math.min(g/m,1)};
I.h["hue F"]=function(m,g,L){I.Es(m,I.EF(g),L);I.Oa(L,I.xM(g),L)};I.h["sat F"]=function(m,g,L){I.Es(g,I.EF(m),L);
I.Oa(L,I.xM(g),L)};I.h.colrF=function(m,g,L){I.Oa(m,I.xM(g),L)};I.h["lum F"]=function(m,g,L){I.Oa(g,I.xM(m),L)};
I.h.IwX=function(m,g,L,K,r,R,Q,F){var q=g.my(K).my(r),n=Math.max(0,q.x-g.x),W=Math.max(0,q.x-K.x),z=Math.max(0,q.y-g.y),u=Math.max(0,q.y-K.y),N=q.j,b=q.F,B=g.j,h=K.j,A=I.h.Aq,e=I.h.xg,c=new Uint32Array(m.buffer),a=new Uint32Array(L.buffer);
for(var $=0;$<b;$++){var G=(z+$)*B+n,o=(u+$)*h+W;for(var H=0;H<N;H++){var f=c[G+H],V=255;if(f>>>24==0)continue;
if(f>>>24==255&&R==1&&F==0){a[o+H]=c[G+H];continue}var E=a[o+H],S=255*R&255;if(F==0){S=(f>>>24)*R&255;
V=E>>>24}var J=e[V<<8|S],U=S+J,j=f&255,i=f>>>8&255,k=f>>>16&255,P=E&255,w=E>>>8&255,d=E>>>16&255;a[o+H]=F*(E>>>24)+(1-F)*U<<24|A[U<<8|I.Nn(k*S+d*J)]<<16|A[U<<8|I.Nn(i*S+w*J)]<<8|A[U<<8|I.Nn(j*S+P*J)]}}};
I.h.IwF=function(m,g,L,K,r,R){var Q=g.my(K).my(r),F=Math.max(0,Q.x-g.x),q=Math.max(0,Q.x-K.x),n=Math.max(0,Q.y-g.y),W=Math.max(0,Q.y-K.y),z=Q.j,u=Q.F,N=g.j,b=K.j,B=I.h.Aq,h=I.h.xg,A=new Uint32Array(m.buffer),e=new Uint32Array(L.buffer),c=Math.floor(Math.random()*16777215),a=0;
for(var $=0;$<u;$++){var G=(n+$)*N+F,o=(W+$)*b+q;for(var H=0;H<z;H++){var f=A[G+H];if(f>>>24==0)continue;
if(f>>24==255&&R==1){e[o+H]=f;continue}var E=e[o+H],S=(f>>>24)*R*(1/255),V=(E>>>24)*(1/255),J=V*(1-S),U=S+J,j=f&255,i=f>>>8&255,k=f>>>16&255,P=E&255,w=E>>>8&255,d=E>>>16&255;
a>>>=8;if((H&3)==0)a=I.h.lP(o+H+c);var y=U==0?0:1/U,D=Math.floor(U*(256*255))+(a&255)>>>8,s=Math.floor((k*S+d*J)*y+.5),Z=Math.floor((i*S+w*J)*y+.5),aQ=Math.floor((j*S+P*J)*y+.5);
e[o+H]=D<<24|s<<16|Z<<8|aQ}}};I.h.Bp=function(m,g,L,K,r,R,Q,F){var q=I.Mi(m,g,L),n=I.Mi(K,r,R),W=Math.min,z=I.h.ILI,u=z(q,F,0);
u=W(u,z(m,F,8));u=W(u,z(g,F,16));u=W(u,z(L,F,24));var N=z(n,F,4);N=W(N,z(K,F,12));N=W(N,z(r,F,20));N=W(N,z(R,F,28));
N=Math.max(N,1-Q);var b=Math.min(u,N);return b<0?0:b>1?1:b};I.h.ILI=function(m,g,L){return Math.min((m-g[L])*g[L+1],(m-g[L+3])*g[L+2])};
I.h.ILr=function(m,g,L,K,r,R,Q,F){var q=1/255,n=q*R,W=F.XA?1:0,z=F.fill,u=F.style,N=g.my(K).my(r),b=Math.max(0,N.x-g.x),B=Math.max(0,N.x-K.x),h=Math.max(0,N.y-g.y),A=Math.max(0,N.y-K.y),e=N.j,c=N.F,a=g.j,$=K.j,G=new Uint32Array(m.buffer),o=new Uint32Array(L.buffer);
for(var H=0;H<c;H++){var f=(h+H)*a+b,E=(A+H)*$+B;for(var S=0;S<e;S++,f++,E++){var V=G[f],y=1;if(V>>>24==0)continue;
var J=o[E],U=(V&255)*q,j=(V>>>8&255)*q,i=(V>>>16&255)*q,k=(J&255)*q,P=(J>>>8&255)*q,w=(J>>>16&255)*q,d=R;
if(W==0){d=(V>>>24)*n;y=(J>>>24)*q}if(F.XW)d*=I.h.Bp(U,j,i,k,P,w,y,F.XW);var D=y*(1-d),s=d+D,Z=255/s,aQ=u?1:d,aI=((1-y)*d*U+(1-aQ)*y*k+aQ*y*Q(U,k,(1+d-aQ)*z))*Z,aq=((1-y)*d*j+(1-aQ)*y*P+aQ*y*Q(j,P,(1+d-aQ)*z))*Z,aa=((1-y)*d*i+(1-aQ)*y*w+aQ*y*Q(i,w,(1+d-aQ)*z))*Z;
s=d*z+y*(1-d*z);var aD=Math.round(s*255);o[E]=W*(J>>>24)+(1-W)*aD<<24|aa<<16|aq<<8|aI}}};I.h.ILF=function(m,g,L,K,r,R,Q,F){var q=1/255,n=q*R,W=F.XA?1:0,z=g.my(K).my(r),u=Math.max(0,z.x-g.x),N=Math.max(0,z.x-K.x),b=Math.max(0,z.y-g.y),B=Math.max(0,z.y-K.y),h=z.j,A=z.F,e=new Uint32Array(m.buffer),c=new Uint32Array(L.buffer),a={u:0,S:0,R:0},$={u:0,S:0,R:0},G={u:0,S:0,R:0};
for(var o=0;o<A;o++){var H=(b+o)*g.j+u,f=(B+o)*K.j+N;for(var E=0;E<h;E++,H++,f++){var S=e[H],V=c[f],J=(S&255)*q,U=(S>>>8&255)*q,j=(S>>>16&255)*q,i=(V&255)*q,k=(V>>>8&255)*q,P=(V>>>16&255)*q,w=R,d=1;
if(W==0){w=(S>>>24)*n;d=(V>>>24)*q}if(F.XW)w*=I.h.Bp(J,U,j,i,k,P,d,F.XW);var y=d*(1-w),D=w+y,s=255/D;
a.u=J;a.S=U;a.R=j;$.u=i;$.S=k;$.R=P;Q(a,$,G);var Z=(((1-d)*J+d*G.u)*w+i*y)*s,aQ=(((1-d)*U+d*G.S)*w+k*y)*s,aI=(((1-d)*j+d*G.R)*w+P*y)*s,aq=W*(V>>>24)+(1-W)*Math.round(D*255);
c[f]=aq<<24|aI<<16|aQ<<8|Z}}};I.h.NI=function(m){m=m^61^m>>>16;m=m+(m<<3);m=m^m>>>4;m=m*668265261;m=m^m>>15;
return(m&16777215)*(1/16777215)};I.h.lP=function(m){m=m^61^m>>>16;m=m+(m<<3);m=m^m>>>4;m=m*668265261;
m=m^m>>>15;return m};I.h.xK=function(m){this.pe=m};I.h.xK.prototype.get=function(){var m=this.pe=I.h.lP(this.pe);
return(m&16777215)*(1/16777215)};I.h.ILc=function(m,g,L,K,r,R,Q,F){var q=1/255,n=q*R,W=Math.round(R*(256*256*256/255)),z=g.my(K).my(r),u=Math.max(0,z.x-g.x),N=Math.max(0,z.x-K.x),b=Math.max(0,z.y-g.y),B=Math.max(0,z.y-K.y),h=z.j,A=z.F,e=new Uint32Array(m.buffer),c=new Uint32Array(L.buffer);
for(var a=0;a<A;a++){var $=(b+a)*g.j+u,G=(B+a)*K.j+N;for(var o=0;o<h;o++,$++,G++){var H=e[$],f=c[G],E=F*255+(1-F)*(H>>>24);
if((I.h.lP($)&16777215)>=E*W)continue;c[G]=H&16777215|F*(f>>>24)+(1-F)*255<<24}}};I.h.IGZ=function(m,g,L){for(var K=0;
K<m.length;K+=4){var r=L[K>>>2];if(r==0)continue;var R=r*(1/255),Q=1/R,F=g[K],q=g[K+1],n=g[K+2],W=m[K],z=m[K+1],u=m[K+2];
g[K]=Math.min(255,Math.max(0,Math.round((F-(1-R)*W)*Q)));g[K+1]=Math.min(255,Math.max(0,Math.round((q-(1-R)*z)*Q)));
g[K+2]=Math.min(255,Math.max(0,Math.round((n-(1-R)*u)*Q)));g[K+3]=255}};I.h.oH=function(m,g,L,K,r,R,Q,F,q,n){if(n==null)n=!1;
if(r&&!g.TB(R)){var W=I.m(g.c()*4);I.set(W,Q);I.Cp(r,R,W,g);r=W;R=g}if(n){if(r==null)I.h.IJE(m,g,L,K,r,F,q);
else I.h.IJF(m,g,L,K,r,F,q)}else{if(r==null)I.h.ILt(m,g,L,K,r,F,q);else I.h.IJX(m,g,L,K,r,F,q)}};I.h.ILt=function(m,g,L,K,r,R,Q){var F=1/255,q=g.my(K).my(R),n=Math.max(0,q.x-g.x),W=Math.max(0,q.x-K.x),z=Math.max(0,q.y-g.y),u=Math.max(0,q.y-K.y),N=q.j,b=q.F,B=new Uint32Array(m.buffer),h=new Uint32Array(L.buffer),A=I.h.Aq,e=Q*255&255;
for(var c=0;c<b;c++){var a=(z+c)*g.j+n,$=(u+c)*K.j+W;for(var G=0;G<N;G++,a++,$++){var o=B[a],H=h[$],f=o>>>24,E=H>>>24,S=I.Nn(e*f+(255-e)*E),V=I.Nn(f*e),J=I.Nn(E*(255-e)),U=o&255,j=o>>>8&255,i=o>>>16&255,k=H&255,P=H>>>8&255,w=H>>>16&255,d=V*U+k*J,y=V*j+P*J,D=V*i+w*J;
d=A[S<<8|I.Nn(d)];y=A[S<<8|I.Nn(y)];D=A[S<<8|I.Nn(D)];h[$]=S<<24|D<<16|y<<8|d}}};I.h.IJE=function(m,g,L,K,r,R,Q){var F=1/255,q=g.my(K).my(R),n=Math.max(0,q.x-g.x),W=Math.max(0,q.x-K.x),z=Math.max(0,q.y-g.y),u=Math.max(0,q.y-K.y),N=q.j,b=q.F,B=new Uint32Array(m.buffer),h=new Uint32Array(L.buffer),A=I.h.Aq,e=Q*16777215&16777215;
for(var c=0;c<b;c++){var a=(z+c)*g.j+n,$=(u+c)*K.j+W;for(var G=0;G<N;G++,a++,$++){if((I.h.lP(a)&16777215)<e)h[$]=B[a]}}};
I.h.IJX=function(m,g,L,K,r,R,Q){var F=1/255,q=g.my(K).my(R),n=Math.max(0,q.x-g.x),W=Math.max(0,q.x-K.x),z=Math.max(0,q.y-g.y),u=Math.max(0,q.y-K.y),N=q.j,b=q.F,B=new Uint32Array(m.buffer),h=new Uint32Array(L.buffer),A=I.h.Aq;
for(var e=0;e<b;e++){var c=(z+e)*g.j+n,a=(u+e)*K.j+W;for(var $=0;$<N;$++,c++,a++){var G=r[c]*Q&255;if(G==0)continue;
if(G==255){h[a]=B[c];continue}var o=B[c],H=h[a],f=o>>>24,E=H>>>24,S=I.Nn(G*f+(255-G)*E),V=I.Nn(f*G),J=I.Nn(E*(255-G)),U=o&255,j=o>>>8&255,i=o>>>16&255,k=H&255,P=H>>>8&255,w=H>>>16&255,d=A[S<<8|I.Nn(V*U+k*J)],y=A[S<<8|I.Nn(V*j+P*J)],D=A[S<<8|I.Nn(V*i+w*J)];
h[a]=S<<24|D<<16|y<<8|d}}};I.h.IJF=function(m,g,L,K,r,R,Q){var F=1/255,q=g.my(K).my(R),n=Math.max(0,q.x-g.x),W=Math.max(0,q.x-K.x),z=Math.max(0,q.y-g.y),u=Math.max(0,q.y-K.y),N=q.j,b=q.F,B=new Uint32Array(m.buffer),h=new Uint32Array(L.buffer),A=I.h.Aq,e=Math.round(Q*257);
for(var c=0;c<b;c++){var a=(z+c)*g.j+n,$=(u+c)*K.j+W;for(var G=0;G<N;G++,a++,$++){var o=r[a]*e;if((I.h.lP(a)&65535)<o)h[$]=B[a]}}};
I.h.tn=function(m,g,L,K,r,R,Q){var F=1/255,q=g.my(K).my(R),n=Math.max(0,q.x-g.x),W=Math.max(0,q.x-K.x),z=Math.max(0,q.y-g.y),u=Math.max(0,q.y-K.y),N=q.j,b=q.F,B=new Uint32Array(m.buffer),h=new Uint32Array(L.buffer),A=Math.floor(Math.random()*K.c()),e=I.h.IJc;
for(var c=0;c<b;c++){var a=(z+c)*g.j+n,$=(u+c)*K.j+W;for(var G=0;G<N;G++){var o=r[a+G]*Q;if(o==0)continue;
if(o==255){h[$+G]=B[a+G];continue}var H=B[a+G],f=h[$+G],E=H>>>24,S=f>>>24,V=E*o*(1/255),J=S*(255-o)*(1/255),U=H&255,j=H>>>8&255,i=H>>>16&255,k=f&255,P=f>>>8&255,w=f>>>16&255,d=I.h.lP($+G+A),y=Math.floor((V+J)*256+.5)+(d>>>0&255)>>>8,D=y==0?0:256/(V+J),s=U*V+k*J,Z=j*V+P*J,aQ=i*V+w*J,aI=Math.floor(s*D+.5)+(d>>>8&255)>>>8,aq=Math.floor(Z*D+.5)+(d>>>16&255)>>>8,aa=Math.floor(aQ*D+.5)+(d>>>21&248)>>>8;
h[$+G]=y<<24|aa<<16|aq<<8|aI}}};I.h.IJc=function(m){return Math.floor(m+Math.random())};I.h.OP=function(m,g,L,K,r,R,Q){var F=1/255,q=g.my(K).my(R),n=Math.max(0,q.x-g.x),W=Math.max(0,q.x-K.x),z=Math.max(0,q.y-g.y),u=Math.max(0,q.y-K.y),N=q.j,b=q.F;
for(var B=0;B<b;B++){var h=(z+B)*g.j+n,A=(u+B)*K.j+W;for(var e=0;e<N;e++,h++,A++){var c=Q*r[h]*F;if(c==0)continue;
if(c==1){L[A]=m[h];continue}L[A]=m[h]*c+L[A]*(1-c)}}};I.EW={};I.EW.IJY=function(m,g,L,K,r,R){I.EW.xA(m,g,L,K,r,R,null,0)};
I.EW.IlD=function(m,g,L,K,r){I.EW.xA(m,g,L,K,r,null,null,0)};I.EW.Ilx=function(m,g,L,K,r,R,Q){I.EW.xA(m,g,L,K,r,null,R,Q*.5)};
I.EW.xA=function(m,g,L,K,r,R,Q,F){var q=0,J=0,U=1e9,j=0,i=1e9,k=0,P=1e9,w=0,d=0,T=0,y=0;if(R){q=r*.5;
r=3+Math.round((r-3)*.75)}if(Q){r=Math.round(r*2.2)}var n=1/r,W=Math.floor(g*n)+1,z=Math.floor(L*n)+1,u=[],N=new Uint8Array(W*z*4),b=Q?.5:1,B=R?64:0;
for(var h=0;h<z;h++){var A=Q?.5*(h&1):0;for(var e=0;e<W;e++){var c=(e+Math.random()*b+A)*r,a=(h+Math.random()*b)*r;
u.push(c,a);var $=Math.min(g-1,Math.floor(c)),G=Math.min(L-1,Math.floor(a)),o=(G*g+$)*4,H=(h*W+e)*4;
for(var f=0;f<4;f++)N[H+f]=Math.max(0,Math.min(255,Math.floor(m[o+f]+(Math.random()-.5)*B)))}}var E=R?R:Q?Q:[0,0,0],S=W*z*2,V=[-W-1,-W,-W+1,-1,0,1,W-1,W,W+1];
for(var h=0;h<L;h++){T=0;for(var e=0;e<g;e++){var D=e+.5,s=h+.5,Z=Math.floor(s*n),aQ=Math.floor(D*n),aI=Z*W+aQ,aD=0,_=0;
if(T>1+F){U=I.EW.tX(u,J,D,s);w=Math.sqrt(U);T--;y++}else{U=i=P=1e9;for(var f=0;f<V.length;f++){var aq=(aI+V[f])*2;
if(aq<0||aq>=S)continue;var aa=I.EW.tX(u,aq,D,s);if(aa<P){if(aa<i){if(aa<U){k=j;P=i;j=J;i=U;J=aq;U=aa}else{k=j;
P=i;j=aq;i=aa}}else{k=aq;P=aa}}}w=Math.sqrt(U);d=Math.sqrt(i);T=d-(w+d)*.5}if(Q==null){var M=(w+d)*.5,jt=R?Math.max(0,M-q):0;
aD=Math.max(0,Math.min(1,.5+M-w-jt));_=Math.max(0,Math.min(1,1-(.5+M-w)-jt))}else{var aR=Math.min(I.EW.th(u,J,j,D,s),I.EW.th(u,J,k,D,s));
aD=Math.max(0,Math.min(1,aR-F*.5));if(D<F||g-F<D||s<F||L-F<s)aD=0;_=0}var aL=1-_-aD,H=h*g+e<<2,aw=J<<1,ap=j<<1;
K[H+0]=Math.floor(.5+aD*N[aw+0]+_*N[ap+0]+aL*E[0]);K[H+1]=Math.floor(.5+aD*N[aw+1]+_*N[ap+1]+aL*E[1]);
K[H+2]=Math.floor(.5+aD*N[aw+2]+_*N[ap+2]+aL*E[2]);K[H+3]=m[H+3]}}};I.EW.tX=function(m,g,L,K){var r=L-m[g],R=K-m[g+1];
return r*r+R*R};I.EW.th=function(m,g,L,K,r){var R=m[g],Q=m[g+1],F=m[L],q=m[L+1],n=(R+F)*.5,W=(Q+q)*.5,z=n+(q-Q),u=W-(F-R),N=u-W,b=z-n;
return Math.abs(N*K-b*r+z*W-u*n)/Math.sqrt(b*b+N*N)};I.blur={};I.blur.ff=function(m){if(I.blur.Bw.length<m)I.blur.Bw=I.m(m);
return I.blur.Bw};I.blur.Bw=I.m(0);I.blur.tV=function(m){if(I.blur.xH.length<m)I.blur.xH=new Float32Array(m);
return I.blur.xH};I.blur.xH=new Float32Array(0);I.blur.Nl=function(m,g,L,K){var r=L.j,R=L.F;I.blur.IlO(m,g,r,R,K)};
I.blur.Ilo=function(m,g,L){var K=g.j,r=g.F;I.blur.Ile(m,K,r,L)};I.blur.AE=function(m,g,L,K,r){var R=L.j,Q=L.F;
I.blur.IlE(m,g,R,Q,K,r)};I.blur.t$=function(m,g,L,K){var r=L.j,R=L.F;K=Math.round(K);var Q=I.blur.ff(r*R);
I.jR(m,g);I.blur.BT(g,Q,r,R,K)};I.blur.tF=function(m,g,L){var K=g.j,r=g.F;L=Math.round(L);var R=I.blur.ff(K*r*4);
I.blur.Bv(m,R,K,r,L)};I.blur.Ij=function(m,g,L,K){var r=L.j,R=L.F;K=Math.round(K);var Q=I.blur.tV(r*R);
I.jR(m,g);I.blur.tH(g,Q,r,R,K)};I.blur.tA=function(m,g,L){var K=g.j,r=g.F;L=Math.round(L);var R=I.blur.ff(K*r*4);
I.blur.tu(m,R,K,r,L);I.jR(R,m)};I.blur.BL=function(m,g){var L=Math.sqrt(12*m*m/g+1),K=Math.floor(L);
if(K%2==0)K--;var r=K+2,R=(12*m*m-g*K*K-4*g*K-3*g)/(-4*K-4),Q=Math.round(R),F=[];for(var q=0;q<g;q++)F.push(q<Q?K:r);
return F};I.blur.IlO=function(m,g,L,K,r){var R=I.blur.BL(r,3),Q=I.blur.ff(L*K);I.jR(m,g);I.blur.BT(g,Q,L,K,R[0]-1>>1);
I.blur.BT(g,Q,L,K,R[1]-1>>1);I.blur.BT(g,Q,L,K,R[2]-1>>1)};I.blur.Ile=function(m,g,L,K){var r=I.blur.BL(K,3),R=I.blur.ff(g*L*4);
I.blur.Bv(m,R,g,L,r[0]-1>>1);I.blur.Bv(m,R,g,L,r[1]-1>>1);I.blur.Bv(m,R,g,L,r[2]-1>>1)};I.blur.IlE=function(m,g,L,K,r,R){if(R==null)R=3;
var Q=I.blur.BL(r,R),F=I.blur.tV(L*K);I.jR(m,g);for(var q=0;q<R;q++)I.blur.tH(g,F,L,K,(Q[0]-1)/2)};I.blur.BT=function(m,g,L,K,r){I.blur.IGR(m,g,L,K,r);
I.blur.ISR(g,m,L,K,r)};I.blur.Bv=function(m,g,L,K,r){I.blur.tu(m,g,L,K,r);I.blur.ISl(g,m,L,K,r)};I.blur.tH=function(m,g,L,K,r){I.blur.IoU(m,g,L,K,r);
I.blur.ISS(g,m,L,K,r)};I.blur.xu=[];I.blur.Bn=function(m){if(I.blur.xu[m])return I.blur.xu[m];var g=1/(m+m+1),L=(m+m+1)*256,K=I.m(L);
for(var r=0;r<L;r++)K[r]=Math.round(r*g);I.blur.xu[m]=K;return K};I.blur.IGR=function(m,g,L,K,r){var R=1/(r+r+1),Q=L-r-r-1,F=I.blur.Bn(r);
for(var q=0;q<K;q++){var n=q*L,W=n,z=n+r,u=m[n],N=m[n+L-1],b=(r+1)*u;for(var B=0;B<r;B++)b+=m[n+B];for(var B=0;
B<=r;B++){b+=m[z+B]-u;g[n+B]=F[b]}z+=r+1;n+=r+1;for(var B=0;B<Q;B++){b+=m[z+B]-m[W+B];g[n+B]=F[b]}z+=Q;
W+=Q;n+=Q;for(var B=L-r;B<L;B++){b+=N-m[W++];g[n++]=F[b]}}};I.blur.tu=function(m,g,L,K,r){var R=L<<2,Q=r<<2,F=1/(r+r+1),q=L-r-r-1,n=q<<2,W=I.blur.Bn(r);
for(var z=0;z<K;z++){var u=z*R,N=u,b=u+Q,B=u+R,h=m[u],A=m[u+1],e=m[u+2],c=m[u+3],a=(r+1)*h,$=(r+1)*A,G=(r+1)*e,o=(r+1)*c;
for(var H=0;H<Q;H+=4){a+=m[u+H];$+=m[u+H+1];G+=m[u+H+2];o+=m[u+H+3]}for(var H=0;H<=Q;H+=4){a+=m[b]-h;
g[u]=W[a];$+=m[b+1]-A;g[u+1]=W[$];G+=m[b+2]-e;g[u+2]=W[G];o+=m[b+3]-c;g[u+3]=W[o];b+=4;u+=4}for(var H=0;
H<n;H+=4){a+=m[b+H]-m[N+H];g[u+H]=W[a];$+=m[b+H+1]-m[N+H+1];g[u+H+1]=W[$];G+=m[b+H+2]-m[N+H+2];g[u+H+2]=W[G];
o+=m[b+H+3]-m[N+H+3];g[u+H+3]=W[o]}b+=n;N+=n;u+=n;h=m[B-4];A=m[B-3];e=m[B-2];c=m[B-1];for(var H=L-r;
H<L;H++){a+=h-m[N];g[u]=W[a];$+=A-m[N+1];g[u+1]=W[$];G+=e-m[N+2];g[u+2]=W[G];o+=c-m[N+3];g[u+3]=W[o];
N+=4;u+=4}}};I.blur.IoU=function(m,g,L,K,r){var R=1/(r+r+1),Q=L-r-r-1,F=0,q=0,n=0;for(var W=0;W<K;W++){F=W*L;
q=F;n=F+r;var z=m[F],u=m[F+L-1],N=(r+1)*z;for(var b=0;b<r;b++){N+=m[F+b]}for(var b=0;b<=r;b++){N+=m[n++]-z;
g[F++]=N*R}for(var b=0;b<Q;b++){N+=m[n+b]-m[q+b];g[F+b]=N*R}n+=Q;q+=Q;F+=Q;for(var b=L-r;b<L;b++){N+=u-m[q++];
g[F++]=N*R}}};I.blur.ISR=function(m,g,L,K,r){var R=1/(r+r+1),Q=K-r-r-1,F=I.blur.Bn(r);for(var q=0;q<L;
q++){var n=q,W=n,z=n+r*L,u=m[n],N=m[n+L*(K-1)],b=(r+1)*u;for(var B=0;B<r;B++)b+=m[n+B*L];for(var B=0;
B<=r;B++){b+=m[z]-u;g[n]=F[b];z+=L;n+=L}for(var B=0;B<Q;B++){var h=B*L;b+=m[z+h]-m[W+h];g[n+h]=F[b]}W+=Q*L;
z+=Q*L;n+=Q*L;for(var B=K-r;B<K;B++){b+=N-m[W];g[n]=F[b];W+=L;n+=L}}};I.blur.ISl=function(m,g,L,K,r){var R=L<<2,Q=r<<2,F=1/(r+r+1),q=K-r-r-1,n=q<<2,W=I.blur.Bn(r);
for(var z=0;z<L;z++){var u=z<<2,N=u,b=u+r*R,B=u+R*(K-1),h=m[u],A=m[u+1],e=m[u+2],c=m[u+3],a=(r+1)*h,$=(r+1)*A,G=(r+1)*e,o=(r+1)*c;
for(var H=0;H<r;H++){var f=u+H*R;a+=m[f];$+=m[f+1];G+=m[f+2];o+=m[f+3]}for(var H=0;H<=r;H++){a+=m[b]-h;
g[u]=W[a];$+=m[b+1]-A;g[u+1]=W[$];G+=m[b+2]-e;g[u+2]=W[G];o+=m[b+3]-c;g[u+3]=W[o];b+=R;u+=R}for(var H=0;
H<q;H++){var E=H*R;a+=m[b+E]-m[N+E];g[u+E]=W[a];$+=m[b+E+1]-m[N+E+1];g[u+E+1]=W[$];G+=m[b+E+2]-m[N+E+2];
g[u+E+2]=W[G];o+=m[b+E+3]-m[N+E+3];g[u+E+3]=W[o]}N+=q*R;b+=q*R;u+=q*R;h=m[B];A=m[B+1];e=m[B+2];c=m[B+3];
for(var H=K-r;H<K;H++){a+=h-m[N];g[u]=W[a];$+=A-m[N+1];g[u+1]=W[$];G+=e-m[N+2];g[u+2]=W[G];o+=c-m[N+3];
g[u+3]=W[o];N+=R;u+=R}}};I.blur.ISS=function(m,g,L,K,r){var R=1/(r+r+1),Q=K-r-r-1;for(var F=0;F<L;F++){var q=F,n=q,W=q+r*L,z=m[q],u=m[q+L*(K-1)],N=(r+1)*z;
for(var b=0;b<r;b++)N+=m[q+b*L];for(var b=0;b<=r;b++){N+=m[W]-z;g[q]=N*R;W+=L;q+=L}for(var b=0;b<Q;b++){var B=b*L;
N+=m[W+B]-m[n+B];g[q+B]=N*R}n+=Q*L;W+=Q*L;q+=Q*L;for(var b=K-r;b<K;b++){N+=u-m[n];g[q]=N*R;n+=L;q+=L}}};
I.pl={};I.pl.m=function(m,g,L,K){var r=[];for(var R=0;R<4;R++)for(var Q=0;Q<4;Q++)r.push(m+L*Q/3,g+K*R/3);
return r};I.pl.tW=function(m,g){var L=m.slice(0);for(var K=0;K<4;K++)for(var r=0;r<4;r++){var R=2*(K*4+r),Q=2*(r*4+(3-K));
if(g){var F=R;R=Q;Q=F}L[Q]=m[R];L[Q+1]=m[R+1]}return L};I.pl.ISi=new Float64Array(16);I.pl.drawImage=function(m,g,L,K,r,R,Q){if(Q==null)Q=!1;
var F=R.j,q=R.F,u=2;r=new Uint32Array(r.buffer);g=new Uint32Array(g.buffer);var n=I.pl.t.tz(m,0,1,0,1,L,K),W=n.GY,z=n.PR,N=1/u,b=I.pl.BY,B=new Float64Array(2),h=new Uint32Array(30);
for(var A=0;A<q;A++)for(var e=0;e<F;e++){var c=e+R.x+.5,a=A+R.y+.5,$=I.pl.t.ISO(W,z,c,a,h),V=0,J=0,U=0,j=0;
if($==0)continue;var G=A*F+e,o=I.pl.wF(m,c,a,W,h,$,!0),H=b[0]*L,f=b[1]*K;if(Q){if(o!=-1&&0<H&&H<L&&0<f&&f<K){var E=Math.floor(f)*L+Math.floor(H);
r[G]=g[E]}continue}var S=o!=-1&&(1<H&&H<L-1)&&(1<f&&f<K-1);if(W[o+8]<.95){I.i.Mv(H,f,g,L,K,r,G,0);continue}for(var i=0;
i<u;i++)for(var k=0;k<u;k++){var c=e+R.x+(i+.5)*N,a=A+R.y+(k+.5)*N,o=0;o=I.pl.wF(m,c,a,W,h,$,!0);if(o!=-1){var H=b[0],f=b[1],H=Math.floor(H*L);
f=Math.floor(f*K);var P=g[f*L+H],w=P>>>24;V+=(P&255)*w;J+=(P>>>8&255)*w;U+=(P>>>16&255)*w;j+=w}}if(j!=0){var d=1/j;
V=~~(V*d+.5);J=~~(J*d+.5);U=~~(U*d+.5);j=~~(j*N*N+.5);r[G]=j<<24|U<<16|J<<8|V}}};I.pl.BY=new Float64Array(5*20);
I.pl.ISk=new Uint32Array(5*5*20);I.pl.wF=function(m,g,L,K,r,R,Q){var F=I.pl.BY,q=I.pl.ISk,n=0,W=0;for(var z=0;
z<R;z++){var u=r[z],N=n;n=I.pl.xd(m,g,L,K,u+4,Q,F,n);if(n!=N){q[W]=u;W+=5}}if(n==0)return-1;else if(n==5)return q[0];
else{var b=0;for(var z=0;z<n;z+=5)if(F[z+4]<F[b+4])b=z;F[0]=F[b];F[1]=F[b+1];F[2]=F[b+2];F[3]=F[b+3];
return q[b]}};I.pl.Ma=new Array(10);I.pl.xd=function(m,g,L,K,r,R,Q,F){var q=I.pl.Ma,n=0,W=0,z=0,u=0,N=0,b=0,B=0,h=K[r],A=K[r+1],e=K[r+2],c=K[r+3],a=(e-g)*(e-g)+(c-L)*(c-L);
for(var G=0;G<5&&a>.05;G++){I.pl.Mf(q,0,A);I.pl.ML(q,4,h);I.pl.AX(m,q);n=q[8];W=q[9];I.pl.ML(q,0,A);
I.pl.Mf(q,4,h);I.pl.AX(m,q);z=q[8];u=q[9];N=1/(n*u-W*z);b=(e-g)*N;B=(c-L)*N;h+=-u*b+z*B;A+=+W*b-n*B;
I.pl.xc(m,h,A,q);e=q[8];c=q[9];a=(e-g)*(e-g)+(c-L)*(c-L)}if(R&&(h<0||h>1||A<0||A>1||a>.25))return F;
Q[F]=h;Q[F+1]=A;Q[F+2]=e;Q[F+3]=c;Q[F+4]=n*u-W*z;return F+5};I.pl.apply=function(m,g,L){var K=L.x,r=L.y,R=1/L.j,Q=1/L.F,F=I.pl.Ma;
for(var q=0;q<g.length;q+=2){var n=(g[q]-K)*R,W=(g[q+1]-r)*Q;I.pl.xc(m,n,W,F);g[q]=F[8];g[q+1]=F[9]}};
I.pl.xc=function(m,g,L,K){I.pl.Mf(K,0,L);I.pl.Mf(K,4,g);I.pl.AX(m,K)};I.pl.ML=function(m,g,L){var K=1-L;
m[g]=-3*(K*K);m[g+1]=3*(K*K)-6*(L*K);m[g+2]=6*(L*K)-3*(L*L);m[g+3]=3*(L*L)};I.pl.Mf=function(m,g,L){var K=1-L;
m[g]=K*(K*K);m[g+1]=3*L*(K*K);m[g+2]=3*(L*L)*K;m[g+3]=L*L*L};I.pl.AX=function(m,g){var L=0,K=0,r=0;r=g[0]*g[4];
L+=m[0]*r;K+=m[1]*r;r=g[0]*g[5];L+=m[2]*r;K+=m[3]*r;r=g[0]*g[6];L+=m[4]*r;K+=m[5]*r;r=g[0]*g[7];L+=m[6]*r;
K+=m[7]*r;r=g[1]*g[4];L+=m[8]*r;K+=m[9]*r;r=g[1]*g[5];L+=m[10]*r;K+=m[11]*r;r=g[1]*g[6];L+=m[12]*r;K+=m[13]*r;
r=g[1]*g[7];L+=m[14]*r;K+=m[15]*r;r=g[2]*g[4];L+=m[16]*r;K+=m[17]*r;r=g[2]*g[5];L+=m[18]*r;K+=m[19]*r;
r=g[2]*g[6];L+=m[20]*r;K+=m[21]*r;r=g[2]*g[7];L+=m[22]*r;K+=m[23]*r;r=g[3]*g[4];L+=m[24]*r;K+=m[25]*r;
r=g[3]*g[5];L+=m[26]*r;K+=m[27]*r;r=g[3]*g[6];L+=m[28]*r;K+=m[29]*r;r=g[3]*g[7];L+=m[30]*r;K+=m[31]*r;
g[8]=L;g[9]=K};I.pl.t={};I.pl.t.MN=12;I.pl.t.tN=new Uint32Array(50);I.pl.t.ISO=function(m,g,L,K,r){var R=0,Q=I.pl.t.tN,F=1;
Q[0]=0;while(F!=0){var q=Q[--F];if(m[q+0]<=L&&m[q+1]<=K&&L<m[q+2]&&K<m[q+3]){if(g[q+q+18]==0){r[R]=q;
R++}else{Q[F]=g[q+q+18];Q[F+1]=g[q+q+19];F+=2}}}return R};I.pl.t.ISe=function(m,g,L,K,r){var R=0,Q=I.pl.t.xz,F=I.pl.t.tN,q=1,n=0,W=999999999999;
F[0]=0;while(q!=0){var z=F[--q],u=Q(L,K,m[z+0],m[z+1]),N=Q(L,K,m[z+0],m[z+3]),b=Q(L,K,m[z+2],m[z+1]),B=Q(L,K,m[z+2],m[z+3]),h=Math.min(u,Math.min(N,Math.min(b,B))),A=Math.max(u,Math.max(N,Math.max(b,B)));
if(h>W)continue;if(g[z+z+18]==0){if(A<W){W=A;n=z}}else{F[q]=g[z+z+18];F[q+1]=g[z+z+19];q+=2}}r[R]=n;
R++;return R};I.pl.t.xz=function(m,g,L,K){return(L-m)*(L-m)+(K-g)*(K-g)};I.pl.t.IL=null;I.pl.t.ts=null;
I.pl.t.tz=function(m,g,L,K,r,R,Q){if(R==null){R=1;Q=1}I.pl.t.ts=m;if(I.pl.t.IL==null){I.pl.t.IL={GY:new Float64Array(15e3*8),PR:null};
I.pl.t.IL.PR=new Uint32Array(I.pl.t.IL.GY.buffer)}var F=I.pl.t.IL;I.pl.t.xf(m,g,L,K,r,0,F.GY,F.PR,0,R,Q);
return F};I.pl.t.xf=function(m,g,L,K,r,R,Q,F,q,n,W){var z=I.e.Pt(m),u=q,N=I.pl.t.ts,b=(g+L)/2,B=(K+r)/2,h=I.pl.Ma,A=I.pl.BY,e=I.pl.ISi,aQ,aI,aq;
I.pl.xc(N,b,B,h);var c=h[8],a=h[9];e[0]=b;e[1]=B;e[2]=c;e[3]=a;I.pl.xd(N,c+1,a,e,0,!1,A,0);var $=(b-A[0])*n,G=(B-A[1])*W,o=Math.sqrt($*$+G*G);
I.pl.xd(N,c,a+1,e,0,!1,A,0);var H=(b-A[0])*n,f=(B-A[1])*W,E=Math.sqrt(H*H+f*f);Q[u]=z.x;Q[u+1]=z.y;Q[u+2]=z.x+z.j;
Q[u+3]=z.y+z.F;Q[u+4]=b;Q[u+5]=B;Q[u+6]=c;Q[u+7]=a;Q[u+8]=.5*(o+E);F[u+u+18]=0;F[u+u+19]=0;q+=10;I.pl.Mf(h,0,.1);
I.pl.ML(h,4,.1);I.pl.AX(m,h);var S=h[8],V=h[9];I.pl.ML(h,0,.1);I.pl.Mf(h,4,.7);I.pl.AX(m,h);var J=h[8],U=h[9];
I.pl.Mf(h,0,.8);I.pl.ML(h,4,.8);I.pl.AX(m,h);var j=h[8],i=h[9];I.pl.ML(h,0,.9);I.pl.Mf(h,4,.2);I.pl.AX(m,h);
var k=h[8],P=h[9],w=(j-S)*(j-S)+(k-J)*(k-J)+(i-V)*(i-V)+(P-U)*(P-U);if(q>=Q.length){console.log("Buffer not long enough");
throw"e"}if(R==I.pl.t.MN||w<2)return q;var d=I.pl.t.tt(m,!0),T=I.e.Pt(d[0]),y=I.e.Pt(d[1]),D=I.pl.t.tt(m,!1),s=I.e.Pt(D[0]),Z=I.e.Pt(D[1]);
if(T.j+T.F+y.j+y.F<s.j+s.F+Z.j+Z.F){aq=!0;aQ=d[0];aI=d[1]}else{aq=!1;aQ=D[0];aI=D[1]}var aa=(g+L)/2,aD=(K+r)/2,_=g,M=K,jt=L,aR=r,aL=g,aw=K,ap=L,al=r;
if(aq){jt=aL=aa}else{aR=aw=aD}F[u+u+18]=q;q=I.pl.t.xf(aQ,_,jt,M,aR,R+1,Q,F,q,n,W);F[u+u+19]=q;q=I.pl.t.xf(aI,aL,ap,aw,al,R+1,Q,F,q,n,W);
var ak=F[u+u+18],ao=F[u+u+19];Q[u]=Math.min(Q[ak],Q[ao]);Q[u+1]=Math.min(Q[ak+1],Q[ao+1]);Q[u+2]=Math.max(Q[ak+2],Q[ao+2]);
Q[u+3]=Math.max(Q[ak+3],Q[ao+3]);return q};I.pl.t.tt=function(m,g){var L=0,K=0,r=0,R=0,Q=0,F=0,q=0,n=0,W=m.slice(0),z=m.slice(0);
for(var u=0;u<4;u++){L=g?m[u*8+2*0]:m[0*8+2*u];K=g?m[u*8+2*0+1]:m[0*8+2*u+1];r=g?m[u*8+2*1]:m[1*8+2*u];
R=g?m[u*8+2*1+1]:m[1*8+2*u+1];Q=g?m[u*8+2*2]:m[2*8+2*u];F=g?m[u*8+2*2+1]:m[2*8+2*u+1];q=g?m[u*8+2*3]:m[3*8+2*u];
n=g?m[u*8+2*3+1]:m[3*8+2*u+1];var N=(L+r)/2,b=(K+R)/2,B=(r+Q)/2,h=(R+F)/2,A=(Q+q)/2,e=(F+n)/2,c=(N+B)/2,a=(b+h)/2,$=(B+A)/2,G=(h+e)/2,o=(c+$)/2,H=(a+G)/2;
if(g){W[u*8+2*0]=L;W[u*8+2*0+1]=K;W[u*8+2*1]=N;W[u*8+2*1+1]=b;W[u*8+2*2]=c;W[u*8+2*2+1]=a;W[u*8+2*3]=o;
W[u*8+2*3+1]=H;z[u*8+2*0]=o;z[u*8+2*0+1]=H;z[u*8+2*1]=$;z[u*8+2*1+1]=G;z[u*8+2*2]=A;z[u*8+2*2+1]=e;z[u*8+2*3]=q;
z[u*8+2*3+1]=n}else{W[0*8+2*u]=L;W[0*8+2*u+1]=K;W[1*8+2*u]=N;W[1*8+2*u+1]=b;W[2*8+2*u]=c;W[2*8+2*u+1]=a;
W[3*8+2*u]=o;W[3*8+2*u+1]=H;z[0*8+2*u]=o;z[0*8+2*u+1]=H;z[1*8+2*u]=$;z[1*8+2*u+1]=G;z[2*8+2*u]=A;z[2*8+2*u+1]=e;
z[3*8+2*u]=q;z[3*8+2*u+1]=n}}return[W,z]};I.kY={};I.kY.ISC=function(m,g,L){var K=I.kY.ISg(g,L),r=I.kY.ISr(K,m,g,L);
return{rk:K,lS:r}};I.kY.ISv=function(m,g,L){var K=Math.round(m.length/8),r=new Uint32Array(K),R=new Uint8Array(K),Q=new Uint32Array(K);
I._U(r,4294967295,0);r[L]=0;var F=new mr(K);F.push(L,r[L]);var q={rk:m,lS:g,G_:r,Pp:R,Xc:Q,dU:F,IqN:L};
return q};I.kY.wU=function(m,g){var L=m.rk,K=m.lS,r=m.G_,R=m.Pp,Q=m.Xc,F=m.dU;while(!F.L_()&&(g==null||R[g]==0)){var q=F.pop();
R[q]=1;for(var n=0;n<8;n++){var W=L[8*q+n];if(W==-1||R[W])continue;var z=r[q]+K[8*q+n];if(F.contains(W)&&z<r[W])F.remove(W,r[W]);
if(!F.contains(W)){r[W]=z;Q[W]=q;F.push(W,r[W])}}}};function mr(m){this.Kj=new Uint32Array(m);this.list=[];
this.GN=0;this.Ko=4294967295}mr.prototype.L_=function(){return this.GN==0};mr.prototype.push=function(m,g){var L=this.list;
if(L[g]==null)L[g]=[];L[g].push(m);this.GN++;this.Kj[m]=L[g].length-1+1;this.Ko=Math.min(this.Ko,g)};
mr.prototype.pop=function(){this.GN--;var m=this.list,g=this.Ko,L=m[g].pop();if(m[g].length==0)m[g]=null;
this.fU();this.Kj[L]=0;return L};mr.prototype.contains=function(m){return this.Kj[m]!=0};mr.prototype.remove=function(m,g){this.GN--;
var L=this.list,K=this.Kj[m]-1;if(K==L[g].length-1)L[g].pop();else{var r=L[g].pop();L[g][K]=r;this.Kj[r]=K+1}if(L[g].length==0)L[g]=null;
this.Kj[m]=0;this.fU()};mr.prototype.fU=function(){if(this.GN==0){this.Ko=4294967295;return}var m=this.Ko,g=this.list;
while(g[m]==null)m++;this.Ko=m};I.kY.ISZ=function(m,g,L){var K=new Float32Array(g*L);for(var r=0;r<L;
r++)for(var R=0;R<g;R++){var Q=r*g+R,F=-16*m[Q];if(1<R&&R<g-2&&1<r&&r<L-2){F+=m[Q-g-g];F+=m[Q-g-1]+2*m[Q-g]+m[Q-g+1];
F+=m[Q-2]+2*m[Q-1]+2*m[Q+1]+m[Q+2];F+=m[Q+g-1]+2*m[Q+g]+m[Q+g+1];F+=m[Q+g+g]}K[Q]=F/16}return K};I.kY.ISV=function(m,g,L){var K=new Float32Array(g*L),r=0,R=0;
for(var Q=0;Q<L;Q++)for(var F=0;F<g;F++){var q=0,n=0;if(0<F&&F<g-1)q=m[r+1]-m[r-1];if(0<Q&&Q<L-1)n=m[r+g]-m[r-g];
K[r]=Math.sqrt(q*q+n*n);if(K[r]>R)R=K[r];r++}var W=g*L,z=R==0?0:1/R;for(var r=0;r<W;r++)K[r]=1-K[r]*z;
return K};I.kY.IS$=function(m,g,L){var K=new Float32Array(g*L*2),r=0;for(var R=0;R<L;R++)for(var Q=0;
Q<g;Q++){var F=0,q=0;if(0<Q&&Q<g-1&&0<R&&R<L-1){F=2*m[r+1]-2*m[r-1];q=2*m[r+g]-2*m[r-g]}var n=Math.sqrt(F*F+q*q);
if(n!=0){K[2*r]=F/n;K[2*r+1]=q/n}else{K[2*r]=F;K[2*r+1]=q}r++}return K};I.kY.ISr=function(m,g,L,K){var r=I.kY.ISZ(g,L,K),R=I.kY.ISV(g,L,K),Q=I.kY.IS$(g,L,K),F=256,q=new Float32Array(F);
for(var n=0;n<F;n++)q[n]=Math.acos(-1+2*n/(F-1));var W=[-1,0,1,1,1,0,-1,-1],z=[-1,-1,-1,0,1,1,1,0],u=1/Math.sqrt(2),N=new Uint8Array(L*K*8),b=L*K;
for(var B=0;B<b;B++){var h=r[B],A=Q[2*B+1],e=-Q[2*B];for(var c=0;c<8;c++){var a=8*B+c,$=m[a];if($==-1)N[a]=-1;
else{var G=(c&1)==0,o=h*r[$]>=0?0:1,H=R[$]*(G?1:u),f=1,E=Q[2*$+1],S=-Q[2*$];if(!(A==0&&e==0||E==0&&S==0)){var V=W[c],J=z[c];
if(A*W[c]+e*z[c]<0){V=-V;J=-J}if(G){V*=u;J*=u}var U=A*V+e*J,j=E*V+S*J,i=2/(3*Math.PI)*(q[Math.floor((.5+.5*U)*(F-1))]+q[Math.floor((.5+.5*j)*(F-1))]);
f=i}var k=Math.round(20*(.43*o+.43*f+.14*H));N[a]=Math.max(1,Math.min(255,k))}}}console.log(N);return N};
I.kY.ISg=function(m,g){var L=new Int32Array(m*g*8),K=L,r=0,R=0;K.fill(-1);for(var Q=0;Q<g;Q++)for(var F=0;
F<m;F++){if(Q>0&&F>0)K[R+0]=r-m-1;if(Q>0)K[R+1]=r-m;if(Q>0&&F<m-1)K[R+2]=r-m+1;if(F<m-1)K[R+3]=r+1;if(Q<g-1&&F<m-1)K[R+4]=r+m+1;
if(Q<g-1)K[R+5]=r+m;if(Q<g-1&&F>0)K[R+6]=r+m-1;if(F>0)K[R+7]=r-1;r++;R+=8}return L};I.ll={};I.ll.IGn=function(m,g){var L=m.slice(0);
for(var K=0;K<m.length;K++)L[K]*=g;return L};I.ll.MC=function(m){var g=m.slice(0),L=0;for(var K=0;K<m.length;
K++)L+=m[K];for(var K=0;K<m.length;K++)g[K]/=L;return g};I.ll.IGE=function(m,g,L,K,r){var R=r.length,Q=R>>>1,F=Q,q=L-Q;
for(var n=0;n<K;n++)for(var W=F;W<q;W++){var z=0,u=n*L+W;for(var N=0;N<R;N++)z+=r[N]*m[u-Q+N];g[u]=z}};
I.ll.IGg=function(m,g,L,K,r){var R=r.length,Q=R>>>1,F=Q,q=K-Q;for(var n=F;n<q;n++)for(var W=0;W<L;W++){var z=0,u=n*L+W;
for(var N=0;N<R;N++)z+=r[N]*m[u+(-Q+N)*L];g[u]=z}};I.ll.ISc=function(m,g,L,K,r){var R=[-L-1,-L,-L+1,-1,0,1,L-1,L,L+1],Q=K-1,F=L-1;
for(var q=1;q<Q;q++)for(var n=1;n<F;n++){var W=q*L+n,z=I.ll._L(m,W,L,r);g[W]=~~(z+.5)}};I.ll._L=function(m,g,L,K){return m[g-L-1]*K[0]+m[g-L]*K[1]+m[g-L+1]*K[2]+m[g-1]*K[3]+m[g]*K[4]+m[g+1]*K[5]+m[g+L-1]*K[6]+m[g+L]*K[7]+m[g+L+1]*K[8]};
I.ll.Au=function(m,g,L,K,r,R,Q){if(Q==null)Q=!1;var F=Math.floor(Math.sqrt(r.length)),q=F-1>>>1,n=new Uint32Array(m.buffer),g=new Uint8ClampedArray(g.buffer);
for(var W=0;W<K;W++)for(var z=0;z<L;z++){var u=0,N=0,b=0,B=0;for(var h=0;h<F;h++)for(var A=0;A<F;A++){var e=r[h*F+A];
if(e==0)continue;var c=Math.min(L-1,Math.max(0,z-q+A)),a=Math.min(K-1,Math.max(0,W-q+h)),$=n[a*L+c];
u+=($&255)*e;N+=($>>>8&255)*e;b+=($>>>16&255)*e;B+=($>>>24&255)*e}if(Q){if(u<0)u=-u;if(N<0)N=-N;if(b<0)b=-b;
if(B<0)B=-B}var G=W*L+z<<2;g[G]=~~(.5+u);g[G+1]=~~(.5+N);g[G+2]=~~(.5+b);g[G+3]=255-R&g[G+3]|R&~~(.5+B)}};
I.ll.ISN=function(){function m(Q,F,q,n,W,z,u){if(W==0){F.set(Q);return}var N=I.m(q*n),b=I.m(q*n);if(I.XI(Q)){var B=[I.ll.wG,I.ll.wL],h=B.indexOf(z),A=h!=-1?B[1-h]:z;
g(Q,F,q,n,W,z,u);I.Vl(Q,N,3);I.ll.wI(N,b,q,n,W,A,u);I.eX(b,F,3)}else{for(var e=0;e<3;e++){I.Vl(Q,N,e);
I.ll.wI(N,b,q,n,W,z,u);I.eX(b,F,e)}}}function g(Q,F,q,n,W,z,u){var N=0,b=new ArrayBuffer(512*4*3),B=[new Int32Array(b,0),new Int32Array(b,2048),new Int32Array(b,2*2048)],h=1+2*Math.round(Math.sqrt(W)),A=h>>>1,e=new Array(h),c=new Array(h);
for(var a=0;a<h;a++){var b=new ArrayBuffer(512*4*3);e[a]=[new Int32Array(b,0),new Int32Array(b,2048),new Int32Array(b,2*2048)];
c[a]=e[a][0]}var $=z[0],G=z[1],o=B[0];for(var H=0;H<q;H++)if(H<W||H>q-W-h-1){o.fill(0);var f=Math.max(H-W,0),E=Math.min(q,H+W+1),S=E-f;
for(var V=0;V<W;V++)K(o,Q,V*q+f,V*q+E,1);for(var V=0;V<n;V++){var J=V-W-1,U=V+W;if(U<n)K(o,Q,U*q+f,U*q+E,1);
if(J>=0)K(o,Q,J*q+f,J*q+E,-1);var j=V*q+H<<2;N=o[300];if(N!=0)for(var a=0;a<3;a++)F[j+a]=$(B[a],Q[j+a],N,u)}}else{for(var a=0;
a<h;a++)c[a].fill(0);var f=H-W+A,E=H+W+1+A;for(var V=0;V<W;V++)L(c,Q,V*q+f,V*q+E,1,A);for(var V=0;V<n;
V++){var J=V-W-1,U=V+W;if(J>=0)L(c,Q,J*q+f,J*q+E,-1,A);if(U<n)L(c,Q,U*q+f,U*q+E,1,A);var i=e[A];N=i[0][300];
for(var a=0;a<A;a++){var k=A-1-a,P=A+1+a,w=e[k],d=e[P],T=N+w[0][300],y=N+d[0][300],D=V*q+H+k<<2,s=V*q+H+P<<2;
if(T!=0)for(var Z=0;Z<3;Z++)F[D+Z]=G(i[Z],w[Z],Q[D+Z],T,u);if(y!=0)for(var Z=0;Z<3;Z++)F[s+Z]=G(i[Z],d[Z],Q[s+Z],y,u)}var j=V*q+H+A<<2;
if(N!=0)for(var Z=0;Z<3;Z++)F[j+Z]=$(i[Z],Q[j+Z],N,u)}H+=h-1}}function L(Q,F,q,n,W,z){var u=r,N=q<<2,b=n<<2;
u(Q[z-1],F,q-1<<2,W);u(Q[z-1],F,n-1<<2,-W);u(Q[z+1],F,n<<2,W);u(Q[z+1],F,q<<2,-W);for(var B=1;B<z;B++){var h=Q[z-B-1],A=Q[z+B+1];
for(var e=0;e<=B;e++){var c=e<<2;u(h,F,q-1-e<<2,W);u(h,F,n-1-e<<2,-W);u(A,F,n+e<<2,W);u(A,F,q+e<<2,-W)}}K(Q[z],F,q,n,W)}function K(Q,F,q,n,W){var z=q<<2,u=n<<2;
while(z<u){r(Q,F,z,W);z+=4}}function r(Q,F,q,n){var W=n*F[q+3];Q[300]+=W;R(Q,F[q],0,W);R(Q,F[q+1],512,W);
R(Q,F[q+2],1024,W)}function R(Q,F,q,n){Q[q|F]+=n;Q[q|256|F>>>4]+=n}return m}();I.ll.wI=function(){function m(z,u,N,b,B,h,A){if(B==0){u.set(z);
return}if(B<=80)g(z,u,N,b,B,h,A);else R(z,u,N,b,B,h,A)}function g(z,u,N,b,B,h,A){var e=0,c=new Int32Array(512),a=1+2*Math.round(Math.sqrt(B)),$=a>>>1,G=new Array(a);
for(var o=0;o<a;o++)G[o]=new Int32Array(512);var H=h[0],f=h[1];for(var E=0;E<N;E++)if(E<B||E>N-B-a-1){c.fill(0);
e=0;var S=Math.max(E-B,0),V=Math.min(N,E+B+1),J=V-S;for(var U=0;U<B;U++){e+=J;K(c,z,U*N+S,U*N+V,1)}for(var U=0;
U<b;U++){var j=U-B-1,i=U+B;if(j>=0){e-=J;K(c,z,j*N+S,j*N+V,-1)}if(i<b){e+=J;K(c,z,i*N+S,i*N+V,1)}var k=H(c,z[U*N+E],e,A);
u[U*N+E]=k}}else{for(var o=0;o<a;o++)G[o].fill(0);e=0;var S=E-B+$,V=E+B+1+$,J=V-S;for(var U=0;U<B;U++){e+=J;
L(G,z,U*N+S,U*N+V,1,$)}for(var U=0;U<b;U++){var j=U-B-1,i=U+B;if(j>=0){e-=J;L(G,z,j*N+S,j*N+V,-1,$)}if(i<b){e+=J;
L(G,z,i*N+S,i*N+V,1,$)}for(var o=0;o<$;o++){var P=$-1-o,w=$+1+o;u[U*N+E+P]=f(G[$],G[P],z[U*N+E+P],e,A);
u[U*N+E+w]=f(G[$],G[w],z[U*N+E+w],e,A)}u[U*N+E+$]=H(G[$],z[U*N+E+$],e,A)}E+=a-1}}function L(z,u,N,b,B,h){var A=r;
A(z[h-1],u[N-1],0,B);A(z[h-1],u[b-1],0,-B);A(z[h+1],u[b],0,B);A(z[h+1],u[N],0,-B);for(var e=1;e<h;e++){var c=z[h-e-1],a=z[h+e+1];
for(var $=0;$<=e;$++){A(c,u[N-1-$],0,B);A(c,u[b-1-$],0,-B);A(a,u[b+$],0,B);A(a,u[N+$],0,-B)}}K(z[h],u,N,b,B)}function K(z,u,N,b,B){while(N<b)r(z,u[N++],0,B)}function r(z,u,N,b){z[N|u]+=b;
z[N|256|u>>>4]+=b}function R(z,u,N,b,B,h,A){var e=0,c=new Int32Array(512),a=new Int32Array(1*N),$=new Int32Array(512*N),G=Math.min(B,N),o=Math.min(B,b),H=h[0];
for(var f=0;f<o;f++)Q($,a,z,N,f,1);for(var f=0;f<b;f++){if(f+B<b)Q($,a,z,N,f+B,1);if(f-B-1>=0)Q($,a,z,N,f-B-1,-1);
c.fill(0);e=0;for(var E=0;E<G;E++){e+=a[E];F(c,$,E)}for(var E=0;E<N;E++){var S=E-B-1,V=E+B;if(S>=0&&a[S]!=0){e-=a[S];
q(c,$,S)}if(V<N&&a[V]!=0){e+=a[V];F(c,$,V)}var J=e==0?0:H(c,z[f*N+E],e,A);u[f*N+E]=J}}}function Q(z,u,N,b,B,h){var A=B*b;
for(var e=0;e<b;e++){r(z,N[A+e],e<<9,h);u[e]+=h}}function F(z,u,N){for(var b=0;b<16;b++){var B=u[N<<9|256|b];
if(B==0)continue;z[256|b]+=B;var h=b<<4,A=N<<9|h;n(z,u,h,A);n(z,u,h+4,A+4);n(z,u,h+8,A+8);n(z,u,h+12,A+12)}}function q(z,u,N){for(var b=0;
b<16;b++){var B=u[N<<9|256|b];if(B==0)continue;z[256|b]-=B;var h=b<<4,A=N<<9|h;W(z,u,h,A);W(z,u,h+4,A+4);
W(z,u,h+8,A+8);W(z,u,h+12,A+12)}}function n(z,u,N,b){z[N]+=u[b];z[N+1]+=u[b+1];z[N+2]+=u[b+2];z[N+3]+=u[b+3]}function W(z,u,N,b){z[N]-=u[b];
z[N+1]-=u[b+1];z[N+2]-=u[b+2];z[N+3]-=u[b+3]}return m}();I.ll.wL=[function(m,g,L,K){var r=15;while(m[256|r]==0&&r>0)r--;
r=(r<<4)+15;while(m[r]==0&&r>0)r--;return r},function(m,g,L,K,r){var R=15;while(m[256|R]+g[256|R]==0&&R>0)R--;
R=(R<<4)+15;while(m[R]+g[R]==0&&R>0)R--;return R}];I.ll.wG=[function(m,g,L,K){var r=0;while(m[256|r]==0&&r<15)r++;
r=r<<4;while(m[r]==0&&r<255)r++;return r},function(m,g,L,K,r){var R=0;while(m[256|R]+g[256|R]==0&&R<15)R++;
R=R<<4;while(m[R]+g[R]==0&&R<255)R++;return R}];I.ll.IG=.5;I.ll.wT=[function(m,g,L,K){var r=~~(.5+I.ll.IG*L),R=0,Q=256;
while(R+m[Q]<=r)R+=m[Q++];Q=Q-256<<4;while(R<=r)R+=m[Q++];return Q-1},function(m,g,L,K,r){var R=~~(.5+I.ll.IG*K),Q=0,F=256;
while(Q+m[F]+g[F]<=R){Q+=m[F]+g[F];F++}F=F-256<<4;while(Q<=R){Q+=m[F]+g[F];F++}return F-1}];I.ll.fI=[function(m,g,L,K){var r=K[0],R=0,Q=0,F=Math.max(0,g-r),q=Math.min(256,g+r+1);
while(F<q){var n=m[F];R+=F*n;Q+=n;F++}return Q==0?0:R/Q},function(m,g,L,K,r){var R=r[0],Q=0,F=0,q=Math.max(0,L-R),n=Math.min(256,L+R+1);
while(q<n){var W=m[q]+g[q];Q+=q*W;F+=W;q++}return F==0?0:Q/F}];I.i={};I.i.fQ=function(m){var g=l.k.yb(m.Trnf),L=m.Sz.v,K=I.i.Eq(g,new v(0,0,L.Wdth.v,L.Hght.v));
return I.i.dl(K)};I.i.Eq=function(m,g){var m=m.slice(0),L=m[0],K=m[1],r=m[2],R=m[3],Q=m[6],F=m[7],q=m[4],n=m[5],W=0,z=0,u=1,N=0,b=0,B=1,h=1,A=1;
if(g){W=g.x;z=g.y;u=g.x+g.j;N=g.y;b=g.x;B=g.y+g.F;h=g.x+g.j;A=g.y+g.F}var e=[[W,z,1,0,0,0,-W*L,-z*L,L],[0,0,0,W,z,1,-W*K,-z*K,K],[u,N,1,0,0,0,-u*r,-N*r,r],[0,0,0,u,N,1,-u*R,-N*R,R],[b,B,1,0,0,0,-b*Q,-B*Q,Q],[0,0,0,b,B,1,-b*F,-B*F,F],[h,A,1,0,0,0,-h*q,-A*q,q],[0,0,0,h,A,1,-h*n,-A*n,n]],c=[0,0,0,0,0,0,0,0],a=I.Kz.yI.IF(e,c);
if(a!=0)c=[0,0,0,0,0,0,0,0];return c};I.i.BN=function(m){return Math.abs(m[6])<1e-10&&Math.abs(m[7])<1e-10};
I.i.dl=function(m){return new aC(m[0],m[3],m[1],m[4],m[2],m[5])};I.i.Gj=function(m){return[m.Wh,m.OS,m.gE,m.R,m.$Y,m.Dv,0,0]};
I.i.apply=function(m,g){var L=new Float64Array(2);for(var K=0;K<g.length;K+=2){var r=g[K],R=g[K+1];I.i.wk(r,R,m,L);
g[K]=L[0];g[K+1]=L[1]}};I.i.wk=function(m,g,L,K){var r=1/(L[6]*m+L[7]*g+1);K[0]=(L[0]*m+L[1]*g+L[2])*r;
K[1]=(L[3]*m+L[4]*g+L[5])*r};I.i.fm=function(m,g){var L=new Float64Array(2);I.i.wk(g.x,g.y,m,L);return new jf(L[0],L[1])};
I.i.GL=function(m,g,L,K){m=new Uint32Array(m.buffer);g=new Uint32Array(g.buffer);for(var r=0;r<K;r++){for(var R=0;
R<L;R++){g[R*K+r]=m[r*L+R]}}};I.i.IiI=function(m,g,L,K){m=new Uint32Array(m.buffer);g=new Uint32Array(g.buffer);
for(var r=0;r<K;r++){for(var R=0;R<L;R++){g[r*L+R]=m[r*L+L-1-R]}}};I.i.fp=function(m){return Math.abs(m[6])<1e-9&&Math.abs(m[7])<1e-9};
I.i.fx=function(m){return Math.abs(m[0])<1e-9&&Math.abs(m[4])<1e-9||Math.abs(m[1])<1e-9&&Math.abs(m[3])<1e-9};
I.i.drawImage=function(m,g,L,K,r,R,Q,F,q){if(Q==null)Q=!1;if(F==null)F=!1;var n=I.i.eb(m),W=!0,z=0,u=1/Math.sqrt(Math.abs(m[0]/L*m[4]/K-m[1]/L*m[3]/K));
for(var N=0;N<8;N++){var b=Math.round(m[N]);if(N!=2&&N!=5)z+=Math.abs(b);if(Math.abs(b-m[N])>1e-9)W=!1}var B=I.i.fp(m),h=I.i.fx(m)&&B,A=h?1:0;
if(Q||W&&z==L+K&&B){I.i.Ii_(n,g,L,K,r,R,F,B,q);return}var e=R.j,c=R.F,a=new Float64Array(2);r=new Uint32Array(r.buffer);
g=new Uint32Array(g.buffer);for(var $=0;$<c;$++)for(var G=0;G<e;G++){var o=$*e+G,H,f,E,S,aQ=0,aI=0,aq=0,aa=0;
r[o]=0;var V=G+R.x+.5,J=$+R.y+.5;H=V;f=J;E=n;S=1/(E[6]*H+E[7]*f+1);var U=(E[0]*H+E[1]*f+E[2])*S,j=(E[3]*H+E[4]*f+E[5])*S,i=U*L,k=j*K,P=i<-1||i>L+1||k<-1||k>K+1;
if(F){i=Math.max(.001,Math.min(L-1,i));k=Math.max(.001,Math.min(K-1,k))}else if(P)continue;var w=u;if(!B){var d=0,T=0;
E=m;H=U+1/L;f=j;S=1/(E[6]*H+E[7]*f+1);d=(E[0]*H+E[1]*f+E[2])*S-V;T=(E[3]*H+E[4]*f+E[5])*S-J;var y=d*d+T*T;
H=U;f=j+1/K;S=1/(E[6]*H+E[7]*f+1);d=(E[0]*H+E[1]*f+E[2])*S-V;T=(E[3]*H+E[4]*f+E[5])*S-J;var D=d*d+T*T;
w=1/Math.sqrt(Math.max(y,D))}if(w<1.1){I.i.Mv(i,k,g,L,K,r,o,A);continue}var s=Math.round(w*2.3);if(!F&&(i<.6||i>L-.6||k<.6||k>K-.6)){s=Math.max(s,5)}if(F&&P)s=1;
var Z=1/s,aD=R.x+G,_=R.y+$;E=n;for(var N=0;N<s;N++)for(var M=0;M<s;M++){H=aD+(N+.5)*Z;f=_+(M+.5)*Z;S=1/(E[6]*H+E[7]*f+1);
var i=(E[0]*H+E[1]*f+E[2])*S,k=(E[3]*H+E[4]*f+E[5])*S;if(F){i=Math.max(.001,Math.min(.999,i));k=Math.max(.001,Math.min(.999,k))}else if(i<0||i>=1||k<0||k>=1)continue;
i=Math.floor(i*L);k=Math.floor(k*K);var jt=k*L+i,aR=g[jt],aL=aR>>>24;aQ+=(aR&255)*aL;aI+=(aR>>>8&255)*aL;
aq+=(aR>>>16&255)*aL;aa+=aL}if(aa!=0){var aw=1/aa;aQ=~~(aQ*aw+.5);aI=~~(aI*aw+.5);aq=~~(aq*aw+.5);aa=~~(aa*Z*Z+.5);
r[o]=aa<<24|aq<<16|aI<<8|aQ}}};I.i.Ii_=function(m,g,L,K,r,R,Q,F,q){var n=new Uint32Array(r.buffer),W=new Uint32Array(g.buffer),$=0;
if(q&&(R.j&3)!=0)throw"e";var z=m[0]*L,u=m[1]*L,N=m[2]*L,b=m[3]*K,B=m[4]*K,h=m[5]*K,A=m[6],e=m[7],c=R.j,a=R.F,G=R.x+.5,o=R.y+.5,H=(c>>>2<<2)-1e-9,f=-.1+(a>>>1<<1)-1e-9,E=~~L,S=z==0?0:1/z,V=b==0?0:1/b,H=Math.floor(c*.5)*2;
if(F&&!Q){if(c*a<4e6||!q)for(var J=0;J<a;J++){var U=G*z+u*(J+o)+N,j=G*b+B*(J+o)+h,i=0,k=c;if(z==0){}else if(S>0){i=Math.max(i,-U*S);
k=Math.min(k,(L-U)*S)}else{k=Math.min(k,-U*S);i=Math.max(i,(L-U)*S)}if(b==0){}else if(V>0){i=Math.max(i,-j*V);
k=Math.min(k,(K-j)*V)}else{k=Math.min(k,-j*V);i=Math.max(i,(K-j)*V)}if(k<0)k=0;if(i>k)i=k;i=Math.ceil(i);
k=~~k;$=~~(J*c);for(var P=0;P<i;P++)n[$++]=0;for(var P=i;P<k;P++){var w=z*P+U,d=b*P+j,T=~~d*E+~~w;n[$++]=W[T]}for(var P=k;
P<c;P++)n[$++]=0}else for(var J=0;J<a;J++){var U=G*z+u*(J+o)+N,j=G*b+B*(J+o)+h,i=0,k=c;if(z==0){}else if(S>0){i=Math.max(i,-U*S);
k=Math.min(k,(L-U)*S)}else{k=Math.min(k,-U*S);i=Math.max(i,(L-U)*S)}if(b==0){}else if(V>0){i=Math.max(i,-j*V);
k=Math.min(k,(K-j)*V)}else{k=Math.min(k,-j*V);i=Math.max(i,(K-j)*V)}if(k<0)k=0;if(i>k)i=k;i=Math.ceil(i);
k=~~k;$=~~(J*c);for(var P=0;P<i;P++)n[$++]=0;for(var P=i;P<k;P+=4){var w=z*P+U,d=b*P+j,T=~~d*E+~~w;n[$++]=n[$++]=n[$++]=n[$++]=W[T]}for(var P=k;
P<c;P++)n[$++]=0}}else for(var J=0;J<a;J++)for(var P=0;P<c;P++){var y=P+G,D=J+o,s=1/(A*y+e*D+1),w=(z*y+u*D+N)*s,d=(b*y+B*D+h)*s;
if(Q){w=Math.max(.001,Math.min(L-1,w));d=Math.max(.001,Math.min(K-1,d))}if(0<w&&w<L&&0<d&&d<K){var T=Math.floor(d)*L+Math.floor(w);
n[$]=W[T]}else n[$]=0;$++}};I.i.eb=function(m){var g=m[4]-m[5]*m[7],L=m[2]*m[7]-m[1],K=m[1]*m[5]-m[2]*m[4],r=m[5]*m[6]-m[3],R=m[0]-m[2]*m[6],Q=m[3]*m[2]-m[0]*m[5],F=m[3]*m[7]-m[4]*m[6],q=m[1]*m[6]-m[0]*m[7],n=1/(m[0]*m[4]-m[1]*m[3]);
return[g*n,L*n,K*n,r*n,R*n,Q*n,F*n,q*n]};I.i.kB=function(m,g){var L=m[0],K=m[1],r=m[2],R=m[3],Q=m[4],F=m[5],q=m[6],n=m[7],W=g[0],z=g[1],u=g[2],N=g[3],b=g[4],B=g[5],h=g[6],A=g[7],e=[L*W+K*N+r*h,L*z+K*b+r*A,L*u+K*B+r,R*W+Q*N+F*h,R*z+Q*b+F*A,R*u+Q*B+F,q*W+n*N+h,q*z+n*b+A],c=1/(q*u+n*B+1);
for(var a=0;a<8;a++)e[a]*=c;return e};I.i.Mv=function(m,g,L,K,r,R,Q,F){var q=m,n=g,u=0,N=0,b=0,B=0;m-=.499999;
g-=.499999;var W=Math.floor(m),z=Math.floor(g);if(F==0){var h=z*K+W,A=W>=0&&W<K,e=W+1>=0&&W+1<K,c=z>=0&&z<r,a=z+1>=0&&z+1<r;
if(A&&c)u=L[h];if(e&&c)N=L[h+1];if(A&&a)b=L[h+K];if(e&&a)B=L[h+K+1]}else if(F==1){var $=W<0?0:W>K-1?K-1:W,G=W<-1?0:W>K-2?K-1:W+1,o=z<0?0:z>r-1?r-1:z,H=z<-1?0:z>r-2?r-1:z+1;
u=L[o*K+$];N=L[o*K+G];b=L[H*K+$];B=L[H*K+G]}else{var $=(W+50*K)%K,G=(W+50*K)%K,o=(z+50*r)%r,H=(z+50*r)%r;
u=L[o*K+$];N=L[o*K+G];b=L[H*K+$];B=L[H*K+G]}var f=m-W,E=g-z,S=(1-E)*(1-f)*(u>>>24),V=(1-E)*f*(N>>>24),J=E*(1-f)*(b>>>24),U=E*f*(B>>>24),j=S+V+J+U,i=S*(u&255)+V*(N&255)+J*(b&255)+U*(B&255),k=S*(u>>>8&255)+V*(N>>>8&255)+J*(b>>>8&255)+U*(B>>>8&255),P=S*(u>>>16&255)+V*(N>>>16&255)+J*(b>>>16&255)+U*(B>>>16&255);
if(j==0)R[Q]=0;else{var w=1/j;i=~~(i*w+.5);k=~~(k*w+.5);P=~~(P*w+.5);j=~~(j+.5);R[Q]=j<<24|P<<16|k<<8|i}};
I.i.fw=function(m,g,L,K,r,R){var Q=m-.499999,F=g-.499999,q=~~Q,n=~~F,W=Q-q,z=F-n,u=(1-z)*(1-W),N=(1-z)*W,b=z*(1-W),B=z*W,h=n*K+q<<2,A=(n+1)*K+q<<2,e=u*L[h]+N*L[h+4]+b*L[A]+B*L[A+4],c=u*L[h+1]+N*L[h+5]+b*L[A+1]+B*L[A+5],a=u*L[h+2]+N*L[h+6]+b*L[A+2]+B*L[A+6],$=u*L[h+3]+N*L[h+7]+b*L[A+3]+B*L[A+7];
R[0]=e;R[1]=c;R[2]=a;R[3]=$};I.i.fJ=function(m,g,L,K,r,R,Q,F,q,n,W,z){var u=new Uint32Array(m.buffer),N=new Uint32Array(K.buffer),b=(1+2*n)/r,B=[],h=[];
for(var A=0;A<r;A++){var e=-.25+n-A*b;B.push(Math.cos(2*Math.PI*e)*z/W);B.push(Math.sin(2*Math.PI*e)/W)}Q*=g;
F*=L;for(var c=0;c<R;c++){var a=Math.pow(c/R,q)*R;for(var A=0;A<r;A++){var $=Q+B[A<<1]*a,G=F+B[(A<<1)+1]*a,o=~~(.5+($<0?0:$>g-1?g-1:$)),H=~~(.5+(G<0?0:G>L-1?L-1:G));
N[c*r+A]=u[H*g+o]}}};I.i.fl=function(m,g,L,K,r,R,Q,F,q,n,W,z){var u=new Uint32Array(m.buffer),N=new Uint32Array(K.buffer),b=1/z,B=[],h=L*4,A=1/h;
for(var e=0;e<h;e++)B.push(Math.pow(e*A,1/q)*L*W);Q*=r;F*=R;for(var e=0;e<R;e++)for(var c=0;c<r;c++){var a=b*(c-Q),$=e-F,G=1.75-Math.atan2($,a)*(1/(2*Math.PI));
G=G-~~G;G=(G+n)*(1/(1+2*n));var o=Math.sqrt(a*a+$*$);o=B[~~(o*4)];I.i.Mv(G*g+.5,o+.5,u,g,L,N,e*r+c,1)}};
I.G={_X:function(m,g){var L=~~(.499+m*g);return L<0?0:L>g?g:L},Iih:function(m,g,L,K,r,R,Q,F){var q=L[0],n=L[1],W=L[2],z=L[3],u=K.j,N=K.F,b=new Float64Array(u*4+8),B=new Float64Array(u*4+8);
for(var h=0,A=0;h<N;h++){var e=b;b=B;B=e;B.fill(0);for(var c=0;c<u;c++,A++){var a=c+r,$=h+R,G=q*a+n*$,o=W*a+z*$,H=0,S=0;
if(F==0)H=G+.5;else if(F==1)H=2*Math.sqrt(G*G+o*o);else if(F==2)H=(Math.PI+Math.atan2(-o,-G))/(2*Math.PI);
else if(F==3)H=Math.abs(G*2);else if(F==4)H=2*(Math.abs(G)+Math.abs(o));var f=I.G._X(H,Q)*4,E=c*4;for(var V=0;
V<4;V++){var J=Math.max(0,Math.min(254.999,g[f+V]+b[E+4+V])),U=Math.floor(J);if(Math.random()<J-U)U++;
var j=J-U;b[E+8+V]=j*(7/16);B[E+0+V]=j*(3/16);B[E+4+V]=j*(5/16);B[E+8+V]=j*(1/16);S|=U<<V*8}m[A]=S}}},t:[function(m,g,L,K,r,R,Q){var F=L[0],q=L[1],n=L[2],W=L[3],z=K.j,u=K.F;
for(var N=0,b=0;N<u;N++)for(var B=0;B<z;B++,b++){var h=B+r,A=N+R,e=F*h+q*A,c=n*h+W*A,a=e+.5;m[b]=g[I.G._X(a,Q)]}},function(m,g,L,K,r,R,Q){var F=L[0],q=L[1],n=L[2],W=L[3],z=K.j,u=K.F;
for(var N=0,b=0;N<u;N++)for(var B=0;B<z;B++,b++){var h=B+r,A=N+R,e=F*h+q*A,c=n*h+W*A,a=2*Math.sqrt(e*e+c*c);
m[b]=g[I.G._X(a,Q)]}},function(m,g,L,K,r,R,Q){var F=L[0],q=L[1],n=L[2],W=L[3],z=K.j,u=K.F;for(var N=0,b=0;
N<u;N++)for(var B=0;B<z;B++,b++){var h=B+r,A=N+R,e=F*h+q*A,c=n*h+W*A,a=(Math.PI+Math.atan2(-c,-e))/(2*Math.PI);
m[b]=g[I.G._X(a,Q)]}},function(m,g,L,K,r,R,Q){var F=L[0],q=L[1],n=L[2],W=L[3],z=K.j,u=K.F;for(var N=0,b=0;
N<u;N++)for(var B=0;B<z;B++,b++){var h=B+r,A=N+R,e=F*h+q*A,c=n*h+W*A,a=Math.abs(e*2);m[b]=g[I.G._X(a,Q)]}},function(m,g,L,K,r,R,Q){var F=L[0],q=L[1],n=L[2],W=L[3],z=K.j,u=K.F;
for(var N=0,b=0;N<u;N++)for(var B=0;B<z;B++,b++){var h=B+r,A=N+R,e=F*h+q*A,c=n*h+W*A,a=2*(Math.abs(e)+Math.abs(c));
m[b]=g[I.G._X(a,Q)]}}]};I.G.IGY=function(m,g){return m+.5};I.G.IGN=function(m,g){return 2*Math.sqrt(m*m+g*g)};
I.G.IGb=function(m,g){return(Math.PI+Math.atan2(-g,-m))/(2*Math.PI)};I.G.IGP=function(m,g){return Math.abs(m*2)};
I.G.IGt=function(m,g){return 2*(Math.abs(m)+Math.abs(g))};I.G.IT=function(m,g,L,K,r,R,Q,F,q,n,W,z){if(m.Clrs==null)return;
var u=new Uint32Array(g.buffer),N=1023,b=I.G.Bb(m.Clrs.v,q,n);if(z){var B=I.G.Ii$(m,b,N+1,Q);I.G.Iih(u,B,K,L,L.x-r,L.y-R,N,F);
return}var h=I.G.fS(m,b,N+1,Q);if(F<5){I.G.t[F](u,h,K,L,L.x-r,L.y-R,N)}else{var A=new Uint8Array(h.buffer),e=L.j,c=L.F,a=W.ev-W.Sd,$=1/a,G=W.kX.j-L.j>>1,o=W.kX.F-L.F>>1,H=W.kX.j,f=-.6*$,E=(-.6+.4)*$,S=(-.6+2*.4)*$,V=(-.6+3*.4)*$;
for(var J=0,U=0;J<c;J++)for(var j=0;j<e;j++,U+=4){var i=0,k=0,P=0,w=0,d=(J+o)*H+j+G,T=(W.oU[d]-W.Sd)*$,y=0;
if(T<=0||T>=1){y=(T<=0?0:N)<<2;g[U]=A[y];g[U+1]=A[y+1];g[U+2]=A[y+2];g[U+3]=A[y+3];continue}y=Math.max(0,Math.min(N-1,Math.round((T+f)*N)))<<2;
k+=A[y];P+=A[y+1];w+=A[y+2];i+=A[y+3];y=Math.max(0,Math.min(N-1,Math.round((T+E)*N)))<<2;k+=A[y];P+=A[y+1];
w+=A[y+2];i+=A[y+3];y=Math.max(0,Math.min(N-1,Math.round((T+S)*N)))<<2;k+=A[y];P+=A[y+1];w+=A[y+2];i+=A[y+3];
y=Math.max(0,Math.min(N-1,Math.round((T+V)*N)))<<2;k+=A[y];P+=A[y+1];w+=A[y+2];i+=A[y+3];g[U]=k>>>2;
g[U+1]=P>>>2;g[U+2]=w>>>2;g[U+3]=i>>>2}}};I.G.Bb=function(m,g,L){var K=[];for(var r=0;r<m.length;r++){var R;
if(m[r].v.Type.v.Clry=="FrgC")R={u:g>>16&255,S:g>>8&255,R:g&255};else if(m[r].v.Type.v.Clry=="BckC")R={u:L>>16&255,S:L>>8&255,R:L&255};
else R=I.G.EX(m[r].v.Clr.v);K.push(R)}return K};I.G.EX=function(m){var g,L=m.classID;if(L=="RGBC")g={u:m.Rd.v,S:m.Grn.v,R:m.Bl.v};
else if(L=="HSBC"){g=I.ww(m.H.v.val/360,m.Strt.v/100,m.Brgh.v/100);g.u*=255;g.S*=255;g.R*=255}else if(L=="CMYC"){var K=100-m.Cyn.v,r=100-m.Mgnt.v,R=100-m.Ylw.v,Q=100-m.Blck.v,F=255*K*Q*1e-4,q=255*(.2*K+.8*r)*Q*1e-4,n=255*(.2*r+.8*R)*Q*1e-4;
g={u:F,S:q,R:n}}else if(L=="Grsc")g={u:255-m.Gry.v,S:255-m.Gry.v,R:255-m.Gry.v};else if(L=="LbCl"){g=I.tx(m.Lmnc.v,m.A.v,m.B.v)}else console.log(m);
if(isNaN(g.u))g.u=g.S=g.R=0;return g};I.G.h$=function(m){return{classID:"RGBC",Rd:{t:"doub",v:m.u},Grn:{t:"doub",v:m.S},Bl:{t:"doub",v:m.R}}};
I.G.Ii$=function(m,g,L,K){var r=[],R=1/(L-0);for(var Q=0;Q<L;Q++){var F=Q*4,q=I.G.fk(m,g,(K?L-1-Q:Q)*R);
r[F]=q[0];r[F+1]=q[1];r[F+2]=q[2];r[F+3]=q[3]}return r};I.G.fS=function(m,g,L,K){var r=new Uint32Array(L),R=1/(L-0);
for(var Q=0;Q<L;Q++)r[Q]=I.G.ri(m,g,(K?L-1-Q:Q)*R);return r};I.G.fk=function(m,g,L){var K=4096,r=1/4096,R=m.Intr.v*r,Q=m.Clrs.v,F=m.Trns.v,q=Q.length-1,n=F.length-1,W=-1,z=0,u=0,N=0,b=0;
while(W<n&&F[W+1].v.Lctn.v<=L*K)W++;if(W==-1){z=F[0].v.Opct.v.val*(255/100)}else if(W==n){z=F[W].v.Opct.v.val*(255/100)}else{var B=I.G.fO(F,r,W,L,R);
z=(B*F[W].v.Opct.v.val+(1-B)*F[W+1].v.Opct.v.val)*(255/100)}W=-1;while(W<q&&Q[W+1].v.Lctn.v<=L*K)W++;
if(W==-1){var h=g[0];u=h.u;N=h.S;b=h.R}else if(W==q){var h=g[W];u=h.u;N=h.S;b=h.R}else{var A=g[W],e=g[W+1],c=I.G.fO(Q,r,W,L,R);
u=c*A.u+(1-c)*e.u;N=c*A.S+(1-c)*e.S;b=c*A.R+(1-c)*e.R}return[u,N,b,z]};I.G.ri=function(m,g,L){var K=I.G.fk(m,g,L),r=~~(.5+K[0]),R=~~(.5+K[1]),Q=~~(.5+K[2]),F=~~(.5+K[3]);
return F<<24|Q<<16|R<<8|r};I.G.fO=function(m,g,L,K,r){if(m.length==2)r*=.5;var R=m[L].v.Lctn.v*g,Q=m[L+1].v.Lctn.v*g,F=R+m[L+1].v.Mdpn.v*.01*(Q-R),q;
if(K<F)q=.5*(K-R)/(F-R);else q=.5+.5*(K-F)/(Q-F);q=.5+.5*(r*Math.cos(Math.PI*q)+(1-r)*(1-2*q));return q};
I.G.we=function(m,g){var L=Math.PI*m.Angl.v.val/180,K=m.Scl.v.val/100,r=m.Ofst.v,R=r.Hrzn.v.val/100,Q=r.Vrtc.v.val/100,F=Math.cos(L),q=-Math.sin(L),n=.5*g.F,W=n*(F/q),z=Math.sqrt(n*n+W*W),u=.5*g.j,N=u*(q/F),b=Math.sqrt(u*u+N*N),B=Math.min(z,b)*K,h=g.x+g.j/2+R*g.j,A=g.y+g.F/2+Q*g.F;
return[new jf(h,A),new jf(h+F*B,A+q*B)]};I.G.By=function(m,g,L,K){var r=g.x-m.x,R=-(g.y-m.y),Q=Math.sqrt(r*r+R*R),F=Math.atan2(R,r),q=Math.cos(F),n=-Math.sin(F),W=.5*L.F,z=W*(q/n),u=Math.sqrt(W*W+z*z),N=.5*L.j,b=N*(n/q),B=Math.sqrt(N*N+b*b),h=Q/Math.min(u,B),A=(m.x-L.x-L.j/2)/L.j,e=(m.y-L.y-L.F/2)/L.F;
K.Angl.v.val=180*F/Math.PI;K.Scl.v.val=h*100;var c=K.Ofst.v;c.Hrzn.v.val=A*100;c.Vrtc.v.val=e*100};I.G.IO=function(m,g){for(var L=0;
L<m.length;L++){var K=m[L],r=Math.round(K[0]*4096),R=K[1],Q=K[2];if(Q==null)Q=1;var F=I.G.h$({u:R[0]*255,S:R[1]*255,R:R[2]*255});
g.Clrs.v[L]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:r},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:F},Type:{t:"enum",v:{Clry:"UsrS"}}}};
g.Trns.v[L]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:r},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(Q*100)}}}}}};
I.Rg={};I.Rg.I_=function(m,g,L,K,r){var R=!1,b=1,U=0,j=0,D=0,ak=0;if(!g.Vp(r)){var Q=g.uM(r),F=I.m(Q.c()*4);
I.pq(m,g,F,Q);m=F;g=Q}var q=I.m(g.c());I.Cp(L,r,q,g);I.round(q);r=r.my(g);var n=r.j,W=r.F,z=n*3<W?2:1,u=W*3<n?2:1;
if(r.c()*(z*2+1)*(u*2+1)<g.c()){var Q=new v(r.x-n*z,r.y-W*z,n*(z*2+1),W*(u*2+1)).my(g),F=I.m(Q.c()*4);
I.pq(m,g,F,Q);var N=I.m(Q.c());I.Cp(q,g,N,Q);g=Q;m=F;q=N}while((g.j+g.F)/2/b>400)b++;var B=m,h=g,A=q,e=Math.floor(h.j/b),c=Math.floor(h.F/b);
m=I.m(e*c*4);I.scale._f(B,h.j,h.F,m,e,c,1/b);q=I.m(e*c);I.scale.VQ(A,h.j,h.F,q,e,c,1/b);I.round(q,1);
var a=I.YR(q,new v(0,0,e,c));if(a.L_())return;var $=Math.round((a.j+a.F)/2/15),G=Date.now(),o=I.m(e*c*4);
I.Ims(m,o);var H=Int16Array,f=new H(e*c*24),E=new H(64),S=new H(64),V=new H(64),J=new H(64);for(var i=3;
i<c-4;i++)for(var k=3;k<e-4;k++){var P=i*e+k;if(q[P]==255)continue;if(I.Rg.IOk(o,q,k,i,e,c,E,S,V)!=0)continue;
I.Rg.w$(E,J);f[U]=k;f[U+1]=i;I.Rg.jR(E,f,U+4,12);U+=16;I.Rg.w$(S,J);I.Rg.jR(S,f,U,4);U+=4;I.Rg.w$(V,J);
I.Rg.jR(V,f,U,4);U+=4;var w=f[U-24+5],d=f[U-24+6];f[U-24+5]=f[U-24+20];f[U-24+6]=f[U-24+16];f[U-24+16]=w;
f[U-24+20]=d;j++}if(j==0)return;if(R)console.log(Date.now()-G,"FWHT computed");G=Date.now();var T=[];
I.Rg.wv(0,j-1,T,f,new H(2*24));if(R)console.log(Date.now()-G,"KD tree computed");G=Date.now();var y=new Float32Array(e*c*4);
for(var s=0;s<j;s++){var Z=s,aQ=I.Rg.IOw(Z,f,T,$);if(aQ==-1)continue;var aI=Z*24,aq=aQ*24,aa=f[aI],aD=f[aI+1],_=f[aq],M=f[aq+1];
D+=I.Rg.getError(aq,aI,f,1e99);var jt=_-aa,aR=M-aD;y[(c+aR)*2*e+(e+jt)]+=1}if(R)console.log(Date.now()-G,"NN found");
G=Date.now();var aL=[],aw=1/(2*e);for(var s=0;s<y.length;s++){if(y[s]>0){var i=Math.floor(s*aw),k=s-i*2*e;
aL.push({x:k-e,y:i-c,U:y[s],gz:-1})}}aL.sort(function(aE,Ij){return Ij.U-aE.U});var ap=new Int32Array(e*c),al=[];
for(var s=0;s<e*c;s++){if(q[s]==255){ap[s]=ak;al.push(s%e,Math.floor(s/e));ak++}else if(m[(s<<2)+3]<200){ap[s]=-2}else{ap[s]=-1}}var ao=I.Rg.IOp(e,c,aL,ap,al,ak);
if(ao==null){return}var aZ=ao.Oq,top=ao.top;aZ=I.Rg.IkU(aZ,m,e,c,top,ap,al,ak);if(R)console.log(Date.now()-G,"optimal labeling found");
G=Date.now();var Q=r.clone();Q.XH(1,1);Q=Q.my(h);var aS=I.m(Q.c()*4),an=I.m(Q.c());I.pq(B,h,aS,Q);var IU=h.j,a_=h.F;
for(var i=0;i<a_;i++)for(var k=0;k<IU;k++){if(A[i*IU+k]==0)continue;var aG=Math.min(Math.floor(k/b),e-1),aM=Math.min(Math.floor(i/b),c-1),av=ap[aM*e+aG],aA=aZ[av],IL=top[aA],aB=k+IL.x*b,aV=i+IL.y*b,Ia=aV*IU+aB<<2,aK=(i-Q.y+h.y)*Q.j+(k-Q.x+h.x)<<2;
aS[aK]=B[Ia];aS[aK+1]=B[Ia+1];aS[aK+2]=B[Ia+2];aS[aK+3]=B[Ia+3];aS[aK+3]=B[Ia+3];an[aK>>2]=aA+1}if(R)console.log(Date.now()-G,"copied back");
G=Date.now();I.hA.I_(aS,an,Q,null,1e3);if(R)console.log(Date.now()-G,"poisson smooth");G=Date.now();
I.pq(aS,Q,K,r)};I.Rg.fv=function(m,g,L,K,r,R){return I.Rg.hU(m+r.x,g+r.y,L,K)&&R[(g+r.y)*L+(m+r.x)]==-1?0:1e9};
I.Rg.IkU=function(m,g,L,K,top,r,R,Q){var F=Date.now(),q=[-1,0,0,-1,1,0,0,1],n=1e99,W=[],z=[],u=2*(Q*2*3+Q*2),N=null,b=0,B=0,h=0,A=1e99;
while(!0&&Date.now()<F+12e3){h++;var e=null,c=n;for(var a=0;a<top.length;a++){var $=top[a],G=0,o=Q+2,H=0;
for(var f=0;f<Q;f++){var E=R[f*2],S=R[f*2+1],V=top[m[f]],J=I.Rg.fv(E,S,L,K,$,r),U=m[f]==a?1e9:I.Rg.fv(E,S,L,K,V,r);
for(var j=0;j<4;j++){if(j==0&&E==0||j==1&&S==0||j==2&&E==L-1||j==3&&S==K-1)continue;var i=q[2*j],k=q[2*j+1],P=E+i,w=S+k,d=r[w*L+P];
if(d==-2){}else if(d==-1){J+=3*I.Rg.as(P+$.x,w+$.y,P,w,L,K,g,r);J+=2*I.Rg.as(P+$.x+i,w+$.y+k,P+i,w+k,L,K,g,r);
U+=3*I.Rg.as(P+V.x,w+V.y,P,w,L,K,g,r);U+=2*I.Rg.as(P+V.x+i,w+V.y+k,P+i,w+k,L,K,g,r)}else if(j>1){if(m[f]==m[d]){var T=0;
T+=I.Rg.as(E+V.x,S+V.y,E+$.x,S+$.y,L,K,g,r);T+=I.Rg.as(P+V.x,w+V.y,P+$.x,w+$.y,L,K,g,r);W[G]=f;W[G+1]=d;
z[G]=T;z[G+1]=T;G+=2}else{var y=top[m[d]],D=o,s=0,Z=0,aQ=0;o++;s+=I.Rg.as(E+V.x,S+V.y,E+$.x,S+$.y,L,K,g,r);
s+=I.Rg.as(P+V.x,w+V.y,P+$.x,w+$.y,L,K,g,r);Z+=I.Rg.as(E+y.x,S+y.y,E+$.x,S+$.y,L,K,g,r);Z+=I.Rg.as(P+y.x,w+y.y,P+$.x,w+$.y,L,K,g,r);
aQ+=I.Rg.as(E+y.x,S+y.y,E+V.x,S+V.y,L,K,g,r);aQ+=I.Rg.as(P+y.x,w+y.y,P+V.x,w+V.y,L,K,g,r);W[G]=f;W[G+1]=D;
z[G]=s;z[G+1]=s;G+=2;W[G]=d;W[G+1]=D;z[G]=Z;z[G+1]=Z;G+=2;W[G]=D;W[G+1]=Q+1;z[G]=aQ;z[G+1]=0;G+=2}}}W[G]=Q;
W[G+1]=f;z[G]=J;z[G+1]=0;G+=2;W[G]=f;W[G+1]=Q+1;z[G]=U;z[G+1]=0;G+=2;H+=Math.min(J,U)}if(H>c)continue;
var aI=I.$k.IF(o,G,Q,Q+1,W,z,c);if(aI.G_<c){c=aI.G_;var aq=m.slice(0);I.Rg.Ikl(aq,G,W,aI.Ka,a,Q);e=aq}}if(c*1>=n){break}n=c;
m=e;if((h&3)==0){if(c*1.03>=A)break;A=c}if((h&3)==0){var aa=0*top.length;for(var f=0;f<top.length&&top.length>aa;
f++){if(m.indexOf(f)!=-1)continue;top.splice(f,1);for(var d=0;d<m.length;d++)if(m[d]>f)m[d]--;f--}}}return m};
I.Rg.Ikl=function(m,g,L,K,r,R){for(var Q=0;Q<K.length;Q++){var F=K[Q]<<1,q=0,n=0;if(F<g){q=L[F];n=L[F+1]}else{n=L[F];
q=L[F+1]}if(q==R&&m[n]!=r)m[n]=r}};I.Rg.fX=function(top,m,g,L,K,r,R,Q,F){for(var q=0;q<g.length;q++){var n=g[q],W=!0;
if(Q!=null&&!(I.Rg.hU(Q+n.x,F+n.y,r,R)&&L[r*(F+n.y)+Q+n.x]==-1))continue;if(n.gz==-1)n.gz=I.Rg.IkP(n,L,K,r,R);
if(n.gz<=0)continue;for(var z=0;z<top.length;z++){var u=top[z],N=n.x-u.x,b=n.y-u.y;if(N*N+b*b<m){W=!1;
break}}if(W)return n}return null};I.Rg.IkP=function(m,g,L,K,r){var R=0;for(var Q=0;Q<L.length;Q+=2){var F=L[Q]+m.x,q=L[Q+1]+m.y;
if(I.Rg.hU(F,q,K,r)&&g[K*q+F]==-1)R++}return R/(L.length>>1)};I.Rg.IOp=function(m,g,L,K,r,R){var top=[];
for(var Q=0;Q<60;Q++){var F=I.Rg.fX(top,25,L,K,r,m,g);if(F==null)break;else top.push(F)}if(top.length==0)return null;
var q=[];for(var Q=0;Q<R;Q++){var n=r[Q*2],W=r[Q*2+1],z=-1,u=0;while(!0){u++;var N=Math.random();z=Math.floor(N*.99999*top.length);
var b=top[z],B=n+b.x,h=W+b.y;if(I.Rg.hU(B,h,m,g)&&K[h*m+B]==-1)break;if(u>100){var F;F=I.Rg.fX(top,0,L,K,r,m,g,n,W);
if(F==null)return null;top.push(F);u=0}}q.push(z)}return{top:top,Oq:q}};I.Rg.as=function(m,g,L,K,r,R,Q,F){if(m==L&&g==K)return 0;
if(m<0||g<0||m>=r||g>=R||L<0||K<0||L>=r||K>=R||F[g*r+m]!=-1||F[K*r+L]!=-1)return 1e7;var q=g*r+m<<2,n=K*r+L<<2,W=Q[q]-Q[n],z=Q[q+1]-Q[n+1],u=Q[q+2]-Q[n+2];
return 1+(W*W+z*z+u*u)};I.Rg.hU=function(m,g,L,K){return m>=0&&m<L&&g>=0&&g<K};I.Rg.IOw=function(m,g,L,K){var r=24*m,R=g[r],Q=g[r+1],F=K*K,q=0,u=1e9;
while(L[q]!=99)if(g[r+L[q]]<L[q+1])q=L[q+2];else q=L[q+3];var n=L[q+1],W=L[q+2],z=-1;for(var N=n;N<=W;
N++){var q=N,b=q*24,B=g[b],h=g[b+1];if((B-R)*(B-R)+(h-Q)*(h-Q)<F)continue;var A=I.Rg.getError(b,r,g,u);
if(A<u){u=A;z=q}}return z};I.Rg.getError=function(m,g,L,K){var r=0;for(var R=4;R<24;R+=4){var Q=L[g+R]-L[m+R],F=L[g+R+1]-L[m+R+1],q=L[g+R+2]-L[m+R+2],n=L[g+R+3]-L[m+R+3];
r+=Q*Q+F*F+q*q+n*n;if(r>=K)return r+1}return r};I.Rg.wv=function(m,g,L,K,r){var R=16,b=0;if(g-m<=R){L.push(99,m,g);
return}I.Rg.Pt(m,g,K,r);var Q=-1,F=-1;for(var q=4;q<24;q++){var n=r[2*q+1]-r[2*q];if(n>F){F=n;Q=q}}var W=m+g>>1,z=I.Rg.IOJ(W,m,g,K,Q),N=-1;
for(var q=m;q<=g;q++)if(K[24*q+Q]==z){if(N==-1)N=q;b=q}if(m+8<N&&N-m>g-b)W=N;else if(b+1<g-8)W=b+1;else if(g-m<64){L.push(99,m,g);
return}else W=W;var B=L.length;L.push(Q,z,0,0);L[B+2]=B+4;I.Rg.wv(m,W-1,L,K,r);L[B+3]=L.length;I.Rg.wv(W,g,L,K,r)};
I.Rg.Pt=function(m,g,L,K){for(var r=0;r<48;r+=4){K[r]=3e4;K[r+1]=-3e4;K[r+2]=3e4;K[r+3]=-3e4}for(var r=m;
r<=g;r++){var R=r*24;for(var Q=0;Q<24;Q++){var F=L[R+Q],q=K[Q<<1],n=K[(Q<<1)+1];if(F<q)K[Q<<1]=F;if(F>n)K[(Q<<1)+1]=F}}};
I.Rg.wn=function(m,g,L){var K=0,r=0;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;
r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;
r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;
r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;
r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;
r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;
r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;
r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;
r++;K=L[m+r];L[m+r]=L[g+r];L[g+r]=K;r++};I.Rg.wB=function(m,g,L,K){var r=L+K>>>1,R=m[24*r+g];while(L<=K){while(m[24*L+g]<R)L++;
while(m[24*K+g]>R)K--;if(L<=K){if(m[24*L+g]!=m[24*K+g])I.Rg.wn(L*24,K*24,m);L++;K--}}return L};I.Rg.IOJ=function(m,g,L,K,r){var R=0;
while(g!=L){R=I.Rg.wB(K,r,g,L);if(m<R)L=R-1;else g=R}return K[m*24+r]};I.Rg.jR=function(m,g,L,K){for(var r=0;
r<K;r++)g[L+r]=m[r]};I.Rg.IOk=function(m,g,L,K,r,R,Q,F,q){var n=(K-3)*r+(L-3),W=n<<2;for(var z=0;z<8;
z++){if(g[n]+g[n+1]+g[n+2]+g[n+3]+g[n+4]+g[n+5]+g[n+6]+g[n+7]!=0||m[W+3]<200||m[W+7]<200||m[W+11]<200||m[W+15]<200||m[W+19]<200||m[W+23]<200||m[W+27]<200||m[W+31]<200)return 1;
var u=z<<3;Q[u+0]=m[W+0];F[u+0]=m[W+1];q[u+0]=m[W+2];Q[u+1]=m[W+4];F[u+1]=m[W+5];q[u+1]=m[W+6];Q[u+2]=m[W+8];
F[u+2]=m[W+9];q[u+2]=m[W+10];Q[u+3]=m[W+12];F[u+3]=m[W+13];q[u+3]=m[W+14];Q[u+4]=m[W+16];F[u+4]=m[W+17];
q[u+4]=m[W+18];Q[u+5]=m[W+20];F[u+5]=m[W+21];q[u+5]=m[W+22];Q[u+6]=m[W+24];F[u+6]=m[W+25];q[u+6]=m[W+26];
Q[u+7]=m[W+28];F[u+7]=m[W+29];q[u+7]=m[W+30];W+=r<<2;n+=r}return 0};I.Rg.w$=function(m,g){g[0]=m[32]+m[0];
g[1]=m[33]+m[1];g[2]=m[34]+m[2];g[3]=m[35]+m[3];g[4]=m[36]+m[4];g[5]=m[37]+m[5];g[6]=m[38]+m[6];g[7]=m[39]+m[7];
g[8]=m[40]+m[8];g[9]=m[41]+m[9];g[10]=m[42]+m[10];g[11]=m[43]+m[11];g[12]=m[44]+m[12];g[13]=m[45]+m[13];
g[14]=m[46]+m[14];g[15]=m[47]+m[15];g[16]=m[48]+m[16];g[17]=m[49]+m[17];g[18]=m[50]+m[18];g[19]=m[51]+m[19];
g[20]=m[52]+m[20];g[21]=m[53]+m[21];g[22]=m[54]+m[22];g[23]=m[55]+m[23];g[24]=m[56]+m[24];g[25]=m[57]+m[25];
g[26]=m[58]+m[26];g[27]=m[59]+m[27];g[28]=m[60]+m[28];g[29]=m[61]+m[29];g[30]=m[62]+m[30];g[31]=m[63]+m[31];
g[32]=m[0]-m[32];g[33]=m[1]-m[33];g[34]=m[2]-m[34];g[35]=m[3]-m[35];g[36]=m[4]-m[36];g[37]=m[5]-m[37];
g[38]=m[6]-m[38];g[39]=m[7]-m[39];g[40]=m[8]-m[40];g[41]=m[9]-m[41];g[42]=m[10]-m[42];g[43]=m[11]-m[43];
g[44]=m[12]-m[44];g[45]=m[13]-m[45];g[46]=m[14]-m[46];g[47]=m[15]-m[47];g[48]=m[16]-m[48];g[49]=m[17]-m[49];
g[50]=m[18]-m[50];g[51]=m[19]-m[51];g[52]=m[20]-m[52];g[53]=m[21]-m[53];g[54]=m[22]-m[54];g[55]=m[23]-m[55];
g[56]=m[24]-m[56];g[57]=m[25]-m[57];g[58]=m[26]-m[58];g[59]=m[27]-m[59];g[60]=m[28]-m[60];g[61]=m[29]-m[61];
g[62]=m[30]-m[62];g[63]=m[31]-m[63];m[0]=g[16]+g[0];m[1]=g[17]+g[1];m[2]=g[18]+g[2];m[3]=g[19]+g[3];
m[4]=g[20]+g[4];m[5]=g[21]+g[5];m[6]=g[22]+g[6];m[7]=g[23]+g[7];m[8]=g[24]+g[8];m[9]=g[25]+g[9];m[10]=g[26]+g[10];
m[11]=g[27]+g[11];m[12]=g[28]+g[12];m[13]=g[29]+g[13];m[14]=g[30]+g[14];m[15]=g[31]+g[15];m[16]=g[0]-g[16];
m[17]=g[1]-g[17];m[18]=g[2]-g[18];m[19]=g[3]-g[19];m[20]=g[4]-g[20];m[21]=g[5]-g[21];m[22]=g[6]-g[22];
m[23]=g[7]-g[23];m[24]=g[8]-g[24];m[25]=g[9]-g[25];m[26]=g[10]-g[26];m[27]=g[11]-g[27];m[28]=g[12]-g[28];
m[29]=g[13]-g[29];m[30]=g[14]-g[30];m[31]=g[15]-g[31];g[0]=m[8]+m[0];g[1]=m[9]+m[1];g[2]=m[10]+m[2];
g[3]=m[11]+m[3];g[4]=m[12]+m[4];g[5]=m[13]+m[5];g[6]=m[14]+m[6];g[7]=m[15]+m[7];g[8]=m[0]-m[8];g[9]=m[1]-m[9];
g[10]=m[2]-m[10];g[11]=m[3]-m[11];g[12]=m[4]-m[12];g[13]=m[5]-m[13];g[14]=m[6]-m[14];g[15]=m[7]-m[15];
m[0]=g[4]+g[0];m[1]=g[5]+g[1];m[2]=g[6]+g[2];m[3]=g[7]+g[3];m[4]=g[0]-g[4];m[5]=g[1]-g[5];m[6]=g[2]-g[6];
m[7]=g[3]-g[7];m[8]=g[12]+g[8];m[9]=g[13]+g[9];m[10]=g[14]+g[10];m[11]=g[15]+g[11];m[12]=g[8]-g[12];
m[13]=g[9]-g[13];m[14]=g[10]-g[14];m[15]=g[11]-g[15];g[0]=m[2]+m[0];g[1]=m[3]+m[1];g[2]=m[0]-m[2];g[3]=m[1]-m[3];
g[4]=m[6]+m[4];g[5]=m[7]+m[5];g[6]=m[4]-m[6];g[7]=m[5]-m[7];g[8]=m[10]+m[8];g[9]=m[11]+m[9];g[10]=m[8]-m[10];
g[11]=m[9]-m[11];g[12]=m[14]+m[12];g[13]=m[15]+m[13];g[14]=m[12]-m[14];g[15]=m[13]-m[15];m[0]=g[1]+g[0];
m[1]=g[0]-g[1];m[2]=g[3]+g[2];m[3]=g[2]-g[3];m[4]=g[5]+g[4];m[5]=g[4]-g[5];m[6]=g[7]+g[6];m[7]=g[6]-g[7];
m[8]=g[9]+g[8];m[9]=g[8]-g[9];m[10]=g[11]+g[10];m[11]=g[10]-g[11];m[12]=g[13]+g[12];m[13]=g[12]-g[13];
m[14]=g[15]+g[14];m[15]=g[14]-g[15]};I.Rg.IoI=function(){var m="",g=64,L="v",K="t",r="a",R=5,Q,F,q;for(Q=g>>1;
Q>0;Q>>=1,R--){for(F=0;F<g;F++){q=(F>>R&1)!=0;if(q){m+=K+"["+F+"] = "+L+"["+(-Q+F)+"] - "+L+"["+F+"];  "}else{m+=K+"["+F+"] = "+L+"["+(Q+F)+"] + "+L+"["+F+"];  "}}r=L;
L=K;K=r;m+="\n"}console.log(m)};I.Rg.Ioa=function(m,g,L){var K=g,r=L,R=K,Q=0,q,n,W;while(m>>Q!=2)Q++;
var F=Q;for(q=m>>1;q>0;q>>=1,Q--){for(n=0;n<m;n++){W=(n>>Q&1)!=0;if(W)r[n]=K[-q+n]-K[n];else r[n]=K[q+n]+K[n]}R=K;
K=r;r=R}if((F&1)==1)for(q=0;q<m;q++)L[q]=K[q]};I.l_={};I.l_.wg=function(m,g,L,K,r,R,Q,F,q){var n=Date.now(),W=new Uint32Array(m.buffer),z=new Uint32Array(g.buffer),u=Q/L,N=F/K,b=1/u,B=1/N,h=new Float64Array(2),A=3,e=1/A,c=1/(A*A),a=0,$=0,G=L,o=K;
if(r){a=r.x;$=r.y;G=r.j;o=r.F}for(var H=0;H<o;H++)for(var f=0;f<G;f++){var E=a+f,S=$+H,V=S*L+E,J=V<<1,U=V<<2;
I.l_.IOB(R,Q,F,(E+.5)*u,(S+.5)*N,h);var j=h[0]*b,i=h[1]*B;if(j==0&&i==0)z[V]=W[V];else{I.i.Mv(E+j+.5,S+i+.5,W,L,K,z,V,q)}}};
I.l_.IOB=function(m,g,L,K,r,R){K-=.499999;r-=.499999;var Q=~~K,F=~~r,q=K-Q,n=r-F,W=(1-n)*(1-q),z=(1-n)*q,u=n*(1-q),N=n*q,b=Q<g-1?Q+1:Q,B=F<L-1?F+1:F,h=F*g+Q<<1,A=F*g+b<<1,e=B*g+Q<<1,c=B*g+b<<1;
R[0]=W*m[h]+z*m[A]+u*m[e]+N*m[c];R[1]=W*m[h+1]+z*m[A+1]+u*m[e+1]+N*m[c+1]};I.l_.IOA=function(m,g,L,K,r){var R=1/m,Q=[-1,1,-m,m],F=K.length;
for(var q=0;q<F;q++){var n=K[q],W=n<<1,z=q<<1,u=~~(n*R),N=n-m*u,b=L[W],B=L[W+1],h=0,A=0;if(N!=0&&N!=m-1){var e=n-1<<1,c=n+1<<1,a=L[e],$=L[c],G=L[e+1],o=L[c+1],H=b-(a+$)*.5,f=B-(G+o)*.5;
h-=H*r;A-=f*r}if(u!=0&&u!=g-1){var e=n-m<<1,c=n+m<<1,a=L[e],$=L[c],G=L[e+1],o=L[c+1],H=b-(a+$)*.5,f=B-(G+o)*.5;
h-=H*r;A-=f*r}L[W]=b+h;L[W+1]=B+A}};I.l_.IMm=function(m,g){var L=m+","+g;if(I.l_.fh==L)return I.l_.fV;
var K=I.l_.fV=[];I.l_.fh=L;for(var r=0;r<=1e3;r++){var R=r*.001,Q=Math.sqrt(R),F=Math.exp(-4*Q),q=.96*(1-Q*Q),n=g*((1-m)*F+m*q);
K[r]=n}return K};I.l_.fh="";I.l_.fV=[];I.l_.IMp=function(m,g,L,K,r,R,Q,F,q,n,W,z,u){var N=Math.max(0,Math.floor(r-Q-1)),b=Math.min(g,Math.ceil(r+Q+1)),B=Math.max(0,Math.floor(R-Q-1)),h=Math.min(L,Math.ceil(R+Q+1)),A=2*g,e=Q*Q,c=1/Q,a=0;
if(u&&(K==3||K==6))q=-q;var $=I.l_.IMm(F,q);for(var G=B;G<h;G++)for(var o=N;o<b;o++){var H=G*g+o,f=H<<1,E=(r-o)*c,S=(R-G)*c,V=E*E+S*S;
if(V<1){z[a]=H;var J=$[~~(V*1e3)];if(K==1){m[f]=m[f]*(1-J*.05);m[f+1]=m[f+1]*(1-J*.05)}else{var U=0,j=0,P,w,d,T;
if(K==0){U=n*J;j=W*J}else if(K==2){}else if(K==3){U=J*S;j=-J*E}else if(K==4){U=J*E;j=J*S}else if(K==5){U=-J*E;
j=-J*S}else if(K==6){U=W*J;j=-n*J}var i=m[f],k=m[f+1];if(o==0||o!=g-1&&U<0){P=1+m[f+2]-i;d=m[f+3]-k}else{P=i-m[f-2]+1;
d=k-m[f-1]}if(G==0||G!=L-1&&j<0){w=m[f+A]-i;T=1+m[f+A+1]-k}else{w=i-m[f-A];T=k-m[f-A+1]+1}m[f]=-(P*U+w*j-i);
m[f+1]=-(d*U+T*j-k)}a++}}};I.l_.IoR=function(m){var g=m[0],L=m[0],K=m[1],r=m[1];for(var R=0;R<m.length;
R+=2){var Q=m[R],F=m[R+1];if(Q<g)g=Q;else if(Q>L)L=Q;if(F<K)K=F;else if(F>r)r=F}return[g,K,L,r]};I.IMD=function(m,g,L,K,r){function R(_,M,jt,aR){return Math.sqrt((_-jt)*(_-jt)+(M-aR)*(M-aR))}function Q(_,M){return _>=0&&_<g&&M>=0&&M<L}function F(_){if(_<0)return 0;
if(_>=g)return g-1;return _}function q(_){if(_<0)return 0;if(_>=L)return L-1;return _}function n(s,_){var M=_[3]*(1/255),jt=K[s]+_[0]*M;
if(jt>255)jt=255;K[s]=jt;jt=K[s+1]+_[1]*M;if(jt>255)jt=255;K[s+1]=jt;jt=K[s+2]+_[2]*M;if(jt>255)jt=255;
K[s+2]=jt}function W(_,M,jt){if(!T(_,M))return;if(jt[3]<0)jt[3]=0;n((M*g+_)*4,jt)}function z(_){var M=_.slice(0,3);
M[3]=0;return M}var u=g/800;function N(_){return Math.round(_*u)}function b(){for(var s=0;s<=300;s++){D[s]=B(s)}}function B(L){var _=.8,M=.2,jt=_*M,aR=L/60%2-1,aL=jt*(1-aR*aR),aw=M-jt,ap;
if(L<60){ap=[jt+aw,aL,0]}else if(L<120){ap=[aL,jt,0]}else if(L<180){ap=[0,jt,aL]}else if(L<240){ap=[0,aL,jt]}else if(L<300){ap=[aL,0,jt]}else{ap=[jt,0,aL]}return[(ap[0]+aw)*255,(ap[1]+aw)*255,(ap[2]+aw)*255]}function h(L){return D[~~L]}function A(_){return 1-e(_)}function e(_){return _-~~_}function c(_,M,jt,aR){w(_,M,jt,0,M+1,1,aR)}function a(_,M,jt,aR,aL,aw){w(_,M,jt,0,aR,1,aL,aw)}function $(_){for(var s=0;
s<K.length;s+=4){n(s,_)}}function G(_,M,jt,aR,aL,aw,ap,al){o(_,M,jt,aR,aL,1,aw,ap,al)}function o(_,M,jt,aR,aL,aw,ap,al,ak){if(aw==null)aw=.5;
if(ap==null)ap=0;if(al==null)al=0;if(ak==null)ak=!1;var ao=_.x,aZ=_.y,aS=jt.slice(0),an=~~(jt[3]*aQ);
aR=aR*aQ;if(!ak){M=d(M);aL=d(aL);ap=d(ap);al=d(al)}var IU=F(ao-M),a_=F(ao+M);for(var aG=IU;aG<=a_;aG++){var aM=aG-ao,av=Math.floor(Math.sqrt(M*M-aM*aM)),aA=q(aZ-av),IL=q(aZ);
for(var aB=aA;aB<=IL;aB++){var aV=R(aG,aB,ao,aZ);if(aV>M||aV<=M-aL)break;var Ia=(aV-M+aL)/aL;aS[3]=an-aR*(aw==1?Ia:Math.pow(Ia,aw));
n((aB*g+aG)*4,aS)}aA=q(aZ+av);for(var aB=aA;aB>IL;aB--){var aV=R(aG,aB,ao,aZ);if(aV>M||aV<=M-aL)break;
var Ia=(aV-M+aL)/aL;aS[3]=an-aR*(aw==1?Ia:Math.pow(Ia,aw));n((aB*g+aG)*4,aS)}}if(ap>0){w(_,M+ap,aS,aS[3],ap,1,0,0,!0)}if(al>0){w(_,M-aL,y(jt),-jt[3],al,1,0,0,!0)}}function H(_,M,jt,aR,aL,aw){w(_,M,jt,jt[3],M+1,1,aR,aL,aw)}function f(_,M,jt,aR,aL){if(aL==null)aL=!1;
var aw=_.x,ap=_.y;aR*=aQ;if(!aL){M=d(M);jt=d(jt)}var al=F(aw-M),ak=F(aw+M);for(var ao=al;ao<ak;ao++){var aZ=ao-aw,aS=~~Math.sqrt(M*M-aZ*aZ),an=q(ap-aS),IU=q(ap);
for(var a_=an;a_<=IU;a_++){var aG=R(ao,a_,aw,ap);if(aG>M||aG<=M-jt)break;var aM=(M-aG)/jt,av=h(300*aM);
av[3]=aR;n((a_*g+ao)*4,av)}an=q(ap+aS);for(var a_=an;a_>IU;a_--){var aG=R(ao,a_,aw,ap);if(aG>M||aG<=M-jt)break;
var aM=(M-aG)/jt,av=h(300*aM);av[3]=aR;n((a_*g+ao)*4,av)}}}function E(Z,_){var M=Z.oQ,jt=Z.Kp,aR=_.slice(0),aL=_[3]*aQ,aw=Math.abs(jt.y-M.y)>Math.abs(jt.x-M.x);
if(aw){var ap=M.x;M.x=M.y;M.y=ap;ap=jt.x;jt.x=jt.y;jt.y=ap}if(M.x>jt.x){var ap=M;M=jt;jt=ap}var al=jt.x-M.x,ak=jt.y-M.y,ao=al==0?1:ak/al,aZ=Math.round(M.x),aS=M.y+ao*(aZ-M.x),an=A(M.x+.5),IU=aZ,a_=~~aS;
if(aw){aR[3]=aL*A(aS)*an;W(a_,IU,aR);aR[3]=aL*e(aS)*an;W(a_+1,IU,aR)}else{aR[3]=aL*A(aS)*an;W(IU,a_,aR);
aR[3]=aL*e(aS)*an;W(IU,a_+1,aR)}var aG=aS-ao;aZ=Math.round(jt.x);aS=jt.y+ao*(aZ-jt.x);an=e(jt.x+.5);
var aM=aZ,av=~~aS;if(aw){aR[3]=aL*A(aS)*an;W(av,aM,aR);aR[3]=aL*e(aS)*an;W(av+1,aM,aR)}else{aR[3]=aL*A(aS)*an;
W(aM,av,aR);aR[3]=aL*e(aS)*an;W(aM,av+1,aR)}if(aw){for(var aA=IU+1;aA<=aM-1;aA++){aR[3]=aL*A(aG);W(~~aG,aA,aR);
aR[3]=aL*e(aG);W(~~aG+1,aA,aR);aG+=ao}}else{for(var aA=IU+1;aA<=aM-1;aA++){aR[3]=aL*A(aG);W(aA,~~aG,aR);
aR[3]=aL*e(aG);W(aA,~~aG+1,aR);aG+=ao}}}function S(_,M,jt,aR){for(var s=0;s<4;s++){var aL=_.oq(M+1.3*s,jt);
E(aL,aR,1)}}function jf(_,M){this.x=Math.round(_);this.y=Math.round(M)}var V=Math.PI/180;jf.prototype.oq=function(_,M){_=_*V;
var jt=this.x+M*Math.cos(_),aR=this.y+M*Math.sin(_);return new J(this.x,this.y,jt,aR)};jf.prototype.IOs=function(_,M){_=_*V;
var jt=this.um+M*Math.cos(_),aR=this.IxN+M*Math.sin(_);return new jf(jt,aR)};function J(_,M,jt,aR){this.oQ=new jf(_,M);
this.Kp=new jf(jt,aR)}J.prototype.gt=function(_){var M=_*this.oQ.x+(1-_)*this.Kp.x,jt=_*this.oQ.y+(1-_)*this.Kp.y;
return new jf(M,jt)};var U=G,j=H,i=c,k=a,P=f,w=o,d=N,T=Q,y=z,D=[];b();for(var s=0;s<m.length;s++){K[s]=m[s]}var Z=new J(g*r[2],L*r[3],g/2,L/2),aQ=r[1],aI=[];
aI[0]=function aq(){var _=[80,40,15,60],jt=0,aR=0;i(Z.gt(1.4),260,_,10);i(Z.gt(1),100,[240,50,50,30],30);
j(Z.gt(1),60,[255,40,0,40]);var M=[255,255,255,255];w(Z.gt(1),70,M,M[3],58,.5);i(Z.gt(1),12,M);M[3]=40;
U(Z.gt(1),150,M,M[3],150);for(var s=0;s<40;s++){jt+=Math.random()*25;aR=Math.random()*d(300)+d(100);
var aL=Z.gt(1).oq(jt,aR);E(Z.gt(1).oq(jt,aR),[110,110,110,30])}j(Z.gt(1),130,[255,255,255,8]);var aw=[170,30,23,70];
k(Z.gt(1),70,aw,1,3,3);var ap=[60,60,130,40];i(Z.gt(.47),44,ap,5);i(Z.gt(.43),22,ap,3);ap[3]=16;i(Z.gt(.53),15,ap,2);
var al=[138,94,42,100];i(Z.gt(.2),16,al,2);var ak=[130,255,170,180];j(Z.gt(0),4,ak);j(Z.gt(-.25),5,ak);
al=[150,90,0,50];U(Z.gt(-.45),55,y(al),-al[3],40,2);i(Z.gt(-.42),35,al,2);i(Z.gt(-.5),15,al,2);P(Z.gt(-1.28),145,11,70);
var ao=h(0);ao[3]=50;U(Z.gt(-1.28),149,ao,ao[3],4);ao=h(300);ao[3]=50;U(Z.gt(-1.28),155-1,y(ao),-ao[3],3);
var aZ=[130,130,10,50];k(Z.gt(-1),73,aZ,3,2);var aS=[40,130,70,40];U(Z.gt(-1),70,y(aS),-aS[3],35);aS=[40,170,60,50];
i(Z.gt(-.7),25,aS,4);var aS=[70,110,50,60];U(Z.gt(1.3),30,y(aS),-aS[3],11,3);ap=[0,50,210,80];j(Z.gt(-.72),20,ap)};
aI[1]=function aa(){j(Z.gt(1),150,[240,70,70,60]);i(Z.gt(1),100,[200,60,60,40],30);var _=[255,255,255,255],M=0,jt=0;
w(Z.gt(1),75,_,_[3],63);i(Z.gt(1),12,_);j(Z.gt(1),270,[200,200,200,20],10);for(var s=0;s<10;s++){M+=10+Math.random()*40;
jt=Math.random()*d(250)+d(80);var aR=Z.gt(1).oq(M,jt);E(aR,[110,110,110,35])}M=5;jt=100;for(var s=0;
s<12;s++){M+=30;S(Z.gt(1),M,jt,[90,90,90,40])}var aL=[150,40,23,100];k(Z.gt(1),70,aL,1,3,3);var aw=[30,100,60,40];
j(Z.gt(-.9),180,[255,255,255,20]);i(Z.gt(-.9),140,aw,15);var ap=[170,80,25,15];k(Z.gt(-.9),120,ap,1,4,4);
var al=[110,240,190,200];j(Z.gt(-.6),3,al);al[3]=100;j(Z.gt(-.6),7,al);var ak=[230,120,40,85];j(Z.gt(-.73),9,ak);
var ao=[60,60,190,50];i(Z.gt(.3),28,ao,6);ao[3]=25;i(Z.gt(.34),20,ao,3)};aI[2]=function aD(){var _=[255,255,255,255],jt=0,aR=0;
i(Z.gt(1),13,_);w(Z.gt(1),150,_,_[3],137);var M=[120,80,35,20];i(Z.gt(1.4),260,M,10);for(var s=0;s<40;
s++){jt+=5+Math.random()*30;aR=Math.random()*d(300);E(Z.gt(1).oq(jt,aR),[110,110,110,20])}var aL=[10,30,255,30];
i(Z.gt(1),70,aL,50);var aw=[15,90,170,15];i(Z.gt(1.5),60,aw);var ap=[220,220,20,50];i(Z.gt(-1.15),8,ap,2);
var _=[255,255,255,40];j(Z.gt(-1.18),6,_);j(Z.gt(-1.18),4,_);ap=[110,110,10,8];U(Z.gt(-1.2),32,y(ap),-ap[3],20,3);
var al=[5,0,16,255];for(var s=0;s<4;s++){i(Z.gt(-1.36),10,al,3)}var ak=[90,200,150,20],ao=ak.slice(0);
ao[3]*=2;i(Z.gt(-1.32),7,ao,3);i(Z.gt(-1.36),7,ao,3);i(Z.gt(-1.4),7,ao,3);var _=[230,230,230,100];j(Z.gt(-1.36),2,_);
_[3]=3;i(Z.gt(-.55),10,_);ap=[120,100,10,18];i(Z.gt(-.55),160,ap,8);i(Z.gt(-.55),80,ap,4);ak[3]=3;ao[3]=6;
U(Z.gt(-.49),13,y(ao),-ao[3],13,2);U(Z.gt(-.55),13,y(ao),-ao[3],13,2);ak[3]=20;i(Z.gt(.15),25,ak,3);
ap[3]=100;j(Z.gt(-.52),3,ap);ap=[200,200,50,40];i(Z.gt(.27),1,ap,4);var aZ=[150,40,23,30];U(Z.gt(1),80,y(aZ),-aZ[3],2,1)};
return aI[r[0]]()};I.za={};I.za.f$=function(m){var g=~~(m+.5);return g<0?0:g>255?255:g};I.za.transform=function(m,g,L){var K=I.za.f$,r=m.u.length;
for(var R=0;R<r;R++){var Q=m.u[R],F=m.S[R],q=m.R[R];g.u[R]=K(L[0]*Q+L[1]*F+L[2]*q+L[3]*255);g.S[R]=K(L[4]*Q+L[5]*F+L[6]*q+L[7]*255);
g.R[R]=K(L[8]*Q+L[9]*F+L[10]*q+L[11]*255)}};I.za.wK=function(m,g,L){var K=I.za.f$,r=m.length;for(var R=0;
R<r;R+=4){var Q=m[R],F=m[R+1],q=m[R+2];g[R]=K(L[0]*Q+L[1]*F+L[2]*q+L[3]*255);g[R+1]=K(L[4]*Q+L[5]*F+L[6]*q+L[7]*255);
g[R+2]=K(L[8]*Q+L[9]*F+L[10]*q+L[11]*255)}};I.za.wA=function(m){var g=m[0]+m[1]+m[2],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(g==1){var K=m.indexOf(1);L[K]=L[K+4]=L[K+8]=1}else{L[0]=m[0];L[5]=m[1];L[10]=m[2]}return L};I.za.I$=function(m,g,L){return[1,0,0,m,0,1,0,g,0,0,1,L,0,0,0,1]};
I.za.Ir=function(m,g,L){return[m,0,0,0,0,g,0,0,0,0,L,0,0,0,0,1]};I.za.IoS=function(m){return[m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]]};
I.za.Ab=function(m){return[m[0],m[1],m[2],0,m[3],m[4],m[5],0,m[6],m[7],m[8],0,0,0,0,1]};I.za.hj=function(m,g){return[m[0]*g[0]+m[1]*g[1]+m[2]*g[2]+m[3]*g[3],m[4]*g[0]+m[5]*g[1]+m[6]*g[2]+m[7]*g[3],m[8]*g[0]+m[9]*g[1]+m[10]*g[2]+m[11]*g[3],m[12]*g[0]+m[13]*g[1]+m[14]*g[2]+m[15]*g[3]]};
I.za.GL=function(m){var g=[];g[0]=m[0];g[1]=m[4];g[2]=m[8];g[3]=m[12];g[4]=m[1];g[5]=m[5];g[6]=m[9];
g[7]=m[13];g[8]=m[2];g[9]=m[6];g[10]=m[10];g[11]=m[14];g[12]=m[3];g[13]=m[7];g[14]=m[11];g[15]=m[15];
return g};I.za.multiply=function(m,g){var L=[];L[0]=m[0]*g[0]+m[1]*g[4]+m[2]*g[8]+m[3]*g[12];L[1]=m[0]*g[1]+m[1]*g[5]+m[2]*g[9]+m[3]*g[13];
L[2]=m[0]*g[2]+m[1]*g[6]+m[2]*g[10]+m[3]*g[14];L[3]=m[0]*g[3]+m[1]*g[7]+m[2]*g[11]+m[3]*g[15];L[4]=m[4]*g[0]+m[5]*g[4]+m[6]*g[8]+m[7]*g[12];
L[5]=m[4]*g[1]+m[5]*g[5]+m[6]*g[9]+m[7]*g[13];L[6]=m[4]*g[2]+m[5]*g[6]+m[6]*g[10]+m[7]*g[14];L[7]=m[4]*g[3]+m[5]*g[7]+m[6]*g[11]+m[7]*g[15];
L[8]=m[8]*g[0]+m[9]*g[4]+m[10]*g[8]+m[11]*g[12];L[9]=m[8]*g[1]+m[9]*g[5]+m[10]*g[9]+m[11]*g[13];L[10]=m[8]*g[2]+m[9]*g[6]+m[10]*g[10]+m[11]*g[14];
L[11]=m[8]*g[3]+m[9]*g[7]+m[10]*g[11]+m[11]*g[15];L[12]=m[12]*g[0]+m[13]*g[4]+m[14]*g[8]+m[15]*g[12];
L[13]=m[12]*g[1]+m[13]*g[5]+m[14]*g[9]+m[15]*g[13];L[14]=m[12]*g[2]+m[13]*g[6]+m[14]*g[10]+m[15]*g[14];
L[15]=m[12]*g[3]+m[13]*g[7]+m[14]*g[11]+m[15]*g[15];return L};I.za.eb=function(m){var g=[];g[0]=m[5]*m[10]*m[15]-m[5]*m[14]*m[11]-m[6]*m[9]*m[15]+m[6]*m[13]*m[11]+m[7]*m[9]*m[14]-m[7]*m[13]*m[10];
g[1]=-m[1]*m[10]*m[15]+m[1]*m[14]*m[11]+m[2]*m[9]*m[15]-m[2]*m[13]*m[11]-m[3]*m[9]*m[14]+m[3]*m[13]*m[10];
g[2]=m[1]*m[6]*m[15]-m[1]*m[14]*m[7]-m[2]*m[5]*m[15]+m[2]*m[13]*m[7]+m[3]*m[5]*m[14]-m[3]*m[13]*m[6];
g[3]=-m[1]*m[6]*m[11]+m[1]*m[10]*m[7]+m[2]*m[5]*m[11]-m[2]*m[9]*m[7]-m[3]*m[5]*m[10]+m[3]*m[9]*m[6];
g[4]=-m[4]*m[10]*m[15]+m[4]*m[14]*m[11]+m[6]*m[8]*m[15]-m[6]*m[12]*m[11]-m[7]*m[8]*m[14]+m[7]*m[12]*m[10];
g[5]=m[0]*m[10]*m[15]-m[0]*m[14]*m[11]-m[2]*m[8]*m[15]+m[2]*m[12]*m[11]+m[3]*m[8]*m[14]-m[3]*m[12]*m[10];
g[6]=-m[0]*m[6]*m[15]+m[0]*m[14]*m[7]+m[2]*m[4]*m[15]-m[2]*m[12]*m[7]-m[3]*m[4]*m[14]+m[3]*m[12]*m[6];
g[7]=m[0]*m[6]*m[11]-m[0]*m[10]*m[7]-m[2]*m[4]*m[11]+m[2]*m[8]*m[7]+m[3]*m[4]*m[10]-m[3]*m[8]*m[6];g[8]=m[4]*m[9]*m[15]-m[4]*m[13]*m[11]-m[5]*m[8]*m[15]+m[5]*m[12]*m[11]+m[7]*m[8]*m[13]-m[7]*m[12]*m[9];
g[9]=-m[0]*m[9]*m[15]+m[0]*m[13]*m[11]+m[1]*m[8]*m[15]-m[1]*m[12]*m[11]-m[3]*m[8]*m[13]+m[3]*m[12]*m[9];
g[10]=m[0]*m[5]*m[15]-m[0]*m[13]*m[7]-m[1]*m[4]*m[15]+m[1]*m[12]*m[7]+m[3]*m[4]*m[13]-m[3]*m[12]*m[5];
g[11]=-m[0]*m[5]*m[11]+m[0]*m[9]*m[7]+m[1]*m[4]*m[11]-m[1]*m[8]*m[7]-m[3]*m[4]*m[9]+m[3]*m[8]*m[5];g[12]=-m[4]*m[9]*m[14]+m[4]*m[13]*m[10]+m[5]*m[8]*m[14]-m[5]*m[12]*m[10]-m[6]*m[8]*m[13]+m[6]*m[12]*m[9];
g[13]=m[0]*m[9]*m[14]-m[0]*m[13]*m[10]-m[1]*m[8]*m[14]+m[1]*m[12]*m[10]+m[2]*m[8]*m[13]-m[2]*m[12]*m[9];
g[14]=-m[0]*m[5]*m[14]+m[0]*m[13]*m[6]+m[1]*m[4]*m[14]-m[1]*m[12]*m[6]-m[2]*m[4]*m[13]+m[2]*m[12]*m[5];
g[15]=m[0]*m[5]*m[10]-m[0]*m[9]*m[6]-m[1]*m[4]*m[10]+m[1]*m[8]*m[6]+m[2]*m[4]*m[9]-m[2]*m[8]*m[5];var L=m[0]*g[0]+m[1]*g[4]+m[2]*g[8]+m[3]*g[12];
for(var K=0;K<16;K++)g[K]/=L;return g};I.za.IoO=function(m){var g=[],L=m[5]*m[10]*m[15]-m[5]*m[14]*m[11]-m[6]*m[9]*m[15]+m[6]*m[13]*m[11]+m[7]*m[9]*m[14]-m[7]*m[13]*m[10],K=-m[4]*m[10]*m[15]+m[4]*m[14]*m[11]+m[6]*m[8]*m[15]-m[6]*m[12]*m[11]-m[7]*m[8]*m[14]+m[7]*m[12]*m[10],r=m[4]*m[9]*m[15]-m[4]*m[13]*m[11]-m[5]*m[8]*m[15]+m[5]*m[12]*m[11]+m[7]*m[8]*m[13]-m[7]*m[12]*m[9],R=-m[4]*m[9]*m[14]+m[4]*m[13]*m[10]+m[5]*m[8]*m[14]-m[5]*m[12]*m[10]-m[6]*m[8]*m[13]+m[6]*m[12]*m[9];
return m[0]*L+m[1]*K+m[2]*r+m[3]*R};I.za.wH=I.za.Ab([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
I.za.Ioe=I.za.Ab([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
I.za.IMx=I.za.eb(I.za.wH);I.$k={};I.$k._h=new Uint32Array(1);I.$k.fr=function(m,g,L,K,r,R){var Q=new Uint32Array(m),F=0,q=I.$k._h;
if(q.length<g*4)I.$k._h=q=new Uint32Array(g*4);var n=new Float64Array(q.buffer);for(var W=0;W<g;W+=2){var z=r[W],u=r[W+1],N=R[W],b=R[W+1];
q[F]=u;n[F+2>>1]=N;q[F+1]=Q[z];Q[z]=F+1;F+=4;q[F]=z;n[F+2>>1]=b;q[F+1]=Q[u];Q[u]=F+1;F+=4}return{Pp:q,ISw:n,IiG:Q}};
I.$k.IF=function(m,g,L,K,r,R,Q){var F=1,q=I.$k.fr(m,g,L,K,r,R),n=q.Pp,W=q.ISw,z=q.IiG,u=new Uint32Array(m),N=new I.$k.wN(m),B=1,a=0;
N.push(L);N.push(K);var b=new I.$k.wN(m),h=new Uint8Array(m),A=new Uint32Array(m);h[L]=1;h[K]=2;var e=new Uint32Array(m),c=new Uint32Array(m);
c[L]=c[K]=0;e[L]=e[K]=1;while(!0){var $=-1,V=0,k=1e30;while(!N.hR()&&$==-1){var G=N.top(),o=h[G],H=z[G]-1;
while(H!=-1){var f=n[H],E=h[f],S=H^o-1<<2;if(W[S+2>>1]!=0){if(E==0){I.$k.wY(G,H,f,h,A,c,e);N.push(f)}else if(E==o&&e[f]<=e[G]&&c[f]>c[G])I.$k.wY(G,H,f,h,A,c,e);
else if(E!=o){$=S}}H=n[H+1]-1}if($!=-1)break;N.pop()}if($==-1){break}B++;var J=$;while(J!=-1){u[V]=J;
V++;J=A[n[J^4]]-1}var U=V>>1;for(var j=0;j<U;j++){var i=u[j];u[j]=u[V-j-1];u[V-j-1]=i}J=A[n[$]]-1;while(J!=-1){u[V]=J^4;
V++;J=A[n[J^4]]-1}for(var j=0;j<V;j++)k=Math.min(k,W[u[j]+2>>1]);a+=k;if(a>=Q)return{Ka:null,G_:a};for(var j=0;
j<V;j++){var P=u[j],w=P^4,G=n[w],f=n[P];W[P+2>>1]-=k;W[w+2>>1]+=k;if(W[P+2>>1]==0&&h[G]==h[f]){if(h[G]==1){A[f]=0;
b.push(f)}if(h[G]==2){A[G]=0;b.push(G)}}}while(!b.hR()){var G=b.pop(),o=h[G],H=z[G]-1,d=o==1?4:0,T=0,y=0,D=1e9;
while(H!=-1){var f=n[H],s=H^4,S=H^d;if(h[f]==o&&W[S+2>>1]>0&&I.$k.IMw(f,L,K,A,n,B,e,c)+1<D){T=f;y=s;
D=c[f]+1}H=n[H+1]-1}if(y!=0){I.$k.wY(T,y,G,h,A,c,e);continue}H=z[G]-1;while(H!=-1){var f=n[H],S=H^d;
if(h[f]==o){if(W[S+2>>1]>0){N.push(f)}if(A[f]==H+1){A[f]=0;b.push(f)}}H=n[H+1]-1}h[G]=0;N.remove(G)}}var Z=[];
for(var j=0;j<g;j+=2){var G=r[j],f=r[j+1];if(h[G]==1&&h[f]!=1){Z.push(j>>1)}if(h[f]==1&&h[G]!=1){Z.push(g+j>>1)}}return{Ka:Z,G_:a}};
I.$k.wY=function(m,g,L,K,r,R,Q){K[L]=K[m];r[L]=g+1;R[L]=R[m]+1;Q[L]=Q[m]};I.$k.IMw=function(m,g,L,K,r,R,Q,F){var q=m,n=K[m]-1,W=0;
while(n!=-1&&Q[m]!=R){m=r[n^4];n=K[m]-1;W++}if(n==-1&&m!=g&&m!=L)return 1e9;var z=F[m]+W;W=0;n=K[q]-1;
while(q!=m){F[q]=z-W;W++;Q[q]=R;q=r[n^4];n=K[q]-1}return z};I.$k.Ion=function(m,g,L,K,r,R){var Q=I.$k.fr(m,g,L,K,r,R),F=Q.Pp,q=Q.ISw,n=Q.IiG,W=0,z=0,u=new Uint32Array(m*2),N=new I.$k.fg(m),b=0;
while(!0){N.reset();N.push(L);for(var B=0;B<m;B++)u[B<<1]=0;while(!N.hR()){var h=N.pop(),A=n[h]-1;while(A!=-1){b=F[A];
if(u[b<<1]==0&&q[A+2>>1]>0&&b!=L){u[b<<1]=h+1;u[(b<<1)+1]=A;N.push(b)}A=F[A+1]-1}if(u[K<<1]!=0){break}}if(u[K<<1]==0){break}var e=1e30;
b=K;while(!0){var c=u[b<<1]-1;if(c==-1)break;var a=u[(b<<1)+1];e=Math.min(e,q[a+2>>1]);b=c}b=K;while(!0){var c=u[b<<1]-1;
if(c==-1)break;var a=u[(b<<1)+1],$=a^4;q[a+2>>1]-=e;q[$+2>>1]+=e;b=c}W+=e}var G=[];for(var B=0;B<g;B+=2){var c=r[B],b=r[B+1];
if((u[c<<1]!=0||c==L)&&u[b<<1]==0&&b!=L){G.push(B>>1)}if((u[b<<1]!=0||b==L)&&u[c<<1]==0&&c!=L){G.push(g+B>>1)}}return{Ka:G,G_:W}};
I.$k.fg=function(m){m|=m>>1;m|=m>>2;m|=m>>4;m|=m>>8;m|=m>>16;this.Eb=new Uint32Array(m+1);this.mR=m;
this.Xz=0;this.Xf=0};I.$k.fg.prototype={push:function(m){var g=this.Xf;this.Eb[g]=m;this.Xf=g+1&this.mR},pop:function(){var m=this.Xz,g=this.Eb[m];
this.Xz=m+1&this.mR;return g},hR:function(){return this.Xz==this.Xf},reset:function(){this.Xz=0;this.Xf=0}};
I.$k.wN=function(m){m|=m>>1;m|=m>>2;m|=m>>4;m|=m>>8;m|=m>>16;this.Eb=new Uint32Array(m+1);this.K$=new Uint32Array(m+1);
this.mR=m;this.Xz=0;this.Xf=0};I.$k.wN.prototype={top:function(){return this.Eb[this.Xz]},IoE:function(){return this.Eb[this.Xf]},push:function(m){if(this.K$[m]!=0)return;
this.K$[m]=this.Xf+1;var g=this.Xf;this.Eb[g]=m;this.Xf=g+1&this.mR},pop:function(){var m=this.Xz,g=this.Eb[m];
this.K$[g]=0;this.Xz=m+1&this.mR;return g},hR:function(){return this.Xz==this.Xf},remove:function(m){var g=this.K$[m]-1;
if(g==-1)return;this.K$[m]=0;if(g==this.Xz){this.pop();return}var L=this.pop();this.Eb[g]=L;this.K$[L]=g+1},TP:function(m){return m+this.mR+1&this.mR}};
I.$k.fW=function(m,g,L){var K=I.$k.wB(m,g,L);if(g<K-1)I.$k.fW(m,g,K-1);if(K<L)I.$k.fW(m,K,L)};I.$k.wB=function(m,g,L){var K=m[g+L>>>1];
while(g<=L){while(m[g]<K)g++;while(m[L]>K)L--;if(g<=L){I.$k.wn(m,g,L);g++;L--}}return g};I.$k.wn=function(m,g,L){var K=m[g];
m[g]=m[L];m[L]=K};I.xV={};I.xV.IMn=function(m){for(var g=0;g<m.length;g++)I.xV.hm(m,g)};I.xV.hm=function(m,g){m[g].v.keyShapeInvalidated={t:"bool",v:!0}};
I.xV.IMh=function(m){for(var g=0;g<m.length;g++)m[g].v.keyOriginIndex.v=g};I.xV.ae=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
I.xV.fc=function(m){m=m.v;var g={Rctn:2,Ln:4,Elps:5},L=g[m.classID],K=m.topLeft?I.xV.fY(m):null,r=null,R=0;
if(L==4){var Q=m.Strt.v,F=m.End.v;r=[Q.Hrzn.v.val,Q.Vrtc.v.val,F.Hrzn.v.val,F.Vrtc.v.val];R=m.Wdth.v.val}if(L==null)return null;
return I.xV.R_(L,L==4?null:I.xV.LU(m),K,r,R)};I.xV.uT=function(m,g,L,K,r,R){var Q={classID:m,unitValueQuadVersion:{t:"long",v:1}};
if(g)I.xV._J(Q,["Left","Top","Rght","Btom"],g);if(L)I.xV._J(Q,["topLeft","topRight","bottomRight","bottomLeft"],L);
if(m=="Ln"){Q.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:K[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:K[1]}}}},Q.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:K[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:K[3]}}}},Q.Wdth={t:"UntF",v:{type:"#Pxl",val:r}}}if(R)Q.Nm={t:"TEXT",v:R};
return{t:"Objc",v:Q}};I.xV.R_=function(m,g,L,K,r){var R=I.xV.ae(),Q=R.v;delete Q.keyShapeInvalidated;
Q.keyOriginType={t:"long",v:m};Q.keyOriginResolution={t:"doub",v:75};if(m==4){Q.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:K[0]},Vrtc:{t:"doub",v:K[1]}}};
Q.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:K[2]},Vrtc:{t:"doub",v:K[3]}}};g=[Math.min(K[0],K[2]),Math.min(K[1],K[3]),Math.max(K[0],K[2]),Math.max(K[1],K[3])];
Q.keyOriginLineWeight={t:"doub",v:r},Q.keyOriginLineArrowSt={t:"bool",v:!1};Q.keyOriginLineArrowEnd={t:"bool",v:!1};
Q.keyOriginLineArrWdth={t:"doub",v:0};Q.keyOriginLineArrLngth={t:"doub",v:0};Q.keyOriginLineArrConc={t:"long",v:0}}var F={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
Q.keyOriginShapeBBox={t:"Objc",v:F};I.xV.LI(Q,g);if(L!=null){var q={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
Q.keyOriginRRectRadii={t:"Objc",v:q};I.xV.Lp(Q,L)}return R};I.xV.f=function(m,g,L,K){var r=I.i.fx(g),R=I.i.fp(g),Q=Math.max(Math.abs(g[0]),Math.abs(g[1])),F=Math.max(Math.abs(g[3]),Math.abs(g[4]));
for(var q=0;q<m.length;q++){var n=m[q].v,W=n.keyShapeInvalidated;if(W&&W.v||n.keyOriginType==null)continue;
if(L.length!=0&&L.indexOf(q)==-1)continue;var z=n.keyOriginType.v;if(!r||!R||K&&z==2&&Math.abs(1-Q/F)>.01){I.xV.hm(m,q);
continue}var u=I.xV.hL(n);I.i.apply(g,u);I.xV.LI(n,[Math.min(u[0],u[2]),Math.min(u[1],u[3]),Math.max(u[0],u[2]),Math.max(u[1],u[3])]);
if(z==2){var N=I.xV.La(n),b=new aC(g[0],g[1],g[3],g[4],0,0);b.ir();if(b.Wh==0){N.push(N.shift());b.rotate(Math.PI/2);
b.ir()}if(b.Wh<0){var B=N[0];N[0]=N[1];N[1]=B;B=N[2];N[2]=N[3];N[3]=B}if(b.$Y<0){var B=N[0];N[0]=N[3];
N[3]=B;B=N[1];N[1]=N[2];N[2]=B}if(K)for(var h=0;h<4;h++)N[h]=N[h]*Q;I.xV.Lp(n,N)}if(z==4){n.keyOriginLineWeight.v*=Q;
var A=I.xV.fN(n);I.i.apply(g,A);I.xV.I_w(n,A)}}};I.xV.hw=function(m,g){var L=g.W;for(var K=0;K<m.length;
K++){var r=m[K].v,R=r.keyShapeInvalidated,u;if(R&&R.v||r.keyOriginType==null)continue;var Q=r.keyOriginType.v,F=I.xV.hL(r),q=F[0],n=F[1],W=F[2],z=F[3];
if(Q==1)u=I.q.RD.Rect(q,n,W-q,z-n,0);else if(Q==2){var N=I.xV.La(r);u=I.q.RD.Rect(q,n,W-q,z-n,N)}else if(Q==4){var b=I.xV.fN(r);
u=I.q.RD.eJ(b[0],b[1],b[2],b[3],r.keyOriginLineWeight.v)}else if(Q==5)u=I.q.RD.gB(q,n,W-q,z-n);var B=I.q._B(L,K),h=I.q.Ls(L,K);
u[2].au=L[B].au;var A=L;L=L.slice(0,B);for(var e=2;e<u.length;e++)L.push(u[e]);for(var e=B+h;e<A.length;
e++)L.push(A[e])}g.W=L;g.gg=!0};I.xV.Eq=function(m){var g=1e9,L=-g,K=1e9,r=-K,R=null,Q=m.zA(),F=Q[0],q=Q[1];
for(var n=0;n<q.length;n++){var W=F[q[n]],z=W.add.vogk;if(z==null)continue;var u=W.add.vmsk.N;for(var N=0;
N<z.length;N++){var b=z[N].v,B=b.keyShapeInvalidated;if(B&&B.v||b.keyOriginType==null)continue;if(q.length==1&&u.length!=0&&u.indexOf(N)==-1)continue;
var h=b.keyOriginType.v;if(h!=4){var A=I.xV.hL(b);g=Math.min(g,A[0]);K=Math.min(K,A[1]);L=Math.max(L,A[2]);
r=Math.max(r,A[3])}if(h==2&&R==null){R=I.xV.La(b)}}}return[g<L?[g,K,L,r]:null,R]};I.xV.IMP=function(m,g,L){var K=I.xV.Eq(m)[0],r;
if(K){var R=new aC;R.translate(-K[0],-K[1]);R.scale(1/(K[2]-K[0]),1/(K[3]-K[1]));R.scale(g[2]-g[0],g[3]-g[1]);
R.translate(g[0],g[1]);r=I.i.Gj(R)}var Q=m.zA(),F=Q[0],q=Q[1];for(var n=0;n<q.length;n++){var W=F[q[n]],z=W.add.vogk;
if(z==null)continue;var u=W.add.vmsk.N;for(var N=0;N<z.length;N++){var b=z[N].v,B=b.keyShapeInvalidated;
if(B&&B.v||b.keyOriginType==null)continue;if(q.length==1&&u.length!=0&&u.indexOf(N)==-1)continue;var h=b.keyOriginType.v;
if(h!=4&&g[0]!=null){var g=I.xV.hL(b);I.i.apply(r,g);I.xV.LI(b,g)}if(h==2&&L!=null){I.xV.Lp(b,L)}}}};
I.xV.hL=function(m){return I.xV.LU(m.keyOriginShapeBBox.v)};I.xV.LU=function(m){var g=m.Left.v.val,L=m.Rght.v.val,K=m.Top.v.val,r=m.Btom.v.val;
return[g,K,L,r]};I.xV.LI=function(m,g){I.xV._J(m.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],g)};
I.xV.La=function(m){return I.xV.fY(m.keyOriginRRectRadii.v)};I.xV.fY=function(m){var g=[],L=["topLeft","topRight","bottomRight","bottomLeft"];
for(var K=0;K<4;K++)g.push(m[L[K]].v.val);return g};I.xV.Lp=function(m,g){I.xV._J(m.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],g)};
I.xV._J=function(m,g,L){for(var K=0;K<4;K++)if(L[K]!=null)m[g[K]]={t:"UntF",v:{type:"#Pxl",val:L[K]}}};
I.xV.fN=function(m){var g=m.keyOriginLineStart.v,L=m.keyOriginLineEnd.v;return[g.Hrzn.v,g.Vrtc.v,L.Hrzn.v,L.Vrtc.v]};
I.xV.I_w=function(m,g){var L=m.keyOriginLineStart.v,K=m.keyOriginLineEnd.v;L.Hrzn.v=g[0];L.Vrtc.v=g[1];
K.Hrzn.v=g[2];K.Vrtc.v=g[3]};I.e={};I.e.clone=function(m){return{O:m.O.slice(0),D:m.D.slice(0)}};I.e.fb=function(m){if(m.length<6)return!0;
var g=m.length-4;for(var L=0;L<g;L+=2)if(!I.e.Lw(m[L],m[L+1],m[L+2],m[L+3],m[L+4],m[L+5]))return!1;if(!I.e.Lw(m[g],m[g+1],m[g+2],m[g+3],m[0],m[1]))return!1;
if(!I.e.Lw(m[g+2],m[g+3],m[0],m[1],m[2],m[3]))return!1;return!0};I.e.Lw=function(m,g,L,K,r,R){return(g-K)*(r-L)+(L-m)*(R-K)>=0};
I.e.LL=function(m){var g={},L=null,K=0,r={M:2,L:2,Q:4,C:6};for(var R=0;R<m.O.length;R++){var Q=m.O[R];
if(Q.charAt(0)=="#"){if(g[Q]==null)g[Q]={D:[],O:[]};L=g[Q]}else if(Q!="X"){L.O.push(Q);var F=r[Q];if(F==null)F=0;
for(var q=0;q<F;q++)L.D.push(m.D[K+q]);K+=F}}return g};I.e.Nk=function(m,g){m=I.e.IH(m);var L=m.D,K=m.O,r=0,R=[],Q=null;
for(var F=0;F<K.length;F++){var q=K[F];if(q=="M"){Q={IiY:r,SU:0,PD:!1};R.push(Q);r+=2}if(q=="C"){Q.SU++;
r+=6}if(q=="Z"){Q.PD=!0}}var n=[];for(var F=0;F<R.length;F++)if(R[F].SU!=0)n.push(R[F]);R=n;for(var F=0;
F<R.length;F++){var W=R[F],z=W.IiY,u=z+2+W.SU*6,b=0;W.Fi=I.e.Pt(L,z,u);var N=L[z]==L[u-2]&&L[z+1]==L[u-1];
for(var B=0;B<W.SU;B++){var h=z+B*6,A=h+6;b+=(L[A]-L[h])*(L[A+1]+L[h+1])}if(W.SU==2){var e=function(Z,aQ,aI){var aq=1-aI;
return aq*aq*aq*Z[aQ]+3*aq*aq*aI*Z[aQ+2]+3*aq*aI*aI*Z[aQ+4]+aI*aI*aI*Z[aQ+6]},c=L[z],a=L[z+1],$=L[z+6],G=L[z+7],o=L[z+6],H=L[z+7],f=e(L,z,.5),E=e(L,z+1,.5),S=e(L,z+6,.5),V=e(L,z+7,.5);
b=(f-c)*(E-a)+($-f)*(G-E)+(S-$)*(V-G)+(o-S)*(H-V)}if(!N)b+=(L[z]-L[u-2])*(L[z+1]+L[u-1]);W.Pl=b<=0}for(var F=0;
F<R.length-1;F++)for(var h=F+1;h<R.length;h++){var J=R[F],U=R[h];if(U.Fi.Vp(J.Fi)){R[F]=U;R[h]=J}}var j=R.length==0?!0:R[0].Pl,i=[{type:6},{type:8,all:0}];
for(var F=0;F<R.length;F++){var W=R[F],z=W.IiY,u=z+2+W.SU*6,N=L[z]==L[u-2]&&L[z+1]==L[u-1],k=W.PD||N?0:3,P=W.Pl==j&&!g?1:0;
if(!g&&F!=0){if(R[F-1].Fi.Vp(W.Fi)&&R[F-1].Pl!=W.Pl)P=0;for(var h=0;h<R.length;h++)if(h!=F&&R[h].Fi.Vp(W.Fi))P=0}i.push({type:k,length:W.SU+(N?0:1),au:P,OC:2});
for(var h=0;h<W.SU;h++){var r=z+h*6,w=new jf(L[r],L[r+1]),d=new jf(L[r+2],L[r+3]),T;if(h==0){if(N)T=new jf(L[u-4],L[u-3]);
else T=w.clone()}else T=new jf(L[r-2],L[r-1]);i.push({type:k+2,QR:T,Z:w,LM:d})}if(!N){var y=new jf(L[u-2],L[u-1]);
i.push({type:k+2,QR:new jf(L[u-4],L[u-3]),Z:y,LM:y.clone()})}}for(var h=0;h<i.length;h++){var D=i[h];
if(D.type>5||D.type==0||D.type==3)continue;var s=D.QR.TB(D.Z)||D.LM.TB(D.LM);if(!s){var J=D.QR.x*(D.Z.y-D.LM.y)+D.Z.x*(D.LM.y-D.QR.y)+D.LM.x*(D.QR.y-D.Z.y);
if(Math.abs(J)<1e-6)s=!0}if(s)D.type--}return i};I.e.Ng=function(){function m(K,r,R,Q){if(!Q&&K.LM.TB(K.Z)&&r.QR.TB(r.Z)){R.D.push(r.Z.x,r.Z.y);
R.O.push("L")}else{R.D.push(K.LM.x,K.LM.y,r.QR.x,r.QR.y,r.Z.x,r.Z.y);R.O.push("C")}}function g(K,r,R,Q,F,q){var n=r[R];
K.D.push(n.Z.x,n.Z.y);K.O.push("M");for(var W=R;W<R+Q-1;W++)m(r[W],r[W+1],K,q);if(!F)m(r[W],r[R],K,q)}function L(K,r){if(r==null)r=!1;
var R={D:[],O:[]};for(var Q=0;Q<K.length;Q++){if(K[Q].type>5)continue;var F=K[Q].length;if(F==0)continue;
if(Q==K.length-1)break;var q=K[Q].type==3;g(R,K,Q+1,F,q,r);if(!q)R.O.push("Z");Q+=F}return R}return L}();
I.e.Ios=function(m){var g=m.D,L=[],K,r=0;for(var R=0;R<m.O.length;R++){var Q=m.O[R];if(Q=="C"){K.push(g[r++],g[r++],g[r++],g[r++],g[r++],g[r++])}else if(Q=="Z"){}else{K=[];
if(Q!="M"){K.push(Q);R++}K.push(g[r++],g[r++]);L.push(K)}}return L};I.e.hg=function(m,g,L,K){if(K==null)K=1e9;
var r=1e9,R=0;for(var Q=0;Q<m.length;Q+=2){var F=g-m[Q],q=L-m[Q+1],n=F*F+q*q;if(n<r){r=n;R=Q>>>1}}return r<K*K?R:-1};
I.e.Ll=function(m,g,L,K){for(var r=0;r<m.length;r+=2){var R=m[r],Q=m[r+1],F=g[r],q=g[r+1];L[r]=R+(F-R)*K;
L[r+1]=Q+(q-Q)*K}};I.e.f=function(m,g,L){for(var K=0;K<m.length;K+=2){var r=m[K],R=m[K+1];L[K]=r*g.Wh+R*g.OS+g.gE;
L[K+1]=r*g.R+R*g.$Y+g.Dv}};I.e.Pt=function(m,g,L){if(g==null)g=0;if(L==null)L=m.length;var K=99999999999,r=-K,R=99999999999,Q=-R;
for(var F=g;F<L;F+=2){var q=m[F],n=m[F+1];K=Math.min(K,q);R=Math.min(R,n);r=Math.max(r,q);Q=Math.max(Q,n)}return new v(K,R,r-K,Q-R)};
I.e.fP=function(m,g){var L=Math.max(g.x,Math.min(g.x+g.j,m.x)),K=Math.max(g.y,Math.min(g.y+g.F,m.y)),r=m.x-L,R=m.y-K;
return Math.sqrt(r*r+R*R)};I.e.uV=function(m){if(m.L_())return new v(Math.floor(m.x),Math.floor(m.y),Math.ceil(m.j),Math.ceil(m.F));
var g=Math.floor(m.x),L=Math.ceil(m.x+m.j),K=Math.floor(m.y),r=Math.ceil(m.y+m.F);return new v(g,K,L-g,r-K)};
I.e.Ny=function(m){return I.e.uV(I.e.Pt(m))};I.e.Gl=function(m){var g=m.x,L=m.y,K=m.x+m.j,r=m.y+m.F;
return{O:["M","L","L","L","Z"],D:[g,L,K,L,K,r,g,r]}};I.e.concat=function(m,g,L){if(L==null)L=new aC;
for(var K=0;K<g.D.length;K+=2){var r=g.D[K],R=g.D[K+1];m.D.push(r*L.Wh+R*L.OS+L.gE);m.D.push(r*L.R+R*L.$Y+L.Dv)}for(var K=0;
K<g.O.length;K++)m.O.push(g.O[K])};I.e.IH=function(m){var g=m.D,L=[],K=[],r=0,R=0,Q=0,F=0,q=0,n=0,W=0,z=0,N=0;
for(var b=0;b<m.O.length;b++){var B=m.O[b];if(B=="M"){R=g[r];Q=g[r+1];r+=2;K.push(B);L.push(R,Q)}else if(B=="C"){F=g[r];
q=g[r+1];n=g[r+2];W=g[r+3];z=g[r+4];N=g[r+5];r+=6;K.push(B);L.push(F,q,n,W,z,N);R=z;Q=N}else if(B=="Q"){F=g[r];
q=g[r+1];n=g[r+2];W=g[r+3];r+=4;var h=F-R,A=q-Q,e=n-F,c=W-q;K.push("C");L.push(R+2/3*h,Q+2/3*A,F+1/3*e,q+1/3*c,n,W);
R=n;Q=W}else if(B=="L"){F=g[r];q=g[r+1];r+=2;var a=F-R,$=q-Q;K.push("C");L.push(R,Q,F,q,F,q);R=F;Q=q}else K.push(B)}return{O:K,D:L}};
I.e.I_S=function(m){var g=m.D,L=[],K=[],r=0;for(var R=0;R<m.O.length;R++){var Q=m.O[R];if(Q=="Q"){var F=g[r-2],q=g[r-1],n=g[r],W=g[r+1],z=g[r+2],N=g[r+3];
r+=4;var b=n-F,B=W-q,h=z-n,A=N-W;K.push("C");L.push(F+2/3*b,q+2/3*B,n+1/3*h,W+1/3*A,z,N)}else{var e=0;
if(Q=="M"||Q=="L")e=2;else if(Q=="C")e=6;for(var c=0;c<e;c++)L.push(g[r+c]);r+=e;K.push(Q)}}return{O:K,D:L}};
I.e.Ic=function(m,g){var L=m.D,K=[],r=[],R=0,Q=0,F=0,q=0,n=0,W=0,z=0,u=0,N=0;for(var b=0;b<m.O.length;
b++){var B=m.O[b];if(B=="M"){Q=L[R];F=L[R+1];R+=2;r.push(B);K.push(Q,F)}else if(B=="C"){q=L[R];n=L[R+1];
W=L[R+2];z=L[R+3];u=L[R+4];N=L[R+5];R+=6;I.e.LG(Q,F,q,n,W,z,u,N,g,r,K,0);Q=u;F=N}else r.push(B)}return{O:r,D:K}};
I.e.LG=function(m,g,L,K,r,R,Q,F,q,n,W,z){var u=Math.sqrt((Q-m)*(Q-m)+(F-g)*(F-g)),N=Math.sqrt((Q-r)*(Q-r)+(F-R)*(F-R))+Math.sqrt((r-L)*(r-L)+(R-K)*(R-K))+Math.sqrt((L-m)*(L-m)+(K-g)*(K-g)),b=(u+N)/2;
if(b<=q){n.push("C");W.push(L,K,r,R,Q,F)}else{var B=0,h=0,A=0,e=0,c=0,a=0,$=0,G=0,o=0,H=0,f=0,E=0,S=0;
h=(m+L)/2;A=(g+K)/2;e=(L+r)/2;c=(K+R)/2;a=(r+Q)/2;$=(R+F)/2;G=(h+e)/2;o=(A+c)/2;H=(e+a)/2;f=(c+$)/2;
E=(G+H)/2;S=(o+f)/2;I.e.LG(m,g,h,A,G,o,E,S,q,n,W,z+1);I.e.LG(E,S,H,f,a,$,Q,F,q,n,W,z+1)}};I.e.LT=function(m,g){var L=m.length-2,K=m[0],r=m[1],R=m[L],Q=m[L+1],F=R-K,q=Q-r,n=1/Math.sqrt(F*F+q*q),W=R*r-Q*K,z=-1,u=-1;
for(var N=2;N<L;N+=2){var b=m[N],B=m[N+1],h=Math.abs(q*b-F*B+W)*n;if(h>u){u=h;z=N}}if(u<g)return[K,r,R,Q];
var A=I.e.LT(m.slice(0,z+2),g),e=I.e.LT(m.slice(z),g);for(var N=2;N<e.length;N++)A.push(e[N]);return A};
I.e.I_M=function(){var m=function(K,r,R,Q,F,q){return(r-Q)*(F-R)+(R-K)*(q-Q)>=0},g=function(K,r,R,Q,F,q,n,W){var z=n-R,N=W-Q,b=F-R,B=q-Q,h=K-R,A=r-Q,e=z*z+N*N,c=z*b+N*B,a=z*h+N*A,$=b*b+B*B,G=b*h+B*A,o=1/(e*$-c*c),H=($*a-c*G)*o,f=(e*G-c*a)*o;
return H>=0&&f>=0&&H+f<1},L=function(K){var r=K.length>>>1,F=0;if(r<3)return[];var R=[],Q=[];for(var F=0;
F<r;F++)Q.push(F);var q=r;while(q>3){var n=Q[(F+0)%q],W=Q[(F+1)%q],z=Q[(F+2)%q],u=K[2*n],N=K[2*n+1],b=K[2*W],B=K[2*W+1],A=K[2*z],e=K[2*z+1],c=!1;
if(m(u,N,b,B,A,e)){c=!0;for(var a=0;a<q;a++){var $=Q[a];if($==n||$==W||$==z)continue;if(g(K[2*$],K[2*$+1],u,N,b,B,A,e)){c=!1;
break}}}if(c){R.push(n,W,z);Q.splice((F+1)%q,1);q--;F=0}else if(F++>3*q)break}R.push(Q[0],Q[1],Q[2]);
return R};return L}();I.e.I_V=function(m,g){var L={},K={O:[],D:[]};for(var r=0;r<g.length;r+=3){var R=g[r]*2,Q=g[r+1]*2,F=g[r+2]*2;
I.e.LS(m,R,Q,K,L);I.e.LS(m,R,F,K,L);I.e.LS(m,Q,F,K,L)}return K};I.e.LS=function(m,g,L,K,r){if(g>L){var R=L;
L=g;g=R}if(r[g+","+L])return;r[g+","+L]=!0;K.O.push("M","L");K.D.push(m[g],m[g+1],m[L],m[L+1])};I.e.fs=function(m,g){var L=[],K=m.length;
for(var r=0;r<K;r+=2){var R=m[r],Q=m[r+1],F=m[(r+2)%K],q=m[(r+3)%K];if(q<Q){var n=Q;Q=q;q=n}if(Q<g&&g<q){var W=(g-Q)/(q-Q);
L.push(R+W*(F-R))}}L.sort(function(z,u){return z-u});return L};I.e.IeQ=function(m,g){var L=g.slice(0),K=m.length/2,r=[],R=[];
for(var Q=0;Q<K;Q++){var F=(Q+1)%K,q=m[2*Q]-m[2*F],n=m[2*Q+1]-m[2*F+1];R[Q]=Math.sqrt(q*q+n*n)}for(var Q=0;
Q<K;Q++){var W=(Q-1+K)%K,F=(Q+1)%K,z=g[Q],u=z+g[W],N=z+g[F];if(u!=0)L[Q]=Math.min(L[Q],R[W]*z/u);if(N!=0)L[Q]=Math.min(L[Q],R[Q]*z/N)}for(var Q=0;
Q<K;Q++){var F=(Q+1)%K,b=(Q+2)%K,B=L[Q],h=L[F],A=m[2*Q],e=m[2*Q+1],c=m[2*F],a=m[2*F+1],$=m[2*b],G=m[2*b+1],o=R[Q],H=R[F],f=I.e.fz(A,e,c,a,$,G,B,h,o,H);
r.push(f[0],f[1],f[0],f[1],f[2],f[3]);r.push(f[2],f[3],f[4],f[5],f[6],f[7])}return r};I.e.fz=function(m,g,L,K,r,R,Q,F,q,n){if(q==null)q=Math.sqrt((L-m)*(L-m)+(K-g)*(K-g));
if(n==null)n=Math.sqrt((r-L)*(r-L)+(R-K)*(R-K));var W=.553,z=0,u=0,N=0,b=0;if(q!=0){z=(L-m)/q;u=(K-g)/q}if(n!=0){N=(r-L)/n;
b=(R-K)/n}var B=m+Q*z,h=g+Q*u,A=L-F*z,e=K-F*u;return[B,h,A,e,L-F*z*(1-W),K-F*u*(1-W),L+F*N*(1-W),K+F*b*(1-W),L+F*N,K+F*b]};
I.hA=function(){};I.hA.I_=function(m,g,L,K,r){var R=L.j,Q=L.F,F=R*Q,q=new Int32Array(F),n=0;for(var W=0;
W<F;W++)if(g[W]!=0){q[W]=n;n++}else if(m[(W<<2)+3]<200){q[W]=-2}else q[W]=-1;if(n==0)return;var z=new I.hd(n,n),u=new Array(3*n),N=new Array(3*n);
for(var W=0;W<N.length;W++)N[W]=u[W]=0;var b=1/255,B=[-R,-1,1,R],h=[],A=[];for(var e=0;e<Q;e++)for(var c=0;
c<R;c++){var a=e*R+c,$=a<<2,W=q[a],G=W*3,o=0,H=0,f=0;if(W==-1||W==-2)continue;for(var E=0;E<4;E++){if(E==2){H=f;
h[f]=0;A[f]=W;f++}var S=a+B[E],V=S<<2,J=q[S];if(E==0&&e==0||E==1&&c==0||E==2&&c==R-1||E==3&&e==Q-1||J==-2)continue;
o++;if(J==-1){u[G+0]+=m[V+0];u[G+1]+=m[V+1];u[G+2]+=m[V+2]}else{h[f]=-1;A[f]=J;f++;if(g[a]==g[S]){u[G+0]+=m[$+0]-m[V+0];
u[G+1]+=m[$+1]-m[V+1];u[G+2]+=m[$+2]-m[V+2]}}}h[H]=o;z.bf(h,A,f)}for(var W=0;W<F;W++)if(q[W]!=-1){var U=W<<2,j=q[W],i=j*3;
N[i]=m[U+0];N[i+1]=m[U+1];N[i+2]=m[U+2]}var k=Date.now();z.InJ(N,u,K,r);console.log(Date.now()-k);for(var W=0;
W<F;W++){var j=q[W],P=j*3,U=W<<2;if(j==-1||m[U+3]!=255)continue;m[U+0]=~~(.5+Math.max(0,Math.min(255,N[P+0])));
m[U+1]=~~(.5+Math.max(0,Math.min(255,N[P+1])));m[U+2]=~~(.5+Math.max(0,Math.min(255,N[P+2])))}};I.rect={};
I.rect.qC=function(m,g){var L=[m],K=[];for(var r=0;r<g.length;r++){var R=g[r],Q=!1;for(var F=r+1;F<g.length;
F++){var q=g[F];if(q[0]<=R[0]&&q[1]<=R[1]&&R[2]<=q[2]&&R[3]<=q[3]){Q=!0;break}}if(!Q)K.push(R)}g=K;for(var r=0;
r<g.length;r++){var R=g[r];for(var F=0;F<L.length;F++){var q=L[F],n=Math.max(R[0],q[0]),W=Math.min(R[2],q[2]),z=Math.max(R[1],q[1]),u=Math.min(R[3],q[3]);
if(n<W&&z<u){var N=[];if(q[1]<R[1]){var b=q.slice(0);b[3]=R[1];N.push(b)}if(q[0]<R[0]){var B=q.slice(0);
B[1]=z;B[2]=R[0];N.push(B)}if(R[2]<q[2]){var h=q.slice(0);h[1]=z;h[0]=R[2];N.push(h)}if(R[3]<q[3]){var A=[n,u,W,q[3]];
N.push(A)}if(N.length!=0){L[F]=N[0];for(var e=1;e<N.length;e++)L.push(N[e])}}}L.push(R);L=I.rect.Ieu(L)}L.sort(function(R,q){return R[1]!=q[1]?R[1]-q[1]:R[0]-q[0]});
return L};I.rect.Ieu=function(m){m=m.slice(0);for(var g=0;g<m.length;g++){var L=m[g],K=null;if(L[4]!=null)continue;
for(var r=0;r<m.length;r++){var R=m[r];if(g==r||R[4]!=null)continue;var Q=L[0]==R[0],F=L[1]==R[1],q=L[2]==R[2],n=L[3]==R[3];
if(F&&n&&(L[2]==R[0]||L[0]==R[2])){K=[Math.min(L[0],R[0]),L[1],Math.max(L[2],R[2]),L[3]]}if(Q&&q&&(L[3]==R[1]||L[1]==R[3])){K=[L[0],Math.min(L[1],R[1]),L[2],Math.max(L[3],R[3])]}if(K){m[g]=K;
m.splice(r,1);break}}if(K){g--}}return m};I.rect.hH=function(m){var g=new v;for(var L=0;L<m.length;L++)g=g.uM(m[L]);
return g};I.rect.Ies=function(m,g){var L=I.rect.hH,K=new UnionFind(m.length),o=1e3,H=1e3;for(var r=0;
r<m.length;r++)for(var R=r+1;R<m.length;R++){if(!g)continue;var Q=m[r],F=m[R],u=1e9,N=1e9;if(Q.tY(F)){K.link(r,R);
continue}var q=Q.x+Q.j,n=Q.y+Q.F,W=F.x+F.j,z=F.y+F.F;if((q<F.x||W<Q.x)&&(n<F.y||z<Q.y))continue;if(!(n<F.y||z<Q.y))u=Math.min(Math.abs(q-F.x),Math.abs(Q.x-W));
if(!(q<F.x||W<Q.x))N=Math.min(Math.abs(n-F.y),Math.abs(Q.y-z));var b=Math.min(u,N),B=Math.min(Q.j,Q.F,F.j,F.F);
if(b<.3*B)K.link(r,R)}var h=[],A={};for(var r=0;r<m.length;r++){var e=K.find(r),c=m[r];if(A[e]==null){A[e]=h.length;
h.push([])}h[A[e]].push(c)}var a=[],$=[];for(var r=0;r<h.length;r++){a.push(L(h[r]));var G=L(h[r]);G.TP=r;
$.push(G)}$.sort(function(P,w){return Math.max(w.F,w.j)-Math.max(P.F,P.j)});var f=new NETXUS.RectanglePacker(o,H);
while(!0){var E=!1;f.reset(o,H);for(var r=0;r<$.length;r++){var S=f.findCoords($[r].j,$[r].F);if(S){$[r].x=S.x;
$[r].y=S.y}else{o=Math.floor(o*1.1);H=Math.floor(H*1.1);E=!0;break}}if(E)continue;break}for(var r=0;
r<h.length;r++){var V=$[r],J=V.TP,U=a[J],j=h[J],i=V.x-U.x,k=V.y-U.y;for(var R=0;R<j.length;R++)j[R].offset(i,k)}};
I.Wq=function(){};I.Wq.HV=Math.floor(16*window.devicePixelRatio);I.Wq.LC={};I.Wq.ub=0;I.Wq.IP=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
I.Wq.Ief=["px","in","cm","mm","%"];I.Wq.qX=function(m,g,L){var K=g.Jt,r=[1,K,K/2.54,K/25.4,g.j/100][L];
return m*r};I.Wq.bT=function(m,g,L,K,r){var R=L.dA.$C,Q=[1,g,g/2.54,g/25.4,K/100][R],F=[2,3,2,1,2][R];
m=m/Q;var q=Math.round(m),n=R==0&&Math.abs(m-q)<1e-6?q+"":m.toFixed(F);if(r)n+=" "+I.Wq.Ief[R];return n};
I.Wq.ICQ=function(m,g,L,K){var r=L.dA.$C,R=[1,g,g/2.54,g/25.4,K/100][r];m=parseFloat(m)*R;return m};
I.Wq.ICm=function(m,g){var L=Math.round(I.Wq.HV*.5);I.Wq.ub=L;var K=document.createElement("canvas");
K.width=K.height=L;var r=K.getContext("2d");r.font=L*1.5+"px monospace";var R="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var Q=0;Q<R.length;Q++){r.fillStyle="#"+I.IA(g);r.fillRect(0,0,L,L);r.fillStyle="#"+I.IA(m);r.fillText(R[Q],0,L);
I.Wq.LC[R[Q]]=r.getImageData(0,0,L,L).data}};I.Wq.ICp=function(m,g,L){var K=0,r=0,R=4*I.Wq.HV;for(var Q=9;
Q>=0;Q--){var F=Math.pow(10,Q);if(5*F*m<=R){K=5*F;r=10;break}if(2*F*m<=R){K=2*F;r=4;break}if(1*F*m<=R){K=1*F;
r=10;break}}if(K==0){K=1;r=10}var q=Math.ceil(K*m),n=I.m(q*I.Wq.HV*4);I._U(n,4278190080|L);for(var Q=0;
Q<I.Wq.HV;Q++)I.Wq.Lv(n,4*Q*q,g);for(var Q=0;Q<q;Q++)I.Wq.Lv(n,4*((I.Wq.HV-1)*q+Q),g);if(K==2)r=2;if(K==5)r=5;
if(K>1||K==1&&q>20)for(var Q=1;Q<r;Q++)I.Wq.IC$(n,Q*(q/r),q,(Q&1)==1?.8:.7,g);return{qr:n,step:K}};I.Wq.IC$=function(m,g,L,K,r){var g=Math.round(g);
for(var R=Math.round(I.Wq.HV*K);R<I.Wq.HV-1;R++)I.Wq.Lv(m,4*(R*L+g),r)};I.Wq.Lv=function(m,g,L){m[g+0]=L>>16&255;
m[g+1]=L>>8&255;m[g+2]=L&255};I.Wq.ICd=function(m,g,L){var K=g&255,r=g>>8&255,R=g>>16&255,A,e,c,a;g=Math.round(K*.6)<<16|Math.round(r*.6)<<8|Math.round(R*.6);
I.Wq.ICm(Math.round(K*.8)<<16|Math.round(r*.8)<<8|Math.round(R*.8),L);var Q=this.ICp(m.T,g,L),F=m.TV(0,0),q=m.TV(m.r.j,m.r.F),n=Math.floor(F.x/Q.step)*Q.step,W=Math.ceil(q.x/Q.step)*Q.step,z=Math.floor(F.y/Q.step)*Q.step,u=Math.ceil(q.y/Q.step)*Q.step,N=m.nt(n,z),b=m.nt(W,z),B=Q.step*m.T,h=Math.ceil(B);
A=m.Ku.data;e=new v(0,0,m.r.j,I.Wq.HV);c=new v(0,0,h,I.Wq.HV);a=new v(0,Math.round(I.Wq.HV*.08),I.Wq.ub,I.Wq.ub);
for(var $=0;$<(W-n)/Q.step;$++){c.x=Math.round(N.x+$*B);I.pq(Q.qr,c,A,e,c);var G=(n+$*Q.step).toString(10);
for(var o=0;o<G.length;o++){a.x=c.x+3+o*Math.round(I.Wq.ub*.8);var H=I.Wq.LC[G[o]];I.pq(H,a,A,e,a)}}var f=new Uint32Array(Q.qr.buffer),E=new Uint32Array(Q.qr.length);
for(var S=0;S<h;S++)for(var V=0;V<I.Wq.HV;V++){E[S*I.Wq.HV+V]=f[V*h+S]}Q.qr=new Uint8Array(E.buffer);
A=m.oL.data;e=new v(0,0,I.Wq.HV,m.r.F);c=new v(0,0,I.Wq.HV,h);a=new v(Math.round(I.Wq.HV*.2),0,I.Wq.ub,I.Wq.ub);
for(var $=0;$<(u-z)/Q.step;$++){c.y=Math.round(N.y+$*B);I.pq(Q.qr,c,A,e,c);var G=Math.abs(z+$*Q.step).toString(10);
for(var o=0;o<G.length;o++){a.y=c.y+3+o*Math.round(I.Wq.ub*1.15);var H=I.Wq.LC[G[o]];I.pq(H,a,A,e,a)}}};
I.scale={};I.scale.Dt=document.createElement("canvas");I.scale.wu=I.scale.Dt.getContext("2d");I.scale.ICs=document.createElement("canvas");
I.scale.Ioz=I.scale.ICs.getContext("2d");I.scale.bs=function(m,g,L){var K=I.scale.Dt,r=I.scale.wu;K.width=g;
K.height=L;var R=new ImageData(new Uint8ClampedArray(m.buffer),g,L);r.putImageData(R,0,0);return r.createPattern(K,"repeat")};
I.scale.ITa=function(m,g,L,K,r,R,Q,F){var q=I.scale.qN(m,L,K,r,R,Q,F);I.cd(q.data,g)};I.scale.IvD=function(m,g,L,K,r,R,Q,F){var q=I.scale.qN(m,L,K,r,R,Q,F);
I.jR(q.data,g)};I.scale.qN=function(m,g,L,K,r,R,Q){var F=I.scale.Dt,q=I.scale.wu;F.width=g;F.height=L;
q.rect(0,0,g,L);q.translate(R,Q);q.scale(K,r);q.fillStyle=m;q.fill();return q.getImageData(0,0,g,L)};
I.scale.VQ=function(m,g,L,K,r,R,Q){if(Q<1)I.scale.Ive(m,g,L,K,r,R,Math.round(1/Q));else I.scale.IvS(m,g,L,K,r,R,Q)};
I.scale._f=function(m,g,L,K,r,R,Q,F){if(F)F=F.my(new v(0,0,g,L));m=new Uint32Array(m.buffer);K=new Uint32Array(K.buffer);
if(Q<1)I.scale.Ivr(m,g,L,K,r,R,Math.round(1/Q),F);else I.scale.Ivn(m,g,L,K,r,R,Q)};I.scale.IvS=function(m,g,L,K,r,R,Q){for(var F=0;
F<L;F++)for(var q=0;q<g;q++){var n=m[F*g+q],W=Math.min(Q,r-q*Q),z=Math.min(Q,R-F*Q);for(var u=0;u<z;
u++)for(var N=0;N<W;N++)K[(Q*F+u)*r+Q*q+N]=n}};I.scale.Ive=function(m,g,L,K,r,R,Q){for(var F=0;F<R;F++)for(var q=0;
q<r;q++){var n=0,W=Math.min(Q,g-q*Q),z=Math.min(Q,L-F*Q);for(var u=0;u<z;u++)for(var N=0;N<W;N++)n+=m[(Q*F+u)*g+(Q*q+N)];
K[F*r+q]=Math.round(n/(W*z))}};I.scale.Ivn=function(m,g,L,K,r,R,Q){for(var F=0;F<L;F++)for(var q=0;q<g;
q++){var n=m[F*g+q],W=Math.min(Q,r-q*Q),z=Math.min(Q,R-F*Q);for(var u=0;u<z;u++)for(var N=0;N<W;N++)K[(Q*F+u)*r+Q*q+N]=n}};
I.scale.Ivr=function(m,g,L,K,r,R,Q,F){var q=0,n=r,W=0,z=R;if(F){q=Math.floor(F.x/Q);n=Math.ceil((F.x+F.j)/Q);
W=Math.floor(F.y/Q);z=Math.ceil((F.y+F.F)/Q)}for(var u=W;u<z;u++)for(var N=q;N<n;N++){var b=0,B=0,h=0,A=0,e=Math.min(Q,g-N*Q),c=Math.min(Q,L-u*Q);
for(var a=0;a<c;a++)for(var $=0;$<e;$++){var G=m[(Q*u+a)*g+Q*N+$],o=G>>>24;b+=o;B+=o*(G>>>16&255);h+=o*(G>>>8&255);
A+=o*(G&255)}if(b!=0){var H=1/b;K[u*r+N]=b/(e*c)<<24|B*H<<16|h*H<<8|A*H}else K[u*r+N]=0}};I.I={};I.I.Ivt=function(m,g,L){var K=128,r=0,R=L.j,Q=L.F;
for(var F=0;F<Q;F++)for(var q=0;q<R;q++){if(m[r]>=K&&(q==0||m[r-1]<K||(q==R-1||m[r+1]<K)||(F==0||m[r-R]<K)||(F==Q-1||m[r+R]<K)))g[r]=255;
r++}};I.I.IZR=function(m,g,L,K){var r=new Uint32Array([4278190080,4294967295]),R=L.j,Q=L.F,F=0,q=0,n=R,W=Q;
if(K){F=K.x-L.x;q=K.y-L.y;n=F+K.j;W=q+K.F}var z=new Uint8Array(g.buffer),u=new Uint32Array(g.buffer);
for(var N=q;N<W;N++)for(var b=F;b<n;b++){var B=N*R+b;if((m[B]&128)!=0&&(N==0||(m[B-R]&128)==0||b==0||(m[B-1]&128)==0||b==R-1||(m[B+1]&128)==0||N==Q-1||(m[B+R]&128)==0)){u[B]=r[(b+N&4)>>>2]}}};
I.I.IZx=function(m,g,L,K,r,R){var Q=L.j,F=L.F,q=0,n=0,W=Q,z=F;if(K){q=K.x-L.x;n=K.y-L.y;W=q+K.j;z=n+K.F}var u=new Uint8Array(g.buffer),N=new Uint32Array(g.buffer);
for(var b=n;b<z;b++)for(var B=q;B<W;B++){var h=b*Q+B,A=m[h];if(r==1)N[h]=255-A>>>1<<24|R;else N[h]=255<<24|(A<<16|A<<8|A)}};
I.XK={};I.XK.Ln=function(m,g,L){var K,r;if(L=="front"){K=m.rect.clone();r=I.XK.IZG}if(L=="union"){K=m.rect.uM(g.rect);
r=I.XK.uM}if(L=="difference"){K=g.rect.clone();r=I.XK.IZo}if(L=="intersection"){K=m.rect.my(g.rect);
r=I.XK.my}if(L=="xor"){K=m.rect.uM(g.rect);r=I.XK.InL}if(K.L_())return null;var R=I.m(K.c());I.Cp(g.channel,g.rect,R,K);
var Q=I.m(K.c());I.Cp(m.channel,m.rect,Q,K);r(Q,R,R);var F=I.YR(R,K);if(F.L_())return null;if(!F.TB(K)){var q=I.m(F.c());
I.Cp(R,K,q,F);R=q;K=F}return{channel:R,rect:K}};I.XK.IZG=function(m,g,L){for(var K=0;K<m.length;K++)L[K]=m[K]};
I.XK.uM=function(m,g,L){for(var K=0;K<m.length;K++)L[K]=Math.min(m[K]+g[K],255)};I.XK.IZo=function(m,g,L){for(var K=0;
K<m.length;K++)L[K]=Math.max(g[K]-m[K],0)};I.XK.my=function(m,g,L){var K=1/255;for(var r=0;r<m.length;
r++)L[r]=m[r]*g[r]*K};I.XK.InL=function(m,g,L){var K=1/255;for(var r=0;r<m.length;r++)L[r]=Math.min(m[r]+g[r],255)-m[r]*g[r]*K};
I.hd=function(m,g){this.o=[];this.Oz=[0];this.EP=[];this.Ks=[];this.oJ=[0];this.og=[];this.Kt=[];this.rows=m;
this.cols=g};I.hd.prototype.clone=function(){var m=this,g=m.rows,L=m.cols,K=new I.hd(g,L);K.o=m.o.slice(0);
K.Oz=m.Oz.slice(0);K.EP=m.EP.slice(0);K.Ks=m.Ks.slice(0);K.oJ=m.oJ.slice(0);K.og=m.og.slice(0);K.Kt=m.Kt.slice(0);
return K};I.hd.prototype.bf=function(m,g,L){var K=this.Oz.length-1;for(var r=0;r<L;r++){var R=m[r],Q=g[r];
this.o.push(R);this.EP.push(Q);if(Q==K){this.Kt.push(R==0?0:1/R)}else{this.Ks.push(R);this.og.push(Q)}}this.Oz.push(this.o.length);
this.oJ.push(this.Ks.length)};I.hd.prototype.qI=function(m,g){var L=this,K=L.rows,r=L.o,R=L.EP;if(g==null)g=new Array(K);
for(var Q=0;Q<K;Q++){var F=L.Oz[Q],q=L.Oz[Q+1],n=0;while((q-F&3)!=0){n+=r[F]*m[R[F]];F++}for(var W=F;
W<q;W+=4)n+=r[W]*m[R[W]]+r[W+1]*m[R[W+1]]+r[W+2]*m[R[W+2]]+r[W+3]*m[R[W+3]];g[Q]=n}return g};I.hd.prototype.multiply=function(m){return this.LB(m.GL())};
I.hd.prototype.LB=function(m){var g=this,L=g.rows,K=g.cols,r=m.rows,R=new I.hd(L,r),Q=g.EP,F=m.EP;for(var q=0;
q<L;q++){var n=[],W=[],z=g.Oz[q],u=g.Oz[q+1];for(var N=0;N<r;N++){var b=m.Oz[N],B=m.Oz[N+1],h=0,A=z,e=b;
while(A<u&&e<B){var c=Math.max(Q[A],F[e]);while(A<u&&Q[A]<c)A++;while(e<B&&F[e]<c)e++;if(A<u&&e<B&&Q[A]==F[e])h+=g.o[A++]*m.o[e++]}if(h!=0){n.push(h);
W.push(N)}}R.bf(n,W,n.length)}return R};I.hd.prototype.GL=function(){var m=this.rows,g=this.cols,L=[];
for(var K=0;K<g;K++)L.push([[],[]]);var r=this.o,R=this.Oz,Q=this.EP;for(var K=0;K<m;K++){var F=R[K],q=R[K+1];
for(var n=F;n<q;n++){var W=L[Q[n]];W[0].push(r[n]);W[1].push(K)}}var z=new I.hd(g,m);for(var K=0;K<g;
K++)z.bf(L[K][0],L[K][1],L[K][1].length);return z};I.hd.prototype.xE=function(){var m=this.rows,g=this.cols,L=new Array(m),K=this.o,r=this.Oz,R=this.EP;
for(var Q=0;Q<m;Q++){var F=L[Q]=new Array(g);for(var q=0;q<g;q++)F[q]=0;var n=r[Q],W=r[Q+1];for(var z=n;
z<W;z++)F[R[z]]=K[z]}return L};I.hd.prototype.L$=function(m,g,L,K,r){function R(H,g,f,E){var S=H.length;
for(var V=0;V<S;V++)E[V]=H[V]-g[V]*f}function Q(H,g,f,E){var S=H.length,V=0;while((S-V&3)!=0){E[V]=H[V]+g[V]*f;
V++}for(var J=V;J<S;J+=4){E[J]=H[J]+g[J]*f;E[J+1]=H[J+1]+g[J+1]*f;E[J+2]=H[J+2]+g[J+2]*f;E[J+3]=H[J+3]+g[J+3]*f}}function F(H,g,f){var E=H.length;
for(var S=0;S<E;S++)f[S]=H[S]*g[S]}function q(H,g){var f=H.length,E=0,S=0;while((f-E&3)!=0){S+=H[E]*g[E];
E++}for(var V=E;V<f;V+=4)S+=H[V]*g[V]+H[V+1]*g[V+1]+H[V+2]*g[V+2]+H[V+3]*g[V+3];return S}var n=K!=null?2:1,W=Date.now(),z=0,u=this,N=m.slice(0),b=m.slice(0);
u.qI(m,b);R(g,b,1,N);var B=this.Kt;if(n==0){B=N.slice(0);B.fill(1)}var h=N.slice(0);F(B,N,h);var A=h.slice(0),e=q(N,h);
while(!0){u.qI(A,b);var c=e/q(A,b);Q(m,A,c,m);R(N,b,c,N);if((z&7)==0&&Math.sqrt(q(N,N))<L)break;if(n<=1)F(B,N,h);
else{var a=N.slice(0);K.IQd(a,N);r.IQW(h,a)}var $=q(N,h),o=$/e;Q(h,A,o,A);e=$;z++}};I.hd.prototype.ITR=function(m,g,L,K){var r=Date.now(),R=1.96,q=0;
if(L==null)L=5e-6;if(K==null)K=1e9;var Q=1-R,F=this.rows,n=this.Ks,W=this.oJ,z=this.og,u=this.Kt;while(!0){var N=0;
for(var b=0;b<F;b++){var B=g[b],h=W[b],A=W[b+1];if(A-h==4)B-=n[h]*m[z[h]]+n[h+1]*m[z[h+1]]+n[h+2]*m[z[h+2]]+n[h+3]*m[z[h+3]];
else for(var e=h;e<A;e++)B-=n[e]*m[z[e]];var c=m[b]*Q+u[b]*B*R,a=c-m[b];N+=a*a;m[b]=c}if(N/F<L||Date.now()>r+K)break}};
I.hd.prototype.InJ=function(m,g,L,K){var r=Date.now(),R=1.96,q=0;if(L==null)L=5e-5;if(K==null)K=1e9;
var Q=1-R,F=this.rows,n=this.Ks,W=this.oJ,z=this.og,u=this.Kt;while(!0){var N=0;for(var b=0;b<F;b++){var B=b*3,h=g[B],A=g[B+1],e=g[B+2],c=W[b],a=W[b+1];
for(var $=c;$<a;$++){var G=n[$],o=z[$]*3;h-=G*m[o+0];A-=G*m[o+1];e-=G*m[o+2]}var H=u[b]*R,f=m[B+0]*Q+h*H,E=m[B+1]*Q+A*H,S=m[B+2]*Q+e*H,V=f-m[B+0],J=E-m[B+1],U=S-m[B+2];
N+=.4*V*V+.5*J*J+.1*U*U;m[B+0]=f;m[B+1]=E;m[B+2]=S}if(N/F<L||Date.now()>r+K)break}};I.Kz={};I.Kz.uz=function(m,g,L){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:m},Vrtc:{t:"doub",v:g},Cnty:{t:"bool",v:L}}}};
I.Kz.f=function(m,g){for(var L=0;L<m.length;L++){var K=m[L].v,r=g.SW(new jf(K.Hrzn.v,K.Vrtc.v));K.Hrzn.v=Math.round(r.x);
K.Vrtc.v=Math.round(r.y)}};I.Kz.yI={};I.Kz.yI.IF=function(m,g){var L=m.length;for(var K=0;K<L;K++){var r=0,R=Number.NEGATIVE_INFINITY;
for(var Q=K;Q<L;Q++)if(Math.abs(m[Q][K])>R){r=Q;R=Math.abs(m[Q][K])}I.Kz.yI.InT(m,K,r);for(var Q=K+1;
Q<L;Q++){if(m[K][K]==0)return 1;var F=m[Q][K]/m[K][K];for(var q=K;q<L+1;q++)m[Q][q]-=m[K][q]*F}}for(var Q=L-1;
Q>=0;Q--){if(m[Q][Q]==0)return 1;var n=m[Q][L]/m[Q][Q];g[Q]=n;for(var q=Q-1;q>=0;q--){m[q][L]-=m[q][Q]*n;
m[q][Q]=0}}return 0};I.Kz.yI.Inl=function(m,g){var L=[];for(var K=0;K<m;K++){L.push([]);for(var r=0;
r<g;r++)L[K].push(0)}return L};I.Kz.yI.ITL=function(m){for(var g=0;g<m.length;g++)console.log(JSON.stringify(m[g]))};
I.Kz.yI.InT=function(m,g,L){var K=m[g];m[g]=m[L];m[L]=K};I.Kz.qs=function(m,g,L){var K=m.length-1,r=I.Kz.yI.Inl(K+1,K+2);
for(var R=1;R<K;R++){r[R][R-1]=1/(m[R]-m[R-1]);r[R][R]=2*(1/(m[R]-m[R-1])+1/(m[R+1]-m[R]));r[R][R+1]=1/(m[R+1]-m[R]);
r[R][K+1]=3*((g[R]-g[R-1])/((m[R]-m[R-1])*(m[R]-m[R-1]))+(g[R+1]-g[R])/((m[R+1]-m[R])*(m[R+1]-m[R])))}r[0][0]=2/(m[1]-m[0]);
r[0][1]=1/(m[1]-m[0]);r[0][K+1]=3*(g[1]-g[0])/((m[1]-m[0])*(m[1]-m[0]));r[K][K-1]=1/(m[K]-m[K-1]);r[K][K]=2/(m[K]-m[K-1]);
r[K][K+1]=3*(g[K]-g[K-1])/((m[K]-m[K-1])*(m[K]-m[K-1]));I.Kz.yI.IF(r,L)};I.Kz.InZ=function(m,g,L,K){if(m<=g[0])return L[0];
if(m>=g[g.length-1])return L[g.length-1];var r=1;while(g[r]<m)r++;var R=g[r],Q=g[r-1],F=L[r],q=L[r-1],n=(m-Q)/(R-Q),W=K[r-1]*(R-Q)-(F-q),z=-K[r]*(R-Q)+(F-q),u=(1-n)*q+n*F+n*(1-n)*(W*(1-n)+z*n);
return u};I.Kz.QQ=function(m,g,L,K){var r={MM:[m[0]],_E:[g[0]],PE:[]};K[0]=r;for(var R=1;R<m.length-1;
R++){r.MM.push(m[R]);r._E.push(g[R]);if(L[R]==!1){I.Kz.qs(r.MM,r._E,r.PE);r={MM:[m[R]],_E:[g[R]],PE:[]}}K[R]=r}r.MM.push(m[R]);
r._E.push(g[R]);I.Kz.qs(r.MM,r._E,r.PE);K[R]=r};I.Kz.Qa=function(m,g,L,K){if(m<=g[0])return L[0];if(m>=g[g.length-1])return L[g.length-1];
var r=1;while(g[r]<m)r++;var R=K[r-1];return I.Kz.InZ(m,R.MM,R._E,R.PE)};I.Kz.Qp=function(m){var g={MM:[],_E:[],AR:[]};
for(var L=0;L<m.length;L++){g.MM[L]=m[L].v.Hrzn.v;g._E[L]=m[L].v.Vrtc.v;g.AR[L]=m[L].v.Cnty?m[L].v.Cnty.v:!0}return g};
I.Kz.qQ=function(m,g,L){var K=0,r=255;if(L){K=-1e9;r=1e9}var R=I.Kz.Qp(m),Q=[];I.Kz.QQ(R.MM,R._E,R.AR,Q);
var F=[];for(var q=0;q<g;q++)F[q]=1/255*Math.max(K,Math.min(r,I.Kz.Qa(q*(255/(g-1)),R.MM,R._E,Q)));return F};
I.Kz.IEQ=function(m,g,L){var K=Math.round(m.length/20),r=g-m.length,R=L?(m[K]-m[0])/K:0,Q=L?m[0]-r*R:m[m.length-1],F=[];
for(var q=0;q<r;q++)F.push(Q+q*R);return L?F.concat(m):m.concat(F)};I.Kz.ea=function(m,g,L){var K=I.Kz.Qp(m),r=[];
I.Kz.QQ(K.MM,K._E,K.AR,r);var R=new Uint8Array(g),Q=g/256;for(var F=0;F<g;F++)R[F]=Math.max(0,Math.min(g-1,I.Kz.Qa(F*Q,K.MM,K._E,r)));
if(L){R[0]=0;if(R[1]>100)R[1]=.4*R[1];if(R[2]>150)R[1]=.7*R[2]}return R};I.Kz.QL=function(m,g){var L=new Uint8Array(m.length);
for(var K=0;K<m.length;K++)L[K]=g[m[K]];return L};I.Kz.yP=function(m,g,L){var K=p.Y("canvas","");K.width=g;
K.height=L;var r=K.getContext("2d"),R=I.Kz.ea(m,256);r.scale(g/255,L/255);r.fillStyle="#fff";r.fillRect(0,0,255,255);
r.fillStyle="#333";r.beginPath();r.moveTo(0,255);for(var Q=0;Q<R.length;Q++)r.lineTo(Q,255-R[Q]);r.lineTo(255,255);
r.closePath();r.fill();return K.toDataURL()};I.style={};I.style.stroke=function(m,g,L,K){var r=L.j,R=L.F,Q=new Float64Array(r*R);
I.style.ep(m,Q,r,R);I.style.Lr(g,L,Q,L,K)};I.style.Lr=function(m,g,L,K,r){var R=g.my(K),Q=R.j,F=R.F;
r+=.5;var q=R.x-g.x,n=R.y-g.y,W=g.j,z=R.x-K.x,u=R.y-K.y,N=K.j;for(var b=0;b<F;b++){var B=(b+u)*N+z,h=(b+n)*W+q;
for(var A=0;A<Q;A++){var e=Math.max(0,Math.min(1,r-L[B+A]));m[h+A]=Math.round(e*255)}}};I.style.ITN=function(m,g,L,K){for(var r=0;
r<L;r++)for(var R=0;R<g;R++){var Q=r*g+R,F=0,q=0,n=m[Q];if(R==0||r==0){F=m[Q+1]-n;q=m[Q+g]-n}else if(R==L-1||r==g-1){F=n-m[Q-1];
q=n-m[Q-g]}else{F=m[Q+1]-m[Q-1];q=m[Q+g]-m[Q-g]}if(F!=0||q!=0){var W=1/Math.sqrt(F*F+q*q);F*=W;q*=W}K[Q+Q]=F;
K[Q+Q+1]=q}};I.style.ep=function(m,g,L,K){var r=0,R=L*K;for(var Q=0;Q<R;Q++)r|=m[Q];if(r==0){g.fill(1e9);
return}var F=I.style.LF(m,L,K);for(var q=0;q<K;q++)for(var n=0;n<L;n++){var Q=q*L+n,W=F[Q*2],z=F[Q*2+1],u=(q+z)*L+n+W;
if(W==0&&z==0){g[Q]=0;continue}var N=Math.sqrt(W*W+z*z),b=m[u]*(1/255),B=1/N,h=Math.abs(W)*B,A=Math.abs(z)*B;
if(A>h){var e=A;A=h;h=e}g[Q]=N+I.style.IEj(h,A,b)}};I.style.IEj=function(m,g,L){return(.5-L)*m};I.style.LF=function(m,g,L,K){if(K==null){K=!0;
for(var r=0;r<m.length;r++)K=K&&(m[r]==0||m[r]==255)}var R=new Int16Array(g*L*2);if(K)I.style.IER(m,R,g,L);
else I.style.IEa(m,R,g,L);return R};I.style.IEa=function(m,g,L,K){var r=L*K;for(var R=0;R<r;R++)if(m[R]==0){g[R*2]=16383;
g[R*2+1]=16383}for(var Q=1;Q<=K-1;Q++){var R=Q*L;for(var F=0;F<=L-1;F++)I.style.QC(g,m,L,R+F<<1,-1);
for(var F=1;F<=L-1;F++)I.style.Vj(g,m,L,R+F<<1,-1);for(var F=L-2;F>=0;F--)I.style.Vj(g,m,L,R+F<<1,1)}for(var Q=K-2;
Q>=0;Q--){var R=Q*L;for(var F=0;F<=L-1;F++)I.style.QC(g,m,L,R+F<<1,1);for(var F=1;F<=L-1;F++)I.style.Vj(g,m,L,R+F<<1,-1);
for(var F=L-2;F>=0;F--)I.style.Vj(g,m,L,R+F<<1,1)}};I.style.Vj=function(m,g,L,K,r){var R=(K>>>1)+r<<1,Q=m[K],F=m[K+1],q=m[R]+r,n=m[R+1],W=q*q+n*n,z=Q*Q+F*F;
if(n!=16383&&(Q==16383||Math.sqrt(W)+(.5-g[(K>>>1)+n*L+q]*(1/255))<Math.sqrt(z)+(.5-g[(K>>>1)+F*L+Q]*(1/255)))){m[K]=q;
m[K+1]=n}};I.style.QC=function(m,g,L,K,r){var R=(K>>>1)+r*L<<1,Q=m[K],F=m[K+1],q=m[R],n=m[R+1]+r,W=q*q+n*n,z=Q*Q+F*F;
if(q!=16383&&(Q==16383||Math.sqrt(W)+(.5-g[(K>>>1)+n*L+q]*(1/255))<Math.sqrt(z)+(.5-g[(K>>>1)+F*L+Q]*(1/255)))){m[K]=q;
m[K+1]=n}};I.style.IER=function(m,g,L,K){var r=L*K;for(var R=0;R<r;R++)if(m[R]==0){g[R*2]=16383;g[R*2+1]=16383}for(var Q=1;
Q<=K-1;Q++){var R=Q*L;for(var F=0;F<=L-1;F++)I.style.QX(g,m,L,R+F<<1,-1);for(var F=1;F<=L-1;F++)I.style.Vw(g,m,L,R+F<<1,-1);
for(var F=L-2;F>=0;F--)I.style.Vw(g,m,L,R+F<<1,1)}for(var Q=K-2;Q>=0;Q--){var R=Q*L;for(var F=0;F<=L-1;
F++)I.style.QX(g,m,L,R+F<<1,1);for(var F=1;F<=L-1;F++)I.style.Vw(g,m,L,R+F<<1,-1);for(var F=L-2;F>=0;
F--)I.style.Vw(g,m,L,R+F<<1,1)}};I.style.Vw=function(m,g,L,K,r){var R=(K>>>1)+r<<1,Q=m[K],F=m[K+1],q=m[R]+r,n=m[R+1],W=q*q+n*n,z=Q*Q+F*F;
if(n!=16383&&(Q==16383||W<z)){m[K]=q;m[K+1]=n}};I.style.QX=function(m,g,L,K,r){var R=(K>>>1)+r*L<<1,Q=m[K],F=m[K+1],q=m[R],n=m[R+1]+r,W=q*q+n*n,z=Q*Q+F*F;
if(q!=16383&&(Q==16383||W<z)){m[K]=q;m[K+1]=n}};I.style.ISa=function(m,g,L,K,r){var R=L*K,Q=(L+K+1)*1.01;
for(var F=0;F<R;F++)if(m[F]<=r)g[F]=Q;for(var q=1;q<L;q++)g[q]=Math.min(g[q],g[q-1]);for(var n=1;n<K;
n++){var F=n*L;g[F]=Math.min(g[F],Math.min(g[F-L]+1,g[F-L+1]+Math.SQRT2));for(var q=1;q<L-1;q++){var W=g[++F],z=Math.min(g[F-1]+1,Math.min(g[F-L-1]+Math.SQRT2,Math.min(g[F-L]+1,g[F-L+1]+Math.SQRT2)));
if(z<W)g[F]=z}F++;g[F]=Math.min(g[F],Math.min(g[F-1]+1,Math.min(g[F-L-1]+Math.SQRT2,g[F-L]+1)))}for(var q=L-2;
q>=0;q--)g[q+R-L]=Math.min(g[q+R-L],g[q+R-L+1]);for(var n=K-2;n>=0;n--){var F=n*L+L-1;g[F]=Math.min(g[F],Math.min(g[F+L]+1,g[F+L-1]+Math.SQRT2));
for(var q=L-2;q>=1;q--){var W=g[--F],z=Math.min(g[F+1]+1,Math.min(g[F+L-1]+Math.SQRT2,Math.min(g[F+L]+1,g[F+L+1]+Math.SQRT2)));
if(z<W)g[F]=z}F--;g[F]=Math.min(g[F],Math.min(g[F+1]+1,Math.min(g[F+L]+1,g[F+L+1]+Math.SQRT2)))}};I.style.IS_=function(m,g,L,K,r){var R=new Int32Array(L*K);
I.style.IEm(m,R,L,K,r);I.style.IEp(R,g,L,K)};I.style.IEm=function(m,g,L,K,r){var R=new Int32Array(K);
for(var Q=0;Q<L;Q++){var F=L+K;for(var q=K-1;q>=0;q--){if(m[q*L+Q]>r)F=0;else F++;R[q]=F}F=L+K;for(var q=0;
q<K;q++){if(m[q*L+Q]>r)F=0;else F++;g[q*L+Q]=F<R[q]?-F:R[q]}}};I.style.IEp=function(m,g,L,K){var r=(L+K)*(L+K),R=new Float64Array(L),Q=new Uint16Array(L);
for(var F=0;F<K;F++){var q=F*L,n=0;Q[0]=0;R[0]=-r;R[1]=+r;for(var W=1;W<L;W++){var z=m[W+q]*m[W+q]+W*W,u=(z-(m[Q[n]+q]*m[Q[n]+q]+Q[n]*Q[n]))/(2*W-2*Q[n]);
while(u<=R[n]){n--;u=(z-(m[Q[n]+q]*m[Q[n]+q]+Q[n]*Q[n]))/(2*W-2*Q[n])}n++;Q[n]=W;R[n]=u;R[n+1]=r}n=0;
for(var W=0;W<L;W++){while(R[n+1]<W)n++;var N=Q[n]-W,b=m[Q[n]+q],B=F*L+W<<1;g[B]=N;g[B+1]=b}}};I.style.Lg=function(m,g,L){if(L)for(var K=0;
K<m.length;K++){var r=m[K];if(r>0)m[K]=Math.max(0,Math.min(255,r+g*2*(I.style.NI(K)-128)))}else for(var K=0;
K<m.length;K++){var r=m[K];if(r>0)m[K]=Math.max(0,Math.min(255,r+Math.min(r*3,g*2*(I.style.NI(K)-128))))}};
I.style.NI=function(m){m=m^61^m>>16;m=m+(m<<3);m=m^m>>4;m=m*668265261;m=m^m>>15;return m&255};I.QI={};
I.QI.yA=function(m,g,L){var K=m.canvas,r=p.M(),R=Math.floor;if(K.width!=R(g*r)||K.height!=R(L*r))p.Tg(K,g,L,m)};
I.QI.qR=function(m,g,L,K,r,R){I.QI.yA(m,g,L);if(R==null)R=!1;var Q=r.channel,F=r.rect,q=!r.isEnabled;
g=Math.floor(g*p.M());L=Math.floor(L*p.M());if(g*L==0)return;var n=m.createImageData(g,L),W=n.data,z=1/g,u=1/L;
for(var N=0;N<L;N++)for(var b=0;b<g;b++){var B=N*g+b,h=B*4,A=Math.round(K.x+b*z*K.j),e=Math.round(K.y+N*u*K.F),c=0;
if(A<F.x||A>=F.x+F.j||e<F.y||e>=F.y+F.F)c=r.color;else c=Q[(e-F.y)*F.j+(A-F.x)];c=255*(255-r.kc)+c*r.kc>>>8;
if(R)c=170+Math.round(.4*(c-170));W[h]=c;W[h+1]=c;W[h+2]=c;W[h+3]=255}m.putImageData(n,0,0);if(q)I.QI.LK(m,g,L)};
I.QI.IEy=function(m,g,L,K){m.fillStyle="#eeeeee";m.fillRect(.6*g,.6*L,g,L);m.lineWidth=1.5;var r=.65*g,R=.95*g,Q=.65*L,F=.95*L,q=.75*g,n=.85*g,W=.75*L,z=.85*L;
m.beginPath();m.moveTo(r,Q);m.lineTo(R,Q);m.lineTo(R,F);m.lineTo(r,F);m.lineTo(r,Q);m.moveTo(q,W);m.lineTo(n,W);
m.lineTo(n,z);m.lineTo(q,z);m.lineTo(q,W);m.closePath();m.stroke()};I.QI.Q$=[];I.QI.IEs=function(m,g,L){var K,r,R,Q=p.M();
g=Math.floor(Q*g);L=Math.floor(Q*L);K=Math.ceil(Math.max(g,L)*.35);r=g-K;R=L-K;var F=I.QI.Q$[K];if(F==null){m.save();
m.scale(1/Q,1/Q);m.fillStyle="#eeeeee";m.fillRect(r,R,g,L);m.lineWidth=1;m.strokeRect(r+2.5,R+2.5,g-r-5,L-R-5);
var q=m.createImageData(3,3);I._U(q.data,4278190080);q.data[4*4]=q.data[4*4+1]=q.data[4*4+2]=238;m.putImageData(q,r+1,R+1);
m.putImageData(q,g-4,R+1);m.putImageData(q,r+1,L-4);m.putImageData(q,g-4,L-4);m.restore();I.QI.Q$[K]=m.getImageData(r,R,g,L)}else m.putImageData(F,r,R)};
I.QI.IXM=function(m,g,L,K,r){I.QI.yA(m,g,L);g=Math.floor(g*p.M());L=Math.floor(L*p.M());var R=g/K.j;
if(g*L==0)return;m.fillStyle="#999999";m.setTransform(1,0,0,1,0,0);m.clearRect(0,0,g,L);var Q=I.QI.mm;
if(Q==null){Q=I.QI.mm=JSON.parse(JSON.stringify(aU.WL.default));Q.strokeEnabled.v=!0}Q.strokeStyleLineWidth.v.val=1*p.M()/R;
m.fillStyle="#ffffff";m.scale(R,R);I.q.Lt(r.W,m,0,0);I.q.Lt(r.W,m,0,0,Q)};I.QI.sS=null;I.QI.ql=function(m,g,L,K,r,R,Q,F){I.QI.yA(m,g,L);
g=Math.floor(g*p.M());L=Math.floor(L*p.M());if(g*L==0)return;var q=Math.max(g,L),n=I.QI.sS;if(n==null||n.width<q||n.height<q){I.QI.sS=n=m.createImageData(q,q)}q=n.width;
var W=n.data,z=K.j/g,u=K.F/L,N=1/255,b=R.x,B=R.x+R.j,h=R.y,A=R.y+R.F;for(var e=0;e<L;e++)for(var c=0;
c<g;c++){var a=e*q+c,$=a*4,G=~~(K.x+c*z),o=~~(K.y+e*u),H=I.tm(e,c,2);if(G<b||G>=B||o<h||o>=A){W[$]=H;
W[$+1]=H;W[$+2]=H;W[$+3]=255}else{var f=(o-R.y)*R.j+(G-R.x)<<2,E=r[f+3]*N;W[$]=r[f+0]*E+H*(1-E);W[$+1]=r[f+1]*E+H*(1-E);
W[$+2]=r[f+2]*E+H*(1-E);W[$+3]=255}}if(F!=null)for(var e=0;e<W.length;e+=4)W[e]=W[e+1]=W[e+2]=W[e+F];
m.putImageData(n,0,0);if(Q)I.QI.LK(m,g,L)};I.QI.IXn=function(m,g,L,K){I.QI.yA(m,g,L);m.fillStyle=I.QI.EX(K.Clr.v);
m.fillRect(0,0,g,L);I.QI.LA(m,g,L)};I.QI.QH=null;I.QI.IXB=function(m,g,L,K){I.QI.yA(m,g,L);var r=m.canvas.width,R=m.canvas.height,Q=I.QI.QH;
if(Q==null||Q.width!=r||Q.height!=R){m.fillStyle="#ffffff";m.fillRect(0,0,g,L);m.fillStyle="#000000";
m.font=""+L*.7+"px serif";m.fillText("T",(g-L*.43)/2,L*.75);m.fillText("T",(g-L*.43)/2,L*.75);I.QI.QH=m.getImageData(0,0,r,R)}else m.putImageData(Q,0,0)};
I.QI.IXH=function(m,g,L){I.QI.yA(m,g,L);m.clearRect(0,0,g,L);m.font=L*.7+"px serif";m.fillText(":(",(g-L*.43)/2,L*.7)};
I.QI.IXc=function(m,g,L,K){I.QI.yA(m,g,L);var r=qE.get(K),R=aT.get(qE.names[r]).substring(0,3);m.fillStyle="#ffffff";
m.fillRect(0,0,g,L);m.fillStyle="#000000";m.font=L*.55+"px sans-serif";var Q=m.measureText(R);m.fillText(R,(g-Q.width)/2,L*.67);
m.fillRect(0,0,g,L*.1);m.fillRect(0,L*.9,g,L*.1)};I.QI.IXP=function(m,g,L,K){I.QI.yA(m,g,L);var r=m.canvas.width,R=m.canvas.height,Q=m.getImageData(0,0,r,R);
I.G.IT(K.Grad.v,new Uint8Array(Q.data.buffer),new v(0,0,r,R),[1/r,0,0,1/R],r/2,R/2,!1,0,16711680,65280);
m.putImageData(Q,0,0);I.QI.LA(m,g,L)};I.QI.IXy=function(m,g,L,K,r){I.QI.yA(m,g,L);var R=m,Q=ai.rP(K.Ptrn.v,r.add.Patt);
if(Q==null)return;var F=Q.l;I.QI.ql(m,g,L,F,Q.qT,F,!1);I.QI.LA(R,g,L)};I.QI.LK=function(m,g,L){m.strokeStyle="#bb0000";
m.lineWidth=3;m.beginPath();m.moveTo(g*.15,L*.15);m.lineTo(g*.85,L*.85);m.moveTo(g*.85,L*.15);m.lineTo(g*.15,L*.85);
m.closePath();m.stroke()};I.QI.LK=function(m,g,L){m.strokeStyle="#bb0000";m.lineWidth=3;m.beginPath();
m.moveTo(g*.15,L*.15);m.lineTo(g*.85,L*.85);m.moveTo(g*.85,L*.15);m.lineTo(g*.15,L*.85);m.closePath();
m.stroke()};I.QI.LA=function(m,g,L){m.fillStyle="#eeeeee";m.fillRect(0,L*.75,g,L*.25);m.beginPath();
m.moveTo(0,L*.75);m.lineTo(g,L*.75);m.moveTo(g*.1,L*.875);m.lineTo(g*.9,L*.875);m.moveTo(g*.65,L*.825);
m.lineTo(g*.65,L*.95);m.closePath();m.stroke()};I.QI.EX=function(m){var g=I.G.EX(m),L=Math.round(g.u)<<16|Math.round(g.S)<<8|Math.round(g.R);
return"#"+I.IA(L)};I.q={};I.q.dD=function(m,g,L){var K=[],r=-1;for(var R=0;R<m.length;R++){var Q=m[R];
if((Q.type==0||Q.type==3)&&Q.au!=-1)r++;if(Q.type>5||Q.type==0||Q.type==3)continue;if(g!=null&&g.indexOf(r)==-1)continue;
if(L!=null&&L.indexOf(R)==-1)continue;K.push(Q.QR.x);K.push(Q.QR.y);K.push(Q.Z.x);K.push(Q.Z.y);K.push(Q.LM.x);
K.push(Q.LM.y)}return K};I.q.LH=function(m,g,L,K){var r=0,R=-1;for(var Q=0;Q<g.length;Q++){var F=g[Q];
if((F.type==0||F.type==3)&&F.au!=-1)R++;if(F.type>5||F.type==0||F.type==3)continue;if(L!=null&&L.indexOf(R)==-1)continue;
if(K!=null&&K.indexOf(Q)==-1)continue;F.QR.xF(m[r],m[r+1]);F.Z.xF(m[r+2],m[r+3]);F.LM.xF(m[r+4],m[r+5]);
r+=6}};I.q._R=function(m,g,L,K){var r=I.q.dD(m,L,K);I.e.f(r,g,r);I.q.LH(r,m,L,K)};I.q.IXz=function(m,g,L,K){var r=I.q.dD(m,L,K);
I.i.apply(g,r);I.q.LH(r,m,L,K)};I.q.IBj=function(m,g,L,K){if(L==null&&K==null){var r=I.q.IBJ(m,40);for(var R=0;
R<r.length;R++)m[R]=r[R]}var Q=I.q.dD(m,L,K);I.pl.apply(g,Q,I.e.Pt(Q));I.q.LH(Q,m,L,K)};I.q.IBJ=function(m,g){var L=[];
for(var K=0;K<m.length;K++){var r=m[K];if(r.type>5){L.push(JSON.parse(JSON.stringify(r)));continue}var R=I.q.IBo(m,K+1,r.length);
R=I.e.Ic(R,g);var Q=I.q.IBv(R);K+=r.length;r=JSON.parse(JSON.stringify(r));r.length=Q.length;L.push(r);
for(var F=0;F<Q.length;F++)L.push(Q[F])}return L};I.q.IBo=function(m,g,L){var K={O:["M"],D:[]},r=m[g],R=m[g+L-1];
K.D.push(r.Z.x,r.Z.y);for(var Q=1;Q<L;Q++){var F=m[g+Q-1],q=m[g+Q];K.O.push("C");K.D.push(F.LM.x,F.LM.y,q.QR.x,q.QR.y,q.Z.x,q.Z.y)}K.O.push("C");
K.D.push(R.LM.x,R.LM.y,r.QR.x,r.QR.y,r.Z.x,r.Z.y);return K};I.q.IBv=function(m){var g=[],L=m.O,K=m.D,r=0,R=K.length;
g.push({type:2,QR:new jf(K[R-4],K[R-3]),Z:new jf(K[0],K[1]),LM:new jf(K[2],K[3])});for(var Q=0;Q<L.length-2;
Q++){var F=Q*6+4;g.push({type:2,QR:new jf(K[F],K[F+1]),Z:new jf(K[F+2],K[F+3]),LM:new jf(K[F+4],K[F+5])})}return g};
I.q.IBZ=function(m){for(var g=0;g<m.length;g++){if(m[g].type>5)continue;var L=m[g].length;if(!(L==4||L==6||L==8)){g+=L;
continue}for(var K=0;K<L;K++){var r=m[g+1+K],R=m[g+1+(K+1)%L],Q=Math.min(r.Z.x,R.Z.x),F=Math.min(r.Z.y,R.Z.y),q=0,n=0;
if(r.Z.x<R.Z.x){q=r.Z.y-F;n=q-(R.Z.x-Q)}else{q=R.Z.y-F;n=q-(r.Z.x-Q)}if(Math.abs(n)<.2*q)return q}}return-1};
I.q.Oe=function(m,g){var L=null,K=-1;for(var r=0;r<m.length;r++){if(m[r].type>5)continue;var R=m[r].length;
if((m[r].type==0||m[r].type==3)&&m[r].au!=-1)K++;if(g!=null&&g.indexOf(K)==-1)continue;if(r==m.length-1)break;
var Q=m[r].type==3;if(L==null)L=I.q.Qu(m,r+1,R,Q);else{var F=I.q.Qu(m,r+1,R,Q);if(g!=null||m[r].au==0||m[r].au==-1||m[r].au==1){var q=Math.min(L.x,F.x),n=Math.min(L.y,F.y),W=Math.max(L.x+L.j,F.x+F.j),z=Math.max(L.y+L.F,F.y+F.F);
L.x=q;L.y=n;L.j=W-q;L.F=z-n}else if(m[r].au==2)L=L;else if(m[r].au==3)L=L.my(F)}r+=R}if(L==null||L.j<0||L.F<0)L=new v(0,0,0,0);
return L};I.q.IBn=new Float64Array(4);I.q.Qu=function(m,g,L,K){var r=I.q.IBn;r[0]=1e30;r[1]=1e30;r[2]=-1e30;
r[3]=-1e30;var R=m[g+L-1];if(!K)I.q.QY(R.Z.x,R.Z.y,R.LM.x,R.LM.y,m[g].QR.x,m[g].QR.y,m[g].Z.x,m[g].Z.y,r);
for(var Q=g;Q<g+L-1;Q++){var F=m[Q],q=m[Q+1];if(F.Z.TB(F.LM)&&q.QR.TB(q.Z)){r[0]=Math.min(r[0],Math.min(F.Z.x,q.Z.x));
r[1]=Math.min(r[1],Math.min(F.Z.y,q.Z.y));r[2]=Math.max(r[2],Math.max(F.Z.x,q.Z.x));r[3]=Math.max(r[3],Math.max(F.Z.y,q.Z.y))}else I.q.QY(F.Z.x,F.Z.y,F.LM.x,F.LM.y,q.QR.x,q.QR.y,q.Z.x,q.Z.y,r)}return new v(r[0],r[1],r[2]-r[0],r[3]-r[1])};
I.q.QY=function(m,g,L,K,r,R,Q,F,q){var n=1e30,W=1e30,z=-1e30,N=-1e30,b=40,B=L-m,h=K-g,A=r-L,e=R-K,c=Q-r,a=F-R,$=1/b;
for(var G=0;G<b+1;G++){var o=G*$,H=m+o*B,f=g+o*h,E=L+o*A,S=K+o*e,V=r+o*c,J=R+o*a,U=H+o*(E-H),j=f+o*(S-f),i=E+o*(V-E),k=S+o*(J-S),P=U+o*(i-U),w=j+o*(k-j);
if(P<n)n=P;if(w<W)W=w;if(P>z)z=P;if(w>N)N=w}q[0]=Math.min(q[0],n);q[1]=Math.min(q[1],W);q[2]=Math.max(q[2],z);
q[3]=Math.max(q[3],N)};I.q.QP=function(m,g){var L=m.length-3,K=g%L,r=Math.floor(K);if(g<0||r>=L)return null;
var R=m[3+r],Q=m[3+(r+1)%L],F=R.Z,q=R.LM,n=Q.QR,W=Q.Z,z=K-r,u=1-z,N=u*u*u*F.x+3*u*u*z*q.x+3*u*z*z*n.x+z*z*z*W.x,b=u*u*u*F.y+3*u*u*z*q.y+3*u*z*z*n.y+z*z*z*W.y;
return new jf(N,b)};I.q.Qt=function(m){var g=2,L=I.q.GM(m),K=!1,r=!1;for(var R=2;R<m.length;R++){var Q=m[R].au;
if(Q!=null){if(Q==2||Q==0)K=!0;if(Q==-1)r=!0}}if(r){var F=I.e.Ng(m);return{KL:Typr.U.pathToSVG({crds:F.D,cmds:F.O},g),gw:K?1:0}}if(K&&m.length<5e3&&L>1)m=I.q.Lc(m);
var F=I.e.Ng(m);return{KL:Typr.U.pathToSVG({crds:F.D,cmds:F.O},g),gw:K?1:0}};I.q.Lc=function(m){I.q.qi();
var g,L=I.q.Lz(m),K=[];for(var r=0;r<L.length;r++){var R=L[r][0],Q=L[r][1];if(Math.abs(R.area)<1e-5)K.push(R);
else if(g==null)g=R;else{g=g[Q](R);g.remove()}}if(g==null)g=new paper.CompoundPath(K);else{if(g.segments)g=new paper.CompoundPath(g);
for(var r=0;r<K.length;r++){g.children.push(K[r])}}var F=m.slice(0,2);F=F.concat(I.q.ay(g));if(F[2])F[2].au=1;
for(var r=3;r<F.length;r++)if(F[r].au!=null)F[r].au=-1;return F};I.q.qi=function(){if(I.q.ICS==null){var m=p.Y("canvas");
paper.setup(m);I.q.ICS=!0}};I.q.IBF=function(m,g){I.q.qi();var L=[],K=I.q.Lz(m),r=new paper.Path.Rectangle(new paper.Rectangle(g.x,g.y,g.j,g.F));
r.remove();r.fillColor=new paper.Color(1,0,0);for(var R=0;R<K.length;R++)if(r.intersects(K[R][0])||r.contains(K[R][0].segments[0].point))L.push(R);
return L};I.q.wF=function(m,g,L,K){I.q.qi();var r=L?{curves:!0,tolerance:K}:null,R=new paper.Point(g.x,g.y),Q=I.q.Lz(m);
for(var F=Q.length-1;F>=0;F--){var q=Q[F][0],n=q.hitTest(R,r);if(n!=null)return{Bj:F,OL:L?n.location.index:null}}return{Bj:-1}};
I.q.Vk=function(m,g){var L=[[],[],[]];for(var K=0;K<m.length;K++){var r=m[K];if(r.type>5||r.type==0||r.type==3)continue;
if(g.Rn(r.Z))L[0].push(K);if(g.Rn(r.QR))L[1].push(K);if(g.Rn(r.LM))L[2].push(K)}return L};I.q.Ihi=function(m,g,L){var K=L.slice(0),r=[null,null],R=-1,q=null;
for(var Q=2;Q<m.length;Q++){if((m[Q].type==0||m[Q].type==3)&&m[Q].au!=-1)R++;r[Q]=L[R]}L=r;var F=m.slice(0,2);
r=L.slice(0,2);for(var Q=2;Q<m.length;Q++){if(m[Q].type==0||m[Q].type==3){q=m[Q];F.push(q);r.push(L[Q])}else{if(g.indexOf(Q)==-1){F.push(m[Q]);
r.push(L[Q])}else{q.length--;I.xV.hm(L,Q)}}}for(var Q=2;Q<F.length;Q++){var n=F[Q];if(n.type!=0&&n.type!=3)continue;
if(n.length==0){if(F[Q+1]&&F[Q+1].au==-1){F[Q+1].au=n.au}r.splice(Q,1);F.splice(Q,1);Q--}}for(var Q=0;
Q<K.length;Q++)if(r.indexOf(K[Q])==-1){K.splice(Q,1);Q--}return F};I.q.IhX=function(m,g){var L=m.slice(0,2),K=-1;
for(var r=2;r<m.length;r++){if((m[r].type==0||m[r].type==3)&&m[r].au!=-1)K++;if(g.indexOf(K)==-1)L.push(m[r])}return L};
I.q.Ihr=function(m,g){var L=m.slice(0,2),K=-1;for(var r=2;r<m.length;r++){if((m[r].type==0||m[r].type==3)&&m[r].au!=-1)K++;
if(g.indexOf(K)!=-1)L.push(m[r])}return L};I.q.Iio=function(m){var g=0;for(var L=0;L<m.length;L++)if(m[L].type==0||m[L].type==3)g=L;
return m[g]};I.q.GM=function(m){var g=-1;for(var L=0;L<m.length;L++)if((m[L].type==0||m[L].type==3)&&m[L].au!=-1)g++;
return g+1};I.q._B=function(m,g){var L=-1;for(var K=0;K<m.length;K++)if((m[K].type==0||m[K].type==3)&&m[K].au!=-1){L++;
if(L==g)return K}return-1};I.q.jn=function(m,g){var L=-1;for(var K=0;K<m.length;K++)if((m[K].type==0||m[K].type==3)&&m[K].au!=-1){if(K>=g)return L;
L++}return L};I.q.Ls=function(m,g){var L=-1,K=0;for(var r=0;r<m.length;r++){if((m[r].type==0||m[r].type==3)&&m[r].au!=-1)L++;
if(L==g)K++}return K};I.q.ay=function(m){var g=m.segments?[m]:m.children,L=[];for(var K=0;K<g.length;
K++){var r=g[K],R=r.segments,Q=r.closed?0:3,F=L.length,q=null;if(R.length<=1)continue;L.push({type:Q,length:R.length,au:0,OC:2});
for(var n=0;n<R.length;n++){var W=R[n],z=new jf(W.handleIn.x,W.handleIn.y),u=new jf(W.handleOut.x,W.handleOut.y),N=new jf(W.point.x,W.point.y),b={type:Q+1,QR:N.add(z),Z:N,LM:N.add(u)};
if(q==null)q=b;L.push(b);if(n+1==R.length&&jf.hQ(q.Z,b.Z)<1e-5){L.pop();L[F].length--;q.QR=b.QR;if(Q==3)for(var B=F;
B<L.length;B++)L[B].type-=3}}}return L};I.q.Lz=function(m){I.q.qi();var g=[],L,K=new paper.Color(1,0,0);
for(var r=0;r<m.length;r++){if(m[r].type>5)continue;var R=m[r].length,Q;if(r==m.length-1)break;var F=m[r].type==3;
if(r==2){if(!I.q.qA(m))Q="subtract";else Q="unite"}else{if(m[r].au==0)Q="exclude";if(m[r].au==1)Q="unite";
if(m[r].au==2)Q="subtract";if(m[r].au==3)Q="intersect"}if(m[r].au!=-1)L=[];for(var q=0;q<R;q++){var n=m[r+1+q],W=n.QR.wV(n.Z),z=n.LM.wV(n.Z);
L.push([[n.Z.x,n.Z.y],[W.x,W.y],[z.x,z.y]])}if(m[r+1+R]==null||m[r+1+R].au!=-1){var u=new paper.Path(L);
u.remove();u.closed=!F;u.fillRule="evenodd";u.fillColor=K;g.push([u,Q])}r+=R}return g};I.q.V_=function(m){for(var g=0;
g<m.length;g++){var L=m[g];if(L.Z==null)continue;if(!L.Z.TB(L.QR)||!L.Z.TB(L.LM))return!1}return!0};
I.q.IiT=function(m){if(m.length<=5)return 0;var g=0,L=m.length-3-1;for(var K=0;K<L;K++){var r=m[3+K],R=m[3+K+1];
if(r.type==0||R.type==0)return 0;g+=(R.Z.x-r.Z.x)*(r.Z.y+R.Z.y)}g+=(m[3].Z.x-m[3+L].Z.x)*(m[3+L].Z.y+m[3+1].Z.y);
return-g*.5};I.q.qA=function(m){if(m.length==2)return m[1].all==0;var g=m[2];if(m[1].all==1){if(g.au==1||g.au==3)return!0;
return!1}else{if(g.au==1||g.au==3||g.au==0)return!0;return!1}};I.q.IhA=0;I.q.az=0;I.q.IiS=0;I.q.Ihd=function(m,g,L,K){if(L.L_())return;
var r=L.c(),a=16384;I.q.IhA+=r;if(r>I.q.az){I.q.az=r}var R=L.j,Q=L.F;if(K==null&&I.q.V_(m)){var F=!0;
for(var q=2;q<m.length;)if(m[q].length==2)q+=3;else{F=!1;break}if(F){return}if(I.q.at(m)){g.fill(255);
var n=I.q.Oe(m);if(n.c()!=r){var W=1-(n.x-L.x),z=1-(n.y-L.y),u=1-(L.x+L.j-(n.x+n.j)),N=1-(L.x+L.F-(n.x+n.F)),b=~~(W*255),B=~~(u*255),h=~~(z*255),A=~~(N*255);
g.fill(h,0,R);g[0]=~~(W*z*255);g[R-1]=~~(u*z*255);for(var q=R;q<r;q+=R){g[q]=b;g[q+R-1]=B}g.fill(A,(Q-1)*R,Q*R);
g[r-R]=~~(W*N*255);g[r-1]=~~(u*N*255)}return}}var e=I.ZQ,c=I.r,$=Math.ceil(R/a),G=Math.ceil(Q/a),o=Math.ceil(R/$),H=Math.ceil(Q/G),f=Date.now();
for(var E=0;E<G;E++)for(var S=0;S<$;S++){var V=S*o,J=E*H,U=o,j=H;e.width=U;e.height=j;if(!I.q.qA(m))c.fillRect(0,0,U,j);
I.q.Lt(m,c,-L.x-V,-L.y-J,K);var i=new Uint8Array(c.getImageData(0,0,U,j).data.buffer);if(U==R&&j==Q)I.Vl(i,g,3);
else I.xe(i,new v(V,J,U,j),g,new v(0,0,R,Q))}};I.q.Lt=function(m,g,L,K,r){if(r!=null&&r.fillEnabled.v){var R=!1,Q=!1,F=0;
for(var q=0;q<m.length;q++){var n=m[q].au;if(n!=null)F++;if(n==-1)R=!0;if(n>0)Q=!0}if(!R&&F<20)m=I.q.Lc(m)}for(var q=0;
q<m.length;q++){if(m[q].type>5)continue;var W=m[q].length;if(W==0)continue;if(q==m.length-1)break;var z=m[q].type==3;
if(q==2){if(!I.q.qA(m))g.globalCompositeOperation="destination-out";else g.globalCompositeOperation="source-over"}else{var n=m[q].au;
if(n!=-1&&r==null){var u=["xor","source-over","destination-out","source-in"][n];g.globalCompositeOperation=u}}if(m[q].au!=-1){g.beginPath();
if(r){var N=r.strokeStyleLineWidth.v.val,b=r.strokeStyleLineAlignment.v.strokeStyleLineAlignment,B=r.strokeStyleLineCapType.v.strokeStyleLineCapType,h=r.strokeStyleLineJoinType.v.strokeStyleLineJoinType,A=r.strokeStyleMiterLimit.v,e=[],c=r.strokeStyleLineDashSet.v;
for(var a=0;a<c.length;a++)e.push(c[a].v.val*N);g.setLineDash(e);g.lineCap=["butt","round","square"][aU.WL.Zi.indexOf(B)];
g.lineJoin=["miter","round","bevel"][aU.WL.join.indexOf(h)];g.lineWidth=aU.WL.ZE.indexOf(b)==1?N:N*=2;
g.miterLimit=A}}I.q.IhW(g,m,q+1,W,L,K,z);if(z){}else g.closePath();if(m[q+1+W]==null||m[q+1+W].au!=-1){if(r)g.stroke();
else g.fill("evenodd")}q+=W}};I.q.IhW=function(m,g,L,K,r,R,Q){var F=g[L],q=null;m.moveTo(F.Z.x+r,F.Z.y+R);
for(var n=L;n<L+K-1;n++){F=g[n];q=g[n+1];m.bezierCurveTo(F.LM.x+r,F.LM.y+R,q.QR.x+r,q.QR.y+R,q.Z.x+r,q.Z.y+R)}if(!Q){F=g[n];
q=g[L];m.bezierCurveTo(F.LM.x+r,F.LM.y+R,q.QR.x+r,q.QR.y+R,q.Z.x+r,q.Z.y+R)}};I.q.Vn=function(m,g,L){var K=[],r=L?4:1,R=!1;
if(g!=null)for(var Q=0;Q<g.length;Q++)if(g[Q]!=0){R=!0;break}if(g!=null&&R){var F=I.e.IeQ(m,g),q=F.length/6;
for(var Q=0;Q<q;Q++){var n=Q*6,W=(Q-1+q)%q*6,z=F[n],u=F[n+1],N=F[n+2],b=F[n+3],B=F[W+4],h=F[W+5];K.push({type:r,QR:new jf(B,h),Z:new jf(z,u),LM:new jf(N,b)})}}else{for(var Q=0;
Q<m.length;Q+=2){var A=new jf(m[Q],m[Q+1]);K.push({type:r,QR:A.clone(),Z:A.clone(),LM:A.clone()})}}return K};
I.q.Lf=function(m,g){I.q.qi();var L=new paper.Path;L.remove();var K=m.length-1,r=Math.sqrt((m[K-1]-m[0])*(m[K-1]-m[0])+(m[K]-m[1])*(m[K]-m[1]))<3;
L.closed=r;for(var R=0;R<m.length;R+=2)L.add(new paper.Point(m[R],m[R+1]));L.simplify(g);var Q=[{type:6},{type:8,all:0}];
Q=Q.concat(I.q.ay(L));return Q};I.q.IVa=function(m,g,L){var K=m[g].length,r=m[g].type,R=0,Q=m.slice(g+1,g+1+K);
for(var F=0;F<K;F++){var q=L[F];if(q!=0){var n=Q[(F-1+K)%K].Z,W=Q[(F+0+K)%K].Z,z=Q[(F+1+K)%K].Z;q=Math.min(q,jf.hQ(n,W)/2,jf.hQ(W,z)/2);
var u=I.e.fz(n.x,n.y,W.x,W.y,z.x,z.y,0,q),N={type:r+1,QR:new jf(u[2],u[3]),Z:new jf(u[2],u[3]),LM:new jf(u[4],u[5])},b={type:r+1,QR:new jf(u[6],u[7]),Z:new jf(u[8],u[9]),LM:new jf(u[8],u[9])};
m.splice(g+R+1,1,N,b);R++;m[g].length++}R++}};I.q.V_=function(m){for(var g=0;g<m.length;g++){var L=m[g],K=L.type;
if(K==1||K==2||K==4||K==5)if(!L.Z.TB(L.QR)||!L.Z.TB(L.LM))return!1}return!0};I.q.at=function(m){if(m.length!=7||!I.q.V_(m))return!1;
for(var g=0;g<4;g++){var L=!0;for(var K=0;K<4;K++){var r=m[3+(g+K&3)],R=m[3+(g+K+1&3)];if(r.Z.x!=R.Z.x&&r.Z.y!=R.Z.y)L=!1}if(L)return!0}return!1};
I.q.RD={};I.q.RD.dN=function(m,g,L){var K=[{type:6},{type:8,all:0}],r=null;K.push({type:L?3:0,au:1,length:0,Et:0,XQ:0,OC:1});
if(g==0)r==null;else if(g instanceof Array)r=g;else{r=[];for(var R=0;R<m.length;R+=2)r.push(g)}K=K.concat(I.q.Vn(m,r,L));
K[2].length=K.length-3;return K};I.q.RD.IVk=function(m,g,L,K,r){var R=[],Q=[],F=.553,q=1,n=-1;R.push({type:1,QR:new jf(0,F),Z:new jf(0,0),LM:new jf(0,-F)});
r+=2;for(var W=0;W<r;W++){var z={type:1};if(W==0){z.Z=new jf(1,-1);z.QR=new jf(1-F,-1);z.LM=new jf(1+F,-1)}else{var u=-(W+2)*Math.PI/2,N=1+((W&1)==1?W-1:W),b=Math.sin(u),B=Math.cos(u);
q+=N*(b-B);n+=N*(B+b);z.Z=new jf(q,n);z.QR=new jf(q+N*B*F,n-N*b*F);if((W&1)==1)N+=2;z.LM=new jf(q-N*B*F,n+N*b*F)}var h={type:1,QR:new jf(-z.LM.x,-z.LM.y),Z:new jf(-z.Z.x,-z.Z.y),LM:new jf(-z.QR.x,-z.QR.y)};
R.push(z);if(W<r-2)Q.push(h)}Q.reverse();R=R.concat(Q);var A=[{type:6},{type:8,all:0}];A.push({type:0,au:1,length:R.length,Et:0,XQ:0,OC:1});
A=A.concat(R);var e=new aC(L/r,0,0,L/r,0,0);e.rotate(K);e.translate(m,g);I.q._R(A,e);return A};I.q.RD.Rect=function(m,g,L,K,r){var R=[m,g,m+L,g,m+L,g+K,m,g+K];
return I.q.RD.dN(R,r)};I.q.RD.JU=function(m,g,L,K,r,R){var Q=[],F=2*Math.PI/r;for(var q=0;q<r;q++)Q.push(Math.cos(q*F),Math.sin(q*F));
var n=new aC(L,0,0,L,0,0);n.rotate(K);n.translate(m,g);I.e.f(Q,n,Q);return I.q.RD.dN(Q,R)};I.q.RD.IVE=function(m,g,L,K,r,R,Q){var F=[],q=Math.PI/r;
for(var n=0;n<r*2;n++){var W=(n&1)==0?1:Q;F.push(W*Math.cos(n*q),W*Math.sin(n*q))}var z=new aC(L,0,0,L,0,0);
z.rotate(K);z.translate(m,g);I.e.f(F,z,F);return I.q.RD.dN(F,R)};I.q.RD.eJ=function(m,g,L,K,r){return I.q.RD.RX(0,m,g,L,K,r)};
I.q.RD.I$q=function(m,g,L,K,r,R){return I.q.RD.RX(1,m,g,L,K,r,R)};I.q.RD.RX=function(m,g,L,K,r,R,Q){var F=Math.sqrt((K-g)*(K-g)+(r-L)*(r-L)),q;
R/=2;if(m==0)q=[-R,0,R,0,R,F,-R,F];else{var n=R*2*Q*1.3/1.5,W=R*Q;q=[-R,0,R,0,R,F-n,W,F-n,0,F,-W,F-n,-R,F-n]}var z=new aC(1,0,0,1,0,0);
z.rotate(Math.atan2(-r+L,K-g)+Math.PI/2);z.translate(g,L);I.e.f(q,z,q);return I.q.RD.dN(q,0)};I.q.RD.gB=function(m,g,L,K){var r=[{type:6},{type:8,all:0}],z=.553;
r.push({type:0,au:1,length:4,Et:0,XQ:0,OC:1});var R=m,Q=g,F=m+L,q=g+K,m=(R+F)/2,g=(Q+q)/2,n=(R-F)/2,W=(Q-q)/2;
r.push({type:1,QR:new jf(m-z*n,g-W),Z:new jf(m,g-W),LM:new jf(m+z*n,g-W)});r.push({type:1,QR:new jf(m+n,g-z*W),Z:new jf(m+n,g),LM:new jf(m+n,g+z*W)});
r.push({type:1,QR:new jf(m+z*n,g+W),Z:new jf(m,g+W),LM:new jf(m-z*n,g+W)});r.push({type:1,QR:new jf(m-n,g+z*W),Z:new jf(m-n,g),LM:new jf(m-n,g-z*W)});
return r};I.q.RD.I$p=function(m,g,L,K,r){var R=[{type:6},{type:8,all:0}];R.push({type:3,au:1,length:5,Et:0,XQ:0,OC:1});
var Q=(r-K)/4;for(var F=0;F<5;F++){var q=F*Q,n=Math.cos(q),W=Math.sin(q),z=.553*(Q/(Math.PI/2)),u=W*z,N=-n*z,b=new jf(n,W);
R.push({type:4,QR:F==0?b.clone():new jf(n+u,W+N),Z:b,LM:F==4?b.clone():new jf(n-u,W-N)})}var B=new aC;
B.rotate(-K);B.scale(L,L);B.translate(m,g);I.q._R(R,B);return R};I.QM={};I.QM.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
I.QM.gN=function(m){var g=m.warpStyle.v.warpStyle;if(g=="warpNone")return!0;else if(g=="warpCustom"){var L=!1,K=m.customEnvelopeWarp.v.meshPoints.v.arr,r=K[0].arr,R=K[1].arr;
for(var Q=0;Q<4;Q++)for(var F=0;F<4;F++){if(Math.abs(r[Q]-r[F*4+Q])>1||Math.abs(R[Q*4]-R[Q*4+F])>1)L=!0}return!L}else return m.warpValue.v==0&&m.warpPerspective.v==0&&m.warpPerspectiveOther.v==0};
I.QM.m=function(m){var g={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(m){g.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:m.y}},Left:{t:"UntF",v:{type:"#Pxl",val:m.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:m.y+m.F}},Rght:{t:"UntF",v:{type:"#Pxl",val:m.x+m.j}}}};
g.uOrder={t:"long",v:4};g.vOrder={t:"long",v:4}}return g};I.QM.I$D=function(m,g,L,K){for(var r=0;r<m.length;
r+=2){var R=m[r],Q=m[r+1],F=(R-g.x)/g.j,q=(Q-g.y)/g.F,n=(1-L)/2,W=1-n,z=n+F*(W-n);q=.5+(q-.5)*z*2;var N=(1-K)/2,b=1-N,B=N+q*(b-N);
F=.5+(F-.5)*B*2;R=g.x+F*g.j;Q=g.y+q*g.F;m[r]=R;m[r+1]=Q}};I.QM.RB=function(m,g){var L=[],K=[];for(var r=0;
r<m.length;r+=2){L.push(m[r]);K.push(m[r+1])}var R=[];R.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:L});
R.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:K});g.warpStyle.v.warpStyle="warpCustom";g.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:R}}}}};
I.QM.Xd=function(m,g){if(g==null){var L=m.bounds.v,K=L.Left.v.val,r=L.Rght.v.val,R=L.Top.v.val,Q=L.Btom.v.val;
g=new v(K,R,r-K,Q-R)}if(g.L_())g.j=g.F=1;var F=[],q=m.warpStyle.v.warpStyle;if(q=="warpCustom"){var n=m.customEnvelopeWarp.v.meshPoints.v.arr,W=n[0].arr,z=n[1].arr;
for(var u=0;u<16;u++)F.push(W[u],z[u])}else F=I.QM.QM(g,q,m.warpRotate.v.Ornt=="Hrzn",m.warpValue.v/100,m.warpPerspective.v/100,m.warpPerspectiveOther.v/100);
return F};I.QM.QM=function(m,g,L,K,r,R){var Q=I.pl.m(m.x,m.y,m.j,m.F);if(g=="warpNone")return Q;var F=JSON.parse(JSON.stringify(m)),q=new aC;
if(!L){q.translate(-m.x,-m.y);q.rotate(-Math.PI/2);q.translate(m.F,0);I.e.f(Q,q,Q);m=new v(0,0,m.F,m.j);
Q=I.pl.tW(Q,!1)}I.QM.I$T(Q,m,g,K,r,R);if(!L){Q=I.pl.tW(Q,!0);m=F;q.eb();I.e.f(Q,q,Q)}if(K==0)I.QM.I$D(Q,m,r,R);
else{var q=new aC(1/m.j,0,0,1/m.F,-m.x,-m.y);q.translate(-.5,-.5);I.e.f(Q,q,Q);I.QM.I$B(Q,R,r);q.eb();
I.e.f(Q,q,Q)}return Q};I.QM.I$T=function(m,g,L,K,r,R){for(var Q=0;Q<4;Q++){for(var F=0;F<4;F++){var q=2*(4*Q+F),n=m[q]-g.x,W=m[q+1]-g.y,z=n,N=W;
if(K!=0){var b=g.j/2,B=g.F/2;z-=b;N-=B;var h=z,A=z,e=-B,c=B,a=Math.abs(K),$=Math.tan((1-a)*Math.PI/2),G=Math.sqrt($*$+1),o=Math.atan2(1,$),H=z/b*o,f=b*G,E=b*G+g.F,S=Math.cos(o),J=Math.sin(o),U=I.QM.I$u(S,J),j=I.QM.IUw(S,J),i=-$*b+U*f;
if(L=="warpArc"){h=Math.sin(H)*E;e=$*b-Math.cos(o)*E+B;A=Math.sin(H)*f;c=$*b-Math.cos(o)*f+B;if(F==1||F==2){h=F==1?-j*E:j*E;
A=F==1?-j*f:j*f;e=$*b+B-U*E;c=$*b+B-U*f}if(K<0){var k=h;h=A;A=k;k=e;e=-c;c=-k}}if(L=="warpArcLower"){if(F==1||F==2){A=F==1?-j*f:j*f;
c=K<0?B-i:B+i}}if(L=="warpArcUpper"||L=="warpArch"||L=="warpBulge"){if(F==1||F==2){h=F==1?-j*f:j*f;e=K<0?-B+i:-B-i}if(L=="warpArch"){A=h;
c=e+2*B}if(L=="warpBulge"){A=h;c=-e}}if(L=="warpFish"||L=="warpFlag"||L=="warpWave"){if(F==1){e-=K*4*B;
c+=K*4*B}if(F==2){e+=K*4*B;c-=K*4*B}if(L=="warpFlag"||L=="warpWave")e=c-2*B}if(L=="warpRise"){if(F<2)e=-B+K*B*4;
c=e+2*B}var P=(N+B)/g.F;z=h+P*(A-h);N=e+P*(c-e);if(L=="warpWave"){if(Q==0)N=-B;if(Q==3)N=B;if(Q==1||Q==2)N=2*B*(Q/3-.5)*(1/3)+N*(2/3)}if(L=="warpFisheye"){if((Q==1||Q==2)&&(F==1||F==2)){z=z+4*z*K;
N=N+4*N*K}}if(L=="warpInflate"){var w=2/3;if((Q==1||Q==2)&&(F==1||F==2)){z=z+.5*z*K;N=N+.5*N*K}else if(Q==1||Q==2)z=z+w*z*K;
else if(F==1||F==2)N=N+w*N*K}if(L=="warpSqueeze"){var w=2/3;if((Q==1||Q==2)&&(F==1||F==2)){if(K>0)z=z-w*z*K;
else N=N+w*N*K}else if(Q==1||Q==2)z=z-w*z*K;else if(F==1||F==2)N=N+w*N*K}if(L=="warpTwist"){if((Q==1||Q==2)&&(F==1||F==2)){var d=K*Math.PI/2,G=1+Math.abs(K)*2,T=z*Math.cos(d)-N*Math.sin(d),y=z*Math.sin(d)+N*Math.cos(d);
z=T*G;N=y*G}}if(L=="warpShellLower"||L=="warpShellUpper"){if(L=="warpShellUpper"){Q=3-Q;N=-N}if(Q>2||Q==2&&(F==0||F==3)){if(K>0){var D=f+Q/3*2*B;
z=Math.sin(H)*D;N=-$*b-B+Math.cos(H)*D;if(F==1||F==2){z=F==1?-j*D:j*D;N=-$*b-B+U*D}}else{if((F==1||F==2)&&Q==3){z=F==1?-j*f:j*f;
N=$*b-U*f+B}else if(Q==2){N=B-B*(2/3)*Math.cos(H);z=z+B*(2/3)*Math.sin(H)}}}if(L=="warpShellUpper"){Q=3-Q;
N=-N}}z+=b;N+=B}n=z,W=N;m[q]=n+g.x;m[q+1]=W+g.y}}};I.QM.I$B=function(m,g,L){var K=[];for(var r=0;r<4;
r++)K.push(1-L+r/3*2*L);var R=[];for(var r=0;r<4;r++)R.push(1-g+r/3*2*g);var Q=[0,0,0,0],F=[0,0,0,0];
for(var q=0;q<4;q++)for(var r=0;r<4;r++){var n=2*(4*q+r),W=m[n],z=m[n+1];Q[r]+=W/4;F[r]+=z/4}for(var q=0;
q<4;q++)for(var r=0;r<4;r++){var u=K[r],n=2*(4*q+r),W=m[n],z=m[n+1],N=Q[r],b=F[r];m[n]=N+u*(W-N);m[n+1]=b+u*(z-b)}var B=m.slice(0);
for(var q=0;q<4;q++)for(var r=1;r<3;r++){var n=2*(4*q+r),W=m[n],z=m[n+1],h=n+(r==1?-2:2),A=m[h],e=m[h+1];
m[n]=W-A;m[n+1]=z-e}var c=m[0],a=m[1],$=m[8],G=m[9],o=m[16],H=m[17],f=m[24],E=m[25],S=m[6],V=m[7],J=m[14],U=m[15],j=m[22],i=m[23],k=m[30],P=m[31],w=S-c,d=V-a,T=J-$,y=U-G,D=j-o,s=i-H,Z=k-f,aQ=P-E;
for(var q=0;q<4;q++){var aI=2*q*4,aq=0,aa=0,aD=q==1?.33:.66,_=1-aD;if(q==0){aq=w;aa=d}if(q==1){aq=_*w+aD*-Z;
aa=_*d+aD*-aQ}if(q==2){aq=_*w+aD*-Z;aa=_*d+aD*-aQ}if(q==3){aq=-Z;aa=-aQ}m[aI]=m[aI]+aq/2;m[aI+1]=m[aI+1]+aa/2;
m[aI+6]=m[aI+6]-aq/2;m[aI+7]=m[aI+7]-aa/2}for(var q=0;q<4;q++)for(var r=1;r<3;r++){var n=2*(4*q+r),W=m[n],z=m[n+1],h=n+(r==1?-2:2),A=m[h],e=m[h+1],u=2*q/3;
m[n]=A+u*W;m[n+1]=e+u*z}for(var q=1;q<3;q++)for(var r=1;r<3;r++){var n=2*(4*q+r),W=m[n],z=m[n+1],M=q==1?-8:-16,jt=q==1?16:8,aR=m[n+M],aL=m[n+M+1],aw=m[n+jt],ap=m[n+jt+1],u=q/3;
W=(1-u)*aR+u*aw;z=(1-u)*aL+u*ap;m[n]=W;m[n+1]=z}I.e.Ll(B,m,m,g)};I.QM.I$u=function(m,g){return(4-m)*(1/3)};
I.QM.IUw=function(m,g){return(1-m)*(3-m)/(3*g)};I.qf={};I.qf.VQ=function(m,g,L,K,r,R,Q,F,q,n){var W=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],z=1/q,u=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],N=new Uint32Array(6);
for(var b=0;b<F;b++){for(var B=0;B<Q;B++){var h=3*(b*Q+B),A=b+R,e=B+r;N[0]=0;N[1]=0;N[2]=0;N[3]=0;N[4]=0;
N[5]=0;for(var c=0;c<16;c+=2){var a=e+u[c],$=A+u[c+1],G=a-q*~~(a*z),o=$-q*~~($*z),H=n[o*q+G];N[H]+=m[$*g+a];
N[H+3]++}var a=e,$=A,G=a-q*~~(a*z),o=$-q*~~($*z),H=n[o*q+G];N[H]=m[A*g+e];N[H+3]=1;K[h]=N[0]*W[N[3]];
K[h+1]=N[1]*W[N[4]];K[h+2]=N[2]*W[N[5]]}}};I.qf.Rh=function(m,g,L){for(var K=0;K<L;K+=2)m[g+K]=m[g+K+1];
g=g+L;for(var K=0;K<L;K+=2)m[g+K+1]=m[g+K]};I.qf.RV=function(m,g,L,K){for(var r=0;r<K;r+=2){var R=g+r*L;
m[R]=m[R+L];m[R+L+1]=m[R+1]}};I.qf.R$=function(m,g,L,K,r,R){var Q=K[r],F=K[r+1],q=K[R],n=K[R+1],W=F+q>>>1;
m[g]=m[g+3]=m[L]=m[L+3]=Q;m[g+1]=W;m[g+4]=F;m[L+1]=q;m[L+4]=W;m[g+2]=m[g+5]=m[L+2]=m[L+5]=n};I.qf.IU$=function(m,g,L,K,r,R){var Q=R*3;
for(var F=0;F<R;F+=2){var q=g+F,n=r+F*3;I.qf.R$(K,n,n+Q,m,q,q+L)}};I.qf.IUP=function(m,g,L,K,r,R,Q){var F=R*3;
for(var q=0;q<Q;q+=2){var n=g+q*L,W=r+q*R*3;I.qf.R$(K,W,W+F,m,n,n+L)}};I.qf.mw=function(m,g,L){var K=m[g-L-L],r=m[g-L],R=m[g-2],Q=m[g-1],F=m[g],q=m[g+1],n=m[g+2],W=m[g+L],z=m[g+L+L],u=Math.abs(r-W),N=Math.abs(Q-q),b=Math.abs(F-K)*2+u,B=Math.abs(F-n)*2+N,h=Math.abs(F-R)*2+N,A=Math.abs(F-z)*2+u,e=Math.min(b,Math.min(B,Math.min(h,A)));
if(e==b)return r*3+W+F-K>>2;if(e==B)return q*3+Q+F-n>>2;if(e==h)return Q*3+q+F-R>>2;return W*3+r+F-z>>2};
I.qf.eC=function(m,g,L,K,r){if(m<g&&g<L||m>g&&g>L)return~~(.5+K+(r-K)*(g-m)/(L-m));else return(K+r>>1)+(g+g-m-L>>2)};
I.qf.mL=function(m,g,L,K){var r=g[L-K-1],R=g[L-K+1],Q=g[L],F=g[L+K-1],q=g[L+K+1],n=m[L-K-1],W=m[L-K+1],z=m[L],u=m[L+K-1],N=m[L+K+1],b=Math.abs(W-u)+Math.abs(m[L-K-K+2]-z)+Math.abs(z-m[L+K+K-2])+Math.abs(R-Q)+Math.abs(Q-F),B=Math.abs(n-N)+Math.abs(m[L-K-K-2]-z)+Math.abs(z-m[L+K+K+2])+Math.abs(r-Q)+Math.abs(Q-q);
if(b<B)return I.qf.eC(R,Q,F,W,u);else return I.qf.eC(r,Q,q,n,N)};I.qf.VX=function(m,g,L,K,r,R){m[g+0]=L[r];
m[g+1]=K[r];m[g+2]=I.qf.mL(L,K,r,R)};I.qf.V$=function(m,g,L,K,r,R){var Q=K[r];m[g+0]=I.qf.eC(K[r-1],Q,K[r+1],L[r-1],L[r+1]);
m[g+1]=Q;m[g+2]=I.qf.eC(K[r-R],Q,K[r+R],L[r-R],L[r+R])};I.qf.Vr=function(m,g,L,K,r,R){var Q=K[r];m[g+0]=I.qf.eC(K[r-R],Q,K[r+R],L[r-R],L[r+R]);
m[g+1]=Q;m[g+2]=I.qf.eC(K[r-1],Q,K[r+1],L[r-1],L[r+1])};I.qf.VF=function(m,g,L,K,r,R){m[g+0]=I.qf.mL(L,K,r,R);
m[g+1]=K[r];m[g+2]=L[r]};I.qf.IId=function(m,g,L,K,r,R,Q,F,q){var n=Date.now(),W=2,z=g-2,u=2;if((r&1)==1){W++;
z--}var N=L-2;if((R&1)==1){u++;N--}if(q==1||q==3){W++;z--}var b=m.slice(0);I.qf.Rh(b,0,g);I.qf.RV(b,0,g,L);
I.qf.RV(b,g-2,g,L);I.qf.Rh(b,(L-2)*g,g);for(var B=u;B<N;B+=2)for(var h=W;h<z;h+=2){var A=B*g+h,e=I.qf.mw(b,A,g),c=I.qf.mw(b,A+g+1,g);
b[A]=Math.max(0,e);b[A+g+1]=Math.max(0,c)}var a=Q,$=F;if(R+F==L){$-=2;I.qf.IU$(m,(L-2)*g+r,g,K,(F-2)*Q*3,Q)}if(r+Q==g){a-=2;
I.qf.IUP(m,R*g+r+Q-2,g,K,(Q-2)*3,Q,F)}if(q==0)for(var B=0;B<$;B+=2)for(var h=0;h<a;h+=2){var G=(B+R)*g+h+r,o=(B*Q+h)*3;
I.qf.VX(K,o,m,b,G,g);I.qf.V$(K,o+3,m,b,G+1,g);G+=g;o+=3*Q;I.qf.Vr(K,o,m,b,G,g);I.qf.VF(K,o+3,m,b,G+1,g)}else if(q==1)for(var B=0;
B<$;B+=2)for(var h=0;h<a;h+=2){var G=(B+R)*g+h+r,o=(B*Q+h)*3;I.qf.V$(K,o,m,b,G,g);I.qf.VX(K,o+3,m,b,G+1,g);
G+=g;o+=3*Q;I.qf.VF(K,o,m,b,G,g);I.qf.Vr(K,o+3,m,b,G+1,g)}else if(q==2)for(var B=0;B<$;B+=2)for(var h=0;
h<a;h+=2){var G=(B+R)*g+h+r,o=(B*Q+h)*3;I.qf.VF(K,o,m,b,G,g);I.qf.Vr(K,o+3,m,b,G+1,g);G+=g;o+=3*Q;I.qf.V$(K,o,m,b,G,g);
I.qf.VX(K,o+3,m,b,G+1,g)}else if(q==3)for(var B=0;B<$;B+=2)for(var h=0;h<a;h+=2){var G=(B+R)*g+h+r,o=(B*Q+h)*3;
I.qf.Vr(K,o,m,b,G,g);I.qf.VF(K,o+3,m,b,G+1,g);G+=g;o+=3*Q;I.qf.VX(K,o,m,b,G,g);I.qf.V$(K,o+3,m,b,G+1,g)}};
I.raw={};I.raw.Iqw=function(m){var g=m.width,L=m.height,K=Date.now(),r=I.raw.IqW(m),R=0,Q=0;I.raw.Jm(2,m,r,g,L);
var F=g,q=L;if(m.t50829){var n=m.t50829;R=n[1];Q=n[0];F=n[3];q=n[2]}if(m.t50719){var W=m.t50719;R+=W[0]>>1<<1;
Q+=W[1]>>1<<1}if(m.t50720){var z=m.t50720;F=R+z[0];q=Q+z[1]}var u=F-R,N=q-Q,b=new Float32Array(u*N*3);
if(m.t277[0]==1){var B=m.t33421;if(B.length!=2||B[0]!=2||B[1]!=2){console.log("Unknown CFA pattern size",B);
I.qf.VQ(r,g,L,b,R,Q,u,N,B[0],m.t33422)}else{var h=m.t33422.join(","),A=0;if(h=="0,1,1,2")A=0;else if(h=="1,0,2,1")A=1;
else if(h=="2,1,1,0")A=2;else if(h=="1,2,0,1")A=3;else throw"Unknown CFA pattern "+h;if((u&1)!=0||(N&1)!=0)throw"e";
I.qf.IId(r,g,L,b,R,Q,u,N,A)}}else{for(var e=0;e<N;e++)for(var c=0;c<u;c++){var a=((e+Q)*g+c+R)*3,$=(e*u+c)*3;
b[$+0]=r[a+0];b[$+1]=r[a+1];b[$+2]=r[a+2]}}var G=b,o=b.length,H=I.raw.Iqc(m),f=1/H;for(var E=0;E<o;E+=3){b[E]=Math.min(1,G[E]*f);
b[E+1]=Math.min(1,G[E+1]*f);b[E+2]=Math.min(1,G[E+2]*f)}I.raw.Jm(3,m,b,u,N);var S=m.Gc,V=u,J=N;if(S==1||S==9){}else{var U=I.raw.mO(S,u,N),$=0;
V=U[0];J=U[1];var j=b.slice(0);for(var e=0;e<J;e++)for(var c=0;c<V;c++){var i=U[2]*c+U[3]*e+U[4],k=U[5]*c+U[6]*e+U[7],a=(k*u+i)*3;
b[$]=j[a];b[$+1]=j[a+1];b[$+2]=j[a+2];$+=3}}return{qT:b,mx:V,ml:J}};I.raw.mO=function(m,g,L){var K=g,r=L;
if(m==3)return[g,L,-1,0,g-1,0,-1,L-1];else if(m==6)return[L,g,0,1,0,-1,0,L-1];else if(m==8)return[L,g,0,-1,g-1,1,0,0];
else throw"unknown orientation "+m};I.raw.JI=function(m,g,L,K){var r=m.qT,R=Math.round(r.length/3),Q=qg.Iap(K[0],K[1]),F=I.raw.IQv(L,Q),q=I.za.multiply(I.za.wH,F),n=Math.pow(2,K[2]+(L.t50730?L.t50730[0]:0));
q=I.za.multiply(q,I.za.Ir(n,n,n));var W=L.t50728,z=[W[1]/W[0],W[2]/W[0],W[0]/W[1],W[2]/W[1],W[0]/W[2],W[1]/W[2]],u=new Float64Array(1e3);
for(var N=0;N<1e3;N++){var b=N*(1/999);b=N==999?1:I.xJ(N*(1/999));b=I.raw.l$.IqG(b,K[3]/100);u[N]=b}var B=Date.now();
for(var N=0;N<R;N++){var h=N<<2,A=h-N,e=r[A],c=r[A+1],a=r[A+2];if(c>=.92){var $=Math.min(e,a);if($==e){c=Math.max(c,z[0]*e);
a=Math.max(a,z[1]*e)}else{e=Math.max(e,z[4]*a);c=Math.max(c,z[5]*a)}}var G=q[0]*e+q[1]*c+q[2]*a,o=q[4]*e+q[5]*c+q[6]*a,H=q[8]*e+q[9]*c+q[10]*a;
if(G<0)G=0;else if(G>1)G=1;if(o<0)o=0;else if(o>1)o=1;if(H<0)H=0;else if(H>1)H=1;G=u[~~(G*999)];o=u[~~(o*999)];
H=u[~~(H*999)];g[h]=~~(.5+G*255);g[h+1]=~~(.5+o*255);g[h+2]=~~(.5+H*255)}};I.raw.l$={IqG:function(m,g){var L=.5-.5*Math.cos(m*3.2),K=0;
if(g>0){var r=m*.2;K=r*m+(1-r)*L}else{var R=Math.pow(m,.33);K=(1-R)*R+R*(m+(m-L)*.63)}var Q=Math.abs(g);
return Q*K+(1-Q)*m},Iii:function(m,g){var L=0;if(g>0){var K=m*1.47,r=Math.pow(m,2.4);L=Math.min(1,r*m+(1-r)*K)}else{var K=m*.68,r=Math.pow(m,3);
L=r*m*.5+(1-r)*K}var R=Math.abs(g);return R*L+(1-R)*m},IiE:function(m,g){var L=0;if(g>0){var K=Math.pow(m,.3),r=m;
L=(1-m)*K+m*r}else{var K=Math.pow(m,2.5),R=m,r=m;L=Math.min(1,(1-R)*K+R*r)}var Q=Math.abs(g);return Q*L+(1-Q)*m}};
I.raw.IqW=function(m){var g=m.width,L=m.height,K=g*L*m.t277,r=new Uint16Array(K),R=null,Q=0;I.raw.IQe(m,r);
I.raw.Jm(1,m,r,g,L);if(m.t50712){R=m.t50712;Q=R.length-1;if(R[Q]>65535)throw"too big values"}var F=I.raw.mE(m),q=I.raw.mh(m);
if(R==null)for(var n=0;n<K;n++)r[n]=Math.max(0,r[n]-F);else for(var n=0;n<K;n++){var W=r[n];if(W>Q)W=Q;
W=R[W];r[n]=Math.max(0,W-F)}return r};I.raw.mE=function(m){var g=m.t50714,L=g?g[0]:0,K=m.t50715,r=m.t50716;
if(K)L+=K[0];if(r)L+=r[0];return Math.round(L)};I.raw.mh=function(m){var g=null,L=0;if(m.t50712){g=m.t50712;
L=g.length-1}var K=m.t50717[0];if(g)K=Math.min(K,g[L]);return K};I.raw.Iqc=function(m){var g=I.raw.mE(m),L=I.raw.mh(m);
return L-g};I.raw.IQe=function(m,g){var L=g.length,K=m.data,r=m.t258[0];if(r!=16&&r!=14&&r!=12&&r!=10&&r!=8)throw"Unsupported Bits Per Sample:"+r;
r=Math.round(K.length*8/L);if(r==16&&m.isLE){I.jR(K,g);return}for(var R=0;R<L;R+=2){var Q=0,F=0,q=0;
if(r==16){Q=R<<1;F=K[Q]<<8|K[Q+1];q=K[Q+2]<<8|K[Q+3]}else if(r==14){var n=R*14,W=n>>>3,z=K[W]<<24|K[W+1]<<16|K[W+2]<<8|K[W+3];
if((n&7)==0){F=z>>>18;q=z>>>4&16383}else{F=z>>>14&16383;q=z&16383}}else if(r==12){Q=R+(R>>>1);F=K[Q]<<4|K[Q+1]>>4;
q=(K[Q+1]&15)<<8|K[Q+2]}else if(r==10){var n=R*10,W=n>>>3;if((n&7)==0){F=(K[W]<<2|K[W+1]>>6)&1023;q=(K[W+1]<<4|K[W+2]>>4)&1023}else{F=(K[W]<<6|K[W+1]>>2)&1023;
q=(K[W+1]<<8|K[W+2]>>0)&1023}}else if(r==8){Q=R;F=K[Q];q=K[Q+1]}g[R]=F;g[R+1]=q}};I.raw.Jm=function(m,g,L,K,r){var R=g["t"+[51008,51009,51022][m-1]],W=0;
if(R==null)return;var Q=K*r,F=X.d,q=X.GC,n=new Uint8Array(R),z=X.d(n,W);W+=4;for(var u=0;u<z;u++){var N=F(n,W);
W+=4;var b=F(n,W);W+=4;var B=F(n,W);W+=4;var h=F(n,W);W+=4;if(!1){}else if(N==1&&m==3){var A=W,e=F(n,A);
A+=4;var c=q(n,A);A+=8;var a=q(n,A);A+=8;var $=q(n,A);A+=8;var G=q(n,A);A+=8;var o=q(n,A);A+=8;var H=q(n,A);
A+=8;A+=(e-1)*8*6;var f=q(n,A);A+=8;var E=q(n,A);A+=8;var S=f*K,V=E*r,J=Math.max(S,K-S),U=Math.max(V,r-V),j=Math.sqrt(J*J+U*U),i=1/j,k=L.slice(0);
for(var P=0;P<r;P++)for(var w=0;w<K;w++){var d=(w+.5-S)*i,T=(P+.5-V)*i,y=d*d+T*T,D=c+a*y+$*(y*y)+G*(y*y)*y,s=o*(2*d*T)+H*(y+2*d*d),Z=H*(2*d*T)+o*(y+2*T*T),aQ=~~(S+j*(D*d+s)),aI=~~(V+j*(D*T+Z)),aq=(aI*K+aQ)*3,aa=(P*K+w)*3;
L[aa]=k[aq];L[aa+1]=k[aq+1];L[aa+2]=k[aq+2]}}else if(N==3&&m==3){var A=W,aD=q(n,A);A+=8;var _=q(n,A);
A+=8;var M=q(n,A);A+=8;var jt=q(n,A);A+=8;var aR=q(n,A);A+=8;var f=q(n,A);A+=8;var E=q(n,A);A+=8;var S=f*K,V=E*r,J=Math.max(S,K-S),U=Math.max(V,r-V),j=Math.sqrt(J*J+U*U),i=1/j;
for(var P=0;P<r;P++)for(var w=0;w<K;w++){var d=(w+.5-S)*i,T=(P+.5-V)*i,y=d*d+T*T,aL=1+(aD+(_+(M+(jt+aR*y)*y)*y)*y)*y,aa=(P*K+w)*3;
L[aa]=aL*L[aa];L[aa+1]=aL*L[aa+1];L[aa+2]=aL*L[aa+2]}}else if(N==4&&m==1){var A=W,aw=F(n,A);A+=4;var ap=F(n,A);
A+=4;for(var al=0;al<Q;al++)if(L[al]==aw)L[al]=L[al-2]+L[al+2]>>1}else if(N==5&&m==1){var A=W,ak=F(n,A);
A+=4;var ao=F(n,A);A+=4;var aZ=F(n,A);A+=4;for(var al=0;al<ao;al++){var aS=F(n,A);A+=4;var an=F(n,A);
A+=4;var al=aS*K+an;L[al]=L[al-2]+L[al+2]>>1}}else if(N==7&&m==1){var A=W,IU=X.cR(n,A);A+=16;var a_=F(n,A);
A+=4;var aG=F(n,A);A+=4;var aM=F(n,A),av=F(n,A+4);A+=8;var aA=F(n,A);A+=4;var IL=new Uint16Array(aA);
for(var al=0;al<aA;al++)IL[al]=X.Di(n,A+2*al);var aB=IU.j,aV=IU.F;for(var P=0;P<aV;P+=aM)for(var w=0;
w<aB;w+=av){var al=(IU.y+P)*K+(IU.x+w);L[al]=IL[L[al]]}}else if(N==9&&m==2){var A=W,IU=X.cR(n,A),ae=!0;
A+=16;var a_=F(n,A);A+=4;var aG=F(n,A);A+=4;var aM=F(n,A),av=F(n,A+4);A+=8;var Ia=F(n,A),aK=F(n,A+4);
A+=8;var aE=q(n,A),Ij=q(n,A+8);A+=16;var as=q(n,A),IQ=q(n,A+8);A+=16;var Ih=F(n,A);A+=4;if(Ih!=1)throw"more than one map plane";
var Rp=Ia*aK,ag=new Float32Array(Rp);for(var IE=0;IE<Rp;IE++)ag[IE]=X.tr(n,A+IE*4);for(var IE=0;IE<Rp;
IE++)if(ag[IE]!=1)ae=!1;if(!ae){var aB=IU.j,aV=IU.F,Rj=.9999*(aK-1)/aB,RQ=.9999*(Ia-1)/aV;for(var P=0;
P<aV;P+=aM)for(var w=0;w<aB;w+=av){var al=(IU.y+P)*K+(IU.x+w),ab=w*Rj,RM=P*RQ,Rx=Math.floor(ab),Iw=Math.floor(RM),qX=ab-Rx,RC=RM-Iw,aa=Iw*aK+Rx,Rd=ag[aa]*(1-qX)+ag[aa+1]*qX,Ip=ag[aa+aK]*(1-qX)+ag[aa+1+aK]*qX,ID=Rd*(1-RC)+Ip*RC;
L[al]=~~(L[al]*ID+.5)}}}else console.log("Unknown opcode "+N+" in OpcodeList"+m+". Length: "+h);W+=h}};
I.raw.IQv=function(m,g){var L=qg.pk(g),K=I.raw.m$(m,g),r=I.za.eb(K),R=qg.Iax(L,qg.pk(qg.IjE)),Q=I.za.multiply(R,r);
return Q};I.raw.IQN=function(m){var g=m.t50728.slice(0),K=1;g.push(0);var L={x:.34567,y:.3585};do{var r=I.za.eb(I.raw.m$(m,L)),R=I.za.hj(r,g),Q=qg.IaD(R);
K=Math.abs(L.x-Q.x)+Math.abs(L.y-Q.y);L=Q}while(K>1e-7);return L};I.raw.m$=function(m,g){var L=qg.mN(g),K=I.raw.Ija,r=m.t50779?m.t50779[0]:0,R=K(m.t50721,m.t50722,m.t50778[0],r,L.KG),Q=K(m.t50723,m.t50724,m.t50778[0],r,L.KG);
Q=Q||[1,0,0,0,1,0,0,0,1];var F=m.t50727?[m.t50727[0],0,0,0,m.t50727[1],0,0,0,m.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return I.za.multiply(I.za.Ab(F),I.za.multiply(I.za.Ab(Q),I.za.Ab(R)))};I.raw.Ija=function(m,g,L,K,r){if(!m&&!g){return null}else if(m&&!g){return m}else if(r<L){return m}else if(r>K){return g}else{var R=(1/r-1/K)/(1/L-1/K),Q=1-R,F=[];
for(var q=0;q<9;q++)F[q]=m[q]*R+g[q]*Q;return F}};var qg={};qg.IjE={x:.34567,y:.3585};qg.md=[{u:0,mb:.18006,nw:.26352,Dn:-.24341},{u:10,mb:.18066,nw:.26589,Dn:-.25479},{u:20,mb:.18133,nw:.26846,Dn:-.26876},{u:30,mb:.18208,nw:.27119,Dn:-.28539},{u:40,mb:.18293,nw:.27407,Dn:-.3047},{u:50,mb:.18388,nw:.27709,Dn:-.32675},{u:60,mb:.18494,nw:.28021,Dn:-.35156},{u:70,mb:.18611,nw:.28342,Dn:-.37915},{u:80,mb:.1874,nw:.28668,Dn:-.40955},{u:90,mb:.1888,nw:.28997,Dn:-.44278},{u:100,mb:.19032,nw:.29326,Dn:-.47888},{u:125,mb:.19462,nw:.30141,Dn:-.58204},{u:150,mb:.19962,nw:.30921,Dn:-.70471},{u:175,mb:.20525,nw:.31647,Dn:-.84901},{u:200,mb:.21142,nw:.32312,Dn:-1.0182},{u:225,mb:.21807,nw:.32909,Dn:-1.2168},{u:250,mb:.22511,nw:.33439,Dn:-1.4512},{u:275,mb:.23247,nw:.33904,Dn:-1.7298},{u:300,mb:.2401,nw:.34308,Dn:-2.0637},{u:325,mb:.24792,nw:.34655,Dn:-2.4681},{u:350,mb:.25591,nw:.34951,Dn:-2.9641},{u:375,mb:.264,nw:.352,Dn:-3.5814},{u:400,mb:.27218,nw:.35407,Dn:-4.3633},{u:425,mb:.28039,nw:.35577,Dn:-5.3762},{u:450,mb:.28863,nw:.35714,Dn:-6.7262},{u:475,mb:.29685,nw:.35823,Dn:-8.5955},{u:500,mb:.30505,nw:.35907,Dn:-11.324},{u:525,mb:.3132,nw:.35968,Dn:-15.628},{u:550,mb:.32129,nw:.36011,Dn:-23.325},{u:575,mb:.32931,nw:.36038,Dn:-40.77},{u:600,mb:.33724,nw:.36051,Dn:-116.45}];
qg.mN=function(m){var g=qg.md,L=2*m.x/(1.5-m.x+6*m.y),K=3*m.y/(1.5-m.x+6*m.y),r=0,R=0,Q=0;for(;Q<31;
Q++){r=K-g[Q].nw-g[Q].Dn*(L-g[Q].mb);if(Q>0&&r<0){break}R=r}while(Q>=g.length)Q--;r/=Math.sqrt(1+g[Q].Dn*g[Q].Dn);
R/=Math.sqrt(1+g[Q-1].Dn*g[Q-1].Dn);var F=R/(R-r),q=1e6/((g[Q].u-g[Q-1].u)*F+g[Q-1].u),n=L-((g[Q].mb-g[Q-1].mb)*F+g[Q-1].mb),W=K-((g[Q].nw-g[Q-1].nw)*F+g[Q-1].nw),z=Math.sqrt(1+g[Q].Dn*g[Q].Dn),u=1/z,N=g[Q].Dn/z,b=Math.sqrt(1+g[Q-1].Dn*g[Q-1].Dn),B=1/b,h=g[Q-1].Dn/b,A=(u-B)*F+B,e=(N-h)*F+h,c=Math.sqrt(A*A+e*e);
A/=c;e/=c;var a=(n*A+W*e)*-3e3;return{KG:q,Ph:a}};qg.Iap=function(m,g){var L=qg.md,K=1e6/m,r=1;for(;
r<31;r++){if(K<L[r].u){break}}var R=(L[r].u-K)/(L[r].u-L[r-1].u),Q=(L[r-1].mb-L[r].mb)*R+L[r].mb,F=(L[r-1].nw-L[r].nw)*R+L[r].nw,q=Math.sqrt(1+L[r].Dn*L[r].Dn),n=1/q,W=L[r].Dn/q,z=Math.sqrt(1+L[r-1].Dn*L[r-1].Dn),u=1/z,N=L[r-1].Dn/z,b=(u-n)*R+n,B=(N-W)*R+W,h=Math.sqrt(b*b+B*B);
b/=h;B/=h;Q+=b*g/-3e3;F+=B*g/-3e3;return{x:1.5*Q/(Q-4*F+2),y:F/(Q-4*F+2)}};qg.IaD=function(m){var g=m[0]+m[1]+m[2];
return{x:m[0]/g,y:m[1]/g}};qg.pk=function(m){return{x:m.x/m.y,y:1,_d:(1-m.x-m.y)/m.y}};qg.Iax=function(m,g){var L=I.za.Ab([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),K=[m.x,m.y,m._d,0],r=[g.x,g.y,g._d,0];
K=I.za.hj(L,K);r=I.za.hj(L,r);var R=r[0]/K[0],Q=r[1]/K[1],F=r[2]/K[2],q=I.za.Ab([R,0,0,0,Q,0,0,0,F]),n=I.za.eb(L);
return I.za.multiply(I.za.multiply(n,q),L)};I.raw.lT={};I.raw.JJ=function(m){m*=8;var g=[8,10,12,14,16];
for(var L in I.raw.Vu){var K=I.raw.Vu[L];if(K.length==4)continue;var r=K[4],R=K[5];for(var Q=0;Q<g.length;
Q++)if(r*R*g[Q]==m)return[L,g[Q]]}var F=[[4e3,3e3]];for(var Q=0;Q<F.length;Q++){var K=F[Q],r=K[0],R=K[1];
for(var Q=0;Q<g.length;Q++)if(r*R*g[Q]==m)return[K,g[Q]]}return null};I.raw.Iaw=function(m){var m=new Uint8Array(m);
for(var g=0;g<m.length;g+=2){var L=m[g];m[g]=m[g+1];m[g+1]=L}var K=I.raw.JJ(m.length),r=I.raw.Vu[K[0]];
if(r==null)r=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,K[0][0],K[0][1]];var R=r[4],Q=r[5],F=Math.max(r[2],116),q={data:m,Gc:1,width:R,height:Q,t256:[R],t257:[Q],t258:[K[1]],t277:[1],t33421:[2,2],t33422:I.raw.DD[r[1]],t50706:[1,2,0,0],t50714:[F,F,F,F],t50717:[r[3]],t50721:r[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var g=0;g<9;g++)q.t50721[g]/=1e4;return q};I.raw.DR=function(m){if(m==null||m.length==0||typeof m[0]=="number")return m;
var g=[];for(var L=0;L<m.length;L++)g[L]=m[L][1]==0?0:m[L][0]/m[L][1];return g};I.raw.DD=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
I.raw.normalize=function(m,g){if(m.t50706!=null){var L=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var K=0;K<L.length;K++)if(m["t"+L[K]]!=null)m["t"+L[K]]=I.raw.DR(m["t"+L[K]]);return}var r=m.t258[0],R=m.exifIFD,g=new Uint8Array(g);
m.t50706=[1,2,0,0];var Q=m.t272[0].trim();if(Q.indexOf(" ")==-1)Q=m.t271[0].trim()+" "+Q;m.t50708=[Q];
var F=I.raw.Vu,q=F[Q.toLowerCase()];if(q==null)for(var n in F)if(Q.toLowerCase().startsWith(n))q=F[n];
if(q==null)throw Q;var W=q[2];m.t50714=[W,W,W,W];m.t50717=[q[3]];m.t50721=q[0].slice(0);for(var K=0;
K<9;K++)m.t50721[K]=m.t50721[K]*(1/1e4);m.t50723=[1,0,0,0,1,0,0,0,1];if(m.t50728==null)m.t50728=[.35,1,.6];
m.t50778=[17];if(m.t271[0].startsWith("SONY")){var z=UTIF["_bin"+(m.isLE?"LE":"BE")],u=m.t28688,c;if(JSON.stringify(u)!="[8000,10400,12900,14100]")console.log(u);
if(u){var N=[0,0,0,0,0,4095],b=new Uint16Array(16385);for(var K=0;K<4;K++){var B=u[K]>>>2;N[K+1]=B;if(B>4095)throw"e"}for(var K=0;
K<16385;K++)b[K]=K;for(var K=0;K<5;K++)for(var h=N[K]+1;h<=N[K+1];h++)b[h]=b[h-1]+(1<<K);var A=g.length*8<m.width*m.height*r;
if(A)m.t50712=b}else console.log("no curve");var e=m.dngPrvt;if(e){var a=e.t29184[0],$=e.t29185[0],G=(m.isLE?X.Bm:X.d)(e.t29217,0),o=new Uint32Array(g.slice(a,a+($&4294967292)).buffer),H=new Uint32Array($>>>2);
I.raw.IaG(o,H,$>>>2,G);var f=new Uint8Array(a+$);f.set(new Uint8Array(H.buffer),a);var E=[];UTIF._readIFD(z,f,a,E,0,!1);
var S=E.pop(),V=S.t29458;m.t50728=[V[1]/V[0],1,V[1]/V[3]];m.t50730=[.5];var J=S.t29891;m.t50829=[J[1],J[0],J[3],J[2]]}else if(R.makerNote&&R.makerNote.t8208){var c=R.makerNote,U=c.t8208,j=U.length,i=0,k=new Uint8Array(256);
for(var K=249;K<256;K++)k[K]=K;for(var K=0;K<249;K++)k[K*K*K%249]=K;for(var K=0;K<j;K++)U[K]=k[U[K]];
if(j==6604)i=612;else throw"e";var V=[];for(var K=0;K<3;K++)V.push(X.rQ(U,i+K*2));console.log(V);m.t50728=[V[1]/V[0],1,V[1]/V[2]]}else console.log("no white balance");
if(m.width*m.height*1.5==m.t279[0]){W=W>>>2;m.t50714=[W,W,W,W];m.t50717=[q[3]>>>2]}}else if(m.t271[0].startsWith("Canon")){var g=m.data,P=g.slice(0),w=m.t50752,d=[],y=0;
if(w==null||w[0]==0&&w[1]==0)d.push(m.width);else{for(var K=0;K<w[0];K++)d.push(w[1]);d.push(w[2])}var T=m.width*2;
for(var D=0;D<d.length;D++){var s=d[D],Z=2*y,aQ=2*s;for(var aI=0;aI<m.height;aI+=2){var aq=aI*T+Z,aa=m.height*Z+(aI>>1)*aQ*2;
for(var K=0;K<aQ;K++){g[aq+K]=P[aa+K];g[aq+K+T]=P[aa+K+aQ]}}y+=s}var c=R.makerNote;if(c.t16385){var aD=c.t224,jt=0;
if(aD){m.t50719=[aD[5],aD[6]];m.t50720=[aD[7]+1-aD[5],aD[8]+1-aD[6]]}var _=c.t16385,M=_.length;if(M==582)jt=1;
else if(M==653)jt=2;else if(M==796)jt=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(M)!=-1)jt=4;
else if(M==5120){jt=5;_=new Int16Array(_.slice(0).buffer)}else if(M==1273||M==1275)jt=6;else if([1312,1313,1316,1506].indexOf(M)!=-1)jt=7;
else if([1560,1592,1353,1602].indexOf(M)!=-1)jt=8;else throw"e"+M;var aR=_[0],aL=[null,[25,166],[34,286],[63,196],[63],[71,aR==-4?333:264],[63,251],[63,aR==10?504:728],[63,326]],i=aL[jt][0],aw=aL[jt][1];
if(jt==4){if(_[0]==2)aw=231;else if(_[0]==3)aw=231;else if(_[0]==4)aw=231;else if(_[0]==5)aw=231;else if(_[0]==6)aw=231;
else if(_[0]==7)aw=231;else if(_[0]==9)aw=231;else throw"e"}m.t50728=[_[i+1]/_[i],1,_[i+1]/_[i+3]];var W=aw==null?1024:_[aw];
m.t50714=[W,W,W,W]}else{m.t50728=[.4,1,.6]}}else if(m.t271[0].startsWith("NIKON")){var c=R.makerNote,ap=m.isLE?X.rQ:X.cL,an=0,IU=0,aA,as=0;
if(c.t61){var al=c.t61,ak=[];for(var K=0;K<4;K++)ak[K]=al[K]/Math.pow(2,14-r);m.t50714=ak}if(c.t3585){var ao=c.t3585,K=0,a=22;
while(a<ao.length&&K!=-4){var aZ=X.Bm(ao,a);a+=4;a+=14;K=X.Bm(ao,a)-4;a+=4;if(aZ==1990472198){if(ao[a]!=0)throw"Flip"}if(aZ==1990472199){var aS=X.rQ(ao,a);
if(aS==0)m.Gc=1;else if(aS==270)m.Gc=8;else throw"e "+aS}a+=K}}if(c.t183){var a_=c.t183,aG=[];for(var K=0;
K<6;K++)aG.push(ap(a_,16+K*2));an=aG[0];IU=aG[1]}if(c.t3614){var aM=c.t3614;an=X.Bm(aM,8);IU=X.Bm(aM,12)}if(an!=0){if(an<IU){var av=an;
an=IU;IU=av}var y=m.width-an>>>1,aI=m.height-IU>>>1;m.t50829=[aI,y,aI+IU,y+an]}if(c.t12){var IL=I.raw.DR(c.t12);
aA=[1/IL[0],1,1/IL[1]]}else if(c.t151){var aB=I.raw.IRC(c,151),aV=aB[0],Ia=aB[1],aK=aB[2];if(aV=="0100"&&Ia>=80)throw"e";
else if(aV=="0103"&&Ia>=26){var aE=[];for(var K=0;K<4;K++)aE.push(ap(aK,16+K*2));aA=[aE[1]/aE[0],1,aE[3]/aE[2]]}else if(aV=="0204"&&Ia>=564||aV=="0205"&&Ia>=284){var a=aV=="0204"?6:14,aE=[];
for(var K=0;K<4;K++)aE.push(ap(aK,a+K*2));aA=[aE[1]/aE[0],1,aE[1]/aE[3]]}else throw"e"}else console.log("no white balance info");
if(Q=="NIKON D1")aA=[1,1,1];if(aA)m.t50728=aA;var Ij=c.t150?c.t150:c.t140;if(Ij){var IQ=Ij[as++],Ih=Ij[as++],IE;
if(IQ==73||Ih==88)as+=2110;as+=8;var Rp=1<<r&32767,ag=ap(Ij,as);as+=2;var b=[];if(ag>1)IE=Math.floor(Rp/(ag-1));
if(IQ==68&&Ih==32&&IE>0){for(K=0;K<ag;K++){b[K*IE]=ap(Ij,as);as+=2}for(K=0;K<Rp;K++)b[K]=Math.floor((b[K-K%IE]*(IE-K%IE)+b[K-K%IE+IE]*(K%IE))/IE)}else if(IQ!=70&&ag<=16385){Rp=ag;
for(var K=0;K<ag;K++)b[K]=ap(Ij,as+2*K);as+=2*ag}if(b.length!=0)m.t50712=new Uint16Array(b)}}else if(Q.startsWith("FujiFilm")){}else alert("Unknown camera "+Q)};
I.raw.IaG=function(m,g,L,K){if(0==L)return;var r=new Uint32Array(128),R=new Uint8Array(r.buffer),Q=127,F=0,q=0;
for(var Q=0;Q<4;Q++)r[Q]=K=(K*15625>>>0)*3125+1>>>0;r[3]=r[3]<<1|(r[0]^r[2])>>>31;for(var Q=4;Q<127;
Q++)r[Q]=(r[Q-4]^r[Q-2])<<1|(r[Q-3]^r[Q-1])>>>31;for(var Q=0;Q<127;Q++)r[Q]=X.d(R,Q*4);for(;L>0;L--){r[Q&127]=r[Q+1&127]^r[Q+1+64&127];
var n=r[Q&127],W=m[F];W^=n;g[q]=W;F++;q++;Q++}};I.raw.Iao=function(m,g){var L=X.dn(g,0,4),K=I.raw.IRF;
for(var r=0;r<K.length;r++)if(K[r][0]==m&&L.startsWith(K[r][1])&&(K[r][2]==0||K[r][2]==g.length))return K[r];
throw"e"};I.raw.IRk=function(m){if(m.t29==null)return[];var g=I.raw.Imw,L=I.raw.Ime,K=m.t29[0],r=0,F=0;
for(var R=0;R<K.length;R++){var Q=K.charCodeAt(R);r=r*10+(48<=Q&&Q<=57?Q-48:Q%10)}var q=m.t167[0];for(var R=0;
R<4;R++)F^=q>>>(R<<3)&255;var n=g[r&255],W=L[F&255];return[n,W,96]};I.raw.IRC=function(m,g){var L=m["t"+g],K=L.length,r=I.raw.Iao(g,L),R=X.dn(L,0,4),Q,F=r[4];
if(F==null)Q=L.slice(4);else{Q=new Uint8Array(K-F);var q=I.raw.IRk(m),n=q[0],W=q[1],z=q[2];for(var u=0;
u<Q.length;u++){W=W+n*z++&255;Q[u]=L[F++]^W}}return[R,K,Q]};I.raw.IRF=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
I.raw.Imw=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
I.raw.Ime=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
I.raw.Vu={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
I.Ti={};I.Ti.Ti=function(m,g,L,K,r){if(K==null)K=3;if(r==null)r==!0;var R=m.j,Q=m.F,F=1/R,q=R*Q,n=Date.now(),W=!1,z=I.Ti.Dr(L,R,Q,255,128),u=I.Ti.Dr(L,R,Q,0,128),RJ=0;
if(W)console.log("extract contours",Date.now()-n);n=Date.now();var N=function(Ih,Rp){var ag=Ih<<2,IE=Rp<<2;
return g[ag]+g[ag+1]+g[ag+2]-(g[IE]+g[IE+1]+g[IE+2])};z.sort(N);u.sort(N);var b=I.m(q),B=I.m(q),h=[],A=new Uint32Array(R*Q);
A.fill(4294967295);for(var e=0;e<q;e++)if(L[e]==0)B[e]=255;else if(L[e]==255)b[e]=255;else{A[e]=h.length;
h.push(e)}var c=z.length,a=u.length,$=h.length;function G(Ih,Rp,ag,IE){var ae=Ih.length,Rj=new Array(ae*2);
for(var e=0;e<ae;e++){var P=Ih[e],w=~~(P*IE),d=P-w*ag,Ij=P<<2;Rj[e*2]=d<<16|w;Rj[e*2+1]=Rp[Ij]<<16|Rp[Ij+1]<<8|Rp[Ij+2]}return Rj}var o=G(z,g,R,F),H=G(u,g,R,F),f=G(h,g,R,F);
if(W)console.log("Itemize",Date.now()-n,"Unknown:",$,c,a);n=Date.now();var E=I.style.LF(b,R,Q,!0),S=I.style.LF(B,R,Q,!0),V=new Array($),J=new Array($),U=new Array($),j=new Array($),i=new Array($);
if(W)console.log("Dist transform",Date.now()-n);n=Date.now();var k=I.Ti.G_;for(var e=0;e<$;e++){var P=h[e],w=~~(P*F),d=P-w*R,T=E[P<<1],y=E[(P<<1)+1],D=Math.sqrt(T*T+y*y),s=S[P<<1],Z=S[(P<<1)+1],aQ=Math.sqrt(s*s+Z*Z);
V[e]=1/D;J[e]=1/aQ;var aI=Math.floor(I.h.NI(P*17)*c),aq=Math.floor(I.h.NI(P*19)*a);U[e]=aI;j[e]=aq;i[e]=k(f[e*2],f[e*2+1],o[aI*2],o[aI*2+1],H[aq*2],H[aq*2+1],V[e],J[e],1e9)}var aa=[-R-1,-R,-R+1,-1,1,R-1,R,R+1];
while(Math.floor(Math.max(c,a)*Math.pow(.5,RJ))>1)RJ++;for(var aD=0;aD<K;aD++){var _=0;for(var e=0;e<$;
e++){var P=h[e],w=~~(P*F),d=P-w*R,M=V[e],jt=J[e],aR=f[e*2],aL=f[e*2+1],aw=i[e],aI=U[e],aq=j[e],aS=1;
if(w!=0&&d!=0&&d!=R-1&&w!=Q-1)for(var ap=0;ap<8;ap++){var al=A[P+aa[ap]];if(al==4294967295)continue;
var ak=U[al],ao=j[al];if(ak==aI&&ao==aq)continue;var aZ=k(aR,aL,o[ak*2],o[ak*2+1],H[ao*2],H[ao*2+1],M,jt,aw);
if(aZ<aw){aw=aZ;aI=ak;aq=ao}}for(var an=0;an<RJ;an++){var IU=~~(c*aS),a_=~~(a*aS);aS*=.5;var aG=I.h.NI(P+aD*17+an*31),aM=I.h.NI(P+aD*29+an*63),av=Math.max(0,aI-IU),aA=Math.min(aI+IU,c-1),IL=Math.max(0,aq-a_),aB=Math.min(aq+a_,a-1),ak=av+~~(aG*(aA-av)),ao=IL+~~(aM*(aB-IL)),aZ=k(aR,aL,o[ak*2],o[ak*2+1],H[ao*2],H[ao*2+1],M,jt,aw);
if(aZ<aw){aw=aZ;aI=ak;aq=ao}}i[e]=aw;U[e]=aI;j[e]=aq;_+=aw}}if(W)console.log(_);if(W)console.log("iterations",Date.now()-n);
n=Date.now();var aV=L.slice(0);for(var e=0;e<$;e++){var Ia=I.Ti.alpha(f[e*2+1],o[U[e]*2+1],H[j[e]*2+1]);
aV[h[e]]=~~(.5+255*Ia)}aV=I.Ff.ImF(aV,g,new v(0,0,R,Q),16,.01*.01);if(W)console.log("guided filter",Date.now()-n);
n=Date.now();if(r)for(var e=0;e<q;e++)if(L[e]==255||L[e]==0)aV[e]=L[e];var aK=g.slice(0);for(var e=0;
e<$;e++){var aE=h[e],aI=z[U[e]],aw=i[e],Ij=aE<<2,as=aV[aE],IQ=(as>=250?aE:aI)<<2;aK[Ij]=g[IQ];aK[Ij+1]=g[IQ+1];
aK[Ij+2]=g[IQ+2]}I.eX(aV,aK,3);if(W)console.log(Date.now()-n);n=Date.now();return aK};I.Ti.G_=function(m,g,L,K,r,R,Q,F,q){var n=m>>>16,W=m&65535,z=n-(L>>>16),u=W-(L&65535),N=n-(r>>>16),b=W-(r&65535),B=Math.sqrt(z*z+u*u)*Q,h=Math.sqrt(N*N+b*b)*F;
if(B+h>=q)return 1e9;var A=I.Ti.ImE(g,K,R);return A+B+h};I.Ti.ImE=function(m,g,L){var K=m>>>16,r=m>>>8&255,R=m&255,Q=g>>>16,F=g>>>8&255,q=g&255,n=L>>>16,W=L>>>8&255,z=L&255,u=I.Ti.alpha(m,g,L),N=K-(u*Q+(1-u)*n),b=r-(u*F+(1-u)*W),B=R-(u*q+(1-u)*z);
return Math.sqrt(N*N+b*b+B*B)};I.Ti.alpha=function(m,g,L){var K=m>>>16,r=m>>>8&255,R=m&255,Q=g>>>16,F=g>>>8&255,q=g&255,n=L>>>16,W=L>>>8&255,z=L&255,u=Q-n,N=F-W,b=q-z,B=K-n,h=r-W,A=R-z,e=u*u+N*N+b*b,c=e==0?.5:(B*u+h*N+A*b)/e;
return Math.max(0,Math.min(1,c))};I.Ti.Iig=function(m){};I.Ti.Dr=function(m,g,L,K,r){var R=[],Q=g-1,F=L-1;
for(var q=1;q<F;q++)for(var n=1;n<Q;n++){var W=q*g+n;if(m[W]==K&&(m[W-g-1]==r||m[W-g]==r||m[W-g+1]==r||(m[W-1]==r||m[W+1]==r)||(m[W+g-1]==r||m[W+g]==r||m[W+g+1]==r)))R.push(W)}return R};
I.Ff={};I.Ff.IiK=function(m,g,L,K,r){var R=L.j,Q=L.F,F=R*Q,q=I.Ff.Du,n=I.m(F*4),W;I._U(n,4294967295);
var z=L,u=m,N=g,b=K;I.eX(m,n,0);W=I.Ok(n,L);W=I.Ok(W.qT,W.rect);z=W.rect;b=K>>>2;console.log(z,b);u=I.m(z.c());
I.Vl(W.qT,u,0);I.eX(g,n,0);W=I.Ok(n,L);W=I.Ok(W.qT,W.rect);N=I.m(z.c());I.Vl(W.qT,N,0);var B=I.Ff.Imh(u,N,z,b,r),h=B[0],A=B[1],e=new v(0,0,z.j*2,z.F*2);
h=q(h,z,e,!0);h=q(h,e,L,!0);A=q(A,z,e,!0);A=q(A,e,L,!0);var c=I.m(F);for(var a=0;a<F;a++)c[a]=Math.max(0,Math.min(255,Math.floor(.5+(h[a]*g[a]+255*A[a]))));
return c};I.Ff.Du=function(m,g,L,K){var r=L.j,R=L.F,Q=g.j,F=g.F,q=I.Ff.Mv,n=new Float32Array(r*R);for(var W=0;
W<F;W++){var z=(W+W)*r;for(var u=0;u<Q;u++){if(!0||u==0||W==0||u==Q-1||W==F-1)n[z]=n[z+1]=n[z+r]=n[z+r+1]=m[W*Q+u];
else{n[z]=q(u+.25,W+.25,m,Q,F);n[z+1]=q(u+.75,W+.25,m,Q,F);n[z+r]=q(u+.25,W+.75,m,Q,F);n[z+r+1]=q(u+.75,W+.75,m,Q,F)}z+=2}}return n};
I.Ff.Mv=function(m,g,L,K,r){m-=.499999;g-=.499999;var R=Math.floor(m),Q=Math.floor(g),F=Q*K+R,q=m-R,n=g-Q,W=(1-n)*(1-q),z=(1-n)*q,u=n*(1-q),N=n*q;
if(L[F]==null||L[F+K+1]==null){console.log(m,g,K,r);throw"e"}return W*L[F+0]+z*L[F+1]+u*L[F+K+0]+N*L[F+K+1]};
I.Ff.Imh=function(m,g,L,K,r){var R=L.j,Q=L.F,F=R*Q,q=I.Ff.xU,n=I.Ff.m,W=I.blur.Ij,z=I.Ff.Jl,g=q(g),m=q(m),u=n(F);
W(g,u,L,K);var N=n(F);W(m,N,L,K);var b=n(F);z(g,g,b);W(b,b,L,K);var B=n(F);z(g,m,B);W(B,B,L,K);var h=n(F),A=n(F);
for(var e=0;e<F;e++){var c=u[e],a=N[e],$=b[e]-c*c,G=B[e]-c*a,o=G/($+r),H=a-o*c;h[e]=o;A[e]=H}var f=n(F);
W(h,f,L,K);var E=n(F);W(A,E,L,K);return[f,E]};I.Ff.ImF=function(m,g,L,K,r){var R=L.j,Q=L.F,F=R*Q,q=I.Ff.Du,n=Date.now(),W=!1,z=L,u=m,N=g,b=K;
z=new v(0,0,R>>>2,Q>>>2);b=K>>>2;u=I.Ff.Imd(m,R,Q);N=I.Ff.ImW(g,R,Q);if(W)console.log(Date.now()-n);
n=Date.now();var B=I.Ff.Imb(u,N,z,b,r),h=B[0],A=B[1],e=B[2],c=B[3];if(W)console.log(Date.now()-n);n=Date.now();
var a=I.m(F);for(var $=0;$<Q;$++)for(var G=0;G<R;G++){var o=$*R+G,H=($>>>2)*(R>>>2)+(G>>>2),f=o<<2,E=h[H]*g[f]+A[H]*g[f+1]+e[H]*g[f+2]+c[H]*255;
a[o]=Math.max(0,Math.min(255,~~(.5+E)))}if(W)console.log(Date.now()-n);n=Date.now();return a};I.Ff.Imd=function(m,g,L){var K=g>>>2,r=L>>>2,R=I.m(g*L);
for(var Q=0;Q<r;Q++)for(var F=0;F<K;F++)R[Q*K+F]=m[Q*g+F<<2];return R};I.Ff.ImW=function(m,g,L){var K=g>>>2,r=L>>>2,R=I.m(g*L*4);
for(var Q=0;Q<r;Q++)for(var F=0;F<K;F++){var q=Q*K+F<<2,n=Q*g+F<<4;R[q]=m[n];R[q+1]=m[n+1];R[q+2]=m[n+2];
R[q+3]=m[n+3]}return R};I.Ff.Imb=function(m,g,L,K,r){var R=L.j,Q=L.F,F=R*Q,q=I.Ff.xU,n=I.Ff.m,W=I.blur.Ij,z=I.Ff.Jl,m=q(m),u=new I.ha(R*Q);
I.cd(g,u);var g=[q(u.u),q(u.S),q(u.R)],N=I.Ff.IpZ(m,g,L,K,r),b=n(F);W(m,b,L,K);var B=n(F);z(g[0],m,B);
W(B,B,L,K);var h=n(F);z(g[1],m,h);W(h,h,L,K);var A=n(F);z(g[2],m,A);W(A,A,L,K);var e=n(F),c=n(F),a=n(F),$=n(F);
for(var G=0;G<F;G++){var o=b[G],H=N.K_[G],f=N.KC[G],E=N.Kd[G],S=B[G]-H*o,V=h[G]-f*o,J=A[G]-E*o;e[G]=N.IkF[G]*S+N.Ky[G]*V+N.AU[G]*J;
c[G]=N.Ky[G]*S+N.Ikg[G]*V+N.Aw[G]*J;a[G]=N.AU[G]*S+N.Aw[G]*V+N.IOM[G]*J;$[G]=o-e[G]*H-c[G]*f-a[G]*E}W(e,e,L,K);
W(c,c,L,K);W(a,a,L,K);W($,$,L,K);return[e,c,a,$]};I.Ff.IpZ=function(m,g,L,K,r){var R=L.j,Q=L.F,F=R*Q,q=I.Ff.m,n=I.blur.Ij,W=I.Ff.Jl,z={};
z.K_=q(F);n(g[0],z.K_,L,K);z.KC=q(F);n(g[1],z.KC,L,K);z.Kd=q(F);n(g[2],z.Kd,L,K);var u=q(F);W(g[0],g[0],u);
n(u,u,L,K);var N=q(F);W(g[0],g[1],N);n(N,N,L,K);var b=q(F);W(g[0],g[2],b);n(b,b,L,K);var B=q(F);W(g[1],g[1],B);
n(B,B,L,K);var h=q(F);W(g[1],g[2],h);n(h,h,L,K);var A=q(F);W(g[2],g[2],A);n(A,A,L,K);z.IkF=u;z.Ky=N;
z.AU=b;z.Ikg=B;z.Aw=h;z.IOM=A;for(var e=0;e<F;e++){var c=z.K_[e],a=z.KC[e],$=z.Kd[e],G=u[e]-c*c+r,o=N[e]-c*a,H=b[e]-c*$,f=B[e]-a*a+r,E=h[e]-a*$,S=A[e]-$*$+r,V=f*S-E*E,J=E*H-o*S,U=o*E-f*H,j=G*S-H*H,i=H*o-G*E,k=G*f-o*o,P=V*G+J*o+U*H,w=1/P;
z.IkF[e]=V*w;z.Ky[e]=J*w;z.AU[e]=U*w;z.Ikg[e]=j*w;z.Aw[e]=i*w;z.IOM[e]=k*w}return z};I.Ff.m=function(m){return new Float32Array(m)};
I.Ff.xU=function(m){var g=m.length,L=new Float32Array(g);for(var K=0;K<g;K++)L[K]=m[K]*(1/255);return L};
I.Ff.Jl=function(m,g,L){for(var K=0;K<m.length;K++)L[K]=m[K]*g[K]};I.qM={};I.qM.JG=function(m,g,L,K){var r=m[g]-L[K],R=m[g+1]-L[K+1],Q=m[g+2]-L[K+2];
return Math.sqrt(r*r+R*R+Q*Q)*(1/441.7)};I.qM.getSelection=function(m,g,L){var K=g*L,r=I.m(K),R=!1,Q=Math.round(L*.7),F=1,q=new Uint32Array(12),n=I.m(12);
for(var W=0;W<Q;W++)for(var z=0;z<g;z++){if(z<F||W<F||z>g-F-1||W>L-F-1){var u=W*g+z,N=u<<2,b=0;if(W<F)b=4;
else if(z>g-F-1)b=8;q[b]+=m[N];q[b+1]+=m[N+1];q[b+2]+=m[N+2];q[b+3]++;r[u]=255}}for(var u=0;u<12;u+=4)for(var B=0;
B<3;B++)n[u+B]=q[u+B]/q[u+3];var h=new Float32Array(K);for(var u=0;u<K;u++){var N=u*4,A=I.qM.JG(m,N,n,0),e=I.qM.JG(m,N,n,4),c=I.qM.JG(m,N,n,8),a=Math.max(A,Math.max(e,c));
h[u]=A+e+c-a}I.qM.Jo(h);var G=Date.now(),o=new Float32Array(K),H=[],f=I.m(K);for(var u=0;u<3;u++){I.Vl(m,f,u);
var E=new Uint16Array(K);H.push(E);I.qM.Ip$(f,r,g,L,E)}if(R)console.log("MBD",Date.now()-G);G=Date.now();
for(var u=0;u<K;u++)o[u]=H[0][u]+H[1][u]+H[2][u];I.qM.Jo(o);for(var u=0;u<K;u++)o[u]+=.4*h[u];var S=g>>>1,Q=L>>>1,V=1/Math.sqrt(S*S+Q*Q);
for(var W=0;W<L;W++)for(var z=0;z<g;z++){var J=z-S,U=W-Q,j=1-Math.sqrt(J*J+U*U)*V;o[W*g+z]*=j}if(R)console.log("Centeredness",Date.now()-G);
G=Date.now();for(var u=0;u<K;u++)r[u]=o[u]*255;var i=Math.round(g/120),k=Math.round(i*.8);if(R)console.log(i,k);
I.ll.wI(r,f,g,L,i,I.ll.wG,[]);r.set(f);if(R)console.log("erosion",Date.now()-G);G=Date.now();for(var u=0;
u<K;u++)o[u]=r[u];I.qM.Jo(o);var P=I.m(256);for(var u=0;u<256;u++)P[u]=256/(1+Math.exp(-20*(u/255-.5)));
for(var u=0;u<K;u++){var w=~~(o[u]*255+.5);r[u]=P[w]}if(R)console.log("Simoid",Date.now()-G);G=Date.now();
return r};I.qM.Jo=function(m){var g=m.length,L=0;for(var K=0;K<g;K++)L=Math.max(L,m[K]);var r=1/L;for(var K=0;
K<g;K++)m[K]=m[K]*r};I.qM.Ip$=function(m,g,L,K,r){var R=L*K,Q=m.slice(0),F=m.slice(0);for(var q=0;q<R;
q++)r[q]=g[q]==255?0:65535;I.qM.xx(m,F,Q,r,L,K);I.qM.xw(m,F,Q,r,L,K);I.qM.xx(m,F,Q,r,L,K);I.qM.xw(m,F,Q,r,L,K);
return r};I.qM.xx=function(m,g,L,K,r,R){for(var Q=1;Q<r;Q++)I.qM._H(Q,-1,m,g,L,K);for(var F=1;F<R;F++){I.qM._H(F*r,-r,m,g,L,K);
for(var Q=1;Q<r;Q++){var q=F*r+Q;I.qM._H(q,-1,m,g,L,K);I.qM._H(q,-r,m,g,L,K)}}};I.qM.xw=function(m,g,L,K,r,R){for(var Q=r-2;
Q>=0;Q--)I.qM._H(r*R-r+Q,1,m,g,L,K);for(var F=R-2;F>=0;F--){I.qM._H(F*r+r-1,r,m,g,L,K);for(var Q=r-2;
Q>=0;Q--){var q=F*r+Q;I.qM._H(q,1,m,g,L,K);I.qM._H(q,r,m,g,L,K)}}};I.qM._H=function(m,g,L,K,r,R){var Q=m+g,F=L[m],q=K[Q],n=r[Q];
if(q<F)q=F;else if(F<n)n=F;var W=q-n;if(R[Q]!=65535&&W<R[m]){R[m]=W;K[m]=q;r[m]=n}};I.W$={};I.W$.filter=function(m,g,L,K){var r=g.j,R=g.F,Q=r*R,F=K[0],q=K[1],n=K[2],W=K[3],z=K[4],u=K[5],N=K[6],b=Date.now(),B=new Float32Array(r*R*4);
I.W$.IxL(m,r,R,B);var h=Math.ceil(F*Math.sqrt(-2*Math.log(.1))),A=new ArrayBuffer(Q*4),e=new Float32Array(A),c=new Float32Array(Q),a=new Float32Array(Q);
for(var $=0;$<Q;$++){var G=$*4;e[$]=B[G];c[$]=B[G+1];a[$]=B[G+2]}I.blur.AE(e,e,g,h*1/2.4,2);I.blur.AE(c,c,g,h*1/2.4,2);
I.blur.AE(a,a,g,h*1/2.4,2);for(var $=0;$<Q;$++){var G=$*4;B[G]=e[$];B[G+1]=c[$];B[G+2]=a[$]}var o=new Uint8Array(A);
for(var $=0;$<Q;$++){var G=$*4,H=$*4,e=B[G],c=B[G+1],a=B[G+2],f=Math.sqrt((e-a)*(e-a)+4*c*c),E=(e+a+f)*.5,S=(e+a-f)*.5,V=S-a,J=c,U=V*V+J*J;
if(U!=0){var j=Math.sqrt(U),i=1/j;V*=i;J*=i}o[H]=128+127*V;o[H+1]=128+127*J}var k=1.3*q+2,P=W*(2/10),w=m.slice();
if(t.be){var d=new Float32Array([1/r,1/R]),T=t.es(0,r,R);T.set(w);var y=t.es(1,r,R);y.set(o);t.$a(T,g);
if(z){T.o$(g);t.filter.Kk({type:t.filter.Tx,XR:d,ICX:1/n,ICY:P},T.vB)}T.o$(g);t.filter.Kk({type:t.filter.qH,Ao:y.Iu,XR:d,IMe:k,IMY:2},T.vB);
if(z){T.o$(g);t.filter.Kk({type:t.filter.oy,XR:d,ICb:new Float32Array(N),IvU:u},T.vB)}T.get(L)}else{if(z)I.W$.Lg(1/n,P,w,r,R);
I.W$.qH(w,L,o,r,R,k);if(z)I.W$.IDb(r,R,L,N,u)}var D=Q*4;for(var $=3;$<D;$+=4)L[$]=m[$]};I.W$.qH=function(m,g,L,K,r,R){var Q=Math.ceil(2*R),F=-1/(2*R*R),q=[],n=1;
for(var W=0;W<Q+20;W++)q[W]=Math.exp(W*W*F);var z=[0,0,0,0];for(var u=0;u<r;u++){for(var N=0;N<K;N++){var b=u*K+N,B=b*4,h=1,A=m[B],e=m[B+1],c=m[B+2],a=m[B+3],$=(L[B]-128)*(1/127),G=(L[B+1]-128)*(1/127),o=$,H=G,f=N==0?.51:.49,E=u==0?.51:.49;
for(var W=0;W<2;W++){var S=N+f,V=u+E,J=0;while(J<Q){if(S<.5||K-.5<S||V<.5||r-.5<V)break;var U=~~S,j=~~V,i=j*K+U,k=i*4,P=(L[k]-128)*(1/127),w=(L[k+1]-128)*(1/127);
if(P*o+w*H<0){P=-P;w=-w}o=P;H=w;S+=n*P;V+=n*w;if(S<.5||K-.5<S||V<.5||r-.5<V)break;var d=~~S,T=~~V,y=T*K+d<<2;
J+=n;var D=q[~~J];I.i.fw(S,V,m,K,r,z);A+=z[0]*D;e+=z[1]*D;c+=z[2]*D;a+=z[3]*D;h+=D}o=-$;H=-G}var s=1/h;
g[B]=~~(.5+A*s);g[B+1]=~~(.5+e*s);g[B+2]=~~(.5+c*s);g[B+3]=~~(.5+a*s)}}};I.W$.IDb=function(m,g,L,K,r){for(var R=0;
R<g;R++)for(var Q=0;Q<m;Q++){var F=R*m+Q<<2,q=1+I.W$.IDs(Q,R,L,m,g,K)*r;L[F]=Math.max(0,Math.min(255,L[F]*q));
L[F+1]=Math.max(0,Math.min(255,L[F+1]*q));L[F+2]=Math.max(0,Math.min(255,L[F+2]*q))}};I.W$.IDs=function(m,g,L,K,r,R){var Q=L[(g*K+Math.max(0,m-1))*4+3],F=L[(g*K+Math.min(K-1,m+1))*4+3],q=L[(Math.max(0,g-1)*K+m)*4+3],n=L[(Math.min(r-1,g+1)*K+m)*4+3],W=.7,z=(F-Q)*(1/255),u=.7,N=(n-q)*(1/255),b=-z*u,B=-W*N,h=W*u,A=Math.sqrt(b*b+B*B+h*h),e=1/A,c=b*e,a=B*e,$=h*e,G=R[0]*c+R[1]*a+R[2]*$;
return G};I.W$.Lg=function(m,g,L,K,r){function R(F,n,W){return Math.max(n,Math.min(W,F))}for(var Q=0;
Q<r;Q++)for(var F=0;F<K;F++){var q=I.W$.Ixw(F+.5,Q+.5,m,g);L[(Q*K+F)*4+3]=Math.max(0,Math.min(255,q*255))}};
I.W$.Ixw=function(m,g,L,K){function r(H,f,E){return(1-E)*H+E*f}var R=(m+613)*L,Q=(g+117)*L,F=~~R,q=~~Q,n=R-F,W=Q-q,z=Math.sin(11),u=Math.cos(F)*z,N=Math.cos(F+1)*z,b=Math.cos(q)*z,B=Math.cos(q+1)*z,h=I.W$.hash(u,b),A=I.W$.hash(N,b),e=I.W$.hash(u,B),c=I.W$.hash(N,B),a=r(h,A,n),$=r(e,c,n),G=r(a,$,W);
G=G<.5?0:1;var o=G+K*I.W$.hash(Math.cos(R)*z,Math.cos(Q)*z);return o*(1/3)};I.W$.hash=function(m,g){var L=Math.sin(m*11.697096+g*73.32456)*12157.47691;
return L-Math.floor(L)};I.W$.IxL=function(m,g,L,K){var r=[-1,0,1,-2,0,2,-1,0,1],R=[-1,-2,-1,0,0,0,1,2,1],Q=g-1,F=L-1,q=g*4;
for(var n=1;n<F;n++)for(var W=1;W<Q;W++){var z=n*g+W,u=z*4,N=I.W$._L(m,u,q,r),b=I.W$._L(m,u,q,R),B=I.W$._L(m,u+1,q,r),h=I.W$._L(m,u+1,q,R),A=I.W$._L(m,u+2,q,r),e=I.W$._L(m,u+2,q,R);
K[u]=N*N+B*B+A*A;K[u+1]=N*b+B*h+A*e;K[u+2]=b*b+h*h+e*e}I.W$.IxX(K,g,L)};I.W$._L=function(m,g,L,K){return m[g-L-4]*K[0]+m[g-L]*K[1]+m[g-L+4]*K[2]+m[g-4]*K[3]+m[g]*K[4]+m[g+4]*K[5]+m[g+L-4]*K[6]+m[g+L]*K[7]+m[g+L+4]*K[8]};
I.W$.IxX=function(m,g,L){function K(q,n,W){var z=n*4,u=W*4;q[u]=q[z];q[u+1]=q[z+1];q[u+2]=q[z+2]}var r=g-1,R=L-1;
K(m,g+1,0);K(m,2*g-2,g-1);for(var Q=1;Q<r;Q++)K(m,g+Q,Q);for(var F=1;F<R;F++){K(m,F*g+1,F*g);K(m,F*g+g-2,F*g+g-1)}for(var Q=1;
Q<r;Q++)K(m,(L-2)*g+Q,(L-1)*g+Q);K(m,(F-2)*g+1,(F-1)*g);K(m,(F-1)*g-2,F*g-1)};I._k={};I._k.JT=function(m,g,L,K){var r=m[g*2],R=m[g*2+1],Q=m[L*2],F=m[L*2+1],q=m[K*2],n=m[K*2+1];
return r*F+Q*n+q*R-q*F-Q*R-r*n};I._k.wq=function(m,g){var L=[],K=[],r=[],R={};for(var Q=0;Q<g.length;
Q+=3){var F=~~(Q*(1/3)),q=g[Q+0],n=g[Q+1],W=g[Q+2],z=I._k.JT(m,q,n,W);if(z>0){var u=n;n=W;W=u}var N=R[W+"-"+n],b=R[n+"-"+q],B=R[q+"-"+W],h=[W,N,F,null],A=[n,b,F,h],e=[q,B,F,A];
h[3]=e;if(N)N[1]=h;if(b)b[1]=A;if(B)B[1]=e;R[W+"-"+q]=e;R[q+"-"+n]=A;R[n+"-"+W]=h;L[q]=A;r[Q]=A;L[n]=h;
r[Q+1]=h;L[W]=e;r[Q+2]=e;K[F]=A}return{Xu:L,XY:K,pN:r}};I._k.IxF=function(m){var g=[],L=m.XY;for(var K=0;
K<L.length;K++){var r=L[K];g.push(r[0]);r=r[3];g.push(r[0]);r=r[3];g.push(r[0])}return g};I._k.IwQ=function(m,g,L,K){var r=m[g*2],R=m[g*2+1],Q=m[L*2],F=m[L*2+1],q=m[K*2],n=m[K*2+1],W=Q-r,z=F-R,N=q-r,b=n-R,B=W*(r+Q)+z*(R+F),h=N*(r+q)+b*(R+n),A=2*(W*(n-F)-z*(q-Q));
if(Math.abs(A)<1e-5){var e=Math.min(r,Q,q),c=Math.min(R,F,n),a=(Math.max(r,Q,q)-e)*.5,$=(Math.max(R,F,n)-c)*.5;
return[e+a,c+$,a*a+$*$,1]}var G=(b*B-z*h)/A,o=(W*h-N*B)/A,a=G-r,$=o-R;return[G,o,a*a+$*$,0]};I._k.Iwu=function(m,g,L){var K=L[1],r=L[3],R=r[3],Q=K[3],F=Q[3],q=L[2],n=K[2],W=L[0],z=K[0],u=r[0],N=Q[0],b=I._k.IwQ(m,z,N,u),B=m[W*2]-b[0],h=m[W*2+1]-b[1],A=B*B+h*h>b[2]&&b[3]==0&&I._k.JT(m,N,W,u)<0&&I._k.JT(m,u,z,N)<0;
if(A){L[0]=u;K[0]=N;L[3]=R;R[3]=Q;Q[3]=L;K[3]=F;F[3]=r;r[3]=K;r[2]=n;Q[2]=q;g.XY[n]=F;g.XY[q]=R;g.Xu[z]=Q;
g.Xu[W]=r}return A};I._k.xz=function(m,g,L){var K=m[g*2]-m[L*2],r=m[g*2+1]-m[L*2+1];return Math.sqrt(K*K+r*r)};
I._k.ILa=function(m,g,L){var K=L[1],r=L[3],R=r[3],Q,F,q=L[2],n,W=L[0],z=R[0],u=r[0],N;if(K){Q=K[3];F=Q[3];
n=K[2];N=Q[0]}var b=m.length>>>1;m[2*b]=(m[2*z]+m[2*W])*.5;m[2*b+1]=(m[2*z+1]+m[2*W+1])*.5;if(!0){var B=q,h=L,A=g.XY.length,e=[b,null,B,h],c=[u,e,A,R];
e[1]=c;var a=[b,null,A,c];r[3]=e;R[3]=a;R[2]=A;g.XY[B]=r;g.XY[A]=a;g.Xu[W]=r;g.Xu[u]=R;g.pN.push(e,c,a)}if(K){var $=n,G=K,o=A+1;
a[1]=G,G[1]=a;var H=[b,null,$,G],f=[N,H,o,F];H[1]=f;var E=[b,h,o,f];h[1]=E;Q[3]=H;F[3]=E;F[2]=o;g.XY[$]=Q;
g.XY[o]=F;g.Xu[z]=Q;g.Xu[N]=F;g.pN.push(H,f,E)}g.Xu[b]=h};I._k.wx=function(m,g){var L=0;while(!0){var K=L;
for(var r=0;r<g.pN.length;r++){var R=g.pN[r];if(R[1]==null)continue;var Q=I._k.Iwu(m,g,R);if(Q){L++;
break}}if(K==L)break}return L!=0};I._k.ILw=function(m,g,L,K){var r=0;for(var R=0;R<K;R++){var Q=null,F=0;
for(var q=0;q<g.pN.length;q++){var n=g.pN[q],W=I._k.xz(m,n[0],n[3][3][0])*(n[1]?1:2);if(W>F){Q=n;F=W}}if(F>L){I._k.ILa(m,g,Q);
r++}}return r!=0};I._k.ILE=function(m,g){var L=[],b=0;for(var K=0;K<m.length;K++)L.push(0);for(var K=0;
K<g.pN.length;K++){var r=g.pN[K],R=r[0],Q=r[3][3][0],F=m[R*2],q=m[R*2+1],n=m[Q*2],W=m[Q*2+1],z=F-n,N=q-W;
L[R*2]+=-z;L[R*2+1]+=-N;L[Q*2]+=z;L[Q*2+1]+=N}for(var K=0;K<m.length;K+=2){var B=K>>>1,h=g.Xu[B],r=h,A=!0;
do{if(r[1]==null){A=!1;break}r=r[1][3]}while(r!=h);if(A){var e=.02;m[K]+=e*L[K];m[K+1]+=e*L[K+1];b+=e*(L[K]*L[K]+L[K+1]*L[K+1])}}return b};
I._k.ILY=function(m,g,L){var K=I.e.Pt(m),r=I._k.wq(m,g);I._k.wx(m,r);for(var R=0;R<300;R++){var Q=!1,F=!1;
Q=I._k.ILw(m,r,L,5);if(Q)F=I._k.wx(m,r);var q=I._k.ILE(m,r);if(!Q&&!F&&q<1e-4){break}}return I._k.IxF(r)};
I.e$={};I.e$.IJp=function(m,g){var L=m.length,K=m[0].length,r=g[0].length;if(K!=g.length)throw"e";if((K&1)!=0)throw"e";
var R=new Array(L);for(var Q=0;Q<L;Q++)R[Q]=new Array(r);for(var Q=0;Q<L;Q++){var F=m[Q],q=R[Q];for(var n=0;
n<r;n++){var W=0;for(var z=0;z<K;z+=2)W+=F[z]*g[z][n]+F[z+1]*g[z+1][n];q[n]=W}}return R};I.e$.wl=function(m){var g=m.PV,L=m.DK,K=m.lf,r=m.AS,R=m.mc,Q=m.yu,F=m.mz,c,a,$=0;
function q(M,jt){var aR=M.length,aL=M[0].length,z=new Array(aR);for(var B=0;B<aR;B++){var aw=0;for(var ap=0;
ap<aL;ap++)aw+=M[B][ap]*jt[ap];z[B]=aw}return z}function n(M){var jt=new Array(M);for(var B=0;B<M;B++)jt[B]=0;
return jt}var W=L.length>>>1,z=n(g.Ak*2),u=n(g.Ak),N=n(g.Ak),b=Date.now();for(var B=0;B<m.eU.length;
B++){var h=g.IvI+B,A=g.uP*(Q[B*2]+F[B*2]),e=g.uP*(Q[B*2+1]+F[B*2+1]);z[h*2]=A;z[h*2+1]=e;u[h]=A;N[h]=e}g.IvJ.L$(r,g.Ivl.qI(z),.01,c,a);
for(var B=0;B<g.I_F.pN.length;B++){var G=g.I_F.pN[B],o=G[3][3][0],H=G[0],f=G[3][0],E=G[1]?G[1][3][0]:f;
if(G[1]&&o>H)continue;var S=L[o*2],V=L[o*2+1],J=L[H*2],U=L[H*2+1],j=r[o*2],i=r[o*2+1],k=r[H*2],P=r[H*2+1],w=r[f*2],d=r[f*2+1],T=r[E*2],y=r[E*2+1],D=[j,i,k,P,w,d];
if(G[1])D.push(T,y);var s=q(g.Ivk[$],D),Z=s[0],aQ=s[1],aI=1/Math.sqrt(Z*Z+aQ*aQ);Z*=aI;aQ*=aI;var aq=J-S,aa=U-V;
u[$]=Z*aq+aQ*aa;N[$]=-aQ*aq+Z*aa;$++}var aD=new Array(W),_=new Array(W);for(var B=0;B<W;B++){aD[B]=R[B*2];
_[B]=R[B*2+1]}g.Ieg.L$(aD,g.IeK.qI(u),.5);g.Ieg.L$(_,g.IeK.qI(N),.5);for(var B=0;B<W;B++){R[B*2]=aD[B];
R[B*2+1]=_[B]}};I.e$.LR=function(m){var g=m.DK,L=m.lf,K=m.eU,W=0,A=0,aq=1e3;function r(aR){var aL=aR.length,aw=aR[0].length,ap=new Array(aw);
for(var z=0;z<aw;z++)ap[z]=new Array(aL);for(var z=0;z<aw;z++)for(var aI=0;aI<aL;aI++)ap[z][aI]=aR[aI][z];
return ap}function R(aR,aL){var aw=aR.length,ap=aR[0].length,al=new Array(aw);for(var z=0;z<aw;z++)al[z]=new Array(ap);
for(var z=0;z<aw;z++)for(var aI=0;aI<ap;aI++)al[z][aI]=aR[z][aI]-aL[z][aI];return al}var Q=I.e$.IJp,F=Date.now(),q=I._k.wq(g,L),n=g.length>>>1;
for(var z=0;z<q.pN.length;z++)W+=q.pN[z][1]?.5:1;var u=W+K.length,N=[],b=new I.hd(u*2,n*2),B=new I.hd(u,n),h=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],e=[],c=[];
for(var z=0;z<q.pN.length;z++){var a=q.pN[z],$=a[3][3][0],G=a[0],o=a[3][0],H=a[1]?a[1][3][0]:o;if(a[1]&&$>G)continue;
var f=g[$*2],E=g[$*2+1],S=g[G*2],V=g[G*2+1],J=g[o*2],U=g[o*2+1],j=g[H*2],i=g[H*2+1],k=[[f,E,1,0],[E,-f,0,1],[S,V,1,0],[V,-S,0,1],[J,U,1,0],[U,-J,0,1]];
if(a[1])k.push([j,i,1,0],[i,-j,0,1]);var P=r(k),w=Q(linear.invert(Q(P,k)),P);w.pop();w.pop();N.push(w);
var d=S-f,T=V-E,y=h[a[1]?1:0];y=R(y,Q([[d,T],[T,-d]],w));var D=[$*2,$*2+1,G*2,G*2+1,o*2,o*2+1,H*2,H*2+1],s=a[1]?8:6,Z=[];
for(var aQ=0;aQ<s;aQ++)Z.push([D[aQ],y[0][aQ],y[1][aQ]]);Z.sort(function(aR,aL){return aR[0]-aL[0]});
for(var aI=0;aI<2;aI++){for(var aQ=0;aQ<s;aQ++){e[aQ]=Z[aQ][0];c[aQ]=Z[aQ][1+aI]}b.bf(c,e,s)}if($<G)B.bf([-1,1],[$,G],2);
else B.bf([1,-1],[G,$],2);A++}for(var z=0;z<K.length;z++){var aa=K[z];b.bf([aq],[aa*2],1);b.bf([aq],[aa*2+1],1);
B.bf([aq],[aa],1)}var aD=b.GL(),_=aD.LB(aD),M=B.GL(),jt=M.LB(M);return{IvI:W,Ak:u,Ivl:aD,IvJ:_,IeK:M,Ieg:jt,I_F:q,Ivk:N,uP:aq}};
I.e$.IJl=function(m,g,L,K,r){var R=new v(0,0,g,L),Q=I.m(R.c());I.Vl(m,Q,3);I.round(Q,70);var F=I.YR(Q,R),q=[.1,.065,.035][K]*Math.max(F.j,F.F),n=r+1,W=g+n*2,z=L+n*2,u=new v(-n,-n,W,z),N=I.m(u.c());
I.Cp(Q,R,N,u);var b=N.slice(0);for(var B=0;B<r;B++){for(var h=1;h<z-1;h++){for(var A=1;A<W-1;A++){var e=h*W+A;
b[e]=N[e-W]|N[e-1]|N[e]|N[e+1]|N[e+W]}}var c=b;b=N;N=c}var a=Ib.JO(N,W,z,Math.round(F.c()*5e-4)),$=Ib.zA(a),G=new aC(1,0,0,1,-n,-n);
for(var e=0;e<$.length;e++){var o=$[e];I.e.f(o.path.D,G,o.path.D);o.DK=I.e$.IJo(o.path);o.lf=I.e.I_M(o.DK);
o.lf=I._k.ILY(o.DK,o.lf,q)}return $};I.e$.IJo=function(m){var g=[],L=m.D,K=m.O.length-1,r=0,R=0;for(var Q=0;
Q<K;Q++){var F=Q*6,q=L[F+6]-L[F+0],n=L[F+7]-L[F+1],W=Math.ceil(Math.sqrt(q*q+n*n));for(var z=0;z<W;z++){var u=z/W,N=1-u,b=N*N*N*L[F+0]+3*N*N*u*L[F+2]+3*N*u*u*L[F+4]+u*u*u*L[F+6],B=N*N*N*L[F+1]+3*N*N*u*L[F+3]+3*N*u*u*L[F+5]+u*u*u*L[F+7];
g.push(b,B);r=b;R=B}}g=I.e.LT(g,1);var h=[],A=g.length;for(var F=0;F<A;F+=2){var B=g.pop(),b=g.pop();
h.push(b,B)}return h};I.e$.IJv=function(m,g,L,K){function r(f,E,S,V,J){var U=J[f*2]-J[E*2],j=J[f*2+1]-J[E*2+1],i=Math.sqrt(U*U+j*j);
if(S[f].indexOf(E)==-1){S[f].push(E);V[f].push(i)}if(S[E].indexOf(f)==-1){S[E].push(f);V[E].push(i)}}var R=m.length>>>1,Q=new Array(R);
if(L.length==0){Q.fill(0);return Q}var F=new Array(R),q=new Array(R);for(var n=0;n<R;n++){F[n]=[];q[n]=[]}for(var n=0;
n<g.length;n+=3){r(g[n],g[n+1],F,q,m);r(g[n],g[n+2],F,q,m);r(g[n+1],g[n+2],F,q,m)}var W=new Float64Array(R*2),z=new Uint32Array(R*2);
W.fill(1e9);var u=new Uint8Array(R);for(var N=0;N<L.length;N++){u.fill(0);var b=["---",[0,L[N]]];while(b.length!=1){var B=I.tZ.Iwe(b),h=B[0],A=B[1];
if(u[A]==1)continue;var e=A<<1;if(h<W[e]){W[e+1]=W[e];z[e+1]=z[e];W[e]=h;z[e]=N}else if(h<W[e+1]){W[e+1]=h;
z[e+1]=N}u[A]=1;var c=F[A],a=q[A];for(var n=0;n<c.length;n++){var $=c[n];if(u[$]!=1){I.tZ.Iwq(b,[h+a[n],$])}}}}for(var n=0;
n<R;n++){var e=n<<1,G=W[e],o=W[e+1],H=1/(G+o);Q[n]=(1-G*H)*K[z[e]]+(1-o*H)*K[z[e+1]]}return Q};I.e$.IiA=function(m){var g={O:[],D:[]},L=[m];
while(L.length!=0){var K=L.pop(),r=K.Fi;if(K.IvH instanceof Array||K.Ivd instanceof Array){g.O.push("M","L","L","L","Z");
g.D.push(r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3])}else L.push(K.IvH,K.Ivd)}return g};I.e$.Wa=function(m,g,L,K,r,R,Q){var F=L.j,q=L.F,n=Math.round(Q.length/3),W=new Array(n);
for(var z=0;z<n;z++)W[z]=z;W.sort(function(N,b){return R[Q[N*3]]-R[Q[b*3]]});for(var z=0;z<n;z++){var u=W[z]*3;
I.e$.IJZ(Q[u]*2,Q[u+1]*2,Q[u+2]*2,K,r,m,g,F,q)}};I.e$.IJZ=function(m,g,L,K,r,R,Q,F,q){var n=I.e$.Lm,W=[m,g,L,1.2,1.2,1.2,0],z=[0,0,0,0],u=r[m],N=r[m+1],b=r[g],B=r[g+1],h=r[L],A=r[L+1],e=Math.max(0,Math.min(F-1,K[m])),c=Math.max(0,Math.min(F-1,K[g])),a=Math.max(0,Math.min(F-1,K[L])),$=Math.max(0,Math.min(q-1,K[m+1])),G=Math.max(0,Math.min(q-1,K[g+1])),o=Math.max(0,Math.min(q-1,K[L+1])),H=b-u,f=B-N,E=h-u,S=A-N,V=1/(H*S-E*f+1e-9),J=Math.max(0,Math.floor(Math.min(u,b,h))),U=Math.min(F,Math.ceil(Math.max(u,b,h))),j=Math.max(0,Math.floor(Math.min(N,B,A))),i=Math.min(q,Math.ceil(Math.max(N,B,A)));
for(var k=j;k<i;k++)for(var P=J;P<U;P++){var w=P+.5-u,d=k+.5-N,T=(w*S-E*d)*V,y=(H*d-w*f)*V;if(T>=0&&y>=0&&T+y<=1){var D=1-T-y,s=e*D+c*T+a*y,Z=$*D+G*T+o*y;
I.i.fw(s,Z,R,F,q,z);I.e$.IJg(z,Q,k*F+P<<2)}}};I.e$.IJg=function(m,g,L){var K=g[L],r=g[L+1],R=g[L+2],Q=g[L+3],F=1-m[3]*(1/255);
g[L]=~~(.5+m[0]+K*F);g[L+1]=~~(.5+m[1]+r*F);g[L+2]=~~(.5+m[2]+R*F);g[L+3]=~~(.5+m[3]+Q*F)};I.e$.Lm=function(){var m=function(L,K,r,R){var Q=R[0],F=R[1],q=R[2],n=L[Q+0],W=L[Q+1],z=L[F+0],u=L[F+1],N=L[q+0],b=L[q+1],B=z-n,h=u-W,A=N-n,e=b-W,c=K-n,a=r-W,$=B*e-A*h,G=1/($+1e-9),o=(c*e-A*a)*G,H=(B*a-c*h)*G;
if(o>=0&&H>=0&&o+H<=1){R[3]=1-o-H;R[4]=o;R[5]=H;return 1}return 0},g=function(L,K,r,R){var Q=[0,0,0,0,0,0];
for(var F=0;F<K.length;F+=3){Q[0]=K[F]*2;Q[1]=K[F+1]*2;Q[2]=K[F+2]*2;if(m(L,r,R,Q)==1)return!0}return!1};
return{Ijb:m,IZI:g}}();I.$_={};I.$_.IJP=function(m,g,L,K,r){var R=I.$_.LY(m.buffer,g,L).Zv,Q=Date.now(),F=new Uint32Array(R.length);
for(var q=0;q<R.length;q++)F[q]=R[q].OS;var n=UPNG.quantize.getKDtree(new Uint8Array(F.buffer),K),W=[g,1,-g,-1,g+1,-g+1,-g-1,g-1,g+g,2,-g-g,-2,g+g-1,g+g+1,g+2,-g+2,-g-g+1,-g-g-1,-g-2,g-2,g+g+2,-g-g+2-g-g-2,g+g-2],z=new Uint8Array(g*L),u=m;
for(var N=0;N<L;N++)for(var b=0;b<g;b++){var q=N*g+b<<2,B=u[q]*(1/255),h=u[q+1]*(1/255),A=u[q+2]*(1/255),e=u[q+3]*(1/255),c=I.$_.VN(n,B,h,A,e,r);
if(c==null){var a=[],$=0;while($<20){var G=N*g+b+W[$]<<2,o=u[G]*(1/255),H=u[G+1]*(1/255),f=u[G+2]*(1/255),E=u[G+3]*(1/255),S=I.$_.VN(n,o,H,f,E,.005);
if(S!=null){if(a.indexOf(S)==-1){a.push(S);S.oK=1}else S.oK++}$++}a.sort(function(e,A){return A.oK-e.oK});
while(a.length!=0&&a[a.length-1].oK<3)a.pop();if(a.length==0)c=I.$_.VN(n,B,h,A,e,100);else if(a.length==1)c=a[0];
else if(a.length==2){var V=a[0],J=a[1],U=V.est.q,j=J.est.q,i=j[0]-U[0],k=j[1]-U[1],P=j[2]-U[2],w=j[3]-U[3],d=B-U[0],T=h-U[1],y=A-U[2],D=e-U[3],s=i*i+k*k+P*P+w*w,Z=d*d+T*T+y*y+D*D,aQ=(d*i+T*k+y*P+D*w)/s,aI=Z-aQ*aQ*s;
if(aI<.5)c=aQ<.5?V:J;else{c=I.$_.VN(n,B,h,A,e,100)}}else{var V=a[0],J=a[1],aq=a[2],U=V.est.q,j=J.est.q,aa=aq.est.q,aD=U[0]-aa[0],_=U[1]-aa[1],M=U[2]-aa[2],jt=U[3]-aa[3],aR=j[0]-aa[0],aL=j[1]-aa[1],aw=j[2]-aa[2],ap=j[3]-aa[3],al=aa[0]-B,ak=aa[1]-h,ao=aa[2]-A,aZ=aa[3]-e,aS=aD*aD+_*_+M*M+jt*jt,an=aD*aR+_*aL+M*aw+jt*ap,IU=al*aD+ak*_+ao*M+aZ*jt,a_=aD*aR+_*aL+M*aw+jt*ap,aG=aR*aR+aL*aL+aw*aw+ap*ap,aM=al*aR+ak*aL+ao*aw+aZ*ap,av=1/(an*a_-aS*aG),aQ=(aG*IU-aM*an)*av,aA=(aM*aS-IU*a_)*av,IL=1-aQ-aA,aB=Math.max(aQ,aA,IL);
if(aB==aQ)c=V;else if(aB==aA)c=J;else c=aq}}z[q>>2]=c.ind}return{lf:z,Zv:n[1]}};I.$_.LY=function(m,g,L){var K=[],r={},R=g-1,Q=L-1,F=0,q=new Uint32Array(m),n=[-g-1,-g,-g+1,-1,1,g-1,g,g+1,g+g,2,-g-g,-2,g+g-1,g+g+1,g+2,-g+2,-g-g+1,-g-g-1,-g-2,g-2,g+g+2,-g-g+2-g-g-2,g+g-2];
for(var W=1;W<Q;W++)for(var z=1;z<R;z++){var u=W*g+z,N=q[u],b=!0;for(var B=0;B<8;B++)b=b&&q[u+n[B]]==N;
if(b){F++;var h=r[N];if(h==null){r[N]=K.length;K.push({OS:N,rk:1})}else K[h].rk++}}return{Zv:K,IZm:F}};
I.$_.VN=function(m,g,L,K,r,R){var Q=UPNG.quantize.getNearest(m[0],g,L,K,r);return I.$_.IlS(Q,g,L,K,r)<R?Q:null};
I.$_.IlS=function(m,g,L,K,r){var R=m.est.q,Q=g-R[0],F=L-R[1],q=K-R[2],n=r-R[3];return Q*Q+F*F+q*q+n*n};
I.$_.IiH=function(m,g,L,K){var r=I.$_.Ili(m,g,L,K),R=r.lf,Q=r.Zv,F=r.IZp,q=UPNG.quantize.getKDtree(new Uint8Array(F.buffer.slice(0)),200),n=[];
for(var W=0;W<Q.length;W++){var z=Q[W].XP,u=z[0],N=z[1],b=z[2],B=z[3];if(Math.min(u,N,b,B)<0)throw"e";
var h=UPNG.quantize.getNearest(q[0],u/255,N/255,b/255,B/255);n.push(q[1].indexOf(h))}for(var W=0;W<g*L;
W++)R[W]=n[R[W]];return{lf:R,Zv:q[1]}};I.$_.Ili=function(m,g,L,K){var r=g*L,R=2*r,Q=I.$_.IlZ(m,g,L),F=65535+1,q=new Uint32Array(F),z=0;
for(var n=0;n<R;n++)q[Q[n]]++;var W=new Uint32Array(F);for(var n=0;n<F;n++){W[n]=z;z+=q[n]}var u=new Uint32Array(R);
for(var n=0;n<R;n++){var N=Q[n];u[W[N]]=n;W[N]++}var b=new UnionFind(r),B=new Uint16Array(r),h=new Uint32Array(r);
for(var n=0;n<r;n++)h[n]=1;var A=r,e=1e5/(K*10);for(var c=0;c<R;c++){var a=u[c],$=Q[a];if($==65535)continue;
var n=a>>1,G=n+((a&1)==0?1:g),o=b.find(n),H=b.find(G),f=Math.min(B[o]+e/Math.sqrt(h[o]),B[H]+e/Math.sqrt(h[H]));
if(o!=H&&$<=f){b.link(n,G);A--;var E=b.find(n);h[E]=h[o]+h[H];B[E]=$}}var S=[],V={},J=new Uint16Array(r);
for(var n=0;n<r;n++){var E=b.find(n),U=V[E];if(U==null){V[E]=U=S.length;S.push({rk:0,XP:[0,0,0,0]})}S[U].rk++;
for(var G=0;G<4;G++)S[U].XP[G]+=m[(n<<2)+G];J[n]=U}var j=new Uint32Array(S.length);for(var n=0;n<S.length;
n++){var U=S[n];for(var G=0;G<4;G++)U.XP[G]=Math.round(U.XP[G]/U.rk);j[n]=U.XP[3]<<24|U.XP[2]<<16|U.XP[1]<<8|U.XP[0]}return{lf:J,Zv:S,IZp:j}};
I.$_.IlZ=function(m,g,L){var K=new Uint16Array(g*L*2);for(var r=0;r<L;r++)for(var R=0;R<g;R++){var Q=r*g+R;
K[Q+Q]=R<g-1?I.$_.LP(m,Q,Q+1):65535;K[Q+Q+1]=r<L-1?I.$_.LP(m,Q,Q+g):65535}return K};I.$_.LP=function(m,g,L){var K=g<<2,r=L<<2,R=m[K],Q=m[K+1],F=m[K+2],q=m[K+3],n=m[r],W=m[r+1],z=m[r+2],u=m[r+3],N=R-n,b=Q-W,B=F-z,h=q-u;
return N*N+b*b+B*B+h*h>>2};I.$_.JF=function(){function m(A,e,c,a,$,G){var o=[],H=G,f=G,E=G>>>2;for(var S=0;
S<$;S++)for(var V=0;V<a;V++){var J=~~((V+.5)*H),U=~~((S+.5)*f),j=1e9,i=Math.max(0,J-E),k=Math.min(e,J+E+1),P=Math.max(0,U-E),w=Math.min(c,U+E+1);
for(var d=P;d<w;d++)for(var T=i;T<k;T++){var y=g(A,e,T,d);if(y<j){J=T;U=d;j=y}}var D=(U*e+J)*4;o.push(A[D],A[D+1],A[D+2],J,U)}return o}function g(A,e,c,a){var $=(a*e+c)*4,G=e*4,o=L(A,$-4,$)+L(A,$,$+4),H=L(A,$-G,$)+L(A,$,$+G);
return o+H}function L(A,e,c){var a=A[e]-A[c],$=A[e+1]-A[c+1],G=A[e+2]-A[c+2];return a*a+$*$+G*G}var K=0,r=0;
function R(A,e,c,a){r++;if(a<K)K=a;A[a].push(e,c)}function Q(A){r--;while(A[K].length==0)K++}function F(A,e,c){K=0;
r=0;var a=e*c,$=Math.round(Math.min(e,c)/50),j=0,i=16;if($==0)$=1;var G=30/$,o=Math.floor(e/$),H=Math.floor(c/$),f=o*H;
if(f>65535)throw f;var E=new Uint16Array(a);for(var S=0;S<a;S++)E[S]=65535;var V=m(A,e,c,o,H,$),J=[];
for(var S=0;S<1e3+c;S++)J.push([]);var U=[0,1,0,-1,-1,0,1,0],k=Math.min(H,5),P=new Uint32Array(f*6);
for(var w=0;w<H;w+=k){var d=Math.min(w+k+1,H);for(var T=w;T<d;T++)for(var y=0;y<o;y++){var S=T*o+y,D=S*5,s=V[D+4]<<16|V[D+3];
R(J,s,S,V[D+4]>>>i)}var Z=Math.min(c,d*$);if(w+k>=H)Z=c;while(r!=0){Q(J);var aQ=J[K].pop(),aI=J[K].pop(),aq=aI>>>16,aa=aI&65535,S=aq*e+aa;
if(E[S]==65535){var aD=aQ*6,_=S<<2;E[S]=aQ;P[aD]+=A[_];P[aD+1]+=A[_+1];P[aD+2]+=A[_+2];P[aD+3]+=aa;P[aD+4]+=aq;
P[aD+5]++;var M=aq>>>i;if(aq!=Z-1&&E[S+e]==65535)R(J,aq+1<<16|aa,aQ,q(A,e,G,aa,aq+1,P,aD)+M);if(aq!=0&&E[S-e]==65535)R(J,aq-1<<16|aa,aQ,q(A,e,G,aa,aq-1,P,aD)+M);
if(aa!=0&&E[S-1]==65535)R(J,aq<<16|aa-1,aQ,q(A,e,G,aa-1,aq,P,aD)+M);if(aa!=e-1&&E[S+1]==65535)R(J,aq<<16|aa+1,aQ,q(A,e,G,aa+1,aq,P,aD)+M)}}if(Z!=aq){var jt=(w+k)*o;
P.fill(0,jt*6,(jt+o)*6);for(var aq=(w+k-2)*$;aq<Z;aq++)for(var aa=0;aa<e;aa++){var S=aq*e+aa;if(E[S]>=jt){E[S]=65535}}}}return{lf:E,ez:f,oz:P}}I.$_.Lf=function(A,e,c,a,$){var G=A.ez,o=e*c,H=A.oz,f=A.lf,E=N(a,f,G,o),S=new UnionFind(G),P=0;
for(var V=1;V<c;V++)for(var J=1;J<e;J++){var U=V*e+J,j=f[U],i=0;if((i=f[U-1])!=j&&E[i]==E[j]&&n(H,0,j*6,i*6)<$)S.link(j,i);
if((i=f[U-e])!=j&&E[i]==E[j]&&n(H,0,j*6,i*6)<$)S.link(j,i)}var k=new Uint16Array(G);k.fill(65535);var w=new Uint16Array(G);
for(var U=0;U<G;U++){var d=S.find(U);if(k[d]==65535)k[d]=P++;w[U]=k[d]}var T=new Uint16Array(o);for(var U=0;
U<o;U++)T[U]=w[f[U]];return{lf:T,ez:P}};I.$_.ICq=function(A,e,c,a){var $=I.m(c),G=e.length,o=0;for(var H=0;
H<G&&o!=3;H++){var f=a[H];if(f==0||f==255){var E=e[H],S=2-(f>>>7);$[E]=o=$[E]|S}}return o!=3};function q(A,e,c,a,$,G,o){var H=($*e+a)*4,f=G[o+5],E=1/f,S=A[H]*f-G[o],V=A[H+1]*f-G[o+1],J=A[H+2]*f-G[o+2],U=a*f-G[o+3],j=$*f-G[o+4],i=Math.sqrt(S*S+V*V+J*J),k=Math.sqrt(U*U+j*j);
return~~((i+c*k)*E+.5)}function n(A,e,c,a){var $=1/A[c+5],G=1/A[a+5],o=A[c]*$-A[a]*G,H=A[c+1]*$-A[a+1]*G,f=A[c+2]*$-A[a+2]*G,E=A[c+3]*$-A[a+3]*G,S=A[c+4]*$-A[a+4]*G,V=Math.sqrt(o*o+H*H+f*f),J=Math.sqrt(E*E+S*S);
return~~(V+e*J+.5)}function W(A,e,c){var a=I.tJ(A,new v(0,0,e,c)),$=a.rect.j,G=a.rect.F,o=F(a.qT,$,G),H=o.lf,f=Date.now(),E=new Uint16Array(e*c);
E.fill(65535);for(var S=0;S<G;S++){for(var V=0;V<$;V++){var J=S*$+V,U=(S<<1)*e+(V<<1),j=H[J];if(H[J-$]!=j||H[J-1]!=j||H[J+1]!=j||H[J+$]!=j)j=65535;
E[U]=j;E[U+1]=j;E[U+e]=j;E[U+e+1]=j}}o.lf=E;return o}function z(A,e){var c=0,a=A.length;while(c!=a&&A[c]!=e)c+=2;
return c==a?-1:c}function u(A,e){if(e==A.length-2){A.pop();A.pop()}else{A[e+1]=A.pop();A[e]=A.pop()}}I.$_.IZC=function(A,e,c,a,$){var G=new Uint32Array($*4400),g=[];
for(var o=0;o<$;o++)g.push([]);for(var H=0;H<c;H++)for(var f=0;f<e;f++){var o=H*e+f,E=o<<2,S=a[o],V=0,J=A[E]>>>4,U=A[E+1]>>>4,j=A[E+2]>>>4;
G[S*4400+(J<<8|U<<4|j)]++;G[S*4400+4096]++;G[S*4400+4100+(J<<4|U)]++;G[S*4400+4360+J]++;if(f!=0&&(V=a[o-1])!=S&&z(g[S],V)==-1){g[S].push(V,0);
g[V].push(S,0)}if(H!=0&&(V=a[o-e])!=S&&z(g[S],V)==-1){g[S].push(V,0);g[V].push(S,0)}}for(var o=0;o<$;
o++){var j=g[o];for(var i=0;i<j.length;i+=2)j[i+1]=h(G,o,j[i])}return[G,g]};function N(A,e,c,a){var $=I.m(c);
for(var G=0;G<a;G++){var o=A[G];if(o==0||o==255)$[e[G]]=2-(o>>>7)}return $}I.$_.IZv=function(A,e,c,a,$,G,o){var H=e*c,f=o[0],g=o[1],E=new UnionFind(a),S=N($,A,a,H),V=-1,U=!0,j=0;
for(var J=0;J<a;J++)if(S[J]==1){if(V==-1)V=J;else E.link(J,V)}if(V==-1){for(var J=0;J<H;J++)G[J]=$[J]==255?255:0;
return}while(U){while(U){U=!1;for(var J=0;J<a;J++){if(S[J]==0){var i=b(g[J]);if(S[i]==1){S[J]=S[i];U=!0;
E.link(J,i)}}}}U=!0;j=0;while(U){U=!1;for(var J=0;J<a;J++){if(S[J]==0){var i=b(g[J]);if(S[i]==0){var k=J*4400,P=i*4400;
for(var w=0;w<4400;w+=2){f[k+w]+=f[P+w];f[k+w+1]+=f[P+w+1]}B(g,f,J,i);j++;S[i]=3;U=!0;E.link(J,i)}}}}U=j!=0}var d=E.find(V);
for(var J=0;J<a;J++)S[J]=E.find(J)==d?255:0;for(var J=0;J<H;J++){G[J]=S[A[J]]}for(var J=0;J<H;J++){var i=$[J];
if(i==0||i==255)G[J]=i}};function b(A){var e=0,c=0,a=A.length;for(var $=0;$<a;$+=2){var G=A[$+1];if(G>c){c=G;
e=$}}return A[e]}function B(g,A,e,c){var a=g[e],$=g[c];u(a,z(a,c));u($,z($,e));for(var G=0;G<$.length;
G+=2){var o=$[G],H=g[o];u(H,z(H,c));if(z(H,e)==-1){H.push(e,0);a.push(o,0)}}for(var G=0;G<a.length;G+=2){var o=a[G],H=g[o],f=h(A,e,o);
a[G+1]=f;H[z(H,e)+1]=f}}function h(A,e,c){var a=0,$=4096,G=e*4400,o=c*4400;for(var H=0;H<16;H++){if(A[G+4360+H]==0||A[o+4360+H]==0)continue;
for(var f=0;f<16;f++){var E=H<<4|f;if(A[G+4100+E]==0||A[o+4100+E]==0)continue;var S=G+(E<<4),V=o+(E<<4);
for(var J=0;J<16;J++)a+=Math.sqrt(A[S+J]*A[V+J])}}var U=a/Math.sqrt(A[G+$]*A[o+$]);return~~(999.99999*U)}return F}();
var Ib=function(){function m(){this.c=0;this.SU=0;this.pv={};this.jT=[];this.P$=1e5;this.Pr=1e5;this.PF=-1;
this.PA=-1;this.color=0}function g(r){this.mC=r;this.le=new Array(r);this.OS=new Array(r*6);this.IaJ=0;
this.ZY=new Array(r*2);this.alpha=new Array(r);this.PN=new Array(r);this.Py=new Array(r)}function L(r,R,Q,F){function q(A,e,r,R){return r[R*e+A]}function n(h){var H=r.length;
while(h<H&&r[h]==0)h++;return h<H?h:-1}function W(A,e,H){for(var h=2;h<5;h++){var f=0;for(var E=-h+1;
E<=h-1;E++){f+=q(A+E,e+h-1,r,R)==H?1:-1;f+=q(A+h-1,e+E-1,r,R)==H?1:-1;f+=q(A+E-1,e-h,r,R)==H?1:-1;f+=q(A-h,e+E,r,R)==H?1:-1}if(f>0)return 1;
else if(f<0)return 0}return 0}function z(H,b){var B=new m,A=H,e=b,f=0,E=1,S;B.color=r[b*R+H];B.sign=q(H,b,r,R)==B.color?"+":"-";
while(1){B.jT.push(A,e);if(A>B.PF)B.PF=A;if(A<B.P$)B.P$=A;if(e>B.PA)B.PA=e;if(e<B.Pr)B.Pr=e;B.SU++;A+=f;
e+=E;B.c-=A*E;if(A==H&&e==b)break;var V=q(A+(f+E-1>>1),e+(E-f-1>>1),r,R)==B.color,J=q(A+(f-E-1>>1),e+(E+f-1>>1),r,R)==B.color;
if(J&&!V){if(F.TQ=="right"||F.TQ=="black"&&B.sign=="+"||F.TQ=="white"&&B.sign=="-"||F.TQ=="majority"&&W(A,e,B.color)||F.TQ=="minority"&&!W(A,e,B.color)){S=f;
f=-E;E=S}else{S=f;f=E;E=-S}}else if(J){S=f;f=-E;E=S}else if(!V){S=f;f=E;E=-S}}return B}var u=0,N=[];
while(!0){var u=n(u);if(u==-1)break;var b=Math.floor(u/R),B=z(u-b*R,b);for(var h=0;h<B.jT.length-2;h+=2){var A=B.jT[h],e=B.jT[h+1],c=e*R+A;
if(A==B.jT[h+2]&&e+1==B.jT[h+3]&&r[c]!=0)Ib.fill(c,r,R,0)}if(B.c>F.IZu)N.push(B)}for(var h=0;h<N.length;
h++)N[h].parent=-1;var a=Date.now();for(var h=1;h<N.length;h++){var $=N[h];for(var G=h-1;G>=0;G--){var o=N[G];
if($.P$<o.P$||$.PF>o.PF||$.Pr<o.Pr||$.PA>o.PA)continue;if(!Ib.IlV(o.jT,$.jT[0]+.5,$.jT[1]+.5))continue;
$.parent=G;break}}return N}function K(r,R){function Q(f,E,S,V,J){this.x=f;this.y=E;this.pQ=S;this.pa=V;
this.pO=J}function F(f,E){return(E+f)%E}function q(f,E,S,V){return f*V-S*E}function n(f,E,S,V){return f*S+E*V}function W(f,E,S){if(f<=S)return f<=E&&E<S;
else return f<=E||E<S}function z(f,E,S){var V=0;V+=E*f[0]*E;V+=E*f[1]*S;V+=E*f[2];V+=S*f[3]*E;V+=S*f[4]*S;
V+=S*f[5];V+=f[6]*E;V+=f[7]*S;V+=f[8];return V}function u(f,E,S){return E+f*(S-E)}function N(f,E,S,V){var J=Math.sign(S-f),U=-Math.sign(V-E);
return J*(S-f)-U*(V-E)}function b(f,E){return Math.sqrt(f*f+E*E)}function B(f,E,S,V,J){var U=1-f;return U*U*U*E+3*(U*U*f)*S+3*(f*f*U)*V+f*f*f*J}function h(f,E,S,V,J,U,j,i){var k=q(f,E,j,i),P=q(S,V,j,i),w=q(J,U,j,i),d=k-2*P+w,T=-2*k+2*P,y=k,D=T*T-4*d*y;
if(d==0||D<0)return-1;var s=Math.sqrt(D),Z=(-T+s)/(2*d),aQ=(-T-s)/(2*d);if(Z>=0&&Z<=1)return Z;else if(aQ>=0&&aQ<=1)return aQ;
else return-1}function A(H){var o,f,E;H.Ta=H.jT[0];H.ICa=H.jT[1];H.AM=[];var S=H.AM;S.push(new Q(0,0,0,0,0));
for(o=0;o<H.SU;o++){f=H.jT[o<<1]-H.Ta;E=H.jT[(o<<1)+1]-H.ICa;S.push(new Q(S[o].x+f,S[o].y+E,S[o].pQ+f*E,S[o].pa+f*f,S[o].pO+E*E))}}function e(H){var f=H.SU,E=H.jT,S,V=new Array(f),J=new Array(f),U=new Array(4),j,i,k,P,w,d,T,y,D,s,Z,o,aQ,aI,aq,aa,aD,_,M=0;
H.TR=new Array(f);for(o=f-1;o>=0;o--){if(E[o<<1]!=E[M<<1]&&E[(o<<1)+1]!=E[(M<<1)+1])M=o+1;J[o]=M}for(o=f-1;
o>=0;o--){var jt=F(o+1,f)<<1;U[0]=U[1]=U[2]=U[3]=0;S=(3+3*(E[jt]-E[o<<1])+(E[jt+1]-E[(o<<1)+1]))/2;U[S]++;
j=0;i=0;k=0;P=0;M=J[o];aI=o;while(1){Z=0;S=(3+3*Math.sign(E[M*2]-E[aI*2])+Math.sign(E[M*2+1]-E[aI*2+1]))/2;
U[S]++;if(U[0]&&U[1]&&U[2]&&U[3]){V[o]=aI;Z=1;break}D=E[M*2]-E[o*2];s=E[M*2+1]-E[o*2+1];if(q(j,i,D,s)<0||q(k,P,D,s)>0){break}if(Math.abs(D)<=1&&Math.abs(s)<=1){}else{w=D+(s>=0&&(s>0||D<0)?1:-1);
d=s+(D<=0&&(D<0||s<0)?1:-1);if(q(j,i,w,d)>=0){j=w;i=d}w=D+(s<=0&&(s<0||D<0)?1:-1);d=s+(D>=0&&(D>0||s<0)?1:-1);
if(q(k,P,w,d)<=0){k=w;P=d}}aI=M;M=J[aI];if(!W(M,o,aI)){break}}if(Z==0){T=Math.sign(E[M*2]-E[aI*2]);y=Math.sign(E[M*2+1]-E[aI*2+1]);
D=E[aI*2]-E[o*2];s=E[aI*2+1]-E[o*2+1];aq=q(j,i,D,s);aa=q(j,i,T,y);aD=q(k,P,D,s);_=q(k,P,T,y);aQ=1e7;
if(aa<0){aQ=Math.floor(aq/-aa)}if(_>0){aQ=Math.min(aQ,Math.floor(-aD/_))}V[o]=F(aI+aQ,f)}}aQ=V[f-1];
H.TR[f-1]=aQ;for(o=f-2;o>=0;o--){if(W(o+1,V[o],aQ)){aQ=V[o]}H.TR[o]=aQ}for(o=f-1;W(F(o+1,f),aQ,H.TR[o]);
o--){H.TR[o]=aQ}}function c(H){function f(H,o,E){var J=H.SU,D=H.jT,s=H.AM,Z,aQ,aI,aq,aa,V,aD,_,y,M,jt,aR,aL,aw,ap=0;
if(E>=J){E-=J;ap=1}if(ap==0){Z=s[E+1].x-s[o].x;aQ=s[E+1].y-s[o].y;aq=s[E+1].pa-s[o].pa;aI=s[E+1].pQ-s[o].pQ;
aa=s[E+1].pO-s[o].pO;V=E+1-o}else{Z=s[E+1].x-s[o].x+s[J].x;aQ=s[E+1].y-s[o].y+s[J].y;aq=s[E+1].pa-s[o].pa+s[J].pa;
aI=s[E+1].pQ-s[o].pQ+s[J].pQ;aa=s[E+1].pO-s[o].pO+s[J].pO;V=E+1-o+J}jt=(D[o<<1]+D[E<<1])/2-D[0];aR=(D[(o<<1)+1]+D[(E<<1)+1])/2-D[1];
aw=D[E<<1]-D[o<<1];aL=-(D[(E<<1)+1]-D[(o<<1)+1]);aD=(aq-2*Z*jt)/V+jt*jt;_=(aI-Z*aR-aQ*jt)/V+jt*aR;y=(aa-2*aQ*aR)/V+aR*aR;
M=aL*aL*aD+2*aL*aw*_+aw*aw*y;return Math.sqrt(M)}var o,E,S,V,J=H.SU,U=new Array(J+1),j=new Array(J+1),i=new Array(J),k=new Array(J+1),P=new Array(J+1),w=new Array(J+1),d,T,y;
for(o=0;o<J;o++){y=F(H.TR[F(o-1,J)]-1,J);if(y==o){y=F(o+1,J)}if(y<o){i[o]=J}else{i[o]=y}}E=1;for(o=0;
o<J;o++){while(E<=i[o]){k[E]=o;E++}}o=0;for(E=0;o<J;E++){P[E]=o;o=i[o]}P[E]=J;S=E;o=J;for(E=S;E>0;E--){w[E]=o;
o=k[o]}w[0]=0;U[0]=0;for(E=1;E<=S;E++){for(o=w[E];o<=P[E];o++){T=-1;for(V=P[E-1];V>=k[o];V--){d=f(H,V,o)+U[V];
if(T<0||d<T){j[o]=V;T=d}}U[o]=T}}H.Xy=S;H.IZQ=new Array(S);for(o=J,E=S-1;o>0;E--){o=j[o];H.IZQ[E]=o}}function a(H){function f(H,o,d,i,k,al){var V=H.SU,ak=H.AM,ao=0,y;
while(d>=V){d-=V;ao+=1}while(o>=V){o-=V;ao-=1}while(d<0){d+=V;ao-=1}while(o<0){o+=V;ao+=1}var aZ=ak[d+1].x-ak[o].x+ao*ak[V].x,aS=ak[d+1].y-ak[o].y+ao*ak[V].y,an=ak[d+1].pa-ak[o].pa+ao*ak[V].pa,IU=ak[d+1].pQ-ak[o].pQ+ao*ak[V].pQ,a_=ak[d+1].pO-ak[o].pO+ao*ak[V].pO,T=d+1-o+ao*V;
i[al]=aZ/T;i[al+1]=aS/T;var aG=(an-aZ*aZ/T)/T,aM=(IU-aZ*aS/T)/T,av=(a_-aS*aS/T)/T,aA=(aG+av+Math.sqrt((aG-av)*(aG-av)+4*aM*aM))/2;
aG-=aA;av-=aA;if(Math.abs(aG)>=Math.abs(av)){y=Math.sqrt(aG*aG+aM*aM);if(y!=0){k[al]=-aM/y;k[al+1]=aG/y}}else{y=Math.sqrt(av*av+aM*aM);
if(y!=0){k[al]=-av/y;k[al+1]=aM/y}}if(y==0){k[al]=k[al+1]=0}}var E=H.Xy,S=H.IZQ,V=H.SU,J=H.jT,U=H.Ta,j=H.ICa,i=new Array(E*2),k=new Array(E*2),P=new Array(E),w=new Array(3),o,d,T,y,aQ,aI,aq,aa,aD,_,M;
H.pv=new g(E);for(o=0;o<E;o++){d=S[F(o+1,E)];d=F(d-S[o],V)+S[o];i[o<<1]=0;i[(o<<1)+1]=0;k[o<<1]=0;k[(o<<1)+1]=0;
f(H,S[o],d,i,k,o<<1)}for(o=0;o<E;o++){P[o]=[0,0,0,0,0,0,0,0,0];var D=k[o<<1]*k[o<<1]+k[(o<<1)+1]*k[(o<<1)+1],s=1/D;
if(D!=0){w[0]=k[(o<<1)+1];w[1]=-k[o<<1];w[2]=-w[1]*i[(o<<1)+1]-w[0]*i[o<<1];for(y=0;y<3;y++){P[o][y*3+0]=w[y]*w[0]*s;
P[o][y*3+1]=w[y]*w[1]*s;P[o][y*3+2]=w[y]*w[2]*s}}}var Z=[0,0,0,0,0,0,0,0,0];for(o=0;o<E;o++){Z[0]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=0;
var jt=J[S[o]<<1]-U,aR=J[(S[o]<<1)+1]-j,aL=0,aw=0;d=F(o-1,E);for(y=0;y<9;y+=3){Z[y+0]=P[d][y+0]+P[o][y+0];
Z[y+1]=P[d][y+1]+P[o][y+1];Z[y+2]=P[d][y+2]+P[o][y+2]}while(1){var ap=Z[0]*Z[4]-Z[1]*Z[3];if(ap!=0){aL=(-Z[2]*Z[4]+Z[5]*Z[0])/ap;
aw=(Z[2]*Z[3]-Z[5]*Z[0])/ap;break}if(Z[0]>Z[4]){w[0]=-Z[1];w[1]=Z[0]}else if(Z[4]){w[0]=-Z[4];w[1]=Z[3]}else{w[0]=1;
w[1]=0}var D=w[0]*w[0]+w[1]*w[1],s=1/D;w[2]=-w[1]*aR-w[0]*jt;for(y=0;y<3;y++){Z[y*3+0]+=w[y]*w[0]*s;
Z[y*3+1]+=w[y]*w[1]*s;Z[y*3+2]+=w[y]*w[2]*s}}aQ=Math.abs(aL-jt);aI=Math.abs(aw-aR);if(aQ<=.5&&aI<=.5){H.pv.ZY[o<<1]=aL+U;
H.pv.ZY[(o<<1)+1]=aw+j;continue}aq=z(Z,jt,aR);aD=jt;_=aR;if(Z[0]!=0){for(M=0;M<2;M++){aw=aR-.5+M;aL=-(Z[1]*aw+Z[2])/Z[0];
aQ=Math.abs(aL-jt);aa=z(Z,aL,aw);if(aQ<=.5&&aa<aq){aq=aa;aD=aL;_=aw}}}if(Z[4]!=0){for(M=0;M<2;M++){aL=jt-.5+M;
aw=-(Z[3]*aL+Z[5])/Z[4];aI=Math.abs(aw-aR);aa=z(Z,aL,aw);if(aI<=.5&&aa<aq){aq=aa;aD=aL;_=aw}}}for(y=0;
y<2;y++){for(T=0;T<2;T++){aL=jt-.5+y;aw=aR-.5+T;aa=z(Z,aL,aw);if(aa<aq){aq=aa;aD=aL;_=aw}}}H.pv.ZY[o<<1]=aD+U;
H.pv.ZY[(o<<1)+1]=_+j}}function $(H){var f=H.pv.mC,E=H.pv,o,S,V,J,U,j,i,k,P;for(o=0;o<f;o++){S=F(o+1,f);
V=F(o+2,f);var w=E.ZY[o<<1],d=E.ZY[(o<<1)+1],T=E.ZY[V<<1],y=E.ZY[(V<<1)+1],D=E.ZY[S<<1],s=E.ZY[(S<<1)+1],Z=u(.5,T,D),aQ=u(.5,y,s);
U=N(w,d,T,y);if(U!=0){J=q(D-w,s-d,T-w,y-d)/U;J=Math.abs(J);j=J>1?1-1/J:0;j=j*(1/.75)}else{j=4/3}E.PN[S]=j;
var aI=3*S<<1;if(j>=R.IZN){E.le[S]=0;E.OS[aI+0]=E.OS[aI+1]=0;E.OS[aI+2]=D;E.OS[aI+3]=s;E.OS[aI+4]=Z;
E.OS[aI+5]=aQ}else{if(j<.55){j=.55}else if(j>1){j=1}var aq=.5+.5*j;E.le[S]=1;E.OS[aI]=u(aq,w,D);E.OS[aI+1]=u(aq,d,s);
E.OS[aI+2]=u(aq,T,D);E.OS[aI+3]=u(aq,y,s);E.OS[aI+4]=Z;E.OS[aI+5]=aQ}E.alpha[S]=j;E.Py[S]=.5}E.IZf=1}function G(H){function f(){this.TD=0;
this.A_=0;this.AB=0;this.A$=0;this.Ar=0;this.Dn=0;this.Gr=0;this.alpha=0}function E(H,o,w,IL,aB,aa,aD){var V=H.pv.mC,aV=H.pv.OS,Ia=H.pv.ZY;
if(o==w)return 1;var aK=o,D=F(o+1,V),aE=F(aK+1,V),an=Ia[o<<1],IU=Ia[(o<<1)+1],Ij=Ia[D<<1],as=Ia[(D<<1)+1],IQ=aa[aE];
if(IQ==0)return 1;var Ih=b(an-Ij,IU-as);for(aK=aE;aK!=w;aK=aE){var aE=F(aK+1,V),Rp=F(aK+2,V),ag=Ia[aE<<1],IE=Ia[(aE<<1)+1],ae=Ia[Rp<<1],Rj=Ia[(Rp<<1)+1];
if(aa[aE]!=IQ)return 1;if(Math.sign(q(Ij-an,as-IU,ae-ag,Rj-IE))!=IQ)return 1;if(n(Ij-an,as-IU,ae-ag,Rj-IE)<Ih*b(ag-ae,IE-Rj)*-.999847695156)return 1}var RQ=F(o,V)*3+2<<1,ab=F(o+1,V)<<1,RM=F(w,V)<<1,Rx=F(w,V)*3+2<<1,ap=aV[RQ],al=aV[RQ+1],Iw=Ia[ab],qX=Ia[ab+1],RC=Ia[RM],Rd=Ia[RM+1],Ip=aV[Rx],ID=aV[Rx+1],_=Ia[0],M=Ia[1];
RQ=w*3+2<<1;var qB=aV[RQ],Ii=aV[RQ+1],s=aD[w]-aD[o];s-=q(qB-_,Ii-M,qB-_,Ii-M)/2;if(o>=w){s+=aD[V]}var Ro=Iw-ap,IG=qX-al,qk=RC-ap,qI=Rd-al,mp=Ip-ap,ay=ID-al,at=q(Ro,IG,qk,qI),Ru=q(Ro,IG,mp,ay),Qi=q(qk,qI,mp,ay),DR=at+Qi-Ru;
if(Ru==at)return 1;var aq=Qi/(Qi-DR),aI=Ru/(Ru-at),IM=Ru*aq/2;if(IM==0)return 1;var Rc=s/IM,Z=2-Math.sqrt(4-Rc/.3);
IL.A_=u(aq*Z,ap,Iw);IL.AB=u(aq*Z,al,qX);IL.A$=u(aI*Z,Ip,RC);IL.Ar=u(aI*Z,ID,Rd);IL.alpha=Z;IL.Dn=aq;
IL.Gr=aI;Iw=IL.A_;qX=IL.AB;RC=IL.A$;Rd=IL.Ar;IL.TD=0;for(aK=F(o+1,V);aK!=w;aK=aE){aE=F(aK+1,V);var RO=Ia[aK<<1],QK=Ia[(aK<<1)+1],ag=Ia[aE<<1],IE=Ia[(aE<<1)+1];
aq=h(Iw-ap,qX-al,RC-Iw,Rd-qX,Ip-RC,ID-Rd,ag-RO,IE-QK);if(aq<-.5)return 1;var qm=B(aq,ap,Iw,RC,Ip),QL=B(aq,al,qX,Rd,ID),Ih=b(ag-RO,IE-QK);
if(Ih==0)return 1;var Re=q(ag-RO,IE-QK,qm-RO,QL-QK)/Ih;if(Math.abs(Re)>aB)return 1;if(n(ag-RO,IE-QK,qm-RO,QL-QK)<0||n(RO-ag,QK-IE,qm-ag,QL-IE)<0){return 1}IL.TD+=Re*Re}for(aK=o;
aK!=w;aK=aE){aE=F(aK+1,V);var RQ=aK*3+2<<1,ab=aE*3+2<<1,IF=aV[RQ],Qv=aV[RQ+1],Rf=aV[ab],RE=aV[ab+1];
aq=h(Iw-ap,qX-al,RC-Iw,Rd-qX,Ip-RC,ID-Rd,Rf-IF,RE-Qv);if(aq<-.5)return 1;var qm=B(aq,ap,Iw,RC,Ip),QL=B(aq,al,qX,Rd,ID),Ih=b(Rf-IF,RE-Qv);
if(Ih==0)return 1;var Re=q(Rf-IF,RE-Qv,qm-IF,QL-Qv)/Ih,Rg=q(Rf-IF,RE-Qv,Ia[aE<<1]-IF,Ia[(aE<<1)+1]-Qv)/Ih;
Rg*=.75*H.pv.alpha[aE];if(Rg<0){Re=-Re;Rg=-Rg}if(Re<Rg-aB)return 1;if(Re<Rg){IL.TD+=(Re-Rg)*(Re-Rg)}}return 0}var S=H.pv,V=S.mC,J=S.ZY,U=new Array(V+1),j=new Array(V+1),i=new Array(V+1),k=new Array(V+1),P,o,w,d,T=new f,y,D,s,Z,aQ,aI,aq,aa=new Array(V),aD=new Array(V+1);
for(o=0;o<V;o++){if(S.le[o]=="CURVE"){var _=J[F(o-1,V)<<1],M=J[(F(o-1,V)<<1)+1],jt=J[o<<1],aR=J[(o<<1)+1],aL=J[F(o+1,V)<<1],aw=J[(F(o+1,V)<<1)+1];
aa[o]=Math.sign(q(jt-_,aR-M,aL-jt,aw-aR))}else{aa[o]=0}}s=0;aD[0]=0;var ap=S.ZY[0],al=S.ZY[1];for(o=0;
o<V;o++){D=F(o+1,V);if(S.le[D]=="CURVE"){Z=S.alpha[D];var ak=o*3+2<<1,ao=D*3+2<<1,aZ=S.OS[ak],aS=S.OS[ak+1],an=J[D<<1],IU=J[(D<<1)+1],a_=S.OS[ao],aG=S.OS[ao+1];
s+=.3*Z*(4-Z)*q(an-aZ,IU-aS,a_-aZ,aG-aS)/2;s+=q(aZ-ap,aS-al,a_-ap,aG-al)/2}aD[o+1]=s}U[0]=-1;j[0]=0;
i[0]=0;for(w=1;w<=V;w++){U[w]=w-1;j[w]=j[w-1];i[w]=i[w-1]+1;for(o=w-2;o>=0;o--){d=E(H,o,F(w,V),T,R.Inj,aa,aD);
if(d){break}if(i[w]>i[o]+1||i[w]==i[o]+1&&j[w]>j[o]+T.TD){U[w]=o;j[w]=j[o]+T.TD;i[w]=i[o]+1;k[w]=T;T=new f}}}P=i[V];
aQ=new g(P);aI=new Array(P);aq=new Array(P);w=V;for(o=P-1;o>=0;o--){var aM=F(w,V),av=o*3+0<<1,aA=aM*3+0<<1;
if(U[w]==w-1){aQ.le[o]=S.le[aM];aQ.OS[av]=S.OS[aA];aQ.OS[av+1]=S.OS[aA+1];aQ.OS[av+2]=S.OS[aA+2];aQ.OS[av+3]=S.OS[aA+3];
aQ.OS[av+4]=S.OS[aA+4];aQ.OS[av+5]=S.OS[aA+5];aQ.ZY[o<<1]=S.ZY[aM<<1];aQ.ZY[(o<<1)+1]=S.ZY[(aM<<1)+1];
aQ.alpha[o]=S.alpha[aM];aQ.PN[o]=S.PN[aM];aQ.Py[o]=S.Py[aM];aI[o]=aq[o]=1}else{aQ.le[o]="CURVE";aQ.OS[av]=k[w].A_;
aQ.OS[av+1]=k[w].AB;aQ.OS[av+2]=k[w].A$;aQ.OS[av+3]=k[w].Ar;aQ.OS[av+4]=S.OS[aA+4];aQ.OS[av+5]=S.OS[aA+5];
aQ.ZY[o<<1]=u(k[w].Gr,S.OS[aA+4],J[aM<<1]);aQ.ZY[(o<<1)+1]=u(k[w].Gr,S.OS[aA+5],J[(aM<<1)+1]);aQ.alpha[o]=k[w].alpha;
aQ.PN[o]=k[w].alpha;aI[o]=k[w].Gr;aq[o]=k[w].Dn}w=U[w]}for(o=0;o<P;o++){D=F(o+1,P);aQ.Py[o]=aI[o]/(aI[o]+aq[D])}aQ.IZf=1;
H.pv=aQ}for(var o=0;o<r.length;o++){var H=r[o];A(H);e(H);c(H);a(H);$(H);if(R.IZc)G(H)}}return{IZZ:L,IZn:K}}();
Ib.JO=function(m,g,L,K){var r={TQ:"minority",IZu:K,IZc:!0,IZN:1,Inj:.2},R=Ib.IZZ(m,g,L,r);Ib.IZn(R,r);
return R};Ib.zA=function(m){var g=[];for(var L=0;L<m.length;L++){var K=m[L],r=K.pv,R=["M"],Q=[r.OS[(r.mC-1)*6+4],r.OS[(r.mC-1)*6+5]];
for(var F=0;F<r.mC;F++){var q=F*6;if(r.le[F]==1){R.push("C");for(var n=0;n<6;n++)Q.push(r.OS[q+n])}else if(r.le[F]==0){R.push("L");
for(var n=2;n<4;n++)Q.push(r.OS[q+n])}}R.push("Z");g.push({parent:K.parent,color:K.color,path:{D:Q,O:R}})}return g};
Ib.IkI=function(m,g,L,K,r){function R(B){function h(q){var b="C "+(B.OS[q*3+0<<1]*g).toFixed(1)+" "+(B.OS[(q*3+0<<1)+1]*g).toFixed(1)+",";
b+=(B.OS[q*3+1<<1]*g).toFixed(1)+" "+(B.OS[(q*3+1<<1)+1]*g).toFixed(1)+",";b+=(B.OS[q*3+2<<1]*g).toFixed(1)+" "+(B.OS[(q*3+2<<1)+1]*g).toFixed(1)+" ";
return b}function A(q){var a="L "+(B.OS[q*3+1<<1]*g).toFixed(1)+" "+(B.OS[(q*3+1<<1)+1]*g).toFixed(1)+" ";
a+=(B.OS[q*3+2<<1]*g).toFixed(1)+" "+(B.OS[(q*3+2<<1)+1]*g).toFixed(1)+" ";return a}var e=B.mC,q,c="M"+(B.OS[(e-1)*3+2<<1]*g).toFixed(1)+" "+(B.OS[((e-1)*3+2<<1)+1]*g).toFixed(1)+" ";
for(q=0;q<e;q++){if(B.le[q]==1){c+=h(q)}else if(B.le[q]==0){c+=A(q)}}return c}var L=L*g,K=K*g,Q=m.length,F=[];
for(var q=0;q<256;q++)F.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var n="<svg id=\"svg\" version=\"1.1\" width=\""+L+"\" height=\""+K+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var q=0;q<Q;q++){var W=r[m[q].color-1].Iag.cS;if((W>>>24&255)==0)continue;n+="<path d=\"";var z=m[q].pv;
n+=R(z);var u=W>>0&255,N=W>>8&255,b=W>>16&255,W="rgb("+u+","+N+","+b+")";n+="\" fill=\""+W+"\" fill-rule=\"evenodd\"/>"}n+="</svg>";
return n};Ib.IlV=function(m,g,L){var K=m.length>>1,r,R=m[2*K-3]-L,Q=m[2*K-2]-g,F=m[2*K-1]-L,q=F>R,W=0;
for(var n=0;n<K;n++){r=Q;R=F;Q=m[2*n]-g;F=m[2*n+1]-L;if(R==F)continue;q=F>R}for(var n=0;n<K;n++){r=Q;
R=F;Q=m[2*n]-g;F=m[2*n+1]-L;if(R<0&&F<0)continue;if(R>0&&F>0)continue;if(r<0&&Q<0)continue;if(R==F&&Math.min(r,Q)<=0)return!0;
if(R==F)continue;var z=r+(Q-r)*-R/(F-R);if(z==0)return!0;if(z>0)W++;if(R==0&&q&&F>R)W--;if(R==0&&!q&&F<R)W--;
q=F>R}return(W&1)==1};Ib.fill=function(m,g,L,K){var r=g[m],R=[m],Q=0;while(Q<R.length){var F=R[Q];Q++;
g[F]=K;if(g[F-L]==r){R.push(F-L);g[F-L]=254}if(g[F-1]==r){R.push(F-1);g[F-1]=254}if(g[F+1]==r){R.push(F+1);
g[F+1]=254}if(g[F+L]==r){R.push(F+L);g[F+L]=254}}};var t={};t.be=!1;t.JN=!1;t.eE=!1;t.Dt=document.createElement("canvas");
t.wu=null;t.Vs=null;t.ox=0;(function(){var m={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},g;
if(!g)g=t.Dt.getContext("webgl",m);if(!g)g=t.Dt.getContext("experimental-webgl",m);if(g){t.be=!0;t.JN=!0;
t.wu=g;t.Vs=g.createFramebuffer();g.bindFramebuffer(g.FRAMEBUFFER,t.Vs);g.disable(g.BLEND);g.disable(g.DEPTH_TEST);
var L=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,L);g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),g.STATIC_DRAW);
g.enableVertexAttribArray(0);g.vertexAttribPointer(0,2,g.FLOAT,!1,0,0)}}());t.Ikm=function(m){m=m.replace(/\s\s+/g," ");
m=m.replace(/; /g,";");m=m.replace(/} /g,"}");m=m.replace(/ }/g,"}");m=m.replace(/{ /g,"{");m=m.replace(/ {/g,"{");
m=m.replace(/= /g,"=");m=m.replace(/ =/g,"=");m=m.replace(/\| /g,"|");m=m.replace(/ \|/g,"|");return m};
t.IlA=function(m){var g=t.wu;if(m>g.getParameter(g.MAX_TEXTURE_SIZE)){t.be=!1;alert("Disabling WebGL")}};
t.eA=function(m,g){return new Float32Array([(m.x-g.x)/g.j,(m.y-g.y)/g.F,m.j/g.j,m.F/g.F])};t.qu=function(){return this.Dt};
t.$a=function(m,g){var L=t.wu;L.bindFramebuffer(L.FRAMEBUFFER,t.Vs);L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,m.Iu,0);
L.viewport(0,0,m.j,m.F);if(g){L.enable(L.SCISSOR_TEST);L.scissor(g.x,g.y,g.j,g.F)}else L.disable(L.SCISSOR_TEST)};
t.Jf=function(m,g,L){if(L)throw"error";var K=t.wu;K.disable(K.SCISSOR_TEST);K.bindFramebuffer(K.FRAMEBUFFER,null);
K.viewport(0,0,m,g);if(L){K.enable(K.SCISSOR_TEST);K.scissor(L.x,L.y,Math.round(L.j),Math.round(L.F))}else K.disable(K.SCISSOR_TEST)};
t.clear=function(){var m=t.wu;m.clearColor(0,0,0,0);m.clear(m.COLOR_BUFFER_BIT)};t.Ol=function(m,g){if(g==null)g=0;
var L=(g>>>0&255)==0,K=(g>>>8&255)==0,r=(g>>>16&255)==0,R=(g>>>24&255)==0,Q=(m>>>0&255)*(1/255),F=(m>>>8&255)*(1/255),q=(m>>>16&255)*(1/255),n=(m>>>24&255)*(1/255),W=t.wu;
W.colorMask(L,K,r,R);W.clearColor(Q,F,q,n);W.clear(W.COLOR_BUFFER_BIT);W.colorMask(!0,!0,!0,!0)};t.xv=function(m,g,L,K,r){var R=g.my(K);
if(r)R=R.my(r);if(R.L_())return;var Q=t.wu;t.$a(m);Q.bindTexture(Q.TEXTURE_2D,L.Iu);Q.copyTexSubImage2D(Q.TEXTURE_2D,0,R.x-K.x,R.y-K.y,R.x-g.x,R.y-g.y,R.j,R.F)};
t.es=function(m,g,L){var K=t.lR[m];if(K==null||K.j!=g||K.F!=L){if(K)K.delete();K=new t.ha(g,L)}t.lR[m]=K;
return K};t.lR=[];t.ag=function(){this.AF=null;this.qx=null};t.ag.$c=null;t.ag.prototype.Sq=function(m){if(this.qx)return;
this.qx={};var g=t.wu,L=this.AF,K=this.qx;for(var r=0;r<m.length;r++){var R=m[r];K[R]=g.getUniformLocation(L,R)}};
t.ag.prototype.er=function(){};t.ag.prototype.OH=function(m){var g=t.wu;for(var L=0;L<m.length;L+=2){g.uniform1i(m[L],L>>>1);
g.activeTexture(g["TEXTURE"+(L>>>1)]);g.bindTexture(g.TEXTURE_2D,m[L+1])}g.activeTexture(g.TEXTURE0)};
t.ag.prototype.Rb=function(m,g){var L=t.wu,K=L.createShader(L.FRAGMENT_SHADER);L.shaderSource(K,m);L.compileShader(K);
if(!L.getShaderParameter(K,L.COMPILE_STATUS))console.log(L.getShaderInfoLog(K));var r=L.createShader(L.VERTEX_SHADER);
L.shaderSource(r,g);L.compileShader(r);if(!L.getShaderParameter(r,L.COMPILE_STATUS))console.log(L.getShaderInfoLog(r));
var R=L.createProgram();L.attachShader(R,r);L.attachShader(R,K);L.linkProgram(R);if(!L.getProgramParameter(R,L.LINK_STATUS))console.log("Could not initialise shaders");
this.AF=R};t.ag.prototype.Cx=function(){if(t.ag.$c!=this){t.wu.useProgram(this.AF);t.ag.$c=this}};t.CJ=function(m,g){t.oV++;
t.ox+=m*g;if(t.eE)console.log("GL.Channels instances: "+t.oV+", memory: "+t.ox);var L=t.wu;this.j=m;
this.F=g;this.Iu=L.createTexture();this.vB=null;this.Vz(this.Iu,m,g)};t.CJ.prototype.Vz=function(m,g,L){var K=t.wu;
K.bindTexture(K.TEXTURE_2D,m);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,K.NEAREST);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,K.NEAREST);
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_S,K.CLAMP_TO_EDGE);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_T,K.CLAMP_TO_EDGE);
K.texImage2D(K.TEXTURE_2D,0,K.ALPHA,g,L,0,K.ALPHA,K.UNSIGNED_BYTE,null)};t.CJ.prototype.set=function(m){var g=t.wu;
g.bindTexture(g.TEXTURE_2D,this.Iu);g.pixelStorei(g.UNPACK_ALIGNMENT,1);g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,this.j,this.F,0,g.ALPHA,g.UNSIGNED_BYTE,m);
g.pixelStorei(g.UNPACK_ALIGNMENT,4)};t.CJ.prototype.delete=function(){var m=t.wu;if(this.Iu){m.deleteTexture(this.Iu);
t.oV--;t.ox-=this.j*this.F}if(t.eE)if(t.eE)console.log("GL.Channels instances: "+t.oV+", memory: "+t.ox*4)};
t.oV=0;t.ha=function(m,g,L){if(L==null)L=!1;t.oV++;t.ox+=m*g*4;if(t.eE)console.log("GL.Channels instances: "+t.oV+", memory: "+t.ox);
var K=t.wu;this.Ina=L;this.j=m;this.F=g;this.Iu=K.createTexture();this.vB=null;this.Vz(this.Iu,m,g)};
t.ha.prototype.set=function(m,g){var L=t.wu;L.disable(L.SCISSOR_TEST);L.bindTexture(L.TEXTURE_2D,this.Iu);
if(m==null||m instanceof Uint8Array){var K=this.j*this.F;if(g==null||g.c()*10>K)L.texImage2D(L.TEXTURE_2D,0,L.RGBA,this.j,this.F,0,L.RGBA,L.UNSIGNED_BYTE,m);
else{var r=I.m(g.c()*4);I.pq(m,new v(0,0,this.j,this.F),r,g);L.texSubImage2D(L.TEXTURE_2D,0,g.x,g.y,g.j,g.F,L.RGBA,L.UNSIGNED_BYTE,r)}}else L.texImage2D(L.TEXTURE_2D,0,L.RGBA,L.RGBA,L.UNSIGNED_BYTE,m)};
t.ha.prototype.get=function(m){var g=t.wu;t.$a(this);g.readPixels(0,0,this.j,this.F,g.RGBA,g.UNSIGNED_BYTE,m)};
t.ha.prototype.o$=function(m){if(m.L_())return;var g=t.wu;if(this.vB==null){this.vB=g.createTexture();
this.Vz(this.vB,this.j,this.F);t.oV++;t.ox+=this.j*this.F*4}g.bindFramebuffer(g.FRAMEBUFFER,t.Vs);g.bindTexture(g.TEXTURE_2D,this.vB);
if(m){var L=Math.max(m.x,0),K=Math.max(m.y,0);g.copyTexSubImage2D(g.TEXTURE_2D,0,L,K,L,K,m.j,m.F)}else g.copyTexImage2D(g.TEXTURE_2D,0,g.RGBA,0,0,this.j,this.F,0)};
t.ha.prototype.Vz=function(m,g,L){var K=t.wu;K.bindTexture(K.TEXTURE_2D,m);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,this.Ina?K.LINEAR:K.NEAREST);
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,K.NEAREST);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_S,K.CLAMP_TO_EDGE);
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_T,K.CLAMP_TO_EDGE);K.texImage2D(K.TEXTURE_2D,0,K.RGBA,g,L,0,K.RGBA,K.UNSIGNED_BYTE,null)};
t.ha.prototype.delete=function(){var m=t.wu;if(this.Iu){m.deleteTexture(this.Iu);t.oV--;t.ox-=this.j*this.F*4}if(this.vB){m.deleteTexture(this.vB);
t.oV--;t.ox-=this.j*this.F*4}if(t.eE)if(t.eE)console.log("GL.Channels instances: "+t.oV+", memory: "+t.ox)};
t.ha.prototype.clone=function(){var m=t.wu,g=new t.ha(this.j,this.F);t.$a(this);m.bindTexture(m.TEXTURE_2D,g.Iu);
m.copyTexImage2D(m.TEXTURE_2D,0,m.RGBA,0,0,this.j,this.F,0);return g};t.SA={IGq:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",IGQ:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",JM:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Eg:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",lN:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",EF:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",xM:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",MN:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",IGT:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Es:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",IGS:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Oa:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",oP:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",aO:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",FU:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",FJ:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",MW:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",ww:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Kf:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",Bp:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
t.q$={gJ:{},hW:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
t.q$.Kk=function(m,g){var L=qE.kh,K=[L.IE,L.kz,L.kt,L.Oj,L.OR,L.kf,L.OQ,L.uk].indexOf(m.type),r=t.q$.gJ[m.type];
if(r==null)r=t.q$.gJ[m.type]=new t.gJ[K];r.Cx();r.er(g,m);t.wu.drawArrays(t.wu.TRIANGLES,0,6)};t.gJ=[];
t.gJ[0]=function(){t.ag.call(this);this.Ag={};var m="\t\t\tprecision mediump float;\t\t\t"+t.SA.xM+"\t\t\t"+t.SA.JM+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Rb(m,t.q$.hW)};t.gJ[0].prototype=new t.ag;t.gJ[0].prototype.er=function(m,g){var L={u:g.x$,S:g.sP,R:g.od,Wh:I.m(g.x$.length)},K=L.u.length;
if(this.Ag["m"+K]==null){this.Ag["m"+K]={InR:new t.ha(K,1),qT:I.m(K*4)}}var r=this.Ag["m"+K];I.JL(L,r.qT,0);
var R=r.InR;R.set(r.qT);this.Sq(["source","map","toGray","presLum"]);var Q=t.wu,F=this.qx;Q.uniform1f(F.toGray,g.eD?1:0);
Q.uniform1f(F.presLum,g.Zq?1:0);this.OH([F.source,m,F.map,R.Iu])};t.gJ[1]=function(){t.ag.call(this);
this.IZB=new t.ha(256,1);this.InV=I.m(256*4);var m="\t\t\t\tprecision mediump float;\t\t\t\t"+t.SA.FJ+"\t\t\t\t"+t.SA.aO+"\t\t\t\t"+t.SA.FU+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Rb(m,t.q$.hW)};t.gJ[1].prototype=new t.ag;t.gJ[1].prototype.er=function(m,g){I.JL({u:g.Ins,S:g.AR,R:g.IBY,Wh:I.m(256)},this.InV);
this.IZB.set(this.InV);this.Sq(["source","map","cfa","cfb","colorize"]);var L=t.wu,K=this.qx;L.uniform1f(K.cfa,g.I$O);
L.uniform1f(K.cfb,g.AK);L.uniform1i(K.colorize,g.I$v);this.OH([K.source,m,K.map,this.IZB.Iu])};t.gJ[2]=function(){t.ag.call(this);
var m="\t\t\tprecision mediump float;\t\t\t"+t.SA.FJ+"\t\t\t"+t.SA.MW+"\t\t\t"+t.SA.ww+"\t\t\t"+t.SA.aO+"\t\t\t"+t.SA.FU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.Rb(m,t.q$.hW)};t.gJ[2].prototype=new t.ag;t.gJ[2].prototype.er=function(m,g){this.Sq(["source","vib","sat"]);
var L=t.wu,K=this.qx;L.uniform1f(K.vib,g.Su[0]/100);L.uniform1f(K.sat,g.Su[1]/100);this.OH([K.source,m])};
t.gJ[3]=function(){t.ag.call(this);var m="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Rb(m,t.q$.hW)};t.gJ[3].prototype=new t.ag;t.gJ[3].prototype.er=function(m,g){this.Sq(["source","trf"]);
var L=t.wu,K=this.qx;L.uniformMatrix4fv(K.trf,!1,new Float32Array(I.za.GL(g.za)));this.OH([K.source,m])};
t.gJ[4]=function(){t.ag.call(this);var m="\t\t\tprecision mediump float; \t\t\t"+t.SA.Kf+"\t\t\t"+t.SA.FJ+"\t\t\t"+t.SA.FU+"\t\t\t"+t.SA.aO+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Rb(m,t.q$.hW)};t.gJ[4].prototype=new t.ag;t.gJ[4].prototype.er=function(m,g){this.Sq(["source","mnm","mxm","shift","lim"]);
var L=t.wu,K=this.qx;L.uniform3fv(K.mnm,new Float32Array(g.mv));L.uniform3fv(K.mxm,new Float32Array(g.mV));
L.uniform3fv(K.shift,new Float32Array(g.shift));L.uniform1f(K.lim,g.Xt);this.OH([K.source,m])};t.gJ[5]=function(){t.ag.call(this);
var m="\t\t\tprecision mediump float;\t\t\t"+t.SA.JM+"\t\t\t"+t.SA.Eg+"\t\t\t"+t.SA.lN+"\t\t\t"+t.SA.aO+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Rb(m,t.q$.hW)};t.gJ[5].prototype=new t.ag;t.gJ[5].prototype.er=function(m,g){this.Sq(["source","cfs"]);
var L=t.wu,K=this.qx;L.uniform3fv(K.cfs,g.Ma);this.OH([K.source,m])};t.gJ[6]=function(){t.ag.call(this);
var m="\t\t\tprecision mediump float;\t\t\t"+t.SA.FJ+"\t\t\t"+t.SA.Eg+"\t\t\t"+t.SA.lN+"\t\t\t"+t.SA.aO+"\t\t\t"+t.SA.FU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Rb(m,t.q$.hW)};t.gJ[6].prototype=new t.ag;t.gJ[6].prototype.er=function(m,g){this.Sq(["source","wght","prms"]);
var L=t.wu,K=this.qx,r=[g.Ph,g.IIf,g.xM,g.IjV,g.Ta,g.Ijr];L.uniform1fv(K.wght,new Float32Array(g.Iak));
L.uniform1fv(K.prms,new Float32Array(r));this.OH([K.source,m])};t.gJ[7]=function(){t.ag.call(this);this.AA={};
var m="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Rb(m,t.q$.hW)};t.gJ[7].prototype=new t.ag;t.gJ[7].prototype.er=function(m,g){this.Sq(["source","lut","N"]);
var L=t.wu,K=this.qx,r=g.rk,R=g.$O;if(this.AA["m"+r]==null)this.AA["m"+r]=new t.ha(r,r*r);var Q=this.AA["m"+r];
Q.set(R);L.uniform1f(K.N,r);this.OH([K.source,m,K.lut,Q.Iu]);L.activeTexture(L.TEXTURE1);var F=L.LINEAR;
L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,F);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,F);
L.activeTexture(L.TEXTURE0)};t.filter={$N:{},hW:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",oy:0,Tx:1,qH:2,Tv:3};
t.filter.Kk=function(m,g){var L=t.filter,K=[L.oy,L.Tx,L.qH,L.Tv].indexOf(m.type),r=t.filter.$N[m.type];
if(r==null)r=t.filter.$N[m.type]=new t.$N[K];r.Cx();r.er(g,m);t.wu.drawArrays(t.wu.TRIANGLES,0,6)};t.$N=[0,0,0,0,0,0,0];
t.$N[3]=function(){t.ag.call(this);var m="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Rb(p.oF(m),p.oF(t.filter.hW))};t.$N[3].prototype=new t.ag;t.$N[3].prototype.er=function(m,g){this.Sq("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var L=t.wu,K=this.qx;L.uniform2fv(K.iwh,g.XR);L.uniform1f(K.tdep,g.InX);L.uniform1f(K.rrad,g.InB);L.uniform2fv(K.spec,g.InH);
L.uniform3fv(K.nois,g.Ind);L.uniformMatrix4fv(K.poly0,!1,g.InN);L.uniformMatrix4fv(K.poly1,!1,g.IEq);
this.OH([K.source,m])};t.$N[0]=function(){t.ag.call(this);var m="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Rb(p.oF(m),p.oF(t.filter.hW))};t.$N[0].prototype=new t.ag;t.$N[0].prototype.er=function(m,g){this.Sq(["source","iwh","ld","shine"]);
var L=t.wu,K=this.qx;L.uniform2fv(K.iwh,g.XR);L.uniform3fv(K.ld,g.ICb);L.uniform1f(K.shine,g.IvU);this.OH([K.source,m,K.tang,g.Ao])};
t.$N[1]=function(){t.ag.call(this);var m="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Rb(p.oF(m),p.oF(t.filter.hW))};t.$N[1].prototype=new t.ag;t.$N[1].prototype.er=function(m,g){this.Sq(["source","iwh","isc","bristle"]);
var L=t.wu,K=this.qx;L.uniform2fv(K.iwh,g.XR);L.uniform1f(K.isc,g.ICX);L.uniform1f(K.bristle,g.ICY);
this.OH([K.source,m])};t.$N[2]=function(){t.ag.call(this);var m="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Rb(p.oF(m),p.oF(t.filter.hW))};t.$N[2].prototype=new t.ag;t.$N[2].prototype.er=function(m,g){this.Sq(["source","tang","iwh","sigma","expo"]);
var L=t.wu,K=this.qx;L.uniform2fv(K.iwh,g.XR);L.uniform1f(K.sigma,g.IMe);L.uniform1f(K.expo,g.IMY);this.OH([K.source,m,K.tang,g.Ao]);
var r=L.LINEAR;L.activeTexture(L.TEXTURE0);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,r);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,r);
L.activeTexture(L.TEXTURE0)};t.h={};t.h.J_={};t.h.Je=null;t.h.Jv=null;t.h.JZ=null;t.h.Tt=function(m,g,L,K,r,R,Q,F){if(F==null)F=ai.hb();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(m)==-1){Q=Q*F.fill;F.fill=1;F.style=!1}var q=m+(F.XW?"1":"");
if(t.h.J_[q]==null)t.h.J_[q]=new t.h.eQ(m,F.XW!=null);var n=t.h.J_[q],W=L.my(r).my(R);W.offset(-r.x,-r.y);
if(W.L_())return;var z=t.wu;t.$a(K,W);K.o$(W);n.Cx();n.er(g.Iu,K.vB,t.eA(L,r),Q,F.fill,F.style?1:0,F.XA?1:0,F.XW?new Float32Array(F.XW):null);
z.drawArrays(z.TRIANGLES,0,6)};t.h.Vt=function(m,g,L,K,r,R,Q,F,q,n){if(t.h.Je==null)t.h.Je=new t.h.Ql(!0,!0);
if(t.h.Jv==null)t.h.Jv=new t.h.Ql(!0,!1);if(t.h.JZ==null)t.h.JZ=new t.h.Ql(!1,!0);var W=n?1:0,z=m?r?t.h.Je:t.h.Jv:t.h.JZ,u=g?g.my(K).my(F):K.my(F);
if(u.L_())return;u.offset(-K.x,-K.y);var N=t.wu;t.$a(L,u);L.o$(u);z.Cx();if(m==null)z.er(null,L.vB,r.Iu,t.eA(K,K),t.eA(R,K),Q/255,q,W);
else if(r)z.er(m.Iu,L.vB,r.Iu,t.eA(g,K),t.eA(R,K),Q/255,q,W);else z.er(m.Iu,L.vB,null,t.eA(g,K),null,Q/255,q,W);
N.drawArrays(N.TRIANGLES,0,6)};t.h.IkJ=function(m,g,L){if(t.h.IaO==null)t.h.IaO=new t.h.Jn;var K=t.h.IaO,r=new v(0,0,m.j,m.F),R=t.wu;
t.$a(g);g.o$(r);K.Cx();K.er(r,m.Iu,g.vB,L.Iu);R.drawArrays(R.TRIANGLES,0,6)};t.h.l$={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
t.h.eQ=function(m,g){t.ag.call(this);var L="\t\t\tprecision mediump float;\t\t\t"+t.SA.JM+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(g?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+t.SA.EF+"\t\t\t"+t.SA.xM+"\t\t\t"+t.SA.MN+"\t\t\t"+t.SA.IGq+"\t\t\t"+t.SA.IGQ+"\t\t\t"+t.SA.IGT+"\t\t\t"+t.SA.Es+"\t\t\t"+t.SA.IGS+"\t\t\t"+t.SA.Oa+"\t\t\t"+t.SA.hash+"\t\t\t"+(g?t.SA.Bp:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+t.h.l$[m]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",K="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(m=="diss")L+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else L+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(g?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Rb(L,K)};t.h.eQ.prototype=new t.ag;t.h.eQ.prototype.er=function(m,g,L,K,r,R,Q,F){this.Sq("srct alpha source target fill style keepBGA blIf".split(" "));
var q=t.wu,n=this.qx;q.uniform4fv(n.srct,L);q.uniform1f(n.alpha,K);q.uniform1f(n.fill,r);q.uniform1f(n.style,R);
q.uniform1f(n.keepBGA,Q);if(F)q.uniform4fv(n.blIf,F);this.OH([n.source,m,n.target,g])};t.h.Ql=function(m,g){t.ag.call(this);
this.IRo=m;this.AW=g;var L="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+t.SA.oP+"\t\t\t"+t.SA.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(m?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(g?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(m?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",K="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Rb(L,K)};t.h.Ql.prototype=new t.ag;t.h.Ql.prototype.er=function(m,g,L,K,r,R,Q,F){if(this.AW)this.Sq("srct wrct wcolor awg dissv source target weight".split(" "));
else this.Sq(["srct","awg","dissv","source","target"]);var q=t.wu,n=this.qx;q.uniform4fv(n.srct,K);if(this.AW){q.uniform4fv(n.wrct,r);
q.uniform1f(n.wcolor,R)}q.uniform1f(n.awg,Q);q.uniform1f(n.dissv,F);var W=[n.source,m,n.target,g];if(this.AW)W.push(n.weight,L);
this.OH(W)};t.h.Jn=function(){t.ag.call(this);var m="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",g="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Rb(m,g)};t.h.Jn.prototype=new t.ag;t.h.Jn.prototype.er=function(m,g,L,K){this.Sq(["rct","prev","next","alpha"]);
var r=t.wu,R=this.qx;r.uniform4fv(R.rct,[0,0,1,1]);this.OH([R.prev,g,R.next,L,R.alpha,K])};function mQ(){}mQ.GT=function(m){var g=new Uint8Array(m),L=0,K={Rd:[],jg:[],list:[]},r=X.Di(g,L);
L+=2;if(r<=2){return mQ.IGO(g)}var R=X.Di(g,L);L+=2;var Q=X.dn(g,L,8);L+=8;var F=X.d(g,L);L+=4;if(F>0)K.Rd=mQ.SL(g,L,F,R,r);
L+=F;var q=X.dn(g,L,8);L+=8;var n=X.d(g,L);L+=4;if(n>0)K.jg=mQ.$m(g,L,n);L+=n;var W=X.dn(g,L,8);L+=8;
var z=X.d(g,L);L+=4;if(z>0){var u={};aY.jE(g,u,L+4);K.list=u.Brsh.v}L+=z;var N=K.list;for(var b=0;b<N.length;
b++){ql.lT.check(N[b].v)}return K};mQ.Ke=function(m,g){m.v.Nm.v=g};mQ.IGO=function(m){var g={Rd:[],jg:[],list:[]},L=0,K=X.Di(m,L);
L+=2;var r=X.Di(m,L);L+=2;for(var R=0;R<r;R++){var Q=X.Di(m,L);L+=2;var F=X.d(m,L);L+=4;var q=L;if(Q==2){var n={};
g.Rd.push(n);var W=X.d(m,q);q+=4;var z=X.Di(m,q);q+=2;if(K==2){var u=X.rH(m,q);q+=4+u.length*2+2}n.id=aH.lk()+"-d71c-11e5-b1ae-a548a96e5f9f";
q++;q+=8;n.l=X.cR(m,q);q+=16;var N=X.Di(m,q);q+=2;var b=m[q];q++;n.channel=Ql.QW(!1,N,m,n.l.j,n.l.F,q,b);
var B=ql.wy(n.id),h=B.Brsh.v;h.Dmtr.v.val=n.l.j;h.Spcn.v.val=z;g.list.push({t:"Objc",v:B})}L+=F}return g};
mQ.wX=function(m){var g=new qL,L=0,K=0;X.NX(g,L,6);L+=2;X.NX(g,L,2);L+=2;X._p(g,L,"8BIMsamp");L+=8;L+=4;
K=L;L=mQ.Sl(g,L,m.Rd);X.ut(g,K-4,L-K);X._p(g,L,"8BIMpatt");L+=8;L+=4;K=L;L=mQ.$p(g,L,m.jg);X.ut(g,K-4,L-K);
var r={classID:"null",Brsh:{t:"VlLs",v:m.list}};X._p(g,L,"8BIMdesc");L+=8;L+=4;K=L;X.ut(g,L,16);L+=4;
L+=aY.vv(g,r,L);X.ut(g,K-4,L-K);return g.data.slice(0,L).buffer};mQ.SL=function(m,g,L,K,r){var R=X.d,Q=X.cR,F=g+L,q=[];
while(g<F){var n={};q.push(n);var W=R(m,g);g+=4;var z=g,u=X.vm(m,g);g+=u.length;n.id=u.KW;if(K==1){g+=9;
n.l=Q(m,g);g+=16}else{g+=7;var N=R(m,g);g+=4;n.l=Q(m,g);g+=16;var b=R(m,g);g+=4;g+=b*4;var B=R(m,g);
g+=4;var h=R(m,g);g+=4;var A=Q(m,g);g+=16}var e=X.Di(m,g);g+=2;var c=m[g];g+=1;n.channel=Ql.QW(!1,e,m,n.l.j,n.l.F,g,c);
if(W%4!=0)W+=4-W%4;g=z+W}return q};mQ.Sl=function(m,g,L){var K=X.ut,r=X.tc;for(var R=0;R<L.length;R++){var Q=L[R],F=g+4,n=56,z=1;
g+=4;X.jd(m,g,Q.id);g+=Q.id.length+2;m._a(g,1);m.data[g]=1;g+=3;K(m,g,3);g+=4;var q=g;g+=4;r(m,g,Q.l);
g+=16;K(m,g,n);g+=4;g+=n*4;K(m,g-4,1);var W=g;g+=4;K(m,g,8);g+=4;r(m,g,Q.l);g+=16;X.NX(m,g,8);g+=2;m._a(g,1);
m.data[g]=z;g++;m._a(g,Q.l.c()*2);g=Ql.$$(Q.channel,m.data,Q.l.j,Q.l.F,g,z);m._a(g,8);g+=8;var u=g-F;
K(m,F-4,u);K(m,q,u-49);K(m,W,u-305);if(u%4!=0)g+=4-u%4}return g};mQ.$m=function(m,g,L){var K=g+L,r=[];
while(g<K){var R={},Q=X.d(m,g);g+=4;var F=g;g=QX.Sz(m,g,R);if(!R.l.L_())r.push(R);if(Q%4!=0)Q+=4-Q%4;
g=F+Q}return r};mQ.$p=function(m,g,L){for(var K=0;K<L.length;K++){var r=L[K];g+=4;var R=g;g=QX.iL(m,g,r);
var Q=g-R;X.ut(m,R-4,Q);if(Q%4!=0)R+=4-Q%4;g=R+Q}return g};function jW(){}jW.GT=function(m){var g=new Uint8Array(m),L=[],K=0,r=X.Di(g,K);
K+=2;if(r!=4){throw"Unknown version of curves: "+r}var R=X.Di(g,K);K+=2;for(var Q=0;Q<R;Q++){var F=jW.ST(g,K);
K+=2+2*F.length;L.push(F)}if(K==g.length)return L;var q=X.dn(g,K,4);K+=4;var n=X.Di(g,K);K+=2;var W=X.Di(g,K);
K+=2;if(W!=0)throw"extra curves for channels";return L};jW.Qi=function(m,g,L){var K=g,r=[],R=m[g];g+=3;
var Q=X.d(m,g);g+=4;for(var F=0;F<4;F++){var q=Q>>>F&1;if(q){if(R==0){var n=jW.ST(m,g);g+=2+2*n.length}else{var n=jW.IGf(m,g);
g+=256}r.push(n)}else r.push(R==0?[0,0,255,255]:jW.IG$())}var W=aN.Rw("curv");for(var F=0;F<4;F++){if(R==0){var z=r[F],u=[];
for(var N=0;N<z.length;N+=2)u.push(I.Kz.uz(z[N],z[N+1],!0));jW.dI(W,F,u)}else jW.dI(W,F,r[F])}return W};
jW.IG$=function(){var m=[];for(var g=0;g<256;g++)m.push(g);return m};jW.dI=function(m,g,L){var K=qC.JX("CrvA",g);
if(L.length<256)K.Crv={t:"VlLs",v:L};else{K.Mpng={t:"VlLs",v:[]};for(var r=0;r<256;r++)K.Mpng.v[r]={t:"long",v:L[r]}}K={t:"Objc",v:K};
var R=m.Adjs.v,Q=qC.TG(R,g);if(Q==-1)R.push(K);else R[Q]=K};jW.dM=function(m,g){var L=m.Adjs.v,K=qC.TG(L,g);
if(K==-1){if(L.length==0||L[0].v.Crv)return[I.Kz.uz(0,0,!0),I.Kz.uz(255,255,!0)];var r=[];for(var R=0;
R<256;R++)r.push(R);return r}var Q=L[K].v,F=Q.Crv;if(F)return F.v;var r=[];for(var R=0;R<256;R++)r.push(Q.Mpng.v[R].v);
return r};jW.ST=function(m,g){var L=[],K=X.Di(m,g);g+=2;for(var r=0;r<K;r++){var R=X.Di(m,g);g+=2;var Q=X.Di(m,g);
g+=2;L.push(Q,R)}return L};jW.IGs=function(m,g,L){var K=L.length/2;X.NX(m,g,K);g+=2;for(var r=0;r<K;
r++){X.NX(m,g,L[r*2+1]);g+=2;X.NX(m,g,L[r*2+0]);g+=2}};jW.IGf=function(m,g){var L=[];for(var K=0;K<256;
K++)L.push(m[g+K]);return L};jW.Iox=function(m,g,L){m._a(g,256);for(var K=0;K<256;K++)m.data[g+K]=L[K]};
jW.Qk=function(m,g,L){var K=[];for(var r=0;r<4;r++){var R=jW.dM(L,r);if(R.length==256)K.push(R);else{var Q=[];
for(var F=0;F<R.length;F++)Q.push(R[F].v.Hrzn.v,R[F].v.Vrtc.v);K.push(Q)}}var q=g,n=K[0].length==256?1:0;
m._a(g,3);m.data[g]=n;m.data[g+1]=0;m.data[g+2]=1;g+=3;X.ut(m,g,15);g+=4;for(var r=0;r<4;r++){var W=K[r];
if(n==0){jW.IGs(m,g,W);g+=2+2*W.length}else{jW.Iox(m,g,W);g+=256}}return g-q};function In(){}In.Qi=function(m,g,L){var K={},r=X.Di(m,g);
g+=2;K.yU=m[g]==1;g++;g++;K.TL=[X.cL(m,g),X.cL(m,g+2),X.cL(m,g+4)];g+=6;K.Tl=[X.cL(m,g),X.cL(m,g+2),X.cL(m,g+4)];
g+=6;K.BU=[];for(var R=0;R<6;R++){var Q={};Q.Zj=[X.cL(m,g),X.cL(m,g+2),X.cL(m,g+4),X.cL(m,g+6)];g+=8;
Q.Hl=[X.cL(m,g),X.cL(m,g+2),X.cL(m,g+4)];g+=6;K.BU.push(Q)}var F=aN.Rw("hue2"),q=K;if(F.Clrz==null)F.Clrz={t:"bool",v:!1};
F.Clrz.v=q.yU;for(var R=0;R<7;R++){var n=R==0?q.yU?q.TL:q.Tl:q.BU[R-1];In.dI(F,R,n)}return F};In.IoJ=function(m){return{classID:"Hst2",H:{t:"long",v:m[0]},Strt:{t:"long",v:m[1]},Lght:{t:"long",v:m[2]}}};
In.TG=function(m,g){for(var L=0;L<m.length;L++){var K=m[L].v.LclR;if(g==0&&K==null||K!=null&&K.v==g)return L}return-1};
In.dI=function(m,g,L){var K=g==0?L:L.Hl,r=In.IoJ(K);if(g!=0){var R=L.Zj;r.LclR={t:"long",v:g},r.BgnR={t:"long",v:R[0]};
r.BgnS={t:"long",v:R[1]};r.EndS={t:"long",v:R[2]};r.EndR={t:"long",v:R[3]}}r={t:"Objc",v:r};var Q=m.Adjs.v,F=In.TG(Q,g);
if(F==-1)Q.push(r);else Q[F]=r};In.dM=function(m,g){var L=m.Adjs.v,K=In.TG(L,g);if(K==-1){if(g==0)return[0,0,0];
else return[{Zj:[315,345,15,45],Hl:[0,0,0]},{Zj:[15,45,75,105],Hl:[0,0,0]},{Zj:[75,105,135,165],Hl:[0,0,0]},{Zj:[135,165,195,225],Hl:[0,0,0]},{Zj:[195,225,255,285],Hl:[0,0,0]},{Zj:[255,285,315,345],Hl:[0,0,0]}][g-1]}var r=L[K].v,R=[r.H.v,r.Strt.v,r.Lght.v];
if(g==0)return R;return{Hl:R,Zj:[r.BgnR.v,r.BgnS.v,r.EndS.v,r.EndR.v]}};In.Qk=function(m,g,L){var K={yU:L.Clrz.v,BU:[]};
K.TL=K.Tl=In.dM(L,0);for(var r=1;r<7;r++)K.BU.push(In.dM(L,r));var R=2+2+12+6*14,Q=m.data;m._a(g,R);
X.HL(Q,g,2);g+=2;Q[g]=K.yU?1:0;g++;g++;X.$s(Q,g+0,K.TL[0]);X.$s(Q,g+2,K.TL[1]);X.$s(Q,g+4,K.TL[2]);g+=6;
X.$s(Q,g+0,K.Tl[0]);X.$s(Q,g+2,K.Tl[1]);X.$s(Q,g+4,K.Tl[2]);g+=6;for(var r=0;r<6;r++){var F=K.BU[r].Zj,q=K.BU[r].Hl;
X.$s(Q,g+0,F[0]);X.$s(Q,g+2,F[1]);X.$s(Q,g+4,F[2]);X.$s(Q,g+6,F[3]);g+=8;X.$s(Q,g+0,q[0]);X.$s(Q,g+2,q[1]);
X.$s(Q,g+4,q[2]);g+=6}return R};function qC(){}qC.GT=function(m){var g=new Uint8Array(m),L=2,K=[];for(var r=0;
r<29;r++){var R=[];K.push(R);for(var Q=0;Q<5;Q++)R.push(X.Di(g,L+r*10+Q*2))}L+=29*10;if(L<g.length){var F=X.dn(g,L,4);
L+=4;var q=X.Di(g,L);L+=2;var n=X.Di(g,L);L+=2;var W=n-29;for(var r=0;r<W;r++){var R=[];K.push(R);for(var Q=0;
Q<5;Q++)R.push(X.Di(g,L+r*10+Q*2))}}var z=aN.Rw("levl");for(var r=0;r<4;r++)qC.dI(z,r,K[r]);return z};
qC.JX=function(m,g){var L=["Cmps","Rd","Grn","Bl"],K={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:L[g]}}]};
return{classID:m,Chnl:K}};qC.TG=function(m,g){var L={Cmps:0,Rd:1,Grn:2,Bl:3};for(var K=0;K<m.length;
K++){var r=m[K].v,R=L[r.Chnl.v[0].v.enum];if(R==g)return K}return-1};qC.dI=function(m,g,L){var K=qC.JX("LvlA",g);
K.Inpt={t:"VlLs",v:[{t:"long",v:L[0]},{t:"long",v:L[1]}]};K.Otpt={t:"VlLs",v:[{t:"long",v:L[2]},{t:"long",v:L[3]}]};
K.Gmm={t:"doub",v:L[4]/100};K={t:"Objc",v:K};var r=m.Adjs.v,R=qC.TG(r,g);if(R==-1)r.push(K);else r[R]=K};
qC.dM=function(m,g){var L=[0,255,0,255,100],K=m.Adjs.v,r=qC.TG(K,g);if(r==-1)return L;var R=K[r].v;if(R.Inpt){L[0]=R.Inpt.v[0].v;
L[1]=R.Inpt.v[1].v}if(R.Otpt){L[2]=R.Otpt.v[0].v;L[3]=R.Otpt.v[1].v}if(R.Gmm){L[4]=Math.round(R.Gmm.v*100)}return L};
qC.wX=function(m,g){var L=[],r=0;for(var K=0;K<4;K++)L.push(qC.dM(g,K));while(L.length<29)L.push([0,255,0,255,100]);
m._a(0,2+10*29);X.HL(m.data,r,2);r+=2;for(var K=0;K<29;K++){var R=L[K];for(var Q=0;Q<5;Q++)X.HL(m.data,r+K*10+Q*2,R[Q])}r+=29*10;
if(L.length==29)return r;m._a(r,8+10*(L.length-29));X.kC(m.data,r,"Lvls");r+=4;X.HL(m.data,r,3);r+=2;
X.HL(m.data,r,L.length);r+=2;var F=L.length-29;for(var K=0;K<F;K++){var R=L[29+K];for(var Q=0;Q<5;Q++)X.HL(m.data,r+K*10+Q*2,R[Q])}r+=10*F;
return r};function ps(){}ps.GT=function(m){var g=new Uint8Array(m),L=2,K={ya:[],BZ:[]},r=X.dn(g,L,4);
L+=4;var R=X.Di(g,L);L+=2;var Q=X.d(g,L);L+=4;K.ya=mQ.$m(g,L,Q);L+=Q;var F=X.d(g,L);L+=4;for(var q=0;
q<F;q++){var n=X.d(g,L);L+=4;var W=L,z={nL:{},Wx:{}};K.BZ.push(z);L+=4;L+=aY.jE(g,z.nL,L);L+=4;L+=aY.jE(g,z.Wx,L);
L=W+n;var u=z.Wx.blendOptions,N=z.Wx.Lefx;if(u&&Object.keys(u.v).length>1){}if(N){if(N.v.masterFXSwitch==null)N.v.masterFXSwitch={t:"bool",v:!0};
mj.$V(N.v)}}return K};ps.Ke=function(m,g){m.nL.Nm.v=g};ps.wX=function(m){var g=new qL,L=0;X.NX(g,L,2);
L+=2;X._p(g,L,"8BSL");L+=4;X.NX(g,L,3);L+=2;var K=L;L+=4;L=mQ.$p(g,L,m.ya);X.ut(g,K,L-K-4);var r=m.BZ.length;
X.ut(g,L,r);L+=4;for(var R=0;R<r;R++){L+=4;var Q=L,F=m.BZ[R];X.ut(g,L,16);L+=4;L+=aY.vv(g,F.nL,L);var q=F.Wx.Lefx;
if(q){F.Wx.Lefx=JSON.parse(JSON.stringify(q));mj.J$(F.Wx.Lefx.v)}X.ut(g,L,16);L+=4;L+=aY.vv(g,F.Wx,L);
if(q)F.Wx.Lefx=q;X.ut(g,Q-4,L-Q)}return g.data.slice(0,L).buffer};function Rb(){}Rb.Qi=function(m,g,L){var K=X.Di(m,g);
g+=2;var r={};r.Ac=X.Di(m,g)==1;g+=2;r.AO=[];for(var R=0;R<10;R++){var Q=[];r.AO.push(Q);for(var F=0;
F<4;F++)Q.push(X.cL(m,g+F*2));g+=8}var q=aN.Rw("selc");q.Mthd.v.CrcM=r.Ac?"Absl":"Rltv";for(var R=1;
R<10;R++)Rb.dI(q,R-1,r.AO[R]);return q};Rb.$L="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
Rb.JX=function(m,g){var L=["Cmps","Rd","Grn","Bl"],K={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:L[g]}}]};
return{classID:m,Chnl:K}};Rb.TG=function(m,g){var L=Rb.$L;for(var K=0;K<m.length;K++){var r=m[K].v,R=L.indexOf(r.Clrs.v.Clrs);
if(R==g)return K}return-1};Rb.dI=function(m,g,L){var K=["Cyn","Mgnt","Ylw","Blck"],r={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:Rb.$L[g]}}};
for(var R=0;R<4;R++)r[K[R]]={t:"UntF",v:{type:"#Prc",val:L[R]}};r={t:"Objc",v:r};var Q=m.ClrC.v,F=Rb.TG(Q,g);
if(F==-1)Q.push(r);else Q[F]=r};Rb.dM=function(m,g){var L=[0,0,0,0],K=m.ClrC.v,r=Rb.TG(K,g);if(r==-1)return L;
var R=["Cyn","Mgnt","Ylw","Blck"];for(var Q=0;Q<4;Q++)if(K[r].v[R[Q]])L[Q]=K[r].v[R[Q]].v.val;return L};
Rb.Qk=function(m,g,L){var K={Ac:L.Mthd.v.CrcM=="Absl",AO:[[0,0,0,0]]};for(var r=0;r<9;r++)K.AO.push(Rb.dM(L,r));
m._a(g,84);X.HL(m.data,g,1);g+=2;X.HL(m.data,g,K.Ac?1:0);g+=2;for(var r=0;r<10;r++){var R=K.AO[r];for(var Q=0;
Q<4;Q++)X.$s(m.data,g+Q*2,R[Q]);g+=8}return 84};function qs(){}qs.Rw=function(){return{Fi:new v(0,0,50,50),nL:"",BE:"play",W:I.q.RD.dN([.1,.1,.9,.5,.1,.9],0)}};
qs.GT=function(m){m=new Uint8Array(m);var g=0,L=[],K=Date.now(),r=X.dn(m,0,4);g+=4;var R=X.d(m,g);g+=4;
var Q=X.d(m,g);g+=4;for(var F=0;F<Q;F++){var q=X.rH(m,g);g+=q.length*2+4+2;if((q.length&1)==0)g+=2;var n=X.d(m,g);
g+=4;var W=X.d(m,g);g+=4;var z=g,u=X.vm(m,z).KW;z+=u.length+1;var N=X.cR(m,z);z+=16;var b=qs.$n(m,z,W-(z-g)),B=I.q.dD(b),h=I.e.Pt(B),A=1/h.j,e=1/h.F;
I.q._R(b,new aC(A,0,0,e,-h.x*A,-h.y*e));L.push({BE:q,nL:u,W:b,Fi:N});g+=W}return L};qs.Ke=function(m,g){m.BE=g};
qs.wX=function(m){var g=new qL,L=0;X._p(g,L,"cush");L+=4;X.ut(g,L,2);L+=4;X.ut(g,L,m.length);L+=4;for(var K=0;
K<m.length;K++){var r=m[K],R=r.BE+"\0";X.FG(g,L,R);L+=4+R.length*2;if((R.length&1)==1)L+=2;X.ut(g,L,1);
L+=4;L+=4;var Q=L;X.jd(g,L,r.nL);L+=r.nL.length+1;X.tc(g,L,r.Fi);L+=16;g._a(L,r.W.length*26);qs.JV(g.data,L,r.W,1,1);
L+=r.W.length*26;var F=L-Q;if((F&3)!=0)F+=4-(F&3);X.ut(g,Q-4,F);L=Q+F}return g.data.slice(0,L).buffer};
qs.$n=function(m,g,L,K,r){if(K==null)K=1;if(r==null)r=1;var R=X.cL,Q=X.IeV,F=[],q=Math.floor(L/26);for(var n=0;
n<q;n++){var W=g+n*26,z={},u=0;F.push(z);z.type=R(m,W);W+=2;if(z.type==6){u=24}if(z.type==8){z.all=R(m,W);
W+=2;u=22}if(z.type==0||z.type==3){z.length=R(m,W);W+=2;z.au=R(m,W);W+=2;z.OC=R(m,W);W+=2;z.Et=X.d(m,W);
W+=4;z.XQ=X.d(m,W);W+=4;u=10}if(z.type==1||z.type==2||z.type==4||z.type==5){var N,b;b=Q(m,W);W+=4;N=Q(m,W);
W+=4;z.QR=new jf(N*K,b*r);b=Q(m,W);W+=4;N=Q(m,W);W+=4;z.Z=new jf(N*K,b*r);b=Q(m,W);W+=4;N=Q(m,W);W+=4;
z.LM=new jf(N*K,b*r);u=0}for(var B=0;B<u;B++)if(m[W+B]!=0){console.log("Unexpected non-zero byte!",z,B,m[W+B])}}return F};
qs.JV=function(m,g,L,K,r){var R=X.$s,Q=X.iP,F=L.length;for(var q=0;q<F;q++){var n=g+q*26,W=L[q];R(m,n,W.type);
n+=2;if(W.type==6){}if(W.type==8)R(m,n,W.all);if(W.type==0||W.type==3){R(m,n,W.length);n+=2;R(m,n,W.au);
n+=2;R(m,n,W.OC);n+=2}if(W.type==1||W.type==2||W.type==4||W.type==5){Q(m,n,W.QR.y/r);n+=4;Q(m,n,W.QR.x/K);
n+=4;Q(m,n,W.Z.y/r);n+=4;Q(m,n,W.Z.x/K);n+=4;Q(m,n,W.LM.y/r);n+=4;Q(m,n,W.LM.x/K);n+=4}}};function q$(){}q$.GT=function(m){var g=new Uint8Array(m),L=[],K=0;
K=q$.SY(g,K,L);if(K+3<g.length){L=[];K=q$.SY(g,K,L)}return L};q$.SY=function(m,g,L){var K=X.Di,r=X.cL,R=K(m,g);
g+=2;var Q=K(m,g);g+=2;for(var F=0;F<Q;F++){var q=q$.dR(m,g);g+=10;if(R==2){q.Kg=X.rH(m,g);g+=4+q.Kg.length*2+2}L.push(q)}return g};
q$.dR=function(m,g){var L=X.Di,K=X.cL,r=L(m,g),N=null;g+=2;var R=L(m,g);g+=2;var Q=L(m,g);g+=2;var F=L(m,g);
g+=2;var q=L(m,g);g+=2;var n=1/65535,W=255/65535,z=100/65535,u=255/1e4;if(r==0)N={u:R*W,S:Q*W,R:F*W};
else if(r==1){N=I.ww(R*n,Q*n,F*n);N.u*=255;N.S*=255;N.R*=255}else if(r==2)N=I.G.EX({classID:"CMYC",Cyn:{t:"doub",v:100-R*z},Mgnt:{t:"doub",v:100-Q*z},Ylw:{t:"doub",v:100-F*z},Blck:{t:"doub",v:100-q*z}});
else if(r==7){var b=I.tx(R/100,K(m,g-6)/100,K(m,g-4)/100);N=b}else if(r==8){N={u:255-R*u,S:255-Q*u,R:255-F*u}}else throw"e "+r+", ";
return N};q$.wX=function(m){var g=new qL,L=0,K=X.NX;K(g,L,2);L+=2;K(g,L,m.length);L+=2;for(var r=0;r<m.length;
r++){var R=m[r];g._a(L,10);q$.Q_(g.data,L,R);L+=10;var Q=(R.Kg?R.Kg:"")+"\0";X.FG(g,L,Q);L+=4+Q.length*2}return g.data.slice(0,L).buffer};
q$.Ke=function(m,g){m.Kg=g};q$.Q_=function(m,g,L){var K=65535/255,r=X.HL;r(m,g,0);r(m,g+2,Math.round(L.u*K));
r(m,g+4,Math.round(L.S*K));r(m,g+6,Math.round(L.R*K));r(m,g+8,0)};function qT(){}qT.GT=function(m){var g=new Uint8Array(m),L=4,K={};
K.Is=X.rH(g,L);L+=4+K.Is.length*2+2;K.exp=g[L++]==1;K.r=[];var r=X.d(g,L);L+=4;for(var R=0;R<r;R++){var Q={};
K.r.push(Q);Q.Bj=X.Di(g,L);L+=2;Q.shift=g[L++]==1;Q.IaM=g[L++]==1;Q.color=X.Di(g,L);L+=2;Q.Is=X.rH(g,L);
L+=4+Q.Is.length*2+2;Q.exp=g[L++]==1;Q.r=[];var RJ=X.d(g,L);L+=4;for(var F=0;F<RJ;F++){var q={};Q.r.push(q);
q.exp=g[L++]==1;q.$=g[L++]==1;q.ImB=g[L++]==1;q.IxM=g[L++];var n=X.dn(g,L,4);L+=4;if(n=="TEXT"){q.Qm=qT.QF(g,L);
L+=4+q.Qm.length}else if(n=="long"){q.Qm=X.dn(g,L,4);L+=4}else throw"e";q.yR=qT.QF(g,L);L+=4+q.yR.length;
var W=X.dS(g,L);L+=4;if(W==-1){q.XX={};var z=aY.jE(g,q.XX,L);L+=z}}}console.log(K);var u=new Uint8Array(qT.wX(K));
for(var R=0;R<u.length;R++)if(u[R]!=g[R]){console.log(u.length,g.length);var N=4*(R>>>2)-16;console.log(X.rI(g,N,64));
console.log(X.rI(u,N,64));console.log(g.slice(N,N+64));console.log(u.slice(N,N+64));throw R}console.log(K);
return[K]};qT.QF=function(m,g){var L=X.d(m,g);return X.dn(m,g+4,L)};qT.SP=function(m,g,L){X.ut(m,g,L.length);
X._p(m,g+4,L)};qT.wX=function(m){var g=new qL,L=0;X.ut(g,L,16);L+=4;X.FG(g,L,m.Is+"\0");L+=4+m.Is.length*2+2;
g._a(L,1);g.data[L++]=m.exp?1:0;var K=m.r.length;X.ut(g,L,K);L+=4;for(var r=0;r<K;r++){var R=m.r[r];
X.NX(g,L,R.Bj);L+=2;g._a(L,2);g.data[L++]=R.shift?1:0;g.data[L++]=R.IaM?1:0;X.NX(g,L,R.color);L+=2;X.FG(g,L,R.Is+"\0");
L+=4+R.Is.length*2+2;g._a(L,1);g.data[L++]=R.exp?1:0;var RJ=R.r.length;X.ut(g,L,RJ);L+=4;for(var Q=0;
Q<RJ;Q++){var F=R.r[Q];g._a(L,4);g.data[L++]=F.exp?1:0;g.data[L++]=F.$?1:0;g.data[L++]=F.ImB?1:0;g.data[L++]=F.IxM;
var q=F.Qm=="LqFy"||F.Qm=="Avrg"||F.Qm=="GEfc"||F.Qm=="PbPl";X._p(g,L,q?"long":"TEXT");L+=4;if(!q){qT.SP(g,L,F.Qm);
L+=4+F.Qm.length}else{X._p(g,L,F.Qm);L+=4}qT.SP(g,L,F.yR);L+=4+F.yR.length;X.kv(g,L,F.XX?-1:0);L+=4;
if(F.XX){var n=aY.vv(g,F.XX,L);L+=n}}}return g.data.slice(0,L).buffer};function Dj(){}Dj.GT=function(m){var g=new Uint8Array(m),L=0,K=X.d(g,L),q;
L+=4;var r=X.dn(g,L,8);L+=8;var R=X.Bm(g,L);L+=4;var Q=X.Bm(g,L);L+=4;var F=X.Bm(g,L);L+=4;if(K==2){q=new Float32Array(m,32,m.byteLength-32>>>2)}else if(K==3||K==4){q=new Float32Array(Q*F*2);
var n=0,W=0,z=!0;L=K==3?32:16+8+40;while(L<g.length){var u=X.Bm(g,L);L+=4;if(z)W+=u;else{for(var N=0;
N<u;N++){q[n+W+N<<1]=X.lv(g,L);q[(n+W+N<<1)+1]=X.lv(g,L+4);L+=8}W+=u}z=!z;if(u!=0&&W==Q){n+=Q;W=0;z=!0;
if(n==Q*F)break}}}else throw"unknown Mesh version: "+K;return{uP:Q,PC:F,map:q}};Dj.Sk=function(m){var g=m.uP,L=m.PC,K=m.map,r=new Uint8Array(32+L*g*8+L*8),R=0,Q=0;
X.ME(r,R,3);R+=4;X.kC(r,R,"yfqLhseM");R+=8;X.gO(r,R,2);R+=4;X.gO(r,R,g);R+=4;X.gO(r,R,L);R+=4;X.gO(r,R,0);
R+=4;X.gO(r,R,1);R+=4;for(var F=0;F<L;F++){X.gO(r,R,0);R+=4;X.gO(r,R,g);R+=4;for(var q=0;q<g;q++){X.lE(r,R,K[Q]);
X.lE(r,R+4,K[Q+1]);Q+=2;R+=8}}return r.buffer};function xR(){}xR.GT=function(m){var g=new Uint8Array(m),L=0,K=X.dn(g,L,4);
L+=4;var r=X.Di(g,L);L+=2;var R=X.d(g,L);L+=4;var Q=[];for(var F=0;F<R;F++){var q=X.d(g,L);L+=4;var n={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
Q.push(n);var W=X.rH(g,L);n.Nm.v=W;L+=4+W.length*2+2;var z=X.Di(g,L);L+=2;var u=X.Di(g,L);L+=2;for(var N=0;
N<u;N++){var b=I.Kz.uz(0,0,!0);b.v.Vrtc.v=X.Di(g,L);L+=2;b.v.Hrzn.v=X.Di(g,L);L+=2;n.Crv.v.push(b)}if(q==1){}else if(q==2){for(var N=0;
N<u;N++){n.Crv.v[N].v.Cnty.v=g[L]==1;L+=1}}else throw"error";var B=X.d(g,L);L+=4;var h=X.d(g,L);L+=4}return Q};
xR.Ke=function(m,g){m.Nm.v=g};xR.wX=function(m){var g=new qL,L=0;X._p(g,L,"8BFS");L+=4;X.NX(g,L,1);L+=2;
X.ut(g,L,m.length);L+=4;for(var K=0;K<m.length;K++){X.ut(g,L,2);L+=4;var r=m[K];X.FG(g,L,r.Nm.v+"\0");
L+=4+r.Nm.v.length*2+2;X.NX(g,L,2);L+=2;var R=r.Crv.v.length;X.NX(g,L,R);L+=2;for(var Q=0;Q<R;Q++){var F=r.Crv.v[Q];
X.NX(g,L,F.v.Vrtc.v);L+=2;X.NX(g,L,F.v.Hrzn.v);L+=2}g._a(L,R);for(var Q=0;Q<R;Q++){g.data[L]=r.Crv.v[Q].v.Cnty.v;
L++}X.ut(g,L,0);L+=4;X.ut(g,L,0);L+=4}return g.data.slice(0,L).buffer};function QX(){}QX.GT=function(m){var g=new Uint8Array(m),L=4,K=X.Di(g,L);
L+=2;var r=X.d(g,L);L+=4;var R=[];for(var Q=0;Q<r;Q++){var F={};R.push(F);L=QX.Sz(g,L,F)}return R};QX.Ke=function(m,g){m.name=g};
QX.wX=function(m){var g=new qL,L=0;X._p(g,L,"8BPT");L+=4;X.NX(g,L,1);L+=2;X.ut(g,L,m.length);L+=4;for(var K=0;
K<m.length;K++){L=QX.iL(g,L,m[K])}return g.data.slice(0,L).buffer};QX.Sz=function(m,g,L){var K=X.d(m,g);
g+=4;if(K!=1)alert("Unknown version of pattern");var r=X.d(m,g);g+=4;if(r!=1&&r!=2&&r!=3)console.log("Unsupported mode of pattern: "+r);
var R=X.Di(m,g);g+=2;var Q=X.Di(m,g);g+=2;L.l=new v(0,0,Q,R);L.name=X.rH(m,g);g+=4+2*L.name.length+2;
var F=m[g];g++;L.id=X.dn(m,g,F);g+=L.id.length;var q=-1;if(r==2){q=g;g+=3*256+4}var n=new I.ha(Q*R);
g=QX.Iol(m,g,n);if(r==2){for(var W=0;W<n.u.length;W++){var z=3*n.u[W];n.u[W]=m[q+z+0];n.S[W]=m[q+z+1];
n.R[W]=m[q+z+2]}}L.qT=I.m(L.l.c()*4);I.JL(n,L.qT);return g};QX.iL=function(m,g,L){X.ut(m,g,1);g+=4;X.ut(m,g,3);
g+=4;X.NX(m,g,L.l.F);g+=2;X.NX(m,g,L.l.j);g+=2;X.FG(m,g,L.name+"\0");g+=4+2*L.name.length+2;X.gT(m,g,L.id.length);
g++;X._p(m,g,L.id);g+=L.id.length;var K=new I.ha(L.l.c());I.cd(L.qT,K);g=QX.Iou(m,g,K,L);return g};QX.Iol=function(m,g,L){var K=g,r={l:null,WY:[],IwG:null,Tr:null},R=X.d(m,g);
g+=4;var Q=X.d(m,g);g+=4;r.l=X.cR(m,g);g+=16;var F=X.d(m,g);g+=4;for(var q=0;q<F+2;q++){var n=X.d(m,g);
g+=4;if(n==0)continue;var W=X.d(m,g);g+=4;if(W==0)continue;var z=X.d(m,g);g+=4;var u=X.cR(m,g);g+=16;
var N=X.Di(m,g);g+=2;var b=m[g];g++;var B=Ql.QW(!1,z,m,u.j,u.F,g,b);if(q<F)r.WY.push(B);if(q==F)r.IwG=B;
if(q==F+1)r.Tr=B;g+=W-23}if(!r.l.L_()){if(r.WY[0])L.u=r.WY[0];if(r.WY[1])L.S=r.WY[1];else L.S=I.clone(r.WY[0]);
if(r.WY[2])L.R=r.WY[2];else L.R=I.clone(r.WY[0]);if(r.Tr)L.Wh=r.Tr;else I.set(L.Wh,255)}return g};QX.Iou=function(m,g,L,K){var r=g,R={l:K.l,WY:[L.u,L.S,L.R],IwG:null,Tr:L.Wh};
X.ut(m,g,3);g+=4;X.ut(m,g,0);g+=4;X.tc(m,g,R.l);g+=16;X.ut(m,g,24);g+=4;for(var Q=0;Q<24+2;Q++){var F=g,q=Q<3||Q==25?1:0;
X.ut(m,g,q);g+=4;if(q==0)continue;X.ut(m,g,0);g+=4;X.ut(m,g,8);g+=4;X.tc(m,g,R.l);g+=16;X.NX(m,g,8);
g+=2;X.gT(m,g,1,1);g++;var n=Q<3?R.WY[Q]:R.Tr;m._a(g,K.l.c()+2);g=Ql.$$(n,m.data,K.l.j,K.l.F,g,1);X.ut(m,F+4,g-F-8)}X.ut(m,r+4,g-r-8);
return g};function mt(){}mt.GT=function(m){var g=new Uint8Array(m),L=0,K=X.dn(g,L,4);L+=4;var r=X.Di(g,L);
L+=2;var R=[];if(r<=3){var Q=X.Di(g,L);L+=2;for(var F=0;F<Q;F++){var q=g[L++],n=X.dn(g,L,q);L+=q;var W=mt.iJ(g,L,n),z=W[0];
L=W[1];R.push(z);L+=6}}else{var W={},u=aY.jE(g,W,L+4),N=W.GrdL.v;for(var F=0;F<N.length;F++)R[F]=N[F].v.Grad.v}return R};
mt.Ke=function(m,g){m.Nm.v=g};mt.wX=function(m){var g=new qL,L=0;X._p(g,L,"8BGR");L+=4;X.NX(g,L,5);L+=2;
X.ut(g,L,16);L+=4;var K={classID:"null",GrdL:{t:"VlLs",v:[]}},r=K.GrdL.v;for(var R=0;R<m.length;R++)r[R]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:m[R]}}};
L+=aY.vv(g,K,L);return g.data.slice(0,L).buffer};mt.iJ=function(m,g,L){var K={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{Dn:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:L},Trns:{t:"VlLs",v:[]}},r=X.Di(m,g);
g+=2;if(r==0)throw"e";for(var R=0;R<r;R++){var Q=X.d(m,g),F=X.d(m,g+4),q=q$.dR(m,g+8),n={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:q.u},Grn:{t:"doub",v:q.S},Bl:{t:"doub",v:q.R}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:Q},Mdpn:{t:"long",v:F}}};
K.Clrs.v.push(n);g+=20}var W=X.Di(m,g);g+=2;for(var R=0;R<W;R++){var Q=X.d(m,g),F=X.d(m,g+4),z=X.Di(m,g+8),n={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*z/255)}},Lctn:{t:"long",v:Q},Mdpn:{t:"long",v:F}}};
K.Trns.v.push(n);g+=10}return[K,g]};mt.ITj=function(m,g,L){var K=L.Clrs.v.length;X.NX(m,g,K);g+=2;for(var r=0;
r<K;r++){var R=L.Clrs.v[r];X.ut(m,g,R.v.Lctn.v);X.ut(m,g+4,R.v.Mdpn.v);X.NX(m,g+8,0);var Q=I.G.h$(I.G.EX(R.v.Clr.v)),F=[Q.Rd.v,Q.Grn.v,Q.Bl.v,0];
for(var q=0;q<4;q++)X.NX(m,g+10+q*2,Math.round(65535*(F[q]/255)));g+=20}var n=L.Trns.v.length;X.NX(m,g,n);
g+=2;for(var r=0;r<n;r++){var R=L.Trns.v[r];X.ut(m,g,R.v.Lctn.v);X.ut(m,g+4,R.v.Mdpn.v);X.NX(m,g+8,Math.round(255*R.v.Opct.v.val/100));
g+=10}return g};function DW(){}DW.GT=function(m){var g=new Uint8Array(m),L=[],K=[],r=[],R=0,Q=X.dn(g,R,4);
R+=4;var F=X.d(g,R);R+=4;var q=X.d(g,R);R+=4;while(R<g.length){var n=X.dn(g,R,4);R+=4;var W=X.dn(g,R,4);
R+=4;var z=X.d(g,R);R+=4;if(W=="tppa"){K=mQ.$m(g,R,z);R+=z}else if(W=="tpbd"){r=mQ.SL(g,R,z,1,1);R+=z}else if(W=="tptp"){var u=X.d(g,R);
R+=4;for(var N=0;N<u;N++){var b=X.rH(g,R);R+=6+b.length*2;R+=4;var B={};R+=aY.jE(g,B,R);L.push([b,B])}while((R&3)!=0)R++}else{console.log(g.slice(R-8,R+64));
console.log(X.dn(g,R-8,64));throw W}}return{Rd:r,jg:K,list:L}};DW.Ke=function(m,g){m[0]=g};DW.wX=function(m){var g=new qL,L=0;
X._p(g,L,"8BTP");L+=4;X.ut(g,L,3);L+=4;X.ut(g,L,1);L+=4;var K=[m.jg,m.Rd,m.list];for(var r=0;r<3;r++){if(K[r].length==0)continue;
X._p(g,L,"8BIM");L+=4;var R=["tppa","tpbd","tptp"][r];X._p(g,L,R);L+=4;var Q=L;L+=4;if(R=="tppa"){L=mQ.$p(g,L,m.jg)}else if(R=="tpbd"){L=mQ.Sl(g,L,m.Rd)}else if(R=="tptp"){X.ut(g,L,m.list.length);
L+=4;for(var F=0;F<m.list.length;F++){var q=m.list[F];X.FG(g,L,q[0]+"\0");L+=6+q[0].length*2;X.ut(g,L,16);
L+=4;L+=aY.vv(g,q[1],L)}}X.ut(g,Q,L-Q-4);while((L&3)!=0)L++;g._a(L,0)}return g.data.slice(0,L).buffer};
function qh(){}qh.GT=function(m,g){var L=new Uint8Array(m),K;if(X.d(L,0)==L.length)K="icc";else if(L[0]=="<".charCodeAt(0))K="look";
else if(X.JP(L,"LUT_3D_SIZE")!=-1)K="cube";else K="3DL";if(K!="icc"){var r=qh.ITC(L,K),R=qh.ITp(r[0],r[1]);
L=R}var Q=[];for(var F=0;F<L.length;F++)Q.push(L[F]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:g?g:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:Q}}]};
qh.wX=function(m){var g=m[0],L=new Uint8Array(g.profile.v);return L.buffer};qh.Ke=function(m,g){m.Nm.v=g};
qh.ITp=function(m,g){var L=new qL,K=128;L._a(0,128);var r=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var R=0;R<r.length;R++)L.data[R]=r[R];var Q=["desc","A2B0"],F=Q.length,q=128+4+F*12;X.ut(L,K,F);
K+=4;for(var n=0;n<F;n++){var W=Q[n];X._p(L,K,W);K+=4;X.ut(L,K,q);K+=4;var z=q;if(W=="desc"){X._p(L,z,"mluc");
z+=4;z+=4;X.ut(L,z,1);z+=4;X.ut(L,z,12);z+=4;X._p(L,z,"enUS");z+=4;var u="ICC by Photopea\0",N=u.length*2+2;
X.ut(L,z,N);z+=4;X.ut(L,z,28);z+=4;L._a(z,N);for(var R=0;R<u.length;R++)L.data[z+R*2+1]=u.charCodeAt(R);
z+=N}if(W=="A2B0"){X._p(L,z,"mAB ");z+=4;z+=4;L._a(z,4);L.data[z]=3;L.data[z+1]=3;z+=4;L._a(z,4*5);z+=4*3;
X.ut(L,z,z+8-q);z+=4;z+=4;L._a(z,20);L.data[z]=m;L.data[z+1]=m;L.data[z+2]=m;z+=16;L.data[z]=2;z+=4;
var b=m*m*m*3;L._a(z,b*2);for(var R=0;R<b;R++)X.HL(L.data,z+R*2,Math.max(0,Math.min(65535,Math.round(g[R]*65535))));
z+=b*2}var B=z-q;while((B&3)!=0)B++;X.ut(L,K,B);K+=4;q+=B}X.ut(L,0,q);return L.data.slice(0,q)};qh.ITC=function(m,g){g="LUTFormat"+g.toUpperCase();
var L=[],K=0,r=X.d_(m,0,m.length),R="";for(var Q=0;Q<m.length&&R=="";Q++){if(m[Q]==10)R="\n";else if(m[Q]==13){R="\r";
if(m[Q+1]==10)R+="\n"}}if(g=="LUTFormatCUBE"){var F=r.split(R);for(var Q=0;Q<F.length;Q++){if(F[Q]==""||F[Q][0]=="#")continue;
var q=F[Q].split(" "),n=q[0];if(n=="LUT_3D_SIZE"){K=parseInt(q[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(n)!=-1)continue;
L.push(parseFloat(q[0]),parseFloat(q[1]),parseFloat(q[2]))}L=qh.il(K,L)}else if(g=="LUTFormat3DL"){var F=r.split(R),W=1/4095;
for(var Q=0;Q<F.length;Q++){var z=F[Q];if(z==""||z=="3DMESH"||z.startsWith("Mesh")||z[0]=="#")continue;
var q=z.split(" "),n=q[0];if(K==0){K=q.length;continue}L.push(parseFloat(q[0])*W,parseFloat(q[1])*W,parseFloat(q[2])*W)}}else if(g=="LUTFormatLOOK"){var u=new DOMParser,N=u.parseFromString(r,"text/xml"),b=N.getElementsByTagName("LUT")[0],B=b.children[0].textContent;
K=parseInt(JSON.parse(B));var h=b.children[1].textContent;h=h.replace(/"/g,"").replace(/\s/g,"");var A=3*K*K*K,e=A*4,c=new Uint8Array(e);for(var Q=0;Q<e;Q++){var a=h.charCodeAt(Q*2),$=h.charCodeAt(Q*2+1),G=a<58?a-48:a-55,o=$<58?$-48:$-55;c[Q]=(G<<4)+o}for(var Q=0;Q<A;Q++)L.push(X.lv(c,Q<<2));L=qh.il(K,L)}else throw g;return[K,L]};qh.il=function(m,g){var L=[],K=m*m*m;for(var r=0;r<K;r++)L.push(0,0,0);for(var R=0;R<m;R++)for(var Q=0;Q<m;Q++)for(var F=0;F<m;F++){var r=3*(F+Q*m+R*m*m),q=3*(R+Q*m+F*m*m);L[q]=g[r];L[q+1]=g[r+1];L[q+2]=g[r+2]}return L};function aY(){}aY.jE=function(m,g,L,K,r){var R=L,Q;if(r==null)r=0;var F=X.d(m,L);if(F==0){Q="";L+=4}else{Q=X.rH(m,L);L+=4+2*Q.length+2}if(Q!="")g.__name=Q;g.classID=aY.ej(m,L);if(K)console.log("\t".repeat(r),"- reading descriptor",g.classID,L);L+=aY.eR(m,L);var q=X.dS(m,L);L+=4;for(var n=0;n<q;n++){var W=aY.ej(m,L);L+=aY.eR(m,L);var z=aY.io(m,L,K,r);g[W]=z;L+=z.size;delete z.size}return L-R};aY.vv=function(m,g,L,K){var r=L,R=g.__name;if(R==null)R="";R+="\0";X.FG(m,L,R);L+=4+2*R.length;aY.em(m,L,g.classID);L+=aY.eR(m.data,L);X.kv(m,L,Object.keys(g).length-1-(g.__name==null?0:1));L+=4;for(var Q in g){if(Q=="classID")continue;if(Q=="__name")continue;aY.em(m,L,Q);L+=aY.eR(m.data,L);L+=aY.ik(m,L,g[Q])}return L-r};aY.io=function(m,g,L,K){var r=g,R=X.dn(m,g,4);g+=4;var Q={size:0,t:R,v:null};if(L)console.log("\t".repeat(K),"reading key",R,r);switch(R){case"obj ":case"VlLs":Q.v=[];var F=X.d(m,g);g+=4;for(var q=0;q<F;q++){var n=aY.io(m,g,L,K+1);g+=n.size;delete n.size;Q.v.push(n)}break;case"UntF":Q.v={type:X.dn(m,g,4),val:X.GC(m,g+4)};g+=12;break;case"doub":Q.v=X.GC(m,g);g+=8;break;case"bool":Q.v=m[g]==1;g+=1;break;case"long":Q.v=X.dS(m,g);g+=4;break;case"comp":Q.v=X.dS(m,g+4);g+=8;break;case"Objc":Q.v={};var W=aY.jE(m,Q.v,g,L,K+1);g+=W;break;case"TEXT":var z=X.d(m,g);if(z==0){Q.v="";g+=4}else{Q.v=X.rH(m,g);g+=4+Q.v.length*2+2}break;case"enum":var u=aY.ej(m,g);g+=aY.eR(m,g);var N=aY.ej(m,g);g+=aY.eR(m,g);Q.v={};Q.v[u]=N;break;case"tdta":var b=X.dS(m,g);g+=4;Q.v=[];for(var q=0;q<b;q++)Q.v.push(m[g+q]);g+=b;break;case"ObAr":var B=X.d(m,g);g+=4;var h=X.rH(m,g);g+=4+2*h.length+2;if(h!="")throw h;var A=aY.ej(m,g);g+=4+Math.max(4,A.length);Q.v={classID:A,arr:[]};var e=X.d(m,g);g+=4;for(var q=0;q<e;q++){var A=aY.ej(m,g);g+=4+Math.max(4,A.length);var u=X.dn(m,g,4);g+=4;var c=X.dn(m,g,4);g+=4;var a={id:A,type:u,uID:c,arr:[]};Q.v.arr.push(a);var $=X.d(m,g,4);g+=4;for(var G=0;G<$;G++){var o=X.GC(m,g);g+=8;a.arr.push(o)}}break;case"Pth ":var H=g,b=X.d(m,g);g+=4;var f=X.dn(m,g,4);g+=4;var E=X.Bm(m,g);g+=4;var S=X.I_T(m,g);g+=4+S.length*2;Q.v={sig:f,pth:S};break;case"Clss":case"type":case"rele":var S=X.rH(m,g);g+=4+S.length*2+2;var V=aY.ej(m,g);g+=4+Math.max(4,V.length);Q.v={classID:V};if(S!="")Q.v.__name=S;if(R=="rele"){Q.v.val=X.dS(m,g);g+=4}break;case"prop":case"Enmr":case"indx":case"name":var J=aY.$h[R],S=X.rH(m,g);g+=4+S.length*2+2;if(S.length!=0){console.log(R,S);throw"e"}Q.v={};for(var q=0;q<J.length;q++){var V=aY.ej(m,g);g+=4+Math.max(4,V.length);Q.v[J[q]]=V}if(R=="name"){var S=X.rH(m,g);g+=4+S.length*2+2;Q.v.val=S}if(R=="indx"){Q.v.val=X.d(m,g);g+=4}break;case"alis":var b=X.d(m,g);g+=4;Q.v=X.dn(m,g,b);g+=b;break;default:{console.log("unknown oskey: "+R+", "+r);throw"e";return Q}}if(L){console.log("\t".repeat(K),Q.v);console.log("\t".repeat(K),"======",g)}Q.size=g-r;return Q};aY.$h={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};aY.ik=function(m,g,L){var K=g,r=L.t;L=L.v;X._p(m,g,r);g+=4;switch(r){case"obj ":case"VlLs":X.kv(m,g,L.length);g+=4;for(var R=0;R<L.length;R++){var Q=aY.ik(m,g,L[R]);g+=Q}break;case"UntF":X._p(m,g,L.type);X.Nx(m,g+4,L.val);g+=12;break;case"doub":X.Nx(m,g,L);g+=8;break;case"bool":X.gT(m,g,L?1:0,1);g+=1;break;case"long":X.kv(m,g,L);g+=4;break;case"comp":X.kv(m,g+4,L);g+=8;break;case"Objc":var Q=aY.vv(m,L,g);g+=Q;break;case"TEXT":X.FG(m,g,L+"\0");g+=4+L.length*2+2;break;case"enum":var F=Object.keys(L)[0],q=L[F];aY.em(m,g,F);g+=aY.eR(m.data,g);aY.em(m,g,q);g+=aY.eR(m.data,g);break;case"tdta":X.ut(m,g,L.length);g+=4;X.vn(m,g,L);g+=L.length;break;case"ObAr":X.ut(m,g,L.arr[0].arr.length);g+=4;X.FG(m,g,"\0");g+=6;aY.em(m,g,L.classID);g+=4+Math.max(4,L.classID.length);X.ut(m,g,L.arr.length);g+=4;for(var n=0;n<L.arr.length;n++){var W=L.arr[n];aY.em(m,g,W.id);g+=4+Math.max(4,W.id.length);X._p(m,g,W.type);g+=4;X._p(m,g,W.uID);g+=4;X.ut(m,g,W.arr.length);g+=4;for(var R=0;R<W.arr.length;R++){X.Nx(m,g,W.arr[R]);g+=8}}break;case"Pth ":var z=L.pth.length*2+4+8;X.ut(m,g,z);g+=4;X._p(m,g,L.sig);g+=4;X.ek(m,g,z);g+=4;X.I_$(m,g,L.pth);g+=L.pth.length*2+4;break;case"Clss":case"type":case"rele":var u=L.__name;if(u==null)u="";X.FG(m,g,u+"\0");g+=4+u.length*2+2;var N=L.classID;aY.em(m,g,N);g+=4+Math.max(4,N.length);if(r=="rele"){X.kv(m,g,L.val);g+=4}break;case"prop":case"Enmr":case"indx":case"name":var b=aY.$h[r];X.ut(m,g,1);g+=6;for(var n=0;n<b.length;n++){var N=L[b[n]];aY.em(m,g,N);g+=4+Math.max(4,N.length)}if(r=="name"){X.FG(m,g,L.val+"\0");g+=4+L.val.length*2+2}if(r=="indx"){X.ut(m,g,L.val);g+=4}break;case"alis":var z=L.length;X.ut(m,g,z);g+=4;X._p(m,g,L);g+=z;break;default:console.log("unknown oskey: "+r);g=K;break}return g-K};aY.ej=function(m,g){var L=X.dS(m,g);if(L>1e3)throw"e";if(L==0)L=4;return X.dn(m,g+4,L).trim()};aY.eR=function(m,g){var L=X.dS(m,g);return L==0?8:4+L};aY.em=function(m,g,L){var K="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),r=4<L.length||K.indexOf(L)!=-1;X.kv(m,g,r?L.length:0);X._p(m,g+4,L);if(L.length<4&&!r){var R="";for(var Q=L.length;Q<4;Q++)R+=" ";X._p(m,g+4+L.length,R)}};aY.ITh=function(m){var g={};for(var L in m){if(L=="classID")g[L]=m[L];else if(L=="__name")g[L]=m[L];else g[L]=aY.iO(m[L])}return g};aY.iO=function(m){if(m.Dn=="Objc")return aY.ITh(m.v);else if(m.Dn=="VlLs"){var g=[];for(var L=0;L<m.v.length;L++)g.push(aY.iO(m.v[L]));return g}else if(m.Dn=="UntF")return m.v.val;else return m.v};function mj(){}mj.i_=function(m,g,L,K,r,R){while(g<L){var Q=X.dn(m,g,4);g+=4;if(Q!="8BIM"&&Q!="8B64"){console.log("layer information signature error! "+Q,"PSB = "+r);alert("Error in PSD file: wrong signature.");return L}var F=X.dn(m,g,4);g+=4;var q=X.dS(m,g);g+=4;if(r&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(F)!=-1){q=q<<32|X.dS(m,g);g+=4}if(r&&["pths"].indexOf(F)!=-1){q=q<<32|X.dS(m,g);g+=4}var n=["lrFX","PlLd"];if(n.indexOf(F)!=-1){if(q%4!=0)q+=4-q%4;g+=q;continue}switch(F){case"iOpa":K[F]=m[g];break;case"brst":K[F]=[1,1,1];for(var W=0;W<q;W+=4)K[F][X.d(m,g+W)]=0;break;case"knko":K[F]=m[g];break;case"infx":K[F]=m[g];break;case"clbl":K[F]=m[g];break;case"lmgm":K[F]=m[g];break;case"vmgm":K[F]=m[g];break;case"lyid":K[F]=X.d(m,g);break;case"lsct":K[F]={type:X.d(m,g)};if(q>=12)K[F].TZ=X.dn(m,g+8,4);break;case"lsdk":K.lsct={type:X.d(m,g)};break;case"lyvr":K[F]=X.d(m,g);break;case"lnsr":var z={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};K[F]=X.dn(m,g,4);break;case"lspf":K[F]=X.d(m,g);break;case"lclr":K[F]=X.Di(m,g);break;case"luni":K[F]=X.zr(m,g);break;case"fxrp":K[F]=new jf(X.GC(m,g),X.GC(m,g+8));break;case"artb":case"artd":K[F]={};aY.jE(m,K[F],g+4);break;case"SoCo":K[F]={};aY.jE(m,K[F],g+4);break;case"GdFl":K[F]={};aY.jE(m,K[F],g+4);mj.Jr(K[F],F);break;case"PtFl":K[F]={};aY.jE(m,K[F],g+4);mj.Jr(K[F],F);break;case"CgEd":var u=K.brit=aN.Rw("brit"),N={};aY.jE(m,N,g+4);u.Brgh.v=N.Brgh?N.Brgh.v:0;u.Cntr.v=N.Cntr?N.Cntr.v:0;u.useLegacy.v=N.useLegacy?N.useLegacy.v:0;break;case"brit":if(K.brit==null){var u=K.brit=aN.Rw("brit"),N={};u.Brgh.v=X.cL(m,g);u.Cntr.v=X.cL(m,g+2);u.useLegacy.v=!1}break;case"levl":var b=m.buffer.slice(g,g+q);K[F]=qC.GT(b);break;case"curv":K[F]=jW.Qi(m,g,q);break;case"expA":var B=X.Di(m,g),h=K[F]=aN.Rw("expA");h.Exps.v=X.tr(m,g+2);h.Ofst.v=X.tr(m,g+6);h.gammaCorrection.v=X.tr(m,g+10);break;case"vibA":K[F]={};aY.jE(m,K[F],g+4);break;case"hue2":K[F]=In.Qi(m,g,q);break;case"blnc":var h=K[F]=aN.Rw(F);h.PrsL.v=m[g+18]==1;var A=["ShdL","MdtL","HghL"];for(var W=0;W<3;W++)for(var e=0;e<3;e++)h[A[W]].v[e].v=X.cL(m,g+W*6+e*2);break;case"blwh":var c={};aY.jE(m,c,g+4);var h=aN.Rw(F),a="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var W=0;W<a.length;W++){h[a[W]]=c[a[W]];delete c[a[W]]}K[F]=h;break;case"phfl":var h=K[F]=aN.Rw(F),$=h.Clr.v,B=X.Di(m,g);if(B==3){var G=[X.d(m,g+2),X.d(m,g+6),X.d(m,g+10)],o=32768,H=I.tp(G[0]/o,G[1]/o,G[2]/o);$.Lmnc.v=H.dU;$.A.v=H.Wh;$.B.v=H.R}if(B==2){var f=X.Di(m,g+2);if(f!=7)throw"e";$.Lmnc.v=X.cL(m,g+4)/100;$.A.v=X.cL(m,g+6)/100;$.B.v=X.cL(m,g+8)/100}var E=g+2+(B==3?12:10);h.Dnst.v=X.d(m,E);E+=4;h.PrsL.v=m[E]==1;break;case"mixr":var S={ZV:X.Di(m,g+2)==1,U:[]};for(var W=0;W<20;W++)S.U.push(X.cL(m,g+4+W*2));K[F]=qE.Iq$(S);break;case"clrL":case"rplc":K[F]={};aY.jE(m,K[F],g+6);break;case"nvrt":K[F]={};break;case"post":K[F]=aN.Rw("post");K[F].Lvls.v=X.Di(m,g);break;case"thrs":K[F]=aN.Rw("thrs");K[F].Lvl.v=X.Di(m,g);break;case"grdm":var V={rev:m[g+2]==1,IwA:m[g+3]==1},J=g+4,U=X.zr(m,J);J+=4+U.length*2;var j=mt.iJ(m,J,U),i=j[0];J=j[1];var k=X.Di(m,J);J+=2;i.Intr.v=X.Di(m,J);J+=2;var P=X.Di(m,J);J+=2;V.mode=X.Di(m,J);J+=2;V.pe=X.d(m,J);J+=4;V.Iwd=X.Di(m,J)==1;J+=2;V.Iwt=X.Di(m,J)==1;J+=2;V.ILm=X.d(m,J);J+=4;V.ILk=X.Di(m,J);J+=2;V.AY=[];for(var W=0;W<4;W++)V.AY.push(X.Di(m,J+W*2));J+=8;V.As=[];for(var W=0;W<4;W++)V.As.push(X.Di(m,J+W*2));J+=8;var w=X.Di(m,J);J+=2;var d=aN.Rw("grdm");d.Rvrs.v=V.rev;d.Grad.v=i;K[F]=d;break;case"selc":K[F]=Rb.Qi(m,g,q);break;case"vmsk":case"vsms":var T=K.vmsk=new x.Lb,y=X.dS(m,g+4),D=(y>>0&1)==1;T._m=(y>>1&1)==0;T.isEnabled=(y>>2&1)==0;T.W=qs.$n(m,g+8,q-8,R.j,R.F);break;case"shmd":K[F]={};var s=X.d(m,g),E=g+4;for(var W=0;W<s;W++){var Q=X.dn(m,E,4);E+=4;var Z=X.dn(m,E,4);E+=4;E+=4;var aQ=X.d(m,E);E+=4;if(Z=="cust"||Z=="cmls"||Z=="extn"||Z=="mlst"){var aI=X.d(m,E);if(aI!=16)E+=4;var c={};aY.jE(m,c,E+4,!1);K[F][Z]=c;if(Z=="cmls")aJ.va.IRN(K[F][Z])}else{console.log("unknown shmd key: "+Z+", size: "+aQ)}E+=aQ}break;case"shpa":var B=X.d(m,g),aq=X.d(m,g+4);if(aq!=0)console.log("some patterns present!");break;case"TySh":var aa=K[F]={},B=X.Di(m,g);aa.f=X.kV(m,g+2);var aD=X.Di(m,g+2+48);aa.no={};var _=aY.jE(m,aa.no,g+56),M=aj.IlB();for(var jt in M)if(aa.no[jt]==null)aa.no[jt]=M[jt];aa.nY={};var aR=aY.jE(m,aa.nY,g+56+_+6);aa.pI=X.IeW(m,g+56+_+6+aR);aa.m_=mu.GT(aa.no.EngineData.v);aj.IkG(aa.m_.EngineDict.StyleRun.RunArray);if(aa.m_.ResourceDict==null)aa.m_.ResourceDict=JSON.parse(JSON.stringify(aa.m_.DocumentResources));delete aa.no.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var aL=X.d(m,g),aw=X.d(m,g+4);K.lmfx={};var _=aY.jE(m,K.lmfx,g+8);mj.$V(K.lmfx);break;case"FMsk":K[F]=X.vi(m,g,q);break;case"Txt2":K[F]={};K[F].raw=X.vi(m,g,q);K[F].Ae=Qg.GT(K[F].raw);break;case"Patt":K[F]=mQ.$m(m,g,q);break;case"SoLd":var ap=X.dn(m,g,4),al=X.d(m,g+4),ak=X.d(m,g+8);K[F]={};var ao=aY.jE(m,K[F],g+12);if(K[F].nonAffineTransform==null)K[F].nonAffineTransform=JSON.parse(JSON.stringify(K[F].Trnf));var aZ=K[F].filterFX;if(aZ){var aS=aZ.v.filterFXList.v;for(var W=0;W<aS.length;W++){var an=aS[W].v,IU=an.filterID;if(IU&&IU.v==993)an.filterID.v=689;if(IU&&IU.v==1031)an.filterID.v=693;if(IU&&IU.v==902)an.filterID.v=898}}break;case"vstk":case"pths":var al=X.d(m,g);K[F]={};var ao=aY.jE(m,K[F],g+4);break;case"vscg":var Z=X.dn(m,g,4),al=X.d(m,g+4);K[Z]={};var ao=aY.jE(m,K[Z],g+8);mj.Jr(K[Z],Z);break;case"vogk":var a_=X.d(m,g),al=X.d(m,g+4);K[F]={};var ao=aY.jE(m,K[F],g+8);K[F]=K[F].keyDescriptorList.v;for(var W=0;W<K[F].length;W++){}break;case"lnk2":case"lnkD__":case"lnk3__":K[F]=[];var J=g;while(J<g+q){var aG=new x.DY;K[F].push(aG);var P=X.zs(m,J);J+=8;var aM=J;aG.type=X.dn(m,J,4);J+=4;if(aG.type!="liFD"){alert("Unknown Linked Layer type: "+aG.type);break;throw aG.type}aG.Ts=X.d(m,J);J+=4;var av=X.vm(m,J);J+=1+av.KW.length;aG.aP=av.KW;aG.w_=X.rH(m,J);J+=4+aG.w_.length*2+2;aG.co=X.dn(m,J,4);J+=4;aG.AZ=X.dn(m,J,4);J+=4;var aA=X.zs(m,J);J+=8;aG.open=m[J];J+=1;if(aG.open!=0){var IL={},_=aY.jE(m,IL,J+4);if(_%4!=0)_+=4-_%4;console.log(IL);J+=_+4}aG.open=0;aG.raw=X.vi(m,J,aA);J=aM+P;if(P%4!=0)J+=4-P%4}break;case"FEid":var J=g;K[F]=[];var aB=J+q,B=X.d(m,J);J+=4;while(J<aB){J+=4;var P=X.d(m,J);J+=4;var j={};K[F].push(j);j.id=X.vm(m,J).KW;J+=j.id.length+1;var B=X.d(m,J);J+=4;J+=4;var aV=X.d(m,J);J+=4;j.rect=X.cR(m,J);J+=16;var Ia=X.d(m,J);J+=4;var aK=X.d(m,J);J+=4;var aE=new I.ha(0);for(var W=0;W<aK+2;W++){var Ij=X.d(m,J);J+=4;if(Ij!=0){J+=4;var as=X.d(m,J),IQ=null;J+=4;if(W<3||W==25)IQ=Ql.JK(!0,Ia,m,j.rect.j,j.rect.F,J,as);if(W==0)aE.u=IQ;if(W==1)aE.S=IQ;if(W==2)aE.R=IQ;if(W==25)aE.Wh=IQ;J+=as}}j.buffer=I.m(j.rect.c()*4);I.JL(aE,j.buffer);I.Xo(j);var Ih=m[J];J++;if(Ih!=0){j.s=new x.Ed;j.s.rect=X.cR(m,J);J+=16;J+=4;var Rp=X.d(m,J);J+=4;j.s.channel=Ql.JK(!0,Ia,m,j.s.rect.j,j.s.rect.F,J,Rp);j.s.color=255;j.s.qV();J+=Rp}if(P%4!=0)J+=4-P%4}break;case"Lr16":RW.CB(R,m,g);break;default:console.log("unknown layer tag: "+F+", size: "+q);break}var ag="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(ag.indexOf(F)==-1)if(q%4!=0)console.log("size not multiple of 4!!!",F);if(F!="luni"&&F!="TySh"&&F!="tySh"&&F!="lfx2")if(q%4!=0)q+=4-q%4;g+=q}var IE=[];for(var W=0;W<IE.length;W++)delete K[IE[W]];return g};mj.ie=function(m,g,L,K){for(var r in L)if(L[r]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+r+"\" tag was present with a null value.");
delete L[r]}for(var r in L){X._p(m,g,"8BIM");g+=4;var R=g,Q=0;X._p(m,g,r);g+=4;X.kv(m,g,0);g+=4;switch(r){case"iOpa":X.gT(m,g,L[r],1);
Q=4;break;case"brst":Q=0;for(var F=0;F<3;F++)if(L[r][F]==0){X.ut(m,g+Q,F);Q+=4}break;case"knko":X.gT(m,g,L[r],1);
Q=4;break;case"infx":X.gT(m,g,L[r],1);Q=4;break;case"clbl":X.gT(m,g,L[r],1);Q=4;break;case"lmgm":X.gT(m,g,L[r],1);
Q=4;break;case"vmgm":X.gT(m,g,L[r],1);Q=4;break;case"lyid":X.ut(m,g,L[r]);Q=4;break;case"lsct":X.ut(m,g,L[r].type);
Q=4;if(L[r].TZ){X._p(m,g+4,"8BIM");X._p(m,g+8,L[r].TZ);Q=12}break;case"lyvr":X.ut(m,g,L[r]);Q=4;break;
case"lnsr":X._p(m,g,L[r]);Q=4;break;case"lspf":X.ut(m,g,L[r]);Q=4;break;case"lclr":X.NX(m,g,L[r]);Q=8;
break;case"luni":X.FG(m,g,L[r]);Q=4+2*L[r].length;break;case"fxrp":X.Nx(m,g,L[r].x);X.Nx(m,g+8,L[r].y);
Q=16;break;case"artb":case"artd":X.ut(m,g,16);Q=aY.vv(m,L[r],g+4)+4;break;case"SoCo":X.ut(m,g,16);Q=aY.vv(m,L[r],g+4)+4;
break;case"GdFl":X.ut(m,g,16);Q=aY.vv(m,L[r],g+4)+4;break;case"PtFl":X.ut(m,g,16);Q=aY.vv(m,L[r],g+4)+4;
break;case"CgEd":var q={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},n=q,W=L[r];
n.Brgh.v=W.Brgh.v;n.Cntr.v=W.Cntr.v;n.useLegacy.v=W.useLegacy.v;X.ut(m,g,16);Q=aY.vv(m,q,g+4)+4;break;
case"brit":m._a(g,8);Q=8;break;case"levl":var z=new qL;Q=qC.wX(z,L[r]);X.vn(m,g,z.data);break;case"curv":Q=jW.Qk(m,g,L[r]);
break;case"expA":Q=14;m._a(g,14);X.HL(m.data,g,1);X.eh(m.data,g+2,L[r].Exps.v);X.eh(m.data,g+6,L[r].Ofst.v);
X.eh(m.data,g+10,L[r].gammaCorrection.v);break;case"vibA":X.ut(m,g,16);Q=aY.vv(m,L[r],g+4)+4;break;case"hue2":Q=In.Qk(m,g,L[r]);
break;case"blnc":Q=19;m._a(g,Q);var u=["ShdL","MdtL","HghL"];for(var F=0;F<3;F++){var N=L[r][u[F]].v;
for(var b=0;b<3;b++)N.push(X.$s(m.data,g+F*6+b*2,N[b].v))}m.data[g+18]=L[r].PrsL.v?1:0;break;case"blwh":var q={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},B="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var F=0;F<B.length;F++){q[B[F]]=L[r][B[F]]}X.ut(m,g,16);Q=aY.vv(m,q,g+4)+4;break;case"phfl":X.NX(m,g,2);
var h=L[r].Clr.v;X.NX(m,g+2,7);X.NX(m,g+4,Math.round(h.Lmnc.v*100));X.NX(m,g+6,Math.round(h.A.v*100));
X.NX(m,g+8,Math.round(h.B.v*100));X.NX(m,g+10,0);var A=g+2+10;m._a(A,5);X.ME(m.data,A,L[r].Dnst.v);A+=4;
m.data[A]=L[r].PrsL.v?1:0;A++;Q=A-g;break;case"mixr":Q=44;m._a(g,Q);var e=qE.u$(L[r]);X.HL(m.data,g,1);
X.HL(m.data,g+2,e.ZV?1:0);for(var F=0;F<20;F++)X.$s(m.data,g+4+F*2,e.U[F]);break;case"clrL":case"rplc":X.NX(m,g,1);
X.ut(m,g+2,16);Q=aY.vv(m,L[r],g+6)+6;break;case"nvrt":Q=0;break;case"post":X.NX(m,g,L[r].Lvls.v);Q=2;
break;case"thrs":X.NX(m,g,L[r].Lvl.v);Q=2;break;case"grdm":var c={rev:L[r].Rvrs.v,IwA:!1,mode:0,pe:867527939,Iwd:!1,Iwt:!0,ILm:2048,ILk:3,AY:[0,0,0,0],As:[32768,32768,32768,32768]},a=L[r].Grad.v;
m._a(g,4);X.HL(m.data,g,1);m.data[g+2]=c.rev?1:0;m.data[g+3]=c.IwA?1:0;var $=g+4;X.FG(m,$,a.Nm.v);$+=4+a.Nm.v.length*2;
$=mt.ITj(m,$,a);X.NX(m,$,2);$+=2;X.NX(m,$,a.Intr.v);$+=2;X.NX(m,$,32);$+=2;X.NX(m,$,c.mode);$+=2;X.ut(m,$,c.pe);
$+=4;X.NX(m,$,c.Iwd?1:0);$+=2;X.NX(m,$,c.Iwt?1:0);$+=2;X.ut(m,$,c.ILm);$+=4;X.NX(m,$,c.ILk);$+=2;for(var F=0;
F<4;F++)X.NX(m,$+F*2,c.AY[F]);$+=8;for(var F=0;F<4;F++)X.NX(m,$+F*2,c.As[F]);$+=8;$+=2;Q=$-g;break;case"selc":Q=Rb.Qk(m,g,L[r]);
break;case"FMsk":X.vn(m,g,L[r]);Q=L[r].length;break;case"Txt2":var G=new qL,o=Qg.Sk(L[r].Ae,G),H=I.m(o,!0);
for(var F=0;F<o;F++)H[F]=G.data[F];X.vn(m,g,H);Q=H.length;break;case"vmsk":var f=L[r],E=0;X.ut(m,g,3);
if(!f._m)E+=1<<1;if(!f.isEnabled)E+=1<<2;X.ut(m,g+4,E);Q=8;var S=f.W.length;m._a(g+8,S*26);qs.JV(m.data,g+8,f.W,K.j,K.F);
Q+=S*26;break;case"shmd":X.ut(m,g,Object.keys(L[r]).length);var A=g+4;for(var V in L[r]){X._p(m,A,"8BIM");
A+=4;X._p(m,A,V);A+=4;X.ut(m,A,0);A+=4;X.ut(m,A,0);A+=4;X.ut(m,A,16);A+=4;var J=aY.vv(m,L[r][V],A);if(J%4!=0)J+=4-J%4;
X.ut(m,A-8,J+4);A+=J}Q=A-g;break;case"TySh":var A=g;X.ra(m,A,1);A+=2;var U=L[r],G=new qL;U.m_.DocumentResources=JSON.parse(JSON.stringify(U.m_.ResourceDict));
var o=mu.Sk(U.m_,G),H=I.m(o,!0);for(var F=0;F<o;F++)H[F]=G.data[F];U.no.EngineData={t:"tdta",v:H};var j=U.m_.EngineDict.Editor.Text;
U.no.Txt.v=j.substring(0,j.length-1);X.IeH(m,A,U.f);A+=48;X.ra(m,A,50);A+=2;X.ut(m,A,16);A+=4;A+=aY.vv(m,U.no,A);
X.ra(m,A,1);A+=2;X.ut(m,A,16);A+=4;A+=aY.vv(m,U.nY,A);X.Ieb(m,A,U.pI);A+=16;Q=A-g;break;case"lmfx":X.ut(m,g,0);
X.ut(m,g+4,16);var q=JSON.parse(JSON.stringify(L[r])),i=!1;mj.J$(q);for(var F=0;F<aU.JS.length;F++)if(q[aU.JS[F]]!=null)i=!0;
X._p(m,R,i?"lmfx":"lfx2");Q=aY.vv(m,q,g+8)+8;break;case"Patt":var A=mQ.$p(m,g,L[r]);Q=A-g;break;case"SoLd":X._p(m,g,"soLD");
X.ut(m,g+4,4);X.ut(m,g+8,16);Q=aY.vv(m,L[r],g+12)+12;break;case"vstk":case"pths":X.ut(m,g,16);Q=aY.vv(m,L[r],g+4)+4;
break;case"vscg__":X._p(m,g,L[r].key);X.ut(m,g+4,16);Q=aY.vv(m,L[r].U,g+8)+8;break;case"vogk":X.ut(m,g,1);
X.ut(m,g+4,16);I.xV.IMh(L[r]);for(var F=0;F<L[r].length;F++){var k=L[r][F].v.keyOriginResolution;if(k)k.v=K.Jt}var P={classID:"null",keyDescriptorList:{t:"VlLs",v:L[r]}};
Q=aY.vv(m,P,g+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var $=g;for(var F=0;F<L[r].length;F++){var w=L[r][F],d=$;
X.lC(m,$,0);$+=8;X._p(m,$,w.type);$+=4;X.ut(m,$,w.Ts);$+=4;m._a($,1);m.data[$]=w.aP.length;$++;X._p(m,$,w.aP);
$+=w.aP.length;X.FG(m,$,w.w_+"\0");$+=4+w.w_.length*2+2;X._p(m,$,w.co);$+=4;X._p(m,$,w.AZ);$+=4;X.lC(m,$,w.raw.length);
$+=8;m._a($,1);m.data[$]=w.open;$++;X.vn(m,$,w.raw);$+=w.raw.length;X.ut(m,$,1);$+=4;$+=11;var T=$-d-8;
X.lC(m,d,T);if(T%4!=0){m._a($,4-T%4);$+=4-T%4}}Q=$-g;break;case"FEid":var $=g;X.ut(m,$,3);$+=4;for(var y=0;
y<L[r].length;y++){var D=L[r][y];$+=4;var s=$;$+=4;X.jd(m,$,D.id);$+=D.id.length+1;X.ut(m,$,1);$+=4;
$+=4;var Z=$;$+=4;X.tc(m,$,D.rect);$+=16;X.ut(m,$,8);$+=4;X.ut(m,$,24);$+=4;var aQ=new I.ha(D.rect.c());
I.cd(D.buffer,aQ);for(var F=0;F<24+2;F++){var aI=null;if(F==0)aI=aQ.u;if(F==1)aI=aQ.S;if(F==2)aI=aQ.R;
if(F==25)aI=aQ.Wh;X.ut(m,$,aI!=null?1:0);$+=4;if(aI!=null){$+=4;var aq=$;$+=4;m._a($,D.rect.c()+2);$=Ql.JA(aI,m.data,D.rect.j,D.rect.F,$,3);
X.ut(m,aq,$-(aq+4))}}X.ut(m,Z,$-(Z+4));m._a($,1);m.data[$]=D.s?1:0;$++;if(D.s!=null){var aa=D.s.rect,aD=D.s.channel;
aa=D.rect;aD=I.m(aa.c());I.set(aD,D.s.color);I.Cp(D.s.channel,D.s.rect,aD,aa);X.tc(m,$,aa);$+=16;$+=4;
var _=$;$+=4;m._a($,aa.c()+2);$=Ql.JA(aD,m.data,aa.j,aa.F,$,3);X.ut(m,_,$-(_+4))}var T=$-(s+4);X.ut(m,s,T);
if(T%4!=0)$+=4-T%4}Q=$-g;break;default:console.log("unknown layer tag: "+r+", size: "+Q);g-=12;continue}var M=["Txt2","artd","extd","luni","pths"];
if(M.indexOf(r)==-1)if(Q%4!=0)Q+=4-Q%4;X.kv(m,g-4,Q);if(r!="luni"&&r!="TySh")if(Q%4!=0)Q+=4-Q%4;g+=Q}return g};
mj.$V=function(m){for(var g=0;g<aU.order.length;g++){var L=aU.order[g],K=aU.JS[g];if(m[K]==null)m[K]={t:"VlLs",v:[]};
if(m[L]!=null){m[K].v.push(m[L]);delete m[L]}var r=[];for(var R=0;R<m[K].v.length;R++){var Q=m[K].v[R];
if(Q.v.present==null||Q.v.present.v==!0)r.push(Q)}m[K].v=r}};mj.J$=function(m){for(var g=0;g<aU.order.length;
g++){var L=aU.order[g],K=aU.JS[g],r=m[K].v.length;if(r==0){delete m[K];continue}if(r==1){m[L]=m[K].v[0];
delete m[K];continue}}};mj.Jr=function(m,g){if(g=="GdFl"){if(m.Angl==null)m.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(m.Algn==null)m.Algn={v:!0,t:"bool"};if(m.Scl==null)m.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(m.Ofst==null)m.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(m.Rvrs==null)m.Rvrs={v:!1,t:"bool"};if(m.Dthr==null)m.Dthr={v:!1,t:"bool"}}if(g=="PtFl"){if(m.Algn==null)m.Algn={v:!0,t:"bool"};
if(m.Scl==null)m.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(m.phase==null)m.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
mj.clone=function(m,g){var L={};if(m=="TySh"){L.f=g.f.clone();L.no=JSON.parse(JSON.stringify(g.no));
L.nY=JSON.parse(JSON.stringify(g.nY));L.pI=g.pI.clone();L.m_=JSON.parse(JSON.stringify(g.m_));if(g.add)L.add={vmsk:g.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(g.add.vogk))};
return L}else if(m=="fxrp")return g.clone();else if(m=="vmsk")return g.clone();else return JSON.parse(JSON.stringify(g))};
function Rh(m,g){}Rh.GT=function(m,g,L,K){K=Rh.IST(m,g,L,K);return K};Rh.Sk=function(m,g,L,K,r){K=Rh.ISX(m,g,L,K,r);
return K};Rh.IST=function(m,g,L,K){var r=K;m.rect=X.cR(L,K);K+=16;var R=X.Di(L,K);K+=2;m.So=[];var Q=g.Pw;
for(var F=0;F<R;F++){m.So[F]={id:X.cL(L,K),length:(Q?X.zs:X.d)(L,K+2)};K+=Q?10:6}var q=X.dn(L,K,4);K+=4;
if(q!="8BIM"){console.log("Invalid Blend mode signature: "+q);alert("Error in Photoshop file: wrong signature.");
throw"e"}m.TZ=X.dn(L,K,4);K+=4;m.opacity=L[K];K+=1;m.OG=L[K]==1;K+=1;m.$J=L[K];K+=1;if(L[K]!=0)console.log("error in filler!");
K+=1;var n=X.d(L,K);K+=4;var W=K;K=Rh.ISK(m,L,K);K=Rh.ISY(m,L,K);var z=X.vm(L,K);m.name=z.KW;K+=z.length;
if(z.length%4!=0)K+=4-z.length%4;K=mj.i_(L,K,W+n,m.add,Q,g);if(m.Az){var u=m.Az;if(m.WN()){m.WN().kc=u[0];
m.WN().JE=u[1]}if(m.add.vmsk){m.add.vmsk.kc=u[2];m.add.vmsk.JE=u[3]}}if(m.add.lsct){if(m.add.lsct.TZ)m.TZ=m.add.lsct.TZ;
m.add.lsct=m.add.lsct.type}return K};Rh.ISX=function(m,g,L,K,r){var R=K;X.tc(L,K,m.rect);K+=16;var Q=m.IJN();
X.NX(L,K,Q.length);K+=2;r.push(K);for(var F=0;F<Q.length;F++){X.ra(L,K,Q[F]);X.ut(L,K+2,0);K+=6}X._p(L,K,"8BIM");
K+=4;X._p(L,K,m.TZ);K+=4;X.gT(L,K,m.opacity,1);K+=1;X.gT(L,K,m.OG?1:0,1);K+=1;X.gT(L,K,m.$J,1);K+=1;
X.gT(L,K,0,1);K+=1;var q=K;X.ut(L,K,0);K+=4;var n=K;K=Rh.ISu(m,L,K);K=Rh.ISy(m,L,K);var W=X.jd(L,K,m.name.slice(0,255));
K+=W;if(W%4!=0)K+=4-W%4;if(m.add.lsct){m.add.lsct={type:m.add.lsct};if(m.TZ=="pass"){m.add.lsct.TZ="pass";
m.TZ="norm"}}if(m.TZ=="pass")m.add.lsct={type:m.add.lsct,TZ:"pass"};if(m.add.brit)m.add.CgEd=m.add.brit;
K=mj.ie(L,K,m.add,g);delete m.add.CgEd;if(m.add.lsct){if(m.add.lsct.TZ)m.TZ=m.add.lsct.TZ;m.add.lsct=m.add.lsct.type}var z=K-n;
X.ut(L,q,z);return K};Rh.ISK=function(m,g,L){var K=X.d(g,L);L+=4;if(K==0)return L;var r=L;m.s=new x.Ed;
m.s.rect=X.cR(g,L);L+=16;m.s.color=g[L];L+=1;var R=Rh.iZ(m.s,g,L);L+=1;if(R){var Q=!1,q=255,n=0,W=255,z=0;
for(var F=0;F<m.So.length;F++)if(m.So[F].id==-3)Q=!0;if(Q){m.Th=Rh.iC(g,L);L+=18}var u=L,N=g[L];L++;
if(N>>0&1){q=g[L];L++}if(N>>1&1){n=X.GC(g,L);L+=8}if(N>>2&1){W=g[L];L++}if(N>>3&1){z=X.GC(g,L);L+=8}if((L-u&1)==1)L++;
m.Az=[q,n,W,z]}else{if(K==20)L+=2;else{m.Th=Rh.iC(g,L);L+=18}}return r+K};Rh.ISu=function(m,g,L){X.ut(g,L,0);
L+=4;if(m.s==null)return L;var K=L,r=!0;X.ut(g,L,0);X.tc(g,L,m.s.rect);L+=16;X.gT(g,L,m.s.color);L+=1;
Rh.iE(m.s,g,L,r);L+=1;if(r){if(m.Th){Rh.ISW(g,L,m.Th);L+=18}X.gT(g,L,15);L+=1;var R=m.WN(),Q=m.add.vmsk;
X.gT(g,L,R?R.kc:255);L+=1;X.Nx(g,L,R?R.JE:0);L+=8;X.gT(g,L,Q?Q.kc:255);L+=1;X.Nx(g,L,Q?Q.JE:0);L+=8;
L++;X.ut(g,K-4,L-K)}return L};Rh.iC=function(m,g){var L=new x.Ed;Rh.iZ(L,m,g);g+=1;L.color=m[g];g+=1;
L.rect=X.cR(m,g);g+=16;return L};Rh.ISW=function(m,g,L){Rh.iE(L,m,g,!1);g+=1;X.gT(m,g,L.color);g+=1;
X.tc(m,g,L.rect);g+=16};Rh.iZ=function(m,g,L){var K=g[L];m._m=(K>>0&1)==0;m.isEnabled=(K>>1&1)==0;m.mH=(K>>3&1)==1;
return K>>4&1};Rh.iE=function(m,g,L,K){var r=0;if(!m._m)r+=1<<0;if(!m.isEnabled)r+=1<<1;if(m.mH)r+=1<<3;
if(K)r+=1<<4;X.gT(g,L,r)};Rh.ISY=function(m,g,L){var K=X.d(g,L);L+=4;if(K==0)return L;if(K!=5*8)console.log("unexpected Layer Blending Ranges content, size:",K);
for(var r=0;r<K;r++)m.PT[r]=g[L+r];return L+40};Rh.ISy=function(m,g,L){X.ut(g,L,m.PT.length);L+=4;g._a(L,40);
for(var K=0;K<40;K++){g.data[L+K]=m.PT[K]}return L+40};function Ql(){}Ql.GT=function(m,g,L,K){K=Ql.IiJ(g.Pw,g.ym,g.Sn,m,L,K);
return K};Ql.wX=function(m,g,L,K,r){L=Ql.IiV(m,g,L,K,r);return L};Ql.IiJ=function(m,g,L,K,r,R){var Q=K.So,F={},q=R;
for(var n=0;n<Q.length;n++){var W=Q[n],z=W.id,u=W.length,N;if(z==-3)N=K.Th.rect;else if(z==-2)N=K.s.rect;
else N=K.rect;var b=Ql.JK(m,g,r,N.j,N.F,R,u);R+=u;if(z==-3)K.Th.channel=b;else if(z==-2)K.s.channel=b;
else F["c"+z]=b}var B=new I.ha(0);B.Wh=null;if(L==3){B.u=F.c0;B.S=F.c1;B.R=F.c2;B.Wh=F["c-1"]}else if(L==1){B.u=F.c0;
B.S=F.c0;B.R=F.c0;B.Wh=F["c-1"]}else if(L==4){var h=F.c0,A=F.c1,e=F.c2,c=F.c3,a=h.length,$=1/255;for(var n=0;
n<a;n++){var G=h[n],o=A[n],H=e[n],f=c[n]*$;h[n]=Math.round(G*f);A[n]=Math.round((.2*G+.8*o)*f);e[n]=Math.round((.2*o+.8*H)*f)}B.u=h;
B.S=A;B.R=e;B.Wh=F["c-1"];console.log("converting from CMYK to RGB")}if(B.u==null)B.u=I.m(0);if(B.Wh==null&&B.u!=null){B.Wh=I.clone(B.u);
I.set(B.Wh,255)}if(B.S==null)B.S=B.u.slice(0);if(B.R==null)B.R=B.u.slice(0);K.buffer=I.m(Math.max(0,K.rect.c()*4));
I.JL(B,K.buffer);return R};Ql.IiV=function(m,g,L,K,r){var R=m.IJN(),Q=new I.ha(m.rect.c());I.cd(m.buffer,Q);
for(var F=0;F<R.length;F++){var q=R[F],n,W;if(q==-3)n=m.Th.rect;else if(q==-2)n=m.s.rect;else n=m.rect;
if(q==-3)W=m.Th.channel;if(q==-2)W=m.s.channel;if(q==-1)W=Q.Wh;if(q==0)W=Q.u;if(q==1)W=Q.S;if(q==2)W=Q.R;
g._a(L,n.c()*3+4);var z=L;L=Ql.JA(W,g.data,n.j,n.F,L,r[1]?3:1);var u=L-z;if(u%2!=0){u+=u%2;L++}X.ME(g.data,K+F*6+2,u)}return L};
Ql.JK=function(m,g,L,K,r,R,Q){var F=X.Di(L,R);R+=2;return Ql.QW(m,g,L,K,r,R,F,Q-2)};Ql.JA=function(m,g,L,K,r,R){X.$s(g,r,R);
r+=2;r=Ql.$$(m,g,L,K,r,R);return r};Ql.QW=function(m,g,L,K,r,R,Q,F){var q,n=K*r*(g>>>3),W=n&3,z=n+(W==0?0:4-W);
if(Q>3){console.log("unknown compression: "+Q,K,r,K*r,F);Q=0}if(Q==0){if(R+z<=L.length)q=L.slice(R,R+z);
else{q=I.m(n);for(var u=0;u<n;u++)q[u]=L[R+u]}R+=n}else if(Q==1){q=I.m(n);var N=m?4:2,b=Ql.iX(L,q,K,r,R,R+N*r,N);
R+=N*r+b}else if(Q==2||Q==3){var B=new Uint8Array(L.buffer,R+2,F-6),h=pako.inflateRaw(B);if(Q==3){if(g==8)for(var A=0;
A<r;A++){var e=A*K+1,c=e+K-1,a=h[e-1];for(var $=e;$<c;$++){a+=h[$];h[$]=a&255}}else for(var A=0;A<r;
A++){var e=A*K+1,c=e+K-1,a=h[2*e-2]<<8|h[2*e-1];for(var $=e;$<c;$++){var G=$<<1;a+=h[G]<<8|h[G+1];h[G]=a>>>8;
h[G+1]=a&255}}}if(h.length==z)q=h;else{q=I.m(z);for(var u=0;u<h.length;u++)q[u]=h[u]}}if(g==16){var o=I.m(K*r);
for(var u=0;u<n;u+=2)o[u>>>1]=q[u];q=o}return q};Ql.$$=function(m,g,L,K,r,R){var Q=L*K;if(R==0)for(var F=0;
F<Q;F++)g[r++]=m[F];else if(R==1){var q=Ql.iB(m,g,L,K,r,r+2*K);r+=2*K+q}else if(R==2||R==3){if(R==3){var n=new Uint8Array(m.length);
for(var W=0;W<K;W++){var z=W*L+1,u=z+L-1,N=m[z-1];n[z-1]=N;for(var b=z;b<u;b++){n[b]=m[b]+(256-N)&255;
N=m[b]}}m=n}g[r]=120;g[r+1]=156;r+=2;var B=pako.deflateRaw(m,{ImJ:4});X.iz(g,r,B);r+=B.length+4}else console.log("Unknown compression: "+R);
return r};Ql.iX=function(m,g,L,K,r,R,Q){var F=R,q=K|0;if(Q==2)for(var n=0;n<q;n++){var W=X.Di(m,r+(n<<1));
Ql.Jd(m,R,W,g,n*L,L);R+=W}else for(var n=0;n<q;n++){var W=X.d(m,r+(n<<2));Ql.Jd(m,R,W,g,n*L,L);R+=W}return R-F};
Ql.iB=function(m,g,L,K,r,R){var Q=R;for(var F=0;F<K;F++){var q=Ql.IiF(m,F*L,L,g,R);X.HL(g,r+F*2,q);R+=q}return R-Q};
Ql.IiF=function(m,g,L,K,r){var R,Q,F,q,n,W,z;q=g+L;for(F=g,Q=r;L>0;F=R,L-=W){z=L<128?L:128;if(F<=q-3&&m[F+1]==m[F+0]&&m[F+2]==m[F+0]){for(R=F+3;
R<F+z&&m[R]==m[F+0];)++R;W=R-F;K[Q++]=1+256-W;K[Q++]=m[F+0]}else{for(R=F;R<F+z;)if(R<=q-3&&m[R+1]==m[R+0]&&m[R+2]==m[R+0])break;
else++R;W=R-F;K[Q++]=W-1;for(var u=0;u<W;u++)K[Q+u]=m[F+u];Q+=W}}return Q-r};Ql.Jd=function(m,g,L,K,r,R){for(var Q=0;
Q<L;){var F=m[g++];if(F>=128){var q=m[g++],n=r+(257-F);K.fill(q,r,n);r=n;Q+=2}else{var n=r+(1+F);while(r<n)K[r++]=m[g++];
Q+=1+1+F}}};function RW(){}RW.GT=function(m,g){g.Pw=!1;g.ym=8;var L=new Uint8Array(m),K=0,r=0,Z,M=0,ap=!1,al=!0,ak=!1,ao=0;
r=RW.JY(g,L,K);K=r;r=RW.Iif(g,L,K);K=r;r=RW.Ikx(g,L,K);K=r;r=RW.Ik_(g,L,K);K=r;r=RW.ION(g,L,K);K=r;if(g._.length==0){var R=g.Co();
R.vZ("Background");g._.push(R);R.buffer=I.clone(g.buffer);R.rect=new v(0,0,g.j,g.F)}if(g.ng.r1005){g.Jt=X.I_s(g.ng.r1005,0)}if(g.ng.r1026){var L=g.ng.r1026;
for(var Q=0;Q<L.length;Q+=2){var r=g._[Q>>>1];if(r)r.Id=X.Di(L,Q)}}if(g.ng.r1032){var L=g.ng.r1032,F=X.d(L,12);
for(var Q=0;Q<F;Q++){var q=L[16+Q*5+4],n=X.dS(L,16+Q*5)/32;g.TW[q].push(n)}}delete g.ng.r1036;delete g.ng.r1039;
if(g.ng.r1050){var W=X.d,z=g.ng.r1050,u=X.d(z,0);if(u==6){var N=4,b=X.cR(z,N);N+=16;var B=X.zr(z,N);
N+=4+B.length*2;var h=W(z,N);N+=4;var A=g.qo;for(var Q=0;Q<h;Q++){var e=l.Dg.IRp(),a;A.push(e);e=e.v;
e.sliceID.v=W(z,N);N+=4;e.groupID.v=W(z,N);N+=4;var c=W(z,N);N+=4;if(c==1){a=W(z,N);N+=4}var B=X.zr(z,N);
N+=4+B.length*2;var $=W(z,N);N+=4;var G=[W(z,N),W(z,N+4),W(z,N+8),W(z,N+12)];N+=16;l.Dg.zo(A,A.length-1,G);
var o=e.url.v=X.zr(z,N);N+=4+o.length*2;var H=e.null.v=X.zr(z,N);N+=4+H.length*2;var f=e.Msge.v=X.zr(z,N);
N+=4+f.length*2;var E=e.altTag.v=X.zr(z,N);N+=4+E.length*2;e.cellTextIsHTML.v=z[N]==1;N++;var S=e.cellText.v=X.zr(z,N);
N+=4+S.length*2;var V=W(z,N);N+=4;var J=W(z,N);N+=4;var U=z.slice(N,N+4);N+=4;if(c!=2)A.pop()}}else if(u==8){var j={};
aY.jE(z,j,8,!1);var z=g.qo=j.slices.v;for(var Q=0;Q<z.length;Q++){if(z[Q].v.origin.v.ESliceOrigin!="userGenerated"){z.splice(Q,1);
Q--}}}}if(g.ng.r1058){var i=g.ng.r1058,k=UTIF.decode(i.buffer,{parseMN:!1,debug:!1});RV.VU(k[0],g.Io);
delete g.ng.r1058}if(g.ng.r1060){var P=X.d_(g.ng.r1060);RV.IpO(P,g.Io);delete g.ng.r1060}if(g.ng.r1065){var L=g.ng.r1065;
g._x={};aY.jE(L,g._x,4,!1)}if(g.ng.r1069){var L=g.ng.r1069,w=[];for(var Q=2;Q<L.length;Q+=4){var a=X.d(L,Q);
for(var d=0;d<g._.length;d++){var r=g._[d];if(r.add.lyid==a&&r.add.lsct!=3)w.push(d)}}g.N=w}if(g.ng.r1025){var T=g.ng.r1025;
delete g.ng.r1025;var y=qs.$n(T,0,T.length,g.j,g.F),D=new x.Lb;D.W=y;g.pc[0]=aH.Qr("Working Path",{vmsk:D})}var s=g.add.pths;
delete g.add.pths;var aQ=g.ng.r3000;if(aQ){Z={};aY.jE(aQ,Z,4,!1);delete g.ng.r3000}for(var aI=0;aI<=997;
aI++){var aq="r"+(2e3+aI),T=g.ng[aq];if(T==null)break;var y=qs.$n(T,0,T.length,g.j,g.F),aa=s?s.pathList.v[aI].v.pathUnicodeName.v:"Path "+aI,aD=Z?Z.keyRootDescriptorList.v[aI].v.keyDescriptorList.v:x.js(y),D=new x.Lb;
D.W=y;g.pc[aI+1]=aH.Qr(aa,{vmsk:D,vogk:aD});delete g.ng[aq]}delete g.Pw;var _=new v(0,0,g.j,g.F),jt=g.add.Txt2,aR=jt;
if(aR){aR=aR.Ae;if(aR._DocumentResources==null)aR=RX.I_L(aR)}if(jt&&jt.Ae._DocumentResources!=null){var aL="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),aw=jt.Ae._DocumentResources._TextFrameSet._Resources;
for(var Q=0;Q<aw.length;Q++){}}for(var Q=0;Q<g._.length;Q++){var r=g._[Q],aZ=r.add.lsct,aS=r.add.vmsk,an=r.WN();
if(aZ==Ra.vc)ao++;else if(aZ==Ra.lG||aZ==Ra.Ha)ao--;if(r.name==""){r.name="Layer "+(Q+1);ak=!0}if(ak&&r.EY()&&r.TZ=="norm")r.TZ="pass";
if(r.zp()&&r.lI(g).s){var IU=r.lI(g);IU.s.isEnabled=r.add.SoLd.filterFX.v.filterMaskEnable.v}if(aS&&r.lo()){var a_=aU.WL.default;
if(r.add.vstk==null)r.add.vstk=JSON.parse(JSON.stringify(a_));else{var aG="strokeStyleLineDashSet";if(r.add.vstk[aG]==null)r.add.vstk[aG]=JSON.parse(JSON.stringify(a_[aG]))}}if(aS&&(r.add.vogk==null||I.q.GM(aS.W)!=r.add.vogk.length))r.js();
if(an==null&&r.s!=null){if(r.s.mH==!1){r.s.mH=!0;r.Th=r.s.clone()}else{aS.Th=r.s;aS.gg=!1;r.s.JE=aS.JE;
r.s.kc=aS.kc}}if(an!=null&&aS!=null&&(an.JE+aS.JE!=0||an.kc+aS.kc!=2*255))r.Zh(g);var aM=r.add.artb;
if(aM&&aM.artboardBackgroundType==null)aM.artboardBackgroundType={t:"long",v:1};if(aM&&ao!=0)delete r.add.artb;
var av=r.add.vstk;if(r.lo()&&(r.rect.L_()||aS&&aS.JE!=0||av&&!av.fillEnabled.v&&(!av.strokeEnabled.v||av.strokeStyleLineWidth.v.val==0)))r.uH(g);
if(r.add.TySh){ap=!0;if(!r.rect.L_())al=!1}if(r.add.TySh&&aR){var aA=r.add.TySh.m_,IL=aj.gj(aA),aB=aA.EngineDict.ParagraphRun.RunArray,aV=aR._DocumentObjects._TextObjects;
if(aV.length<=M){console.log("Txt2 incomplete");continue}aV=aV[M]._Model._ParagraphRun._RunArray;var Ia=Math.min(aV.length,aB.length);
for(var d=0;d<Ia;d++){var aK=aB[d].ParagraphSheet.Properties,aE=aR._DocumentResources._ParagraphSheetSet._Resources,Ij=aV[d]._RunData._ParagraphSheet;
if(typeof Ij=="string")Ij=aE[parseInt(Ij.slice(1))]._Resource;var as=Ij._Parent==null?Ij:aE[parseInt(Ij._Parent.slice(1))]._Resource,IQ=Ij._Features._ParagraphDirection;
if(IQ==null)IQ=as._Features._ParagraphDirection;if(IQ)aK._Direction=parseInt(IQ.slice(1))}var Ih=aR._DocumentResources,Rp=Ih._TextFrameSet._Resources,ag=Rp[M]._Resource,IE=ag._Data,ae=new aC(1,0,0,1,0,0);
if(ag._0){var Rj=parseFloat(ag._0[0].slice(1)),RQ=parseFloat(ag._0[1].slice(1));ae.translate(Rj,RQ)}if(IL){ae.translate(IL[0],IL[1]);
aj.gy(aA,[0,0,IL[2]-IL[0],IL[3]-IL[1]])}else{if(ag._Bezier&&ag._Bezier._Points){var y=ag._Bezier._Points,Rj=parseFloat(y[0].slice(1)),RQ=parseFloat(y[1].slice(1));
if(Rj!=0||RQ!=0){ae.translate(Rj,RQ)}}}if(ag._Data&&ag._Data._FrameMatrix){var ab=ag._Data._FrameMatrix;
ab=ab.map(function(Iw){return parseFloat(Iw.slice(1))});ae.concat(new aC(ab[0],ab[1],ab[2],ab[3],ab[4],ab[5]))}ae.concat(r.add.TySh.f);
r.add.TySh.f=ae;M++;var $=IE._Type?parseInt(IE._Type.slice(1)):0;if($==2||$==1&&IE._PathData._Spacing=="i-3"){var RM=function(Iw){return parseFloat(Iw.slice(1))},y=ag._Bezier._Points.map(RM);
if(IL)I.e.f(y,new aC(1,0,0,1,-IL[0],-IL[1]),y);var Rx=IE._PathData._Reversed;aA.Curve={Points:y,TextOnPathTRange:IE._TextOnPathTRange.map(RM),Reversed:Rx==null?!1:Rx};
r.add.TySh.add={vmsk:new x.Lb,vogk:null};aj.eP(r.add.TySh)}}}aJ.va.im(g,!0)};RW.Sk=function(m,g,L){aJ.va.Ah(m);
aJ.va.im(m,!1);var K=[],r=[],R=[],Q=[],F=[],E=16,aI=0;for(var q=0;q<m._.length;q++){var n=m._[q];if(n.zp()&&n.lI(m).s){n.add.SoLd.filterFX.v.filterMaskEnable.v=n.lI(m).s.isEnabled}if(n.add.SoLd){r.push(n.add.SoLd.Idnt.v);
R.push(n.add.SoLd.placed.v)}if(n.add.TySh){var W=n.add.TySh.m_,z=aj.SE(W);n.add.TySh.no.TextIndex={t:"long",v:K.length};
K.push(W);if(z==2)aj.Lx(n.add.TySh)}if(n.add.PtFl)Q.push(n.add.PtFl.Ptrn.v.Idnt.v);if(n.add.lmfx){for(var u=0;
u<aU.JS.length;u++){var N=n.add.lmfx[aU.JS[u]].v;for(var b=0;b<N.length;b++)if(N[b].v.Ptrn)Q.push(N[b].v.Ptrn.v.Idnt.v)}}var B=n.add.vstk;
if(B&&B.strokeStyleContent.v.classID=="patternLayer"){Q.push(B.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(n.lo()){F[q]=[n.rect,n.buffer];
n.rect=new v;n.buffer=I.m(0)}}if(K.length>0){var h=m.add.Txt2?m.add.Txt2.Ae:null;m.add.Txt2={};m.add.Txt2.Ae=IZ.IMT(K,null,h)}var A=m.add.lnk2;
if(A){var e=m.add.lnk2=[];for(var q=0;q<A.length;q++)if(r.indexOf(A[q].aP)!=-1)e.push(A[q]);if(e.length==0)delete m.add.lnk2}var c=m.add.FEid;
if(c){var a=m.add.FEid=[];for(var q=0;q<c.length;q++)if(R.indexOf(c[q].id)!=-1)a.push(c[q]);if(a.length==0)delete m.add.FEid}var $=m.add.Patt;
if($){var G=m.add.Patt=[];for(var q=0;q<$.length;q++)if(Q.indexOf($[q].id)!=-1)G.push($[q])}m.ng.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
X.iN(m.ng.r1005,0,m.Jt);X.iN(m.ng.r1005,8,m.Jt);if(m.li()){m.ng.r1022=new Uint8Array([0,3+m.Qj.length-1,0])}else delete m.ng.r1022;
m.ng.r1026=new Uint8Array(m._.length*2);for(var q=0;q<m._.length;q++)X.HL(m.ng.r1026,q*2,m._[q].Id);
var o=m.TW,H=o[0].length+o[1].length,f=m.ng.r1032=I.m(16+5*H,!0);X.ME(f,0,1);X.ME(f,4,576);X.ME(f,8,576);
X.ME(f,12,H);for(var q=0;q<2;q++)for(var b=0;b<o[q].length;b++){X.KB(f,E,Math.round(o[q][b]*32));f[E+4]=q;
E+=5}delete m.ng.r1045;delete m.ng.r1006;delete m.ng.r1077;var S=new qL;E=0;var V=new Uint8Array(4+(1+m.Qj.length)*13);
V[3]=1;V[6]=V[7]=255;V[15]=100;V[16]=1;for(var q=0;q<1+m.Qj.length;q++){var J=m.Qj[q-(q==0?0:1)],U=(q==0?"Transparency":J.name)+"\0";
X.FG(S,E,U);E+=4+U.length*2;if(q!=0){var j=4+q*13;q$.Q_(V,j,J.yK);V[j+11]=J.SB;V[j+12]=J.RJ}}m.ng.r1045=S.data.slice(0,E);
m.ng.r1077=V;for(var q=0;q<m.qo.length;q++)m.qo[m.qo.length-q-1].v.sliceID.v=2+q*3;var i={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:m.qo}},S=new qL;
X.ut(S,0,8);X.ut(S,4,16);var k=aY.vv(S,i,8);m.ng.r1050=S.data.slice(0,k+8);var S=new qL;X.ut(S,0,16);
var k=aY.vv(S,m._x,4);m.ng.r1065=S.data.slice(0,k+4);var P=m.N;f=m.ng.r1069=I.m(2+P.length*4,!0);X.HL(f,0,P.length);
for(var q=0;q<P.length;q++)X.ME(f,2+4*q,m._[P[q]].add.lyid);delete m.ng.r1058;delete m.ng.r1060;if(Object.keys(m.Io).length!=0){var w=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
RV.et(m.Io,w[0],L[0]&&L[1]);m.ng.r1058=new Uint8Array(UTIF.encode(w));var d=RV.IDA(m.Io);m.ng.r1060=X.j$(d)}var T=[],y=[];
for(var q=0;q<m.pc.length;q++){var D=m.pc[q],s=D.add.vmsk.W;if(q==0&&s.length==2)continue;var Z=I.m(s.length*26);
qs.JV(Z,0,s,m.j,m.F);var aQ=q==0?1025:2e3+q-1;m.ng["r"+aQ]=Z;if(q!=0){T.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:D.name}}});
y.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:D.add.vogk}}})}}if(T.length!=0){m.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:T}};
y={classID:"null",keyRootDescriptorList:{t:"VlLs",v:y}};var S=new qL;X.ut(S,0,16);var k=aY.vv(S,y,4);
m.ng.r3000=S.data.slice(0,k+4)}else{delete m.add.pths;delete m.ng.r3000}aI=RW.Iiz(m,g,aI);aI=RW.Ikq(m,g,aI);
aI=RW.Ikw(m,g,aI);aI=RW.Ikz(m,g,aI,L);aI=RW.IOb(m,g,aI,L[0]);var aq=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var q=0;q<aq.length;q++)delete m.ng["r"+aq[q]];for(var q=0;q<m._.length;q++){var n=m._[q];if(n.lo()){n.rect=F[q][0];
n.buffer=F[q][1]}}if(A)m.add.lnk2=A;if(c)m.add.FEid=c;if($)m.add.Patt=$;aJ.va.im(m,!0);return aI};RW.JY=function(m,g,L){var K=X.dn(g,L,4);
L+=4;if(K!="8BPS")alert("invalid header signature: "+K);var r=X.Di(g,L);L+=2;m.Pw=r==2;if(r!=1&&r!=2)alert("invalid version: "+r);
L+=6;m.SK=X.Di(g,L);L+=2;m.F=X.dS(g,L);L+=4;m.j=X.dS(g,L);L+=4;m.ym=X.Di(g,L);L+=2;m.Sn=X.Di(g,L);L+=2;
return L};RW.Iiz=function(m,g,L){g._a(0,64);X.kC(g.data,L,"8BPS");L+=4;X.HL(g.data,L,1);L+=2;X.ME(g.data,L,0);
L+=4;X.HL(g.data,L,0);L+=2;X.HL(g.data,L,4+m.Qj.length);L+=2;X.KB(g.data,L,m.F);L+=4;X.KB(g.data,L,m.j);
L+=4;X.HL(g.data,L,8);L+=2;X.HL(g.data,L,3);L+=2;return L};RW.Iif=function(m,g,L){var K=X.dS(g,L);L+=4;
if(K!=0)m.yp=g.slice(L,L+K);L+=K;return L};RW.Ikq=function(m,g,L){X.kv(g,L,0);L+=4;return L};RW.Ikx=function(m,g,L){var K=X.d(g,L),r=0;
L+=4;var R=[];while(r<K){var Q=X.dn(g,L+r,4);r+=4;var F=X.Di(g,L+r);r+=2;var q=X.vm(g,L+r);r+=q.length;
if(Q!="8BIM"){R.push(F);console.log("Unknown Image Resources signature: "+Q+", ID: "+F)}var n=X.d(g,L+r);
r+=4;if(m.ng["r"+F]!=null)console.log("--- two resources with same ID");m.ng["r"+F]=X.vi(g,L+r,n);r+=n+(n&1)}for(var W=0;
W<R.length;W++)delete m.ng["r"+R[W]];return L+K};RW.Ikw=function(m,g,L){var K=L,Q=0;L+=4;var r=[];for(var R in m.ng){r.push(parseInt(R.slice(1)))}r.sort(function(u,N){return u-N});
for(var F=0;F<r.length;F++){X._p(g,L+Q,"8BIM");Q+=4;var q=r[F];X.NX(g,L+Q,q);Q+=2;var n=X.jd(g,L+Q,"");
Q+=n;var W=m.ng["r"+q],z=W.length;X.ut(g,L+Q,z);Q+=4;X.vn(g,L+Q,W);Q+=z;if(z%2==1)Q++}X.ut(g,K,Q);return L+Q};
RW.Ik_=function(m,g,L){var K=L,r,R=m.Pw?8:4;if(m.Pw)r=X.zs(g,L);else r=X.d(g,L);L+=R;if(r==0)return K+R;
L=RW.IOa(m,g,L);L=RW.IOV(m,g,L);L=mj.i_(g,L,K+R+r,m.add,m.Pw,m);return K+R+r};RW.Ikz=function(m,g,L,K){var r=L;
X.ut(g,L,0);L+=4;L=RW.IOG(m,g,L,K);L=RW.IOY(m,g,L);L=mj.ie(g,L,m.add,m);X.ut(g,r,L-r-4);return L};RW.IOa=function(m,g,L){var K,r=m.Pw?8:4;
if(m.Pw)K=X.zs(g,L);else K=X.d(g,L);L+=r;if(K!=0)RW.CB(m,g,L);return L+K};RW.CB=function(m,g,L){var K=X.cL(g,L);
L+=2;var r=Math.abs(K);for(var R=0;R<r;R++){var Q=new x;L=Rh.GT(Q,m,g,L);m._[R]=Q}var F=new v(0,0,m.j,m.F);
for(var R=0;R<r;R++){var q=m._[R];L=Ql.GT(q,m,g,L);var n=q.rect.c(),W=q.rect.my(F),z=W.c()/n;if(n>2e3*3e3&&z<.5){var u=I.m(W.c()*4);
I.pq(q.buffer,q.rect,u,W);q.buffer=u;q.rect=W;alert("Removing hidden parts of layers")}}};RW.IOG=function(m,g,L,K){var r=L;
X.ut(g,L,0);L+=4;var R=m._.length;X.NX(g,L,-R);L+=2;var Q=[];for(var F=0;F<R;F++)L=Rh.Sk(m._[F],m,g,L,Q);
for(var F=0;F<R;F++)L=Ql.wX(m._[F],g,L,Q[F],K);var q=L-r-4;if(q%2!=0)q++;X.ut(g,r,q);return r+q+4};RW.IOV=function(m,g,L){var K=X.d(g,L);
L+=4;L+=K;return L};RW.IOY=function(m,g,L){var K=X.ut(g,L,0);L+=4;return L};RW.ION=function(m,g,L){var K=m.Sn,r="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),R=[1,1,1,3,4,1,1,3],Q,B;
if(K!=3){if(K==1||K==2||K==4)alert("Project will be converted from "+r[K]+" to "+r[3]+" mode.");else{alert("Color mode "+r[K]+" is not supported yet :(")}}if(m.ng.r1045){Q=[];
var F=m.ng.r1045,q=0;while(q<F.length){var n=X.rH(F,q);Q.push(n);q+=4+2+n.length*2}}var W=R[K]+(Q==null||Q[0]=="Transparency"?1:0),z=m.j,u=m.F,N=z*u,b=X.Di(g,L);
L+=2;m.buffer=I.m(N*4);I._U(m.buffer,4278190080);var h=L;for(var A=0;A<m.SK;A++){if(b==0){B=Ql.QW(m.Pw,m.ym,g,z,u,L,b);
L+=N*(m.ym>>>3)}else if(b==1){B=I.m(N);var e=m.Pw?4:2;if(A==0)L+=m.SK*u*e;L+=Ql.iX(g,B,z,u,h+A*u*e,L,e)}else{console.log("unknown compression of image data: ",b);
return}if(A<W){I.eX(B,m.buffer,A);if(m.SK==1&&A==0){I.eX(B,m.buffer,1);I.eX(B,m.buffer,2)}}else{var c=new x.Ed,a=A-W,$=A-R[m.Sn];
c.name=Q?Q[$]:"Alpha";if(c.name=="Quick Mask"){c.vu=!0;m.gW.push(a)}c.rect=new v(0,0,z,u);c.channel=B;
c.color=0;c.qV();m.Qj[a]=c;if(m.ng.r1077){var F=m.ng.r1077.slice(4+$*13);c.yK=q$.dR(F,0);c.SB=F[11];
c.RJ=F[12];if(c.RJ==2)c.vu=!0}}}m.SK=4;if(m.Sn==2)for(var G=0;G<N;G++){var o=G*4,H=m.buffer[o];m.buffer[o]=m.yp[0+H];
m.buffer[o+1]=m.yp[256+H];m.buffer[o+2]=m.yp[512+H]}return L};RW.IOb=function(m,g,L,K){var r=1,R=16,Q=m.j,F=m.F,n,W;
X.NX(g,L,r);L+=2;var q=Q*F;if(!K){W=new I.ha(Q*F);I.cd(m.buffer,W);var z=W.u,u=W.S,N=W.R,b=W.Wh;for(var B=0;
B<q;B++){var h=b[B]*(1/255);z[B]=~~(z[B]*h+255*(1-h));u[B]=~~(u[B]*h+255*(1-h));N[B]=~~(N[B]*h+255*(1-h))}}else n=I.m(q);
var A=[n,n,n,n];if(!K)A=[W.u,W.S,W.R,W.Wh];for(var B=0;B<m.Qj.length;B++){A.push(m.Qj[B].vy(new v(0,0,m.j,m.F)))}var e=L;
for(var c=0;c<A.length;c++){g._a(L,Q*F+4);n=A[c];if(r==0||r==2||r==3)L=Ql.$$(n,g.data,Q,F,L,r);else{if(c==0)L+=A.length*F*2;
var a=L;L+=Ql.iB(n,g.data,Q,F,e+c*F*2,L)}}return L};function mu(){}mu.GT=function(m){var g={};mu.$r(m,g,0,0);
return g};mu.Sk=function(m,g){var L=0;L=mu.$W(m,g,L,0);return L};mu.$r=function(m,g,L,K){while(m[L]!="<".charCodeAt(0))L++;
L+=2;while(!0){if(m[L]=="/".charCodeAt(0)){L++;var r=X.indexOf(m," ".charCodeAt(0),L,L+50),R=X.indexOf(m,"\n".charCodeAt(0),L,L+50);
if(R==-1)R=Infinity;if(r==-1)r=Infinity;var Q=Math.min(R,r),F=X.dn(m,L,Q-L),q=mu.Qf(m,Q+1,K+1,F);g[F]=q.U;
L=Q+1;L+=q.size}else if(m[L]==">".charCodeAt(0)){L+=2;break}else{var n=m[L];if(n==10||n==9||n==32)L++;
else{console.log("unknown byte: "+n+", char: "+String.fromCharCode(n),L);L++}}}return L};mu.$W=function(m,g,L,K){X._p(g,L,"<<\n");
L+=3;var r=mu.IOP;for(var R in m){X.gT(g,L,"\t".charCodeAt(0),K+1);L+=K+1;X._p(g,L,"/"+R);L+=1+R.length;
if(r(m[R])||m[R]instanceof Array){X._p(g,L," ");L++}else{X._p(g,L,"\n");L++;X.gT(g,L,"\t".charCodeAt(0),K+1);
L+=K+1}L=mu.jm(m[R],g,L,K+1);X._p(g,L,"\n");L++}X.gT(g,L,"\t".charCodeAt(0),K);L+=K;X._p(g,L,">>");L+=2;
return L};mu.Qf=function(m,g,L,K){var r=g,R={size:0,U:0};while(!0){while(m[g]==" ".charCodeAt(0)||m[g]=="\t".charCodeAt(0)||m[g]=="\n".charCodeAt(0))g++;
if(m[g]=="<".charCodeAt(0)){R.U={};g=mu.$r(m,R.U,g,L+1);break}else if(m[g]=="(".charCodeAt(0)){g+=3;
var Q=g;while(!0){if(m[Q-1]!="\\".charCodeAt(0)&&m[Q]==")".charCodeAt(0)&&(m[Q+1]=="\n".charCodeAt(0)||m[Q+1]==" ".charCodeAt(0)))break;
else Q++}R.U=X.iF(m,g,Q);g=Q+2;break}else if(m[g]=="[".charCodeAt(0)){g++;R.U=[];while(m[g]==" ".charCodeAt(0)||m[g]=="\t".charCodeAt(0)||m[g]=="\n".charCodeAt(0))g++;
while(m[g]!="]".charCodeAt(0)){var F=mu.Qf(m,g,L+1,K);R.U.push(F.U);g+=F.size;while(m[g]==" ".charCodeAt(0)||m[g]=="\t".charCodeAt(0)||m[g]=="\n".charCodeAt(0))g++}g++;
break}else{var q=X.indexOf(m," ".charCodeAt(0),g,g+50),n=X.indexOf(m,"\n".charCodeAt(0),g,g+50);if(n==-1)n=Infinity;
if(q==-1)q=Infinity;var W=X.dn(m,g,Math.min(q,n)-g).trim(),z=parseFloat(W);if(!isNaN(z)){R.U=parseFloat(W);
g=Math.min(q,n)+1;break}else if(W=="true"||W=="false"){R.U=W=="true";g=Math.min(q,n)+1;break}else if(W=="null"){R.U=0;
g=Math.min(q,n)+1;break}else{console.log("unknown identifier: "+W);throw"e"}g=Math.min(q,n)+1}}R.size=g-r;
return R};mu.jm=function(m,g,L,K){if(m instanceof Array){var r=m.length==0||typeof m[0]=="number";if(r){X._p(g,L,"[ ");
L+=2;for(var R=0;R<m.length;R++){var Q=m[R]+" ";X._p(g,L,Q);L+=Q.length}X._p(g,L,"]");L+=1}else{X._p(g,L,"[\n");
L+=2;for(var R=0;R<m.length;R++){X.gT(g,L,"\t".charCodeAt(0),K);L+=K;L=mu.jm(m[R],g,L,K);X._p(g,L,"\n");
L++}X.gT(g,L,"\t".charCodeAt(0),K);L+=K;X._p(g,L,"]");L+=1}}else if(m instanceof Object){L=mu.$W(m,g,L,K)}else if(typeof m=="string"){X._p(g,L,"(");
L++;X.gT(g,L,254);L++;X.gT(g,L,255);L++;L=X.ig(g,L,m);X._p(g,L,")");L+=1}else{var Q=m+"";X._p(g,L,Q);
L+=Q.length}return L};mu.IOP=function(m){var g=typeof m;return g=="string"||g=="number"||g=="boolean"};
function Qg(){}Qg.GT=function(m){var g={};Qg.iV(m,g,0,0);return g};Qg.Sk=function(m,g){var L=0;X._p(g,L," ");
L++;L=Qg.i$(m,g,L,0);L--;g._a(L,2);g.data[L]=g.data[L+1]=0;L+=2;return L};Qg.$r=function(m,g,L,K){while(m[L]!="<".charCodeAt(0)){L++;
console.log("\u0161ipka")}L+=2;L=Qg.iV(m,g,L,K);return L};Qg.$W=function(m,g,L,K){X._p(g,L,"<< ");L+=3;
L=Qg.i$(m,g,L,K);X._p(g,L,">>");L+=2;return L};Qg.CK=function(m){return m==9||m==10||m==32};Qg.iV=function(m,g,L,K){while(!0){while(Qg.CK(m[L])||m[L]==0)L++;
if(L>=m.length)break;if(m[L]=="/".charCodeAt(0)){L++;var r=L;while(!Qg.CK(m[r]))r++;var R=X.dn(m,L,r-L);
L=r+1;var Q=Qg.Qf(m,L,K,R);g["_"+R]=Q.U;L+=Q.size}else if(m[L]==">".charCodeAt(0)){L+=2;break}else{var F=m[L];
console.log(X.dn(m,L,L+100));console.log("unknown byte: "+F+", char: "+String.fromCharCode(F)+", offset: "+L);
L++;throw"e";return-1}}return L};Qg.i$=function(m,g,L,K){for(var r in m){var R=r.substring(1,r.length);
X._p(g,L,"/"+R);L+=1+R.length;X._p(g,L," ");L++;L=Qg.jm(m[r],g,L,K+1);X._p(g,L," ");L++}return L};Qg.Qf=function(m,g,L,K){var r=g,R={type:"",size:0,U:0};
while(Qg.CK(m[g]))g++;if(m[g]=="<".charCodeAt(0)){R.type="Object";R.U={};g=Qg.$r(m,R.U,g,L+1)}else if(m[g]=="(".charCodeAt(0)){R.type="String";
g++;if(m[g]==")".charCodeAt(0)){R.U="s";g++}else{g+=2;var Q=g,RJ=0;while(!0){if(m[Q]==")".charCodeAt(0)&&m[Q-1]!="\\".charCodeAt(0))break;
else Q+=1}R.U="s"+X.iF(m,g,Q);g=Q+2}}else if(m[g]=="[".charCodeAt(0)){g++;R.U=[];R.type="Array";while(Qg.CK(m[g]))g++;
while(m[g]!="]".charCodeAt(0)){var F=Qg.Qf(m,g,L+1,K);if(F==-1)return-1;R.U.push(F.U);g+=F.size;delete F.size;
while(Qg.CK(m[g]))g++}g++}else{var q=g;while(!Qg.CK(m[q]))q++;var n=X.dn(m,g,q-g),W=parseFloat(n);if(!isNaN(W)&&n.indexOf(".")!=-1){R.type="Float";
var z=parseFloat(n);R.U="f"+z}else if(!isNaN(W)&&n.indexOf(".")==-1){R.type="Integer";R.U="i"+parseInt(n)}else if(n=="true"||n=="false"){R.type="Boolean";
R.U=n=="true"}else if(n.charAt(0)=="/"){R.type="BString";R.U=n}else{console.log("unknown value",JSON.stringify(n));
throw"e"}g=q+1}R.size=g-r;return R};Qg.IOy=function(m){if(m==Math.round(m))return m+".0";var g=m.toFixed(5);
if(0<m&&m<1)g=g.substring(1,g.length);if(-1<m&&m<0)g="-"+g.substring(2,g.length);return g};Qg.jm=function(m,g,L,K){var r=typeof m=="string"?m.charAt(0):"";
if(m instanceof Array){X._p(g,L,"[ ");L+=2;for(var R=0;R<m.length;R++){L=Qg.jm(m[R],g,L,K);X._p(g,L," ");
L++}X._p(g,L,"]");L+=1}else if(m instanceof Object){L=Qg.$W(m,g,L,K)}else if(r=="s"){X._p(g,L,"(");L++;
X.gT(g,L,254);L++;X.gT(g,L,255);L++;L=X.ig(g,L,m.substring(1));X._p(g,L,")");L++}else if(r=="/"){X._p(g,L,m);
L+=m.length}else if(r=="f"){var Q=parseFloat(m.substring(1)),F=Qg.IOy(Q);X._p(g,L,F);L+=F.length}else if(r=="i"){X._p(g,L,m.substring(1));
L+=m.length-1}else{var F=m+"";X._p(g,L,F);L+=F.length}return L};function jf(m,g){if(!m)m=0;if(!g)g=0;
this.x=m;this.y=g}jf.prototype.add=function(m){return new jf(this.x+m.x,this.y+m.y)};jf.prototype.clone=function(){return new jf(this.x,this.y)};
jf.prototype.zn=function(m){this.x=m.x;this.y=m.y};jf.prototype.TB=function(m){return this.x==m.x&&this.y==m.y};
jf.prototype.normalize=function(m){var g=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=m/g;this.y*=m/g};
jf.prototype.offset=function(m,g){this.x+=m;this.y+=g};jf.prototype.xF=function(m,g){this.x=m;this.y=g};
jf.prototype.wV=function(m){return new jf(this.x-m.x,this.y-m.y)};jf.hQ=function(m,g){return jf.IOz(m.x,m.y,g.x,g.y)};
jf.Ll=function(m,g,L){return new jf(m.x+L*(g.x-m.x),m.y+L*(g.y-m.y))};jf.IOs=function(m,g){return new jf(m*Math.cos(g),m*Math.sin(g))};
jf.IOz=function(m,g,L,K){return Math.sqrt((L-m)*(L-m)+(K-g)*(K-g))};jf.Jb={};jf.cJ={};jf.Jb.create=function(){var m=new Float32Array(4);
return m};jf.cJ.create=function(m){var g=new Float32Array(16);g[0]=g[5]=g[10]=g[15]=1;if(m)jf.cJ.set(m,g);
return g};jf.Jb.add=function(m,g,L){L[0]=m[0]+g[0];L[1]=m[1]+g[1];L[2]=m[2]+g[2];L[3]=m[3]+g[3]};jf.Jb.set=function(m,g){g[0]=m[0];
g[1]=m[1];g[2]=m[2];g[3]=m[3]};jf.cJ.set=function(m,g){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];g[4]=m[4];
g[5]=m[5];g[6]=m[6];g[7]=m[7];g[8]=m[8];g[9]=m[9];g[10]=m[10];g[11]=m[11];g[12]=m[12];g[13]=m[13];g[14]=m[14];
g[15]=m[15]};jf.cJ.multiply=function(m,g,L){var K=m[0],r=m[1],R=m[2],Q=m[3],F=m[4],q=m[5],n=m[6],W=m[7],z=m[8],u=m[9],N=m[10],b=m[11],B=m[12],h=m[13],A=m[14],e=m[15],c=g[0],a=g[1],$=g[2],G=g[3];
L[0]=c*K+a*F+$*z+G*B;L[1]=c*r+a*q+$*u+G*h;L[2]=c*R+a*n+$*N+G*A;L[3]=c*Q+a*W+$*b+G*e;c=g[4];a=g[5];$=g[6];
G=g[7];L[4]=c*K+a*F+$*z+G*B;L[5]=c*r+a*q+$*u+G*h;L[6]=c*R+a*n+$*N+G*A;L[7]=c*Q+a*W+$*b+G*e;c=g[8];a=g[9];
$=g[10];G=g[11];L[8]=c*K+a*F+$*z+G*B;L[9]=c*r+a*q+$*u+G*h;L[10]=c*R+a*n+$*N+G*A;L[11]=c*Q+a*W+$*b+G*e;
c=g[12];a=g[13];$=g[14];G=g[15];L[12]=c*K+a*F+$*z+G*B;L[13]=c*r+a*q+$*u+G*h;L[14]=c*R+a*n+$*N+G*A;L[15]=c*Q+a*W+$*b+G*e;
return L};jf.cJ.inverse=function(m,g){var L=m[0],K=m[1],r=m[2],R=m[3],Q=m[4],F=m[5],q=m[6],n=m[7],W=m[8],z=m[9],u=m[10],N=m[11],b=m[12],B=m[13],h=m[14],A=m[15],e=L*F-K*Q,c=L*q-r*Q,a=L*n-R*Q,$=K*q-r*F,G=K*n-R*F,o=r*n-R*q,H=W*B-z*b,f=W*h-u*b,E=W*A-N*b,S=z*h-u*B,V=z*A-N*B,J=u*A-N*h,U=e*J-c*V+a*S+$*E-G*f+o*H;
if(!U){return null}U=1/U;g[0]=(F*J-q*V+n*S)*U;g[1]=(r*V-K*J-R*S)*U;g[2]=(B*o-h*G+A*$)*U;g[3]=(u*G-z*o-N*$)*U;
g[4]=(q*E-Q*J-n*f)*U;g[5]=(L*J-r*E+R*f)*U;g[6]=(h*a-b*o-A*c)*U;g[7]=(W*o-u*a+N*c)*U;g[8]=(Q*V-F*E+n*H)*U;
g[9]=(K*E-L*V-R*H)*U;g[10]=(b*G-B*a+A*e)*U;g[11]=(z*a-W*G-N*e)*U;g[12]=(F*f-Q*S-q*H)*U;g[13]=(L*S-K*f+r*H)*U;
g[14]=(B*c-b*$-h*e)*U;g[15]=(W*$-z*c+u*e)*U;return g};jf.cJ.IkB=function(m,g,L){var K=g[0],r=g[1];L[0]=K*m[0]+r*m[4]+m[12];
L[1]=K*m[1]+r*m[5]+m[13]};jf.cJ.IOQ=function(m,g,L){var K=g[0],r=g[1],R=g[2],Q=g[3];L[0]=m[0]*K+m[4]*r+m[8]*R+m[12]*Q;
L[1]=m[1]*K+m[5]*r+m[9]*R+m[13]*Q;L[2]=m[2]*K+m[6]*r+m[10]*R+m[14]*Q;L[3]=m[3]*K+m[7]*r+m[11]*R+m[15]*Q};
function aC(m,g,L,K,r,R){if(typeof m==="undefined"){m=1;g=0;L=0;K=1;r=0;R=0}this.Wh=m;this.R=g;this.OS=L;
this.$Y=K;this.gE=r;this.Dv=R}aC.prototype.$K=function(){return Math.sqrt(Math.abs(this.Wh*this.$Y-this.R*this.OS))};
aC.prototype.ir=function(){var m=this,g=function(L){return Math.abs(L)<1e-9?0:L};m.Wh=g(m.Wh);m.R=g(m.R);
m.OS=g(m.OS);m.$Y=g(m.$Y);m.gE=g(m.gE);m.Dv=g(m.Dv)};aC.prototype.SW=function(m){return new jf(m.x*this.Wh+m.y*this.OS+this.gE,m.x*this.R+m.y*this.$Y+this.Dv)};
aC.prototype.translate=function(m,g){this.gE+=m;this.Dv+=g};aC.prototype.rotate=function(m){var g=new aC(Math.cos(m),-Math.sin(m),Math.sin(m),Math.cos(m),0,0);
this.concat(g)};aC.prototype.scale=function(m,g){var L=new aC(m,0,0,g,0,0);this.concat(L)};aC.prototype.concat=function(m){this.zn(new aC(this.Wh*m.Wh+this.R*m.OS,this.Wh*m.R+this.R*m.$Y,this.OS*m.Wh+this.$Y*m.OS,this.OS*m.R+this.$Y*m.$Y,this.gE*m.Wh+this.Dv*m.OS+m.gE,this.gE*m.R+this.Dv*m.$Y+m.Dv))};
aC.prototype.eb=function(){var m=this.Wh*this.$Y-this.R*this.OS;this.zn(new aC(this.$Y/m,-this.R/m,-this.OS/m,this.Wh/m,(this.OS*this.Dv-this.$Y*this.gE)/m,(this.R*this.gE-this.Wh*this.Dv)/m))};
aC.prototype.clone=function(){return new aC(this.Wh,this.R,this.OS,this.$Y,this.gE,this.Dv)};aC.prototype.zn=function(m){this.Wh=m.Wh;
this.R=m.R;this.OS=m.OS;this.$Y=m.$Y;this.gE=m.gE;this.Dv=m.Dv};function X(){}X.$f=function(m){var g="";
for(var L=3;L>=0;L--)g+=String.fromCharCode(m>>L*8&255);return g};X.IOt=function(m){var g=0;for(var L=m.length-1;
L>=0;L--)g|=m.charCodeAt(L)<<(3-L)*8;return g};X.indexOf=function(m,g,L,K){if(L==null)L=0;if(K==null)K=m.length;
K=Math.min(K,m.length);for(var r=L;r<K;r++)if(m[r]==g)return r;return-1};X.JP=function(m,g,L){if(L==null)L=0;
if(typeof g=="string"){var K=[];for(var r=0;r<g.length;r++)K.push(g.charCodeAt(r));g=K}for(var r=L;r<m.length;
r++){var R=!0;for(var Q=0;Q<g.length;Q++)if(g[Q]!=m[r+Q]){R=!1;break}if(R)return r}return-1};X.iF=function(m,g,L){var K=[],R="";
while(g<L){var r=m[g++];if(r=="\\".charCodeAt(0))K.push(m[g++]);else K.push(r)}for(var Q=0;Q<K.length;
Q+=2)R+=String.fromCharCode(K[Q]<<8|K[Q+1]);return R};X.IMv=function(m,g,L){var K=new Uint8Array(2);
for(var r=0;r<L.length;r++){X.HL(K,0,L.charCodeAt(r));if(K[0]==")".charCodeAt(0)||K[0]=="(".charCodeAt(0)||K[0]=="\\".charCodeAt(0)){m[g]="\\".charCodeAt(0);
g++}m[g]=K[0];g++;if(K[1]==")".charCodeAt(0)||K[1]=="(".charCodeAt(0)||K[1]=="\\".charCodeAt(0)){m[g]="\\".charCodeAt(0);
g++}m[g]=K[1];g++}return g};X.ig=function(m,g,L){m._a(g,4*L.length);return X.IMv(m.data,g,L)};X.iK=function(m,g,L){var K="";
for(var r=0;r<L;r++){var R=m[g++]|m[g++]<<8;K+=String.fromCharCode(R)}return K};X.lU=function(m,g,L){var K="";
for(var r=0;r<L;r++){var R=m[g++]<<8|m[g++];K+=String.fromCharCode(R)}return K};X.IMA=function(m,g,L){for(var K=0;
K<L.length;K++){var r=L.charCodeAt(K);X.Cz(m,g+2*K,r)}};X.iA=function(m,g,L){for(var K=0;K<L.length;
K++){var r=L.charCodeAt(K);X.HL(m,g+2*K,r)}};X.IOo=function(m,g,L){m._a(g,2*L.length);X.iA(m.data,g,L)};
X.I_l=function(m,g,L){var K=[],r=0,R=0;L+=g;while(g<L){r=m[g++];if((r&128)==0)R=r;else if((r&224)==192){R=(r&31)<<6;
r=m[g++];R|=r&63}else if((r&240)==224){R=(r&15)<<12;r=m[g++];R|=(r&63)<<6;r=m[g++];R|=r&63}else if((r&248)==240){R=(r&7)<<18;
r=m[g++];R|=(r&63)<<12;r=m[g++];R|=(r&63)<<6;r=m[g++];R|=r&63}else throw"e";K.push(R)}return K};X.ic=window.TextDecoder?new window.TextDecoder("utf8"):null;
X.d_=function(m,g,L){if(g==null)g=0;if(L==null)L=m.length;if(X.ic&&g==0&&L==m.length)return X.ic.decode(m);
var K=X.I_l(m,g,L),r=K.length;for(var R=0;R<r;R++)K[R]=String.fromCharCode(K[R]);return K.join("")};
X.iY=window.TextEncoder?new window.TextEncoder("utf8"):null;X.j$=function(m){if(X.iY)return X.iY.encode(m);
var g=new Uint8Array(m.length*4),L=X.cZ(m,g,0);return g.slice(0,L)};X.cZ=function(m,g,L){var K=m.length,r=0;
for(var R=0;R<K;R++){var Q=m.charCodeAt(R);if((Q&4294967295-(1<<7)+1)==0){g[L+r]=Q;r++}else if((Q&4294967295-(1<<11)+1)==0){g[L+r]=192|Q>>6;
g[L+r+1]=128|Q>>0&63;r+=2}else if((Q&4294967295-(1<<16)+1)==0){g[L+r]=224|Q>>12;g[L+r+1]=128|Q>>6&63;
g[L+r+2]=128|Q>>0&63;r+=3}else if((Q&4294967295-(1<<21)+1)==0){g[L+r]=240|Q>>18;g[L+r+1]=128|Q>>12&63;
g[L+r+2]=128|Q>>6&63;g[L+r+3]=128|Q>>0&63;r+=4}else throw"e"}return r};X.lm=function(m,g){var L=X.d(m,g),K=X.d_(m,g+4,L-1);
return{Gr:K,lS:4+L}};X.I_T=function(m,g){var L=X.Bm(m,g),K=X.iK(m,g+4,L);return K};X.zr=function(m,g){var L=X.d(m,g),K=X.lU(m,g+4,L);
return K};X.rH=function(m,g){var L=X.d(m,g),K=X.lU(m,g+4,L-1);return K};X.I_e=function(m,g,L){X.gO(m,g,L.length);
g+=4;X.IMA(m,g,L)};X.I_C=function(m,g,L){X.ME(m,g,L.length);g+=4;X.iA(m,g,L)};X.FG=function(m,g,L){m._a(g,4+2*L.length);
X.I_C(m.data,g,L)};X.I_$=function(m,g,L){m._a(g,4+2*L.length);X.I_e(m.data,g,L)};X.rI=function(m,g,L){var K=[];
for(var r=0;r<L;r++)K.push(String.fromCharCode(m[g+r]));return K};X.IOe=function(m,g,L){var K=!1,r=m.length-L.length;
for(var R=g;R<r;R++){for(var Q=0;Q<L.length;Q++){if(m[R+Q]!=L.charCodeAt(Q))break;if(Q==L.length-1)return R}}};
X.dn=function(m,g,L){var K="";for(var r=0;r<L;r++)K+=String.fromCharCode(m[g+r]);return K};X.kC=function(m,g,L){for(var K=0;
K<L.length;K++)m[g+K]=L.charCodeAt(K)};X._p=function(m,g,L){m._a(g,L.length);X.kC(m.data,g,L)};X.I_y=function(m,g,L){var K="";
for(var r=0;r<L;r++){var R=m[g+r];if(R<10)K+="  ";else if(R<100)K+=" ";K+=R+", "}return K};X.Di=function(m,g){return m[g]<<8|m[g+1]};
X.HL=function(m,g,L){m[g]=L>>8&255;m[g+1]=L&255};X.NX=function(m,g,L){m._a(g,4);X.HL(m.data,g,L)};X.I_s=function(m,g){var L=X.Di(m,g),K=X.Di(m,g+2);
return L+K*(1/65536)};X.iN=function(m,g,L){var K=Math.floor(L),r=Math.floor((L-K)*65536);X.HL(m,g,K);
X.HL(m,g+2,r)};X.eL=function(m,g){return m[g+1]<<8|m[g]};X.Cz=function(m,g,L){m[g+1]=L>>8&255;m[g]=L&255};
X.vj=function(m,g,L){m._a(g,4);X.Cz(m.data,g,L)};X.cL=function(m,g){X.r_[0]=m[g+1];X.r_[1]=m[g];return X.lX[0]};
X.rQ=function(m,g){X.r_[0]=m[g];X.r_[1]=m[g+1];return X.lX[0]};X.$s=X.HL;X.ra=X.NX;X.dS=function(m,g){X.di[0]=m[g+3];
X.di[1]=m[g+2];X.di[2]=m[g+1];X.di[3]=m[g];return X.NF[0]};X.KB=function(m,g,L){X.NF[0]=L;m[g+3]=X.di[0];
m[g+2]=X.di[1];m[g+1]=X.di[2];m[g+0]=X.di[3]};X.kv=function(m,g,L){m._a(g,4);X.KB(m.data,g,L)};X.rx=function(m,g,L,K){L[K+0]=m[g+0];
L[K+1]=m[g+1];L[K+2]=m[g+2];L[K+3]=m[g+3]};X.Bm=function(m,g){X.rx(m,g,X.di,0);return X.it[0]};X.gO=function(m,g,L){X.it[0]=L;
X.rx(X.di,0,m,g)};X.ek=function(m,g,L){m._a(g,4);X.gO(m.data,g,L)};X.ib=function(m,g){X.rx(m,g,X.di,0);
return X.NF[0]};X.I_f=function(m,g,L){X.NF[0]=L;X.rx(X.di,0,m,g)};X.IOh=function(m,g,L){m._a(g,4);X.I_f(m.data,g,L)};
X.d=function(m,g){var L=m[g]*(256*256*256)+(m[g+1]<<16|m[g+2]<<8|m[g+3]);return L};X.ME=function(m,g,L){m[g]=L>>24&255;
m[g+1]=L>>16&255;m[g+2]=L>>8&255;m[g+3]=L>>0&255};X.ut=function(m,g,L){m._a(g,4);X.ME(m.data,g,L)};X.zs=function(m,g){return X.d(m,g)<<32|X.d(m,g+4)};
X.IeI=function(m,g,L){X.ME(m,g,L>>16>>16);X.ME(m,g+4,L&4294967295)};X.lC=function(m,g,L){m._a(g,8);X.IeI(m.data,g,L)};
X.GC=function(m,g){var L=new Uint8Array(8);for(var K=0;K<8;K++)L[K]=m[g+7-K];var r=new Float64Array(L.buffer);
return r[0]==-0?0:r[0]};X.Ieq=function(m,g){var L=new Uint8Array(8);for(var K=0;K<8;K++)L[K]=m[g+K];
var r=new Float64Array(L.buffer);return r[0]==-0?0:r[0]};X.Na=function(m,g,L){var K=new Float64Array(1);
K[0]=L==-0?0:L;var r=new Uint8Array(K.buffer);for(var R=0;R<4;R++){var Q=r[R];r[R]=r[7-R];r[7-R]=Q}for(var R=0;
R<8;R++)m[g+R]=r[R]};X.Nx=function(m,g,L){m._a(g,8);X.Na(m.data,g,L)};X.tr=function(m,g){X.di[0]=m[g+3];
X.di[1]=m[g+2];X.di[2]=m[g+1];X.di[3]=m[g+0];return X.rr[0]};X.lv=function(m,g){X.di[0]=m[g+0];X.di[1]=m[g+1];
X.di[2]=m[g+2];X.di[3]=m[g+3];return X.rr[0]};X.eh=function(m,g,L){X.rr[0]=L;m[g+0]=X.di[3];m[g+1]=X.di[2];
m[g+2]=X.di[1];m[g+3]=X.di[0]};X.IMC=function(m,g,L){m._a(g,4);X.eh(m.data,g,L)};X.lE=function(m,g,L){X.rr[0]=L;
m[g+0]=X.di[0];m[g+1]=X.di[1];m[g+2]=X.di[2];m[g+3]=X.di[3]};X.IMX=function(m,g,L){m._a(g,4);X.lE(m.data,g,L)};
X.IeV=function(m,g){var L=X.dS(m,g),K=L*(1/(1<<24));return K};X.iP=function(m,g,L){var K=Math.floor(L*(1<<24));
X.KB(m,g,K)};X.IMu=function(m,g,L){m._a(g,4);X.iP(m.data,g,L)};X.vm=function(m,g){var L=m[g],K=X.dn(m,g+1,L);
L+=1-L%2;return{KW:K,length:L+1}};X.IeF=function(m,g,L){var K=L.length;m[g]=K;X.kC(m,g+1,L);if(K%2==0){m[g+1+K]=0;
++K}return K+1};X.jd=function(m,g,L){m._a(g,L.length+2);return X.IeF(m.data,g,L)};X.kV=function(m,g){var L=new aC;
L.Wh=X.GC(m,g+0*8);L.R=X.GC(m,g+1*8);L.OS=X.GC(m,g+2*8);L.$Y=X.GC(m,g+3*8);L.gE=X.GC(m,g+4*8);L.Dv=X.GC(m,g+5*8);
return L};X.vS=function(m,g,L){X.Na(m,g+0*8,L.Wh);X.Na(m,g+1*8,L.R);X.Na(m,g+2*8,L.OS);X.Na(m,g+3*8,L.$Y);
X.Na(m,g+4*8,L.gE);X.Na(m,g+5*8,L.Dv)};X.IeH=function(m,g,L){m._a(g,48);X.vS(m.data,g,L)};X.IeW=function(m,g){var L=X.tr(m,g),K=X.tr(m,g+4),r=X.tr(m,g+8),R=X.tr(m,g+12);
return new v(L,K,r-L,R-K)};X.Iec=function(m,g,L){X.eh(m,g,L.x);X.eh(m,g+4,L.y);X.eh(m,g+8,L.x+L.j);X.eh(m,g+12,L.y+L.F)};
X.Ieb=function(m,g,L){m._a(g,16);X.Iec(m.data,g,L)};X.cR=function(m,g){var L=X.dS(m,g),K=X.dS(m,g+4),r=X.dS(m,g+8),R=X.dS(m,g+12);
return new v(K,L,R-K,r-L)};X.iy=function(m,g,L){X.KB(m,g,L.y);X.KB(m,g+4,L.x);X.KB(m,g+8,L.y+L.F);X.KB(m,g+12,L.x+L.j)};
X.tc=function(m,g,L){m._a(g,16);X.iy(m.data,g,L)};X.vi=function(m,g,L){var K=new Uint8Array(L);for(var r=0;
r<L;r++)K[r]=m[g+r];return K};X.iz=function(m,g,L){m.set(L,g)};X.vn=function(m,g,L){m._a(g,L.length);
X.iz(m.data,g,L)};X.ICU=function(m,g,L,K){if(!K)K=1;for(var r=0;r<K;r++)m[g+r]=L};X.gT=function(m,g,L,K){if(!K)K=1;
m._a(g,K);X.ICU(m.data,g,L,K)};X.lX=new Int16Array(1);X.r_=new Uint8Array(X.lX.buffer);X.NF=new Int32Array(1);
X.it=new Uint32Array(X.NF.buffer);X.di=new Uint8Array(X.NF.buffer);X.rr=new Float32Array(X.NF.buffer);
function v(m,g,L,K){if(!m)m=0;if(!g)g=0;if(!L)L=0;if(!K)K=0;this.x=m;this.y=g;this.j=L;this.F=K}v.prototype.c=function(){return this.j*this.F};
v.prototype.clone=function(){return new v(this.x,this.y,this.j,this.F)};v.prototype.contains=function(m,g){return m>=this.x&&m<=this.x+this.j&&(g>=this.y&&g<=this.y+this.F)};
v.prototype.Rn=function(m){return this.contains(m.x,m.y)};v.prototype.Vp=function(m){return this.x<=m.x&&this.y<=m.y&&m.x+m.j<=this.x+this.j&&m.y+m.F<=this.y+this.F};
v.prototype.zn=function(m){this.x=m.x;this.y=m.y;this.j=m.j;this.F=m.F};v.prototype.TB=function(m){return this.x==m.x&&this.y==m.y&&this.j==m.j&&this.F==m.F};
v.prototype.XH=function(m,g){this.x-=m;this.y-=g;this.j+=2*m;this.F+=2*g};v.prototype.IMd=function(m){this.XH(m.x,m.y)};
v.prototype.my=function(m){var g=Math.max(this.x,m.x),L=Math.max(this.y,m.y),K=Math.min(this.x+this.j,m.x+m.j),r=Math.min(this.y+this.F,m.y+m.F);
if(K<g||r<L)return new v;else return new v(g,L,K-g,r-L)};v.prototype.tY=function(m){if(m.y+m.F<this.y||m.x>this.x+this.j||m.y>this.y+this.F||m.x+m.j<this.x)return!1;
return!0};v.prototype.L_=function(){return this.j<=0||this.F<=0};v.prototype.offset=function(m,g){this.x+=m;
this.y+=g};v.prototype.if=function(m){this.offset(m.x,m.y)};v.prototype.I_v=function(){this.x=this.y=this.j=this.F=0};
v.prototype.xF=function(m,g,L,K){this.x=m;this.y=g;this.j=L;this.F=K};v.prototype.uM=function(m){if(this.L_())return m.clone();
if(m.L_())return this.clone();var g=this.clone();g.ICL(m);return g};v.Bw=new Float32Array(2);v.prototype.ICL=function(m){if(m.L_())return;
if(this.L_()){this.zn(m);return}this.rF(m.x,m.y);this.rF(m.x+m.j,m.y+m.F)};v.prototype.rF=function(m,g){var L=Math.min(this.x,m),K=Math.min(this.y,g);
this.j=Math.max(this.x+this.j,m)-L;this.F=Math.max(this.y+this.F,g)-K;this.x=L;this.y=K};v.prototype.I_u=function(m,g,L,K){if(this.j==0&&this.F==0)this.ICG(m,g);
else this.rF(m,g);this.rF(L,K)};v.prototype.ICG=function(m,g){this.x=m;this.y=g;this.j=this.F=0};function jA(){}jA.GT=function(m,g){var L=new Uint8Array(m),K=0,r=X.dn(L,K,9),F=4,q=100;
K+=9;var R=X.dn(L,K,4);K+=4;K++;g.j=X.d(L,K);K+=4;g.F=X.d(L,K);K+=4;var Q=X.d(L,K);K+=4;if(Q!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(R)==-1){q=X.d(L,K);K+=4;if(parseInt(R.slice(1))>=7){q=q}else alert("Unknown XCF version: "+R);
F=8}var n={};K=jA.Ga(L,K,n);var W=[];K=jA.lt(L,K,W,F);var z=[];K=jA.lt(L,K,z,F);g.mY=0;for(var u=0;u<W.length;
u++)jA.IC_(L,W[u],g,n,F,q);while(g.mY>0){g._.push(g.ua());g.mY--}g._.reverse();delete g.mY;g.buffer=I.m(g.j*g.F*4);
if(g._.length==0)console.log("No layers!!!");for(var u=0;u<z.length;u++){var N=jA.kI(L,z[u],n,F,q);if(N.SN[RB.IvV])g.I={channel:N.dk,rect:new v(0,0,g.j,g.F)}}};
jA.IC_=function(m,g,L,K,r,R){var Q=L.Co(),F=X.d(m,g),z=0;g+=4;var q=X.d(m,g);g+=4;Q.rect=new v(0,0,F,q);
var n=X.d(m,g);g+=4;var W=X.lm(m,g);g+=W.lS;Q.vZ(W.Gr);var u={};g=jA.Ga(m,g,u);if(u[RB.kp]){var N=u[RB.kp];
z=N.length/4-1}if(u[RB.GD]){Q.rect.x=X.dS(u[RB.GD],0);Q.rect.y=X.dS(u[RB.GD],4)}if(u[RB.kQ]){Q.opacity=X.d(u[RB.kQ],0)}if(u[RB.Ivu]){Q.add.lsct=Ra.lG;
Q.rect=new v(0,0,0,0);Q.buffer=I.m(0);Q.$J=24}if(u[RB.kj]){var b=X.d(u[RB.kj],0);Q.TZ=RB.IZU[b];if(Q.EY()&&Q.TZ=="norm")Q.TZ="pass"}if(u[RB.ka]){if(X.d(u[RB.ka],0)==0)Q.$J+=2}if(u[RB.kk]){var B=X.d(u[RB.kk],0);
Q.add.lsct=B&1==1?Ra.lG:Ra.Ha}if(u[RB.Gx]){var h=u[RB.Gx];for(var A in h){var e=h[A];if(A=="gimp-text-layer"){var c=jA.ICE(e),a=c.text,$=c.font,G=c.color,o=c["font-size"];
if(a==null&&c.markup){var H=new DOMParser,f=H.parseFromString(c.markup,"image/svg+xml");while(f.firstChild!=null&&f.firstChild.tagName!=null){f=f.firstChild;
var E=f.getAttribute("font"),S=f.getAttribute("foreground"),V=f.getAttribute("size");if(E!=null)$=E;
if(S!=null){S=CSS.dR(S);G=[1,S.u/255,S.S/255,S.R/255]}if(V!=null){o=""+parseFloat(V)/245}}a=f.textContent}Q.add.lnsr="rend";
Q.add.TySh=aj.nS(0,0);Q.add.TySh.pI=new v(0,0,100,100);Q.add.TySh.f=new aC(1,0,0,1,Q.rect.x,Q.rect.y);
var J=Q.add.TySh.m_;aj.ca(J,0,a);var U=aj.qh(J,0,0),j=c.justify,i=c["line-spacing"];if(G)U.dh.FillColor={Type:1,Values:[1,parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])]};
if(o){o=Math.round(parseFloat(o));U.dh.FontSize=o;Q.add.TySh.f.Dv+=Math.min(17,o*.17)}if(i){i=Math.round(parseFloat(i)+U.dh.FontSize*1.2);
U.dh.Leading=i;U.dh.AutoLeading=!1}if(j)U.gV.Justification=["left","right","center","fill"].indexOf(j);
if($&&$!="Sans-serif"){var k=$.toLowerCase(),P="bold italic semi extra regular condensed light".split(" "),w=k.length;
for(var d=0;d<P.length;d++){var T=k.indexOf(P[d]);if(T!=-1&&T<w&&k[T-1]==" ")w=T}if(w!=k.length)$=$.slice(0,w-1).split(" ").join("")+"-"+$.slice(w).split(" ").join("");
aj.Fy(U,$)}aj.cr(J,0,a.length,U);var y=c["box-width"],D=c["box-height"],s=y?parseFloat(y):Q.rect.j,Z=D?parseFloat(D):Q.rect.F;
aj.ci(J,1);aj.gy(J,[0,0,Math.ceil(s),Math.ceil(Z)])}else console.log("Unknown property "+A)}}while(L.mY>z){L._.push(L.ua());
L.mY--}L.mY=z;if(Q.add.lsct==Ra.lG||Q.add.lsct==Ra.Ha)L.mY++;var aQ=r==4?X.d:X.zs;if(Q.vo()){Q.buffer=I.m(Q.rect.c()*4);
var aI=new I.ha(Q.rect.c()),aq=aQ(m,g);g+=r;var aa=aQ(m,g);g+=r;jA.kq(m,aq,aI,K,r,R);I.JL(aI,Q.buffer);
if(aa!=0){Q.s=new x.Ed;Q.s.color=0;Q.s.rect=Q.rect.clone();Q.s.channel=jA.kI(m,aa,K,r,R).dk;if(u[RB.kR])Q.s.isEnabled=X.d(u[RB.kR],0)==1}}L._.push(Q)};
jA.ICE=function(m){var g="("+X.d_(m,0,m.length-1)+")",L=[],K={};jA.kU(g,1,L);jA.ICV(L,K);return K};jA.ICV=function(m,g){for(var L=0;
L<m.length;L++){var K=m[L],r=K[0];if(K.length==2)g[r]=K[1];else g[r]=K.slice(1)}};jA.kU=function(m,g,L){while(!0){if(g>=m.length)throw"e";
var K=m.charAt(g);g++;if(K=="("){var r=[];g=jA.kU(m,g,r);L.push(r)}else if(K==" "||K=="\n"||K=="\r"){}else if(K==")")return g;
else if(K=="\""){var R=g;while(!0){var Q=m[g];g++;if(Q=="\"")break;if(Q=="\\")g++}L.push(JSON.parse(m.slice(R-1,g)))}else{var R=g-1;
while(m[g]!=" "&&m[g]!=")")g++;L.push(m.slice(R,g))}}};jA.kI=function(m,g,L,K,r){var R=X.d(m,g);g+=4;
var Q=X.d(m,g);g+=4;var F=X.lm(m,g);g+=F.lS;var q={};g=jA.Ga(m,g,q);var n=new I.ha(R*Q),W=K==4?X.d:X.zs,z=W(m,g);
g+=K;jA.kq(m,z,n,L,K,r);return{dk:n.u,SN:q}};jA.kq=function(m,g,L,K,r,R){var Q=X.d(m,g);g+=4;var F=X.d(m,g);
g+=4;var q=X.d(m,g);g+=4;var n=r==4?X.d:X.zs,W=n(m,g);g+=r;jA.ICg(m,W,L,K,q,r,R)};jA.ICg=function(m,g,L,K,r,R,Q){var F=X.d(m,g),W=0,e=0;
g+=4;var q=X.d(m,g);g+=4;var n=new v(0,0,F,q);if(Q==100)W=1;else if(Q==150)W=1;else if(Q==600)W=4;else alert("unsupported bit depth "+Q);
var z=r/W,W=Math.round(r/z),u=[];g=jA.lt(m,g,u,R);var N=new I.ha(64*64*W),b=new v,B=K[RB.IvA][0],h=[N.u,N.S,N.R,N.Wh];
if(z==3)I.set(N.Wh,255);var A=Date.now();for(var c=0;c<q;c+=64)for(var a=0;a<F;a+=64){var $=Math.min(F-a,64),G=Math.min(q-c,64),o=$*G;
b.xF(a,c,$,G);jA.IvQ(m,u[e++],o*W,B,z,h);if(Q==600){var H=jA.ICK(),f=new Uint32Array(1),E=new Float32Array(f.buffer);
for(var S=0;S<z;S++){var V=h[S];for(var J=0;J<o;J++){f[0]=V[J]<<24|V[o+J]<<16|V[(o<<1)+J]<<8|V[(o<<1)+o+J]<<0;
var U=E[0];if(U<0)U=0;else if(U>1)U=1;V[J]=H[~~(.5+U*1e3)]}}}I.xv(N,b,L,n)}};jA.ICK=function(){var m=jA.IEe;
if(m!=null)return m;m=jA.IEe=new Uint8Array(1001);for(var g=0;g<1001;g++)m[g]=~~(.49+255*I.xJ(g*.001));
return m};jA.IvQ=function(m,g,L,K,r,R){if(K==1){for(var Q=0;Q<r;Q++){var F=R[Q],q=0;while(q<L){var n=m[g];
g++;if(n<127){var W=m[g];g++;n++;for(var z=0;z<n;z++)F[q+z]=W}else if(n==127){var u=m[g];g++;var N=m[g];
g++;var W=m[g];g++;n=u<<8|N;for(var z=0;z<n;z++)F[q+z]=W}else if(n==128){var u=m[g];g++;var N=m[g];g++;
n=u<<8|N;for(var z=0;z<n;z++)F[q+z]=m[g+z];g+=n}else{n=256-n;for(var z=0;z<n;z++)F[q+z]=m[g+z];g+=n}q+=n}}}else if(K==2){var b=pako.inflate(m.slice(g)),B=Math.round(b.length/L);
for(var z=0;z<L;z++){var h=z*B;R[0][z]=b[h];R[1][z]=b[h+1];R[2][z]=b[h+2];R[3][z]=B==3?255:b[h+3]}}else alert("Unknown compression "+K)};
jA.lt=function(m,g,L,K){var r=K==4?X.d:X.zs;while(!0){var R=r(m,g);g+=K;if(R==0)break;else L.push(R)}return g};
jA.Ga=function(m,g,L){while(!0){var K=X.d(m,g);g+=4;var r=X.d(m,g);g+=4;if(K==RB.Ivi)break;else if(K==RB.Gx)L[K]=jA.Ivj(m,g,g+r);
else L[K]=X.vi(m,g,r);g+=r}return g};jA.Ivj=function(m,g,L){var K={};while(g<L){var r=X.lm(m,g);g+=r.lS;
var R=X.d(m,g);g+=4;if(R!=1)console.log("unknown flags",R);var Q=X.d(m,g);g+=4;K[r.Gr]=X.vi(m,g,Q);g+=Q}return K};
var RB={Ivi:0,I_c:1,I_b:2,Iej:3,IvV:4,Iep:5,kQ:6,kj:7,ka:8,IeD:9,Iei:10,kR:11,Iee:12,IeC:13,ICZ:14,GD:15,ICF:16,IvA:17,ICA:18,ICH:19,Ivq:20,Gx:21,IvW:22,IZE:23,IZK:24,Ink:25,InO:26,In$:27,Inr:28,Ivu:29,kp:30,kk:31,Inc:32,Inb:33,Int:34,Inf:35,IEk:36,IEM:37,IEn:38,IEE:0,IEX:1,IEB:2,IEh:3,IEg:1,IEW:2,IEc:0,IEY:1,IEz:1};
RB.IZU="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function RG(){}RG.GT=function(m,g){var L=RG,K=Im.parse(m),R=0;if(K.pages.length>1)console.log(K.pages.length,"pages");
var r=[],Q=new v;for(var F=0;F<K.pages.length;F++){var q=K.pages[F],n=q.layers,W=L.Pt(n,F),u=!1;if(W.c()>8e3*8e3||W.j>3e4||W.F>3e4){L.Op(n,!0);
var z=L.Pt(n,F);if(z.c()>=W.c())L.Op(n,!1)}W=L.Pt(n,F);for(var N=0;N<n.length;N++){var b=n[N];if(L.eK(b)=="artboard")u=!0}if(!u){console.log("no artboard");
var B={};for(var h in q)B[h]=q[h];B._class="group";q.layers=[B]}r.push(W.clone());if(W.L_())continue;
W.x=0;W.y=R;R+=W.F+200;Q=Q.uM(W)}var A={};if(K.foreignSymbols)for(var e=0;e<K.foreignSymbols.length;
e++){var c=K.foreignSymbols[e].symbolMaster;A[c.symbolID]={yD:c}}L.OD(K.pages,A,g);for(var a in A){var b=A[a].yD,$=L.Mh(b.layers)}var G=RG.Gw(Q,8192*8192);
g.pR=!0;g.j=Math.round(Q.j/G);g.F=Math.round(Q.F/G);g.buffer=I.m(g.j*g.F*4);g.wr(K.pages[0].layers.length);
g.pK={};g.yx=[];R=0;for(var F=0;F<K.pages.length;F++){var o=K.pages[F],W=r[F],H=new aC(G,0,0,G,W.x,W.y-R);
L.GJ(o.layers,g,H,K,A,{},[]);R+=W.F+200}delete g.pK;delete g.yx;if(G!=1)alert("File scaled down "+G+"x")};
RG.IEf=0;RG.eK=function(m){return m._class?m._class:m.$class};RG.Gw=function(m,g){var L=1;while(Math.round(m.j/L)*Math.round(m.F/L)>g)L++;
if(L!=1&&!window.confirm("Your image is quite large ("+m.j+" x "+m.F+" px).\n"+"Press OK to scale it down "+L+"x, or Cancel to keep the size."))L=1;
return L};RG.Pt=function(m,g){var L=[],K=RG;for(var r=0;r<m.length;r++){var R=m[r],Q=K.cR(R.frame);if(g==0||K.eK(R)=="artboard")L.push(Q)}return I.rect.hH(L)};
RG.Op=function(m,g){var L=[],K=RG;for(var r=0;r<m.length;r++){var R=m[r],Q=K.cR(R.frame);Q.j+=150;Q.F+=150;
L.push(Q)}var F=I.rect.hH(L);I.rect.Ies(L,g);var q=I.rect.hH(L);if(q.c()*1.5<F.c()||F.j>3e4&&q.j<=3e4||F.F>3e4&&q.F<=3e4){alert("Re-arranging artboards");
for(var r=0;r<m.length;r++){var n=L[r],R=m[r],W=R.frame;W.x=n.x;W.y=n.y}}};RG.OD=function(m,g,L){var K=RG;
for(var r=0;r<m.length;r++){var R=m[r],Q=K.eK(R);if(["page","artboard","group"].indexOf(Q)!=-1)K.OD(R.layers,g,L);
else if(Q=="symbolMaster")g[R.symbolID]={yD:R}}};RG.Mh=function(m){var g=RG;for(var L=0;L<m.length;L++){var K=m[L],r=g.eK(K),R=null;
if(["page","artboard","group"].indexOf(r)!=-1)R=g.Mh(K.layers);if(r=="symbolMaster"||r=="symbolInstance")R=K;
if(R!=null)return R}return null};RG.GJ=function(m,g,L,K,r,R,Q){var F=RG,q=[];for(var n=0;n<m.length;
n++){var W=m[n],z=W.frame?F.cR(W.frame):null,u=W.style,e="",H=null,f=!1;if(u==null){console.log("no styles")}var N=F.hM(W,L),b=F.eK(W),B=b=="shapeGroup"||b=="shapePath"||b=="rectangle"||b=="oval"||b=="triangle",h=["page","artboard","group"].indexOf(b)!=-1;
if(b=="shapeGroup"){for(var A=0;A<W.layers.length;A++)if(F.eK(W.layers[A])=="shapeGroup")h=!0}var c=W.exportOptions;
if(c){var a=c.exportFormats;if(a==null)a=c.sizes;if(b!="artboard"&&(a&&a.length!=0)){var $=a[0].scale}}var G=g.Co();
G.Vd(W.isVisible);var o=W.name;if(!(typeof o=="string"))o=b;G.vZ(e+o.slice(0,250));if(u!=null)H=F.IZw(K,g,u,z,N,G.getName(),B||b=="artboard"||h);
if(b=="rectangle"&&u&&u.fills&&u.fills[0]){var E=u.fills[0];if(E.fillType==4&&E.patternFillType>1&&E.image!=null)f=!0}if(W.shouldBreakMaskChain){while(q.length!=0)F.BV(q.pop(),g)}if(h){G.add.lsct=W.layerListExpandedType==2?Ra.lG:Ra.Ha;
G.TZ="pass";G.$J=24;G.Vd(W.isVisible);g._.push(g.ua());if(b=="artboard"){var S=z.clone(),V=N.$K();S.x=-Math.floor(N.gE/V);
S.y=-Math.floor(N.Dv/V);S.j=Math.floor(S.j/V);S.F=Math.floor(S.F/V);G.IW(S);var J=W.backgroundColor;
G.add.artb.Clr={t:"Objc",v:I.G.h$({u:255*J.red,S:255*J.green,R:255*J.blue})};G.add.artb.artboardBackgroundType={t:"long",v:4}}F.GJ(W.layers,g,N,K,r,R,Q)}else if(B&&!f){G.add.vmsk=new x.Lb;
G.add.vstk=JSON.parse(JSON.stringify(aU.WL.default));G.add.vstk.strokeEnabled.v=!1;G.add.vogk=[];var U=H!=null&&H.frameFXMulti.v.length==1,j=u?u.fills:null,i=u?F.eG(K,j,z,N,G.getName(),g,F.Gn(Q,W.do_objectID+"_image")):[];
if(i.length==0){if(U)G.add.vstk.fillEnabled.v=!1;else G.add.iOpa=0;G.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.G.h$({u:0,S:0,R:0})}}}else{var k=i[0],P=null,w=null;
if(k.type=="SoFi"){P="SoCo";w=aU.av}if(k.type=="GrFl"){P="GdFl";w=aU.rn}if(k.type=="patternFill"){P="PtFl";
w=aU.r$}if(P!=null){G.add[P]={classID:"null"};for(var A=0;A<w.length;A++){var d=w[A];G.add[P][d]=k.U.v[d]}var y=k.U.v.Opct.v.val;
if(U&&y==0)G.add.vstk.fillEnabled.v=!1;else G.add.iOpa=Math.round(255*y/100)}}G.$J|=16;G.add.vmsk.W=F.MG(W.layers?W.layers:[W],W.layers?N:L,G.add.vogk);
var D=u?u.blur:null;if(D&&D.isEnabled&&D.type<=1)G.add.vmsk.JE=D.radius;if(G.add.vmsk.W.length==2){console.log("shape with no content:",G.getName())}if(U){var s=H.frameFXMulti.v[0].v,Z=G.add.vstk,aQ=u.borders[0];
H.frameFXMulti.v=[];ai.IGd(s,Z);var aI=u.borderOptions,aq=u.miterLimit;if(aI){var aa=aI.dashPattern;
Z.strokeStyleLineCapType.v.strokeStyleLineCapType=aU.WL.Zi[aI.lineCapStyle];Z.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aU.WL.join[aI.lineJoinStyle];
if(aa)Z.strokeStyleLineDashSet.v=ai.cH(aa,1/s.Sz.v.val);if(aq!=null)Z.strokeStyleMiterLimit.v=aq}}G.Zh(g)}else if(b=="bitmap"||f){var aD=f?u.fills[0]:null,_=f?aD.image.bdata:W.image.bdata,M=g.Qb(_,G.getName(),0,0);
M.$J=G.$J;G=M;var D=u.blur,jt=u.colorControls;if(D||jt){G.add.SoLd.filterFX=aN.uK();g.QA({id:G.add.SoLd.placed.v,rect:new v,buffer:I.m(1),s:new x.Ed});
var j=G.add.SoLd.filterFX.v.filterFXList.v;if(D){var aR=aN.Ee("GsnB",{});aR.v.enab.v=D.isEnabled;aR.v.Fltr.v.Rds.v.val=D.radius;
j.push(aR)}if(jt){var aL=jt.brightness,aw=jt.contrast,ap=jt.hue,al=jt.saturation;if(ap!=0||al!=1){var aR=aN.Ee("hue2",{});
aR.v.enab.v=jt.isEnabled;In.dI(aR.v.Fltr.v,0,[Math.round(ap*180/Math.PI),Math.round((al-1)*100),0]);
j.push(aR)}if(aL!=0||aw!=1){var aR=aN.Ee("brit",{});aR.v.enab.v=jt.isEnabled;aw=aw-1;if(aw>0)aw/=2;var ak=aR.v.Fltr.v;
ak.Brgh.v=Math.round(aL*255);ak.Cntr.v=Math.round(aw*255);ak.useLegacy.v=!0;j.push(aR)}}}if(f){var ao=aD.patternFillType;
if(ao==3){var aZ=G.rect.j/G.rect.F,aS=z.j/z.F;if(aZ<aS){N.translate(-(z.j*(1-aZ/aS))/2,0);N.scale(aS/aZ,1)}else{N.translate(0,-(z.F*(1-aS/aZ))/2);
N.scale(1,aZ/aS)}}}z.x=z.y=0;var an=I.e.Gl(z).D;N.eb();I.e.f(an,N,an);G.add.SoLd.Trnf=l.k.gf(an);G.add.SoLd.nonAffineTransform=l.k.gf(an);
G.lQ(g,!1)}else if(b=="text"){if(W.attributedString==null)continue;var IU=N.clone(),a_,aG,aB=0;IU.eb();
IU.Wh=IU.$Y=Math.min(IU.Wh,IU.$Y);G.add.lnsr="rend";G.add.TySh=aj.nS(0,0);G.add.TySh.pI=new v(0,0,z.j,z.F);
G.add.TySh.f=IU;var aM=W.attributedString;if(aM.archivedAttributedString)aM=aM.archivedAttributedString;
var av=aM.NSString;if(av==null)av=aM.string;if(av==null)av="";if(av["NS.string"])av=av["NS.string"];
if(R[W.do_objectID]!=null)av=R[W.do_objectID];var aA=F.Gn(Q,W.do_objectID+"_stringValue");if(aA)av=aA.value;
if(aM.attributes!=null){a_=[];aG=[];var IL=aM.attributes;for(var A=0;A<IL.length;A++){a_.push(IL[A].length,A);
aG.push(IL[A].attributes)}}else if(aM.NSAttributeInfo==null){a_=[av.length,0];aG=[aM.NSAttributes]}else{a_=aM.NSAttributeInfo["NS.data"];
aG=aM.NSAttributes;a_=RG.IZa(a_,aG)}for(var A=0;A<a_.length;A+=2)aB+=a_[A];if(aB!=av.length){while(aB>av.length){a_[a_.length-2]--;
aB--;if(a_[a_.length-2]==0){a_.pop();a_.pop()}}a_[a_.length-2]+=av.length-aB}av=av.replace(/\u2028/g,"\n");
av=av.replace(/\u2029/g,"\n");av=av.replace(/\r/g,"\n");var aV=G.add.TySh.m_;aj.ca(aV,0,av);if(av!=""){var Ia=W.textBehaviour,aK=u.textStyle,aE=aK?aK.verticalAlignment:0,Ij=F.IZD(aV,a_,aG,av),V=IU.$K(),as=aj.qh(aV,0,1),Rp=0;
if(as.dh.Font){var IQ=as.zS[as.dh.Font].Name;if(IQ=="FontAwesome"||IQ=="Ionicons")Ij*=.87}var Ih=as.dh.AutoLeading?0:as.dh.Leading*.6,ag=Math.max(Ij,Ih)*V,IE=z.j,ae=z.F;
if(Ia==0){aj.ci(aV,0);var Rj=aj.LD(as.gV);if(Rj==1)Rp=IE*V;if(Rj==2)Rp=IE*V*.5;if(aE==0)ag*=1;else ag*=.9}else{aj.ci(aV,1);
aj.gy(aV,[0,0,Math.round(IE),Math.round(ae)]);if(Ia==2&&aE==0)ag=ag*.2;else if(Ia==2&&aE==1){ag=V*.5*(ae-as.dh.FontSize)}else if(Ia==1&&aE==0)ag=ag*.2;
else ag=ag*.35}G.add.TySh.f.translate(Rp,ag)}}else if(b=="symbolInstance"||b=="symbolMaster"){var RQ=W.symbolID;
if(R[W.do_objectID])RQ=R[W.do_objectID].symbolID;var ab=F.Gn(Q,W.do_objectID+"_symbolID");if(ab)RQ=ab.value;
if(RQ=="")continue;var RM={};for(var d in R)RM[d]=R[d];if(W.overrides)for(var d in W.overrides)RM[d]=W.overrides[d];
var Rx=Q.slice(0);if(W.overrideValues)Rx=Rx.concat(W.overrideValues);var Iw=r[RQ];if(Iw==null){console.log("Unknown master master",W.symbolID);
continue}var qX=RG.cR(Iw.yD.frame),RC=qX.j/z.j,Rd=qX.F/z.F,Ip=N.clone();Ip.scale(RC,Rd);G.add.lsct=Ra.Ha;
G.TZ="pass";G.$J=24;G.Vd(W.isVisible);g._.push(g.ua());var ID=Iw.yD;if(g.yx.indexOf(ID)==-1){g.yx.push(ID);
F.GJ(ID.layers,g,Ip,K,r,RM,Rx);g.yx.pop()}}else if(b=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+b,W);continue}if(u&&u.contextSettings){var qB=u.contextSettings,Ii=qB.blendMode;
if(Ii<F.jW.length){G.TZ=ad.go[ad.kP.indexOf(F.jW[Ii])];if(h&&G.TZ=="norm")G.TZ="pass"}G.opacity=Math.round(G.opacity*qB.opacity)}if(H!=null){G.add.lmfx=H}g._.push(G);
if(W.hasClippingMask&&m.length>1){q.push(G);g._.push(g.ua())}}while(q.length!=0)F.BV(q.pop(),g)};RG.Gn=function(m,g){for(var L=0;
L<m.length;L++)if(m[L].overrideName.startsWith(g))return m[L]};RG.IZa=function(m,g){var L=0,K=[];while(L+1<m.length){var r=m[L];
L++;if(r>127){r+=128*(m[L]-1);L++;if(m[L-1]>127){r+=128*(m[L]-1);L++}}var R=m[L];L++;K.push(r,R)}return K};
RG.IZD=function(m,g,L,K){var r=RG,R=0,z=0,u=0;for(var Q=0;Q<K.length;Q++){var F=K.charCodeAt(Q),q=1473<=F&&F<=1479||1488<=F&&F<=1514||1520<=F&&F<=1524,n=1569<=F&&F<=1594||1600<=F&&F<=1749;
if(q||n)R++}var W=R>K.length/2;for(var Q=0;Q<g.length;Q+=2){var N=g[Q],G=14,o="DejaVuSans";if(N==0)continue;
var b=g[Q+1],B=L[b],h=aj.qh(m,z,z+N-1),A=B.NSColor;if(A==null){var A=B.MSAttributedStringColorDictionaryAttribute;
if(A==null)A=B.MSAttributedStringColorAttribute;if(A==null)A="0 0 0";else A=[A.red,A.green,A.blue].join(" ")}else if(r.eK(A)=="MSArchivedColor")A=A.dr+" "+A.dg+" "+A.db;
else if(A.NSRGB){A=A.NSRGB;A=X.dn(A,0,A.length-1)}else if(A.NSCMYK){A=A.NSCMYK;A=X.dn(A,0,A.length-1);
A=A.split(" ").map(parseFloat);var e=1-A[0],c=1-A[1],a=1-A[2],$=1-A[3];A=e*$+" "+c*$+" "+a*$}else if(A.NSWhite){A="1 1 1"}A=A.split(" ");
h.dh.FillColor={Type:1,Values:[1,parseFloat(A[0]),parseFloat(A[1]),parseFloat(A[2])]};var H=B.MSAttributedStringFontAttribute;
if(B.NSFont){G=B.NSFont.NSSize;o=B.NSFont.NSName}else if(H){if(H.attributes){H=H.attributes;G=H.size;
o=H.name}else{var f=H.NSFontDescriptorAttributes;if(f==null)f=H.UIFontDescriptorAttributes;H=f;G=H.NSFontSizeAttribute;
o=H.NSFontNameAttribute}if(o==null)o="DejaVuSans"}var u=Math.max(u,G);h.dh.FontSize=Math.round(G);aj.Fy(h,o);
var E=B.NSKern;if(E==null)E=B.kerning;if(E!=null)h.dh.Tracking=Math.round(1e3*E/G);if(B.NSUnderline!=null)h.dh.Underline=B.NSUnderline>0;
if(B.NSStrikethrough!=null)h.dh.Strikethrough=B.NSStrikethrough>0;if(B.MSAttributedStringTextTransformAttribute==1)h.dh.FontCaps=2;
var S=B.NSParagraphStyle;if(S==null)S=B.paragraphStyle;if(S){var V=S.paragraphSpacing;if(V!=null){h.gV.SpaceAfter=V}var J=S.NSAlignment;
if(J==null)J=S.alignment;if(J!=null){var U=0;if(!1){}else if(J==1)U=1;else if(J==2)U=2;else if(J==4)U=0;
else{U=J;console.log("unknown align",J)}if(W&&U<2)U=1-U;h.gV.Justification=U}var j=S.NSMinLineHeight;
if(j==null)j=S.minimumLineHeight;if(j!=null){h.dh.AutoLeading=!1;h.dh.Leading=j}}h.gV._Direction=W?1:0;
aj.cr(m,z,z+N,h);z+=N}return u};RG.IZw=function(m,g,L,K,r,R,Q){var F=RG,q=JSON.parse(aU.default),W=!1;
for(var n=0;n<aU.order.length;n++)q[aU.JS[n]]={t:"VlLs",v:[]};var z=L.fills,u=F.eG(m,z,K,r,R,g);for(var N=0;
N<2;N++){var b=L[["shadows","innerShadows"][N]];if(b==null)continue;var B=["DrSh","IrSh"][N],h=aU.JS[aU.order.indexOf(B)];
for(var n=0;n<b.length;n++){var A=b[n];if(!A.isEnabled)continue;if(A.contextSettings.opacity==0||A.color.alpha==0)continue;
var e=JSON.parse(aU.WV[aU.order.indexOf(B)]);q[h].v.unshift({t:"Objc",v:e});W=!0;e.Clr.v=F.dR(A.color);
e.blur.v.val=Math.round(A.blurRadius/r.$K());var c=r.clone();c.gE=c.Dv=0;c.eb();var a=c.SW(new jf(A.offsetX,A.offsetY)),$=Math.sqrt(a.x*a.x+a.y*a.y);
e.Dstn.v.val=Math.round($);e.lagl.v.val=Math.round(Math.atan2(a.y,-a.x)*(180/Math.PI));if(e.layerConceals)e.layerConceals.v=u.length!=0;
F.GE(A,e)}}var G=L.borders;if(G!=null&&(u.length==0||L.blur==null||!L.blur.isEnabled))for(var n=0;n<G.length;
n++){var o=G[n];if(!o.isEnabled)continue;var e=JSON.parse(aU.WV[aU.order.indexOf("FrFX")]),h=aU.JS[aU.order.indexOf("FrFX")];
q[h].v.unshift({t:"Objc",v:e});W=!0;e.Clr.v=F.dR(o.color);if(o.fillType!=0&&o.gradient){var H=F.jN(o.gradient,K,r,R),f=["Type","Angl","Ofst","Scl"];
for(var n=0;n<f.length;n++)e[f[n]]=H[f[n]];e.Grad.v=H.Grad.v;e.PntT.v.FrFl="GrFl"}e.Sz.v.val=o.thickness/r.$K();
e.Styl.v.FStl=["CtrF","InsF","OutF"][o.position];F.GE(o,e)}for(var n=Q?1:0;n<u.length;n++){var E=u[n],h=aU.JS[aU.order.indexOf(E.type)];
q[h].v.unshift(E.U);W=!0}return W?q:null};RG.eG=function(m,g,L,K,r,R,Q){if(g==null)return[];var F=RG,q=[];
for(var n=0;n<g.length;n++)if(g[n].isEnabled)q.push(g[n]);g=q;var W=[];for(var n=0;n<g.length;n++){var z=g[n],u=null,N=null;
if(z.fillType==0){u="SoFi";var b=JSON.parse(aU.WV[aU.order.indexOf("SoFi")]);N={t:"Objc",v:b};N.v.Clr.v=F.dR(z.color)}else if(z.fillType==1){u="GrFl";
N={t:"Objc",v:F.jN(z.gradient,L,K,r)}}else if(z.fillType==4&&z.image!=null){var B=z.image;if(Q)B=Q.value;
var h=ax.xo(B.bdata.buffer);if(h!=null&&h!="pdf"&&h!="eps"){var A,$=0,G=0,o=0;if(R.pK[B.key])A=R.pK[B.key];
else{var e=ax.EU(h).X_(B.bdata)[0];A={data:e.data,l:new v(0,0,e.wh.j,e.wh.F)};A.id=aH.lk()+"-d71c-11e5-b1ae-a548a96e5f9f";
A.name="someImage";A.qT=new Uint8Array(A.data);delete A.data;R.Zn(A);R.pK[B.key]=A}var b=JSON.parse(aU.WV[aU.order.indexOf("patternFill")]);
u="patternFill";N={t:"Objc",v:b};var c=z.patternFillType,a=z.patternTileScale;b.Algn.v=!0;b.Ptrn.v.Idnt.v=A.id;
if(c==0){$=a*A.l.j/Math.min(A.l.j,A.l.F);G=-K.gE;o=-K.Dv}else{$=Math.max(L.j/A.l.j,L.F/A.l.F);G=-K.gE-(A.l.j*$-L.j)/2;
o=-K.Dv-(A.l.F*$-L.F)/2}b.Scl.v.val=100*$*(1/K.$K());b.phase.v.Hrzn.v=Math.round(G/K.$K());b.phase.v.Vrtc.v=Math.round(o/K.$K())}}else if(z.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",z.fillType);
if(u!=null){F.GE(z,N.v);W.push({type:u,U:N})}}return W};RG.IXI=function(m){var g=RG,L=new v(0,0,1,1);
m=m.slice(0);while(!0){var K=!1;for(var r=0;r<m.length-1;r++){var R=m[r],Q=m[r+1],F=null,q=R.contextSettings;
if(R.fillType==0&&(q==null||q.opacity==1&&q.blendMode==0)&&R.color.alpha==1){var n="norm",W=1,q=Q.contextSettings;
if(q){W=q.opacity;n=ad._D(g.jW[q.blendMode])}if(Q.fillType==0){F=JSON.parse(JSON.stringify(Q));g.E$(F.color,R.color,F.color,L,n,W)}if(Q.fillType==1){F=JSON.parse(JSON.stringify(Q));
var z=F.gradient.stops;for(var u=0;u<z.length;u++)g.E$(z[u].color,R.color,z[u].color,L,n,W)}if(F!=null&&F.contextSettings){var q=F.contextSettings;
q.opacity=1;q.blendMode=0}}if(F!=null){m.splice(r,0,F);K=!0;break}}if(!K||m.length<2)break}return m};
RG.E$=function(m,g,L,K,r,R){var Q=RG,F=I.m(4);Q.BD(m,F);var q=I.m(4);Q.BD(g,q);I.h.dq(r,F,K,q,K,K,R);
Q.IZd(q,L)};RG.BD=function(m,g){g[0]=255*m.red;g[1]=255*m.green;g[2]=255*m.blue;g[3]=255*m.alpha};RG.IZd=function(m,g){g.red=m[0]/255;
g.green=m[1]/255;g.blue=m[2]/255;g.alpha=m[3]/255};RG.BV=function(m,g){m=m.clone();m.$J=24;m.vZ("Mask by "+m.getName());
g._.push(m);m.add.lsct=Ra.lG;m.add.lyid=g.WF();delete m.add.lmfx;delete m.add.SoCo;delete m.add.GdFl;
delete m.add.PtFl;delete m.add.iOpa;if(m.add.vmsk)m.add.vmsk.gg=!0;m.Zh(g);if((m.$J&16)==16)m.$J-=16;
if((m.$J&2)==2)m.$J-=2;m.TZ="pass";m.opacity=255};RG.jW="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
RG.jN=function(m,g,L,K){L=L.clone();L.eb();L.gE=L.Dv=0;var r=L.$K(),u=0,N=0;L.scale(1/r,1/r);var R=RG,Q=JSON.parse(aU.WV[aU.order.indexOf("GrFl")]),F=Q.Grad.v;
F.Intr.v=0;if(m==null)return Q;var q=m.gradientType,n=R.tb(m.from),W=R.tb(m.to);n.offset(-.5,-.5);W.offset(-.5,-.5);
n=L.SW(n);W=L.SW(W);var z=Math.atan2(-(W.y-n.y),W.x-n.x);Q.Type.v.GrdT=["Lnr","Rdl","Angl"][q];Q.Scl.v.val=100*jf.hQ(n,W);
if(q==0){Q.Angl.v.val=180/Math.PI*z;Q.Scl.v.val=100*jf.hQ(n,W);u=(n.x+W.x)/2;N=(n.y+W.y)/2}if(q==1){Q.Scl.v.val=200*jf.hQ(n,W);
u=n.x;N=n.y}if(q==2){Q.Angl.v.val=180/Math.PI*(z-Math.PI/2)}var b=Q.Ofst.v;b.Hrzn.v.val=u*100;b.Vrtc.v.val=N*100;
var B=[];for(var h=0;h<m.stops.length;h++){var A=m.stops[h],e=A.color;B.push([A.position,e?[e.red,e.green,e.blue]:[0,0,0],e.alpha])}I.G.IO(B,F);
return Q};RG.GE=function(m,g){var L=RG,K=1,r=m.contextSettings;if(r!=null){g.Md.v.BlnM=L.jW[r.blendMode];
K*=r.opacity}else g.Md.v.BlnM=L.jW[0];g.enab.v=m.isEnabled;if(g.uglg!=null)g.uglg.v=!1;if(m.color!=null)K*=m.color.alpha;
g.Opct.v.val=Math.round(K*100)};RG.dR=function(m){return I.G.h$(m?{u:m.red*255,S:m.green*255,R:m.blue*255}:{u:0,S:0,R:0})};
RG.MG=function(m,g,L){var K=RG,r=[{type:6},{type:8,all:0}];for(var R=0;R<m.length;R++){var Q=m[R],F=Q.booleanOperation,q=0,n=Q._class,B=!1;
if(n=="group"||n=="text"||n=="symbolInstance"||n=="slice"){console.log(n+" inside ShapeGroup");continue}if(F==-1)q=0;
else if(F==0)q=1;else if(F==1)q=2;else if(F==2)q=3;else if(F==3)q=0;if(R==0)q=1;var W=RG.cR(Q.frame),z=K.hM(Q,g),u=Q.path?Q.path:Q,N=[{type:0,length:0,au:q,OC:2,Et:0,XQ:0}],b=u.points;
for(var h=0;h<b.length;h++){var A=b[h],e=K.tb(A.curveTo),c=K.tb(A.point),a=K.tb(A.curveFrom);B=B||A.hasCurveFrom&&!a.TB(c)||A.hasCurveTo&&!e.TB(c)}var $=[];
if(!B){var G=[],o=b.length;if(o==0)continue;for(var h=0;h<o;h++){$[h]=b[h].cornerRadius;var A=K.tb(b[h].point);
G.push(A.x,A.y)}z.scale(1/W.j,1/W.F);z.eb();I.e.f(G,z,G);var H=I.q.Vn(G,$);N=N.concat(H);N[0].length=N.length-1}else{var f=b.length;
N[0].length=f;for(var h=0;h<f;h++){var A=b[h],E=A.curveMode,S=K.tb(A.point);N[1+h]={type:E==2||E==4?1:2,QR:A.hasCurveTo?K.tb(A.curveTo):S.clone(),Z:S,LM:A.hasCurveFrom?K.tb(A.curveFrom):S.clone()}}z.scale(1/W.j,1/W.F);
z.eb();I.q._R(N,z);var $=[];for(var h=0;h<f;h++){var A=b[h],E=A.curveMode,V=A.cornerRadius;if(E==1&&V!=0)$.push(V);
else $.push(0)}}if(!u.isClosed)for(var h=0;h<N.length;h++)N[h].type+=3;r=r.concat(N);var J=I.xV.ae(),j=K.eK(Q);
if(z.R==0&&z.OS==0){var i=z.gE,k=z.Dv,P=i+z.Wh,w=k+z.$Y,d=[i,k,P,w];if(j=="rectangle"&&$.length==4)J=I.xV.R_(2,d,$);
if(j=="oval")J=I.xV.R_(5,d)}L.push(J)}return r};RG.hM=function(m,g){var L=g.clone(),K=m.frame?RG.cR(m.frame):null;
if(K)L.translate(-K.x-K.j/2,-K.y-K.F/2);if(m.isFlippedHorizontal)L.scale(-1,1);if(m.isFlippedVertical)L.scale(1,-1);
L.rotate(-m.rotation*(Math.PI/180));if(K)L.translate(K.j/2,K.F/2);return L};RG.tb=function(m){m=m.slice(1,m.length-1).split(",");
return new jf(parseFloat(m[0]),parseFloat(m[1]))};RG.cR=function(m){return new v(m.x,m.y,m.width,m.height)};
RG.iy=function(m){return{_class:"rect",constrainProportions:!1,x:m.x,y:m.y,width:m.j,height:m.F}};function pj(){}pj.GT=function(m,g){var L=pj,K=UZIP.parse(m),r=JSON.parse(X.d_(K.manifest)),R=JSON.parse(X.d_(K["resources/graphics/graphicContent.agc"])).resources,Q=[],F=r.children;
for(var q=0;q<F.length;q++){var n=F[q];if(n.name=="artwork"){var W=n.children;for(var z=0;z<W.length;
z++)if(W[z]["uxdesign#bounds"]){var u=W[z],N=JSON.parse(X.d_(K["artwork/"+u.path+"/graphics/graphicContent.agc"]));
if(N.children.length!=1)throw"e";u._node=N.children[0];Q.push(u)}}}var b=[],B=new v;for(var q=0;q<Q.length;
q++){var u=Q[q],h=RG.cR(u["uxdesign#bounds"]);b.push(h);B=B.uM(h)}var A=RG.Gw(B,8192*8192);g.pR=!0;g.j=Math.round(B.j/A);
g.F=Math.round(B.F/A);g.buffer=I.m(g.j*g.F*4);g.wr(Q.length);var e=new aC(A,0,0,A,B.x,B.y);g.pK={};for(var q=0;
q<Q.length;q++){var u=Q[q],h=RG.cR(u["uxdesign#bounds"]),c=u._node,a=e.clone(),$=h.clone(),G=a.$K();
a.translate(-h.x,-h.y);$.x=-Math.floor(a.gE/G);$.y=-Math.floor(a.Dv/G);$.j=Math.floor($.j/G);$.F=Math.floor($.F/G);
a.translate(h.x,h.y);pj.eW(c,g,a,R,K,$);var o=g._[g._.length-1];o.vZ(u.name);o.IW($);if(q!=Q.length-1)o.add.lsct=Ra.Ha}delete g.pK;
console.log(g.N)};pj.kV=function(m){if(m==null)return new aC;return new aC(m.a,m.b,m.c,m.d,m.tx,m.ty)};
pj.eW=function(m,g,L,K,r,R){var Q=pj,F=m.type,q=m[F],n=m.style,W=Q.kV(m.transform),b,B="none",h,A="none",e,c;
W.eb();var z=L.clone();z.concat(W);var u=g.Co(),N=m.name;u.vZ(N?N.slice(0,250):"Layer");if(m.visible!=null)u.Vd(m.visible);
if(n){b=n.stroke;B=b?b.type:"none";h=n.fill;A=h?h.type:"none";e=n.filters;c=n.clipPath;if(n.opacity)u.opacity=Math.round(255*n.opacity);
if(A=="solid"&&h.color.alpha)u.opacity=Math.round(u.opacity*h.color.alpha);if(e){u.add.lmfx=Q.IZs(e);
for(var a=0;a<e.length;a++)if(e[a].type=="uxdesign#blur"){var $=e[a],G=$.params,o=G.brightnessAmount;
if(o==null)o=0;o=Math.abs(o/100);if(($.visible==null||$.visible==!0)&&G.backgroundEffect)u.opacity=Math.round(u.opacity*(o+(1-o)*G.fillOpacity))}}if(A=="pattern"&&h.pattern.meta.ux.uid=="")A="none"}if(F=="artboard"||F=="group"){if(c&&K.clipPaths[c.ref]){var H=K.clipPaths[c.ref].children[0],f=H.shape,E=f!=null&&f.type=="rect"&&f.width*f.height>1e6;
if(H.type!="text"&&!E){var W=Q.kV(H.transform);W.eb();var S=z.clone();S.concat(W);u.add.vmsk=new x.Lb;
u.add.vmsk.W=Q.MG(f);S=S.clone();S.eb();I.q._R(u.add.vmsk.W,S);u.Zh(g)}else if(!E)alert("Clipping by text has been ignored")}u.add.lsct=Ra.lG;
u.TZ="pass";u.$J=24;if(m.visible!=null)u.Vd(m.visible);g._.push(g.ua());var V=q.children,J=h;if(J)J=J.color;
if(J)J=J.value;if(h&&(A!="solid"||J.r!=255||J.g!=255||J.b!=255)){var U=g.Co();U.vZ("BACKGROUND");U.$J|=16;
U.add.vstk=JSON.parse(JSON.stringify(aU.WL.default));U.add.vmsk=new x.Lb;U.add.vmsk.W=Q.MG({type:"rect",x:R.x,y:R.y,width:R.j,height:R.F});
Q.jz(h,A,z,R,R,U,g,K,r);U.Zh(g);g._.push(U)}for(var a=0;a<V.length;a++){pj.eW(V[a],g,z,K,r,R)}}else if(F=="shape"&&m.shape.type=="rect"&&(m.shape.r==null||m.shape.r==0)&&A=="pattern"&&Math.abs(m.shape.width/m.shape.height-h.pattern.width/h.pattern.height)<.01){var j=h.pattern,i=j.meta.ux,k=i.uid,P=r["resources/"+k];
if(P==null){console.log(j);return}var w=g.Qb(P,u.getName(),0,0);w.$J=u.$J;w.opacity=u.opacity;u=w;var d=I.e.Gl(new v(0,0,j.width,j.height)).D,y=new aC;
y.scale(j.width/m.shape.width,j.height/m.shape.height);z.concat(y);z.eb();I.e.f(d,z,d);u.add.SoLd.Trnf=l.k.gf(d);
u.add.SoLd.nonAffineTransform=l.k.gf(d);u.lQ(g,!1)}else if(F=="shape"){u.$J|=16;u.add.vstk=JSON.parse(JSON.stringify(aU.WL.default));
u.add.vmsk=new x.Lb;u.add.vmsk.W=Q.MG(q);var D=I.q.Oe(u.add.vmsk.W,null),S=z.clone();S.eb();I.q._R(u.add.vmsk.W,S);
var s=I.q.Oe(u.add.vmsk.W,null);if(B=="none"){}else{var Z=b.color.value,aQ,aI;aQ="SoFi";var aq=JSON.parse(aU.WV[aU.order.indexOf("SoFi")]);
aI={t:"Objc",v:aq};aI.v.Clr.v=I.G.h$({u:Z.r,S:Z.g,R:Z.b});var aa=b.align,aD=b.cap;if(aa==null)aa="center";
var _=u.add.vstk;_.strokeEnabled.v=!0;_.strokeStyleLineWidth.v.val=b.width;if(aa)_.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aU.WL.ZE[["inside","center","outside"].indexOf(aa)];
if(aD)_.strokeStyleLineCapType.v.strokeStyleLineCapType=aU.WL.Zi[["butt","round","square"].indexOf(aD)];
var M=["SoFi","GrFl","patternFill"].indexOf(aQ),jt=[aU.av,aU.rn,aU.r$][M];_.strokeStyleContent.v={classID:aU.WL.yN[0]};
var aR=_.strokeStyleContent.v={classID:aU.WL.yN[M]};for(var a=0;a<jt.length;a++)aR[jt[a]]=aI.v[jt[a]]}if(e)for(var a=0;
a<e.length;a++)if(e[a].type=="uxdesign#blur"&&e[a].visible){var aL=e[a];u.add.vmsk.JE=aL.params.blurAmount}Q.jz(h,A,z,D,s,u,g,K,r);
u.Zh(g)}else if(F=="text"&&m.text){var aw=m.text,ap=aw.frame,al=n.font,ak=n.textAttributes,W=z.clone(),a_=0;
W.eb();u.add.lnsr="rend";u.add.TySh=aj.nS(0,0);u.add.TySh.pI=new v(0,0,100,100);u.add.TySh.f=W;var ao=u.add.TySh.m_,aZ=aw.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
aj.ca(ao,0,aZ);if(aZ!=""){var aS=aj.qh(ao,0,1),an=al.postscriptName;if(an==null)an=al.family;aj.Fy(aS,an);
aS.dh.FontSize=Math.round(al.size);if(h){var Z=h.color.value;aS.dh.FillColor={Type:1,Values:[1,Z.r/255,Z.g/255,Z.b/255]}}if(ak){if(ak.paragraphAlign)aS.gV.Justification=["left","right","center"].indexOf(ak.paragraphAlign);
if(ak.letterSpacing)aS.dh.Tracking=Math.round(ak.letterSpacing);if(ak.lineHeight){aS.dh.AutoLeading=!1;
aS.dh.Leading=Math.round(ak.lineHeight)}}aj.cr(ao,0,aZ.length,aS)}var IU=m.meta.ux.rangedStyles;if(IU)for(var a=0;
a<IU.length;a++){var q=IU[a],aG=Math.min(q.length,aZ.length-a_),aS=aj.qh(ao,a_,a_+aG),aM=q.textScript,av=q.underline,aA=q.fontSize,$=q.fill,IL=q.textTransform;
if(aM&&aM!="none")aS.dh.FontBaseline=aM=="superscript"?1:2;if(av!=null)aS.dh.Underline=av;if(aA!=null)aS.dh.FontSize=Math.round(aA);
if(IL!=null)aS.dh.FontCaps=IL=="uppercase"?2:0;if($!=null){var aB=$.value;aS.dh.FillColor={Type:1,Values:[1,(aB>>>16&255)/255,(aB>>>8&255)/255,(aB>>>0&255)/255]}}aj.cr(ao,a_,a_+aG,aS);
a_+=aG}if(ap.type=="area"){aj.ci(ao,1);aj.gy(ao,[0,0,ap.width,ap.height])}}else console.log(F,m);g._.push(u)};
pj.MG=function(m){var g=m.type,L=[{type:6},{type:8,all:0}];if(g=="rect"){var K=m.r,r=m.x,R=m.y,Q=m.width,F=m.height;
if(K==null)L=I.q.RD.Rect(r,R,Q,F,0);else L=L.concat([{type:0,au:1,length:8,Et:0,XQ:0,OC:1}]).concat(I.q.Vn([r,R,r+Q,R,r+Q,R+F,r,R+F],K,!1))}else if(g=="circle"){var K=m.r;
L=I.q.RD.gB(m.cx-K,m.cy-K,2*K,2*K)}else if(g=="ellipse"){var q=m.rx,n=m.ry;L=I.q.RD.gB(m.cx-q,m.cy-n,2*q,2*n)}else if(g=="path"||g=="compound"){var W=Typr.U.SVGToPath(m.path);
L=I.e.Nk({O:W.cmds,D:W.crds},!1)}else if(g=="line"){var z=m.x1,u=m.x2,N=m.y1,b=m.y2;L=L.concat([{type:0,au:1,length:2,Et:0,XQ:0,OC:1}]).concat(I.q.Vn([z,N,u,b],0,!0))}else if(g=="polygon"){var B=m.points,h=[];
for(var A=0;A<B.length;A++)h.push(B[A].x,B[A].y);L=L.concat(I.q.RD.dN(h,0,!1).slice(2))}else console.log(g,m);
return L};pj.IZs=function(m){var g=JSON.parse(aU.default);for(var L=0;L<aU.order.length;L++)g[aU.JS[L]]={t:"VlLs",v:[]};
for(var L=0;L<m.length;L++){var K=m[L],r=K.type,R=K.params,Q=K.visible;if(r=="dropShadow"){var F=aU.JS[aU.order.indexOf("DrSh")],q=JSON.parse(aU.WV[aU.order.indexOf("DrSh")]);
g[F].v.unshift({t:"Objc",v:q});var n=R.dropShadows;if(n.length!=1)throw"e";var W=n[L],z=W.color,u=z.value,N=W.dx,b=W.dy;
q.Clr.v=I.G.h$({u:u.r,S:u.g,R:u.b});q.Opct.v.val=Math.round((z.alpha!=null?z.alpha:1)*100);q.uglg.v=!1;
q.enab.v=Q!=null?Q:!0;q.lagl.v.val=Math.round(180/Math.PI*Math.atan2(b,-N));q.Dstn.v.val=Math.round(Math.sqrt(N*N+b*b));
q.blur.v.val=Math.round(W.r*2.3)}}return g};pj.jz=function(m,g,L,K,r,R,Q,F,q){var n=pj;if(g=="none"){R.add.vstk.fillEnabled.v=!1;
R.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.G.h$({u:0,S:0,R:0})}}}else{var W,z,u;if(g=="solid"){var N=m.color.value;
W="SoCo";z=aU.av;var b=JSON.parse(aU.WV[aU.order.indexOf("SoFi")]);u={t:"Objc",v:b};u.v.Clr.v=I.G.h$({u:N.r,S:N.g,R:N.b})}else if(g=="gradient"){W="GdFl";
z=aU.rn;var b=JSON.parse(aU.WV[aU.order.indexOf("GrFl")]),B=b.Grad.v,a,$,G;B.Intr.v=0;var h=m[g],A=h.ref?F.gradients[h.ref]:h.meta.ux.gradientResources,e=["linear","radial"].indexOf(A.type),c=A.stops;
b.Type.v.GrdT=["Lnr","Rdl","Angl"][e];if(e==0){var a=new jf(h.x1,h.y1),$=new jf(h.x2,h.y2);a.x=$.x+.5*(a.x-$.x);
a.y=$.y+.5*(a.y-$.y)}else{var a=new jf(h.cx,h.cy),$=new jf(h.cx+h.r,h.cy)}G=r;if(h.units=="objectBoundingBox"){var o=new aC(K.j,0,0,K.F,K.x,K.y);
a=o.SW(a);$=o.SW($)}var o=n.kV(h.transform);a=o.SW(a);$=o.SW($);o=L.clone();o.eb();a=o.SW(a);$=o.SW($);
I.G.By(a,$,G,b);var H=[];for(var f=0;f<c.length;f++){var E=c[f],S=E.color,N=S.value,V=S.alpha;if(V==null)V=1;
H.push([E.offset,[N.r/255,N.g/255,N.b/255],V])}I.G.IO(H,B);u={t:"Objc",v:b}}else if(g=="pattern"){W="PtFl";
z=aU.r$;var b=JSON.parse(aU.WV[aU.order.indexOf("patternFill")]),P,D=1,s=0,Z=0,aQ=1;u={t:"Objc",v:b};
var J=m[g],U=J.meta.ux,j=U.uid,i=q["resources/"+j].buffer,k=ax.xo(i);if(Q.pK[j])P=Q.pK[j];else{var w=new v(0,0,J.width,J.height),d;
if(w.L_()){w=new v(0,0,1,1);d=new ArrayBuffer(4)}else{var T=ax.EU(k);if(T.$v){var y=new aH;T.X_(i,y);
d=y.os().buffer}else d=T.X_(i)[0].data}P={data:d,l:w};P.id=aH.lk()+"-d71c-11e5-b1ae-a548a96e5f9f";P.name="someImage";
P.qT=new Uint8Array(P.data);delete P.data;Q.Zn(P);Q.pK[j]=P}b.Algn.v=!0;b.Ptrn.v.Idnt.v=P.id;if(U.scaleBehavior=="cover"){D=aQ*Math.max(r.j/P.l.j,r.F/P.l.F);
if(U.scale!=null)D*=U.scale;s=r.x-(P.l.j*D-r.j)/2;Z=r.y-(P.l.F*D-r.F)/2;if(U.offsetX!=null)s+=U.offsetX*P.l.j*D;
if(U.offsetY!=null)Z+=U.offsetY*P.l.F*D}else if(U.scaleBehavior=="fill"){D=aQ*Math.min(r.j,r.F)/Math.max(P.l.j,P.l.F);
s=r.x-(P.l.j*D-r.j)/2;Z=r.y-(P.l.F*D-r.F)/2}else throw"Unknown scale behaviour";b.Scl.v.val=100*D;b.phase.v.Hrzn.v=Math.round(s);
b.phase.v.Vrtc.v=Math.round(Z)}else console.log(g);if(W!=null){R.add[W]={classID:"null"};for(var f=0;
f<z.length;f++){var aI=z[f];R.add[W][aI]=u.v[aI]}}}};function Ie(){}Ie.GT=function(m,g){m=new Uint8Array(m);
var L=X.d_(m,0,m.length),K=new DOMParser,r=K.parseFromString(L,"image/svg+xml"),R=r.getElementsByTagName("style")[0];
if(R)R=Typr.U.SVG.cssMap(R.textContent);else R={};var Q=r.firstChild;while(Q.tagName!="svg")Q=Q.nextSibling;
var F=new v(0,0,100,100),q=Q.getAttribute("viewBox"),n=Q.getAttribute("width"),W=Q.getAttribute("height");
if(q){var z=Ie.h_(q);F.x=z[0];F.y=z[1];F.j=z[2];F.F=z[3]}else if(n!=null||W!=null){F.j=n!=null?parseFloat(n):parseFloat(W);
F.F=W!=null?parseFloat(W):parseFloat(n)}F=I.e.uV(F);g.pR=!0;g.j=F.j;g.F=F.F;g.buffer=I.m(F.c()*4);var u=new aC(1,0,0,1,-F.x,-F.y),N={Wx:Ie.Fq(Q),ILB:R};
Ie.CB(r,Q.children,g,u,N,new aC,0);if(g._.length==0){var b=g.Co();b.vZ("Layer");g._.push(b)}};Ie.h_=function(m){var g=" ";
if(m.indexOf(",")!=-1)g=",";return m.split(g).map(parseFloat)};Ie.CB=function(m,g,L,K,r,R,Q){var F=Ie,q=["display","opacity","fill-opacity"];
for(var n=0;n<g.length;n++){var W=g[n],z=W.tagName,u=W.getAttribute("id"),N=F.Fq(W,r.ILB),B=13,a=1,o="clip-path",H=null;
for(var b in r.Wx)if(q.indexOf(b)==-1&&N[b]==null)N[b]=r.Wx[b];if(N["font-size"])B=F.GB(N["font-size"],B);
if(W.getAttribute("dx"))K.gE+=F.GB(W.getAttribute("dx"),B);if(W.getAttribute("dy"))K.Dv+=F.GB(W.getAttribute("dy"),B);
var h=F.FI(W);h.concat(K);var A=W.getAttribute("visibility"),e=N.display,c=L.Co();if(A=="hidden"||e=="none")c.Vd(!1);
c.vZ(u!=null?u.split(":::")[0]:"Layer");if(N.opacity)a*=parseFloat(N.opacity);if(N["fill-opacity"]){var $=parseFloat(N["fill-opacity"]);
if($!=0)a*=$}c.opacity=Math.round(255*a);if(N["mix-blend-mode"]){var G=ad.ILT.indexOf(N["mix-blend-mode"]);
if(G!=-1)c.TZ=ad.go[G]}if(W.getAttribute(o)==null)o="mask";if(W.getAttribute(o)!=null){var f=W.getAttribute(o);
f=f.slice(4,f.length-1);var E=m.getElementById(f.slice(1));if(E){var S=E.children;H=L.Co();H.vZ("Clip-Path"+(u?": "+u:""));
H.add.lsct=Q<2?Ra.lG:Ra.Ha;H.TZ="pass";H.$J=24;var V=H.add.vmsk=new x.Lb;L._.push(L.ua());var J=[];if(E.getAttribute(o)){var f=E.getAttribute(o);
f=f.slice(4,f.length-1);J=m.getElementById(f.slice(1)).children}for(var U=0;U<S.length;U++){var j=F.FI(S[U]);
j.concat(h);var i=F.MG(m,S[U],!1).slice(2);I.q._R(i,j);V.W=V.W.concat(i)}for(var U=0;U<J.length;U++){var j=F.FI(S[U]);
j.concat(h);var i=F.MG(m,J[U],!1).slice(2);for(var k=0;k<i.length;k++)if(i[U].au!=null)i[U].au=3;I.q._R(i,j);
V.W=V.W.concat(i)}H.js();H.Zh();Q++}}if(z=="g"||z=="a"||z=="svg"||z=="switch"||(z=="text"||z=="textPath")&&W.children.length>0){if(z=="text")R=F.Nd(W,R);
var P=W.getAttribute("viewBox"),w=W.getAttribute("width"),d=W.getAttribute("height");if(P&&w&&d){var T=Ie.h_(P),y=F.Nd(W),D=new aC;
D.translate(-T[0],-T[1]);D.scale(parseFloat(w)/T[2],parseFloat(d)/T[3]);D.translate(y.gE,y.Dv);D.concat(h);
h=D}var s=W.children.length,Z=r.Wx;r.Wx=N;var aQ=z!="text"&&z!="textPath"||s>1;if(aQ){var aI=c.WP();
c.add.lsct=Q<2&&aI&&(u==null||!u.endsWith(":::"))?Ra.lG:Ra.Ha;c.TZ="pass";c.$J=24;c.Vd(aI);L._.push(L.ua())}F.CB(m,W.children,L,h,r,R,Q+1);
if(aQ)L._.push(c);r.Wx=Z}else if(z=="use"){var D=F.Nd(W);D.concat(h);var aq=F.Fx(W),aa=m.getElementById(aq.slice(1)),Z=r.Wx;
r.Wx=N;F.CB(m,[aa],L,D,r,R,Q+1);r.Wx=Z}else if(z=="path"||z=="rect"||z=="circle"||z=="ellipse"||z=="polygon"||z=="polyline"||z=="line"){c.$J|=16;
c.add.vmsk=new x.Lb;c.add.vstk=JSON.parse(JSON.stringify(aU.WL.default));c.add.vstk.strokeEnabled.v=!1;
var aD=c.add.vstk,V=c.add.vmsk;V.W=F.MG(m,W,N["fill-rule"]=="evenodd");I.q._R(V.W,h);var _=I.q.Oe(V.W),M=N.stroke,jt=N["stroke-width"],aR=N["stroke-dasharray"],aL=N.fill,aw=N["stroke-linejoin"],ap=N["stroke-linecap"],al=N["paint-order"];
if(M==null||M=="none"||M=="null"){}else{var ak=F.he(m,M,h,_),ao=["SoFi","GrFl","patternFill"].indexOf(ak.type),aZ=[aU.av,aU.rn,aU.r$][ao],aS=aD.strokeStyleContent.v={classID:aU.WL.yN[ao]},an=1;
for(var U=0;U<aZ.length;U++)aS[aZ[U]]=ak.U.v[aZ[U]];jt=jt?parseFloat(jt):1;if(al&&al.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){an=2;
jt/=2}aD.strokeEnabled.v=!0;if(aw)aD.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aU.WL.join[["miter","round","bevel"].indexOf(aw)];
if(ap)aD.strokeStyleLineCapType.v.strokeStyleLineCapType=aU.WL.Zi[["butt","round","square"].indexOf(ap)];
aD.strokeStyleLineWidth.v.val=jt*l.k.$K(h);aD.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aU.WL.ZE[an];
aD.strokeStyleOpacity.v.val=100*(N["stroke-opacity"]?parseFloat(N["stroke-opacity"]):1);if(aR!=null&&aR!="none")aD.strokeStyleLineDashSet.v=ai.cH(aR.split(",").map(parseFloat),1/jt)}if(aL=="none"||N["fill-opacity"]&&parseFloat(N["fill-opacity"])==0){c.add.vstk.fillEnabled.v=!1;
c.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.G.h$({u:0,S:0,R:0})}}}else{var ak=F.he(m,aL,h,_),IU=null,a_=null;
if(ak.type=="SoFi"){IU="SoCo";a_=aU.av}if(ak.type=="GrFl"){IU="GdFl";a_=aU.rn}if(ak.type=="patternFill"){IU="PtFl";
a_=aU.r$}if(IU!=null){c.add[IU]={classID:"null"};for(var U=0;U<a_.length;U++){var b=a_[U];c.add[IU][b]=ak.U.v[b]}}}if(N.filter&&N.filter!="none"){var aG=N.filter;
aG=aG.slice(5,aG.length-1);var aM=m.getElementById(aG).children[0];if(aM.tagName=="feGaussianBlur"){c.add.vmsk.JE=parseFloat(aM.getAttribute("stdDeviation"))*l.k.$K(h)}}c.js();
c.Zh(L);L._.push(c)}else if((z=="text"||z=="tspan")&&W.textContent!=""){R=F.Nd(W,R);var D=R.clone();
D.concat(h);if(W.children.length>0){var av=F.Fq(W.children[0],r.ILB);for(var b in av)if(q.indexOf(b)==-1)N[b]=av[b]}var aA=N["xml:space"],IL=W.textContent;
if(aA=="preserve")IL=IL.replace(/\t/g," ").replace(/\n/g," ");if(u==null)c.vZ(IL);c.add.lnsr="rend";
c.add.TySh=aj.nS(0,0);c.add.TySh.pI=new v(0,0,100,100);c.add.TySh.f=D.clone();var aB=c.add.TySh.m_;aj.ca(aB,0,IL);
var aL=N.fill,aV=N["font-weight"],Ia=N["font-family"],aK=N["text-decoration"],M=N.stroke,jt=N["stroke-width"];
if(N["dominant-baseline"]=="text-before-edge")c.add.TySh.f.translate(0,B);var aE=aj.qh(aB,0,1);if(aL&&aL!="none"){var Ij=CSS.dR(aL);
aE.dh.FillColor={Type:1,Values:[1,Ij.u/255,Ij.S/255,Ij.R/255]}}if(aK=="underline")aE.dh.Underline=!0;
aE.dh.FontSize=Math.round(B);aj.Fy(aE,"LiberationSans");if(aV=="bold")aj.Fy(aE,"LiberationSans-Bold");
if(Ia){var as=Ia+":"+(aV?aV:"normal"),IQ={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(IQ[as])aj.Fy(aE,IQ[as]);else aj.Fy(aE,Ia)}if(N["text-anchor"])aE.gV.Justification=["start","end","middle"].indexOf(N["text-anchor"]);
aj.cr(aB,0,IL.length,aE);if(M==null||M=="none"){}else{var Ih=JSON.parse(aU.WV[aU.order.indexOf("FrFX")]);
Ih.Clr.v=I.G.h$(CSS.dR(M));Ih.Sz.v.val=Math.round(parseFloat(jt)*l.k.$K(D));var Rp=JSON.parse(aU.default);
for(var U=0;U<aU.order.length;U++)Rp[aU.JS[U]]={t:"VlLs",v:[]};Rp.frameFXMulti.v.push({t:"Objc",v:Ih});
c.add.lmfx=Rp}L._.push(c)}else if(z=="image"){var aq=F.Fx(W);if(aq.slice(0,4)=="data"){var ag=ax.zK(aq),IE=ag,ae=L.Qb(IE,c.getName(),0,0);
ae.$J=c.$J;c=ae;var Rj=c.rect.clone();Rj.x=Rj.y=0;var RQ=W.getAttribute("width"),ab=W.getAttribute("height");
if(RQ)Rj.j=parseFloat(RQ);if(ab)Rj.F=parseFloat(ab);var RM=F.Nd(W);RM.concat(h);var Rx=I.e.Gl(Rj).D;
I.e.f(Rx,RM,Rx);c.add.SoLd.Trnf=l.k.gf(Rx);c.add.SoLd.nonAffineTransform=l.k.gf(Rx);c.lQ(L,!1);L._.push(c)}}else console.log("unknown tag: "+z,W.children.length,W.textContent.length);
if(H!=null){L._.push(H);Q--}}};Ie.MG=function(m,g,L){var K=Ie,r=[{type:6},{type:8,all:0}],R=g.tagName;
if(R=="use"){var Q=K.Fx(g),F=m.getElementById(Q.slice(1)),q=new aC;if(F.tagName!="rect")q=K.Nd(F);q.concat(K.FI(F));
r=K.MG(m,F,L);I.q._R(r,q)}else if(R=="path"){var n=g.getAttribute("d");if(n==null)return r;var W=Typr.U.SVGToPath(n);
r=I.e.Nk({D:W.crds,O:W.cmds},L)}else if(R=="rect"){var z=g.getAttribute("rx"),u=K.Nd(g);r=I.q.RD.Rect(u.gE,u.Dv,parseFloat(g.getAttribute("width")),parseFloat(g.getAttribute("height")),z?parseFloat(z):0)}else if(R=="circle"||R=="ellipse"){var N=[0,0,0,0],b=["cx","cy","rx","ry","r"];
for(var B=0;B<5;B++){var h=g.getAttribute(b[B]);if(h){h=parseFloat(h);if(B<4)N[B]=h;else N[2]=N[3]=h}}r=I.q.RD.gB(N[0]-N[2],N[1]-N[3],2*N[2],2*N[3])}else if(R=="polygon"||R=="polyline"||R=="line"){var A;
if(R=="line")A=[g.getAttribute("x1"),g.getAttribute("y1"),g.getAttribute("x2"),g.getAttribute("y2")].map(parseFloat);
else A=g.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
r=I.q.RD.dN(A,0,R!="polygon")}return r};Ie.GB=function(m,g){if(m.charAt(m.length-1)=="m")return g*parseFloat(m.slice(0,m.length-2));
else return parseFloat(m)};Ie.he=function(m,g,L,K){var r,R,Q=Ie,F=JSON.parse(aU.WV[aU.order.indexOf("SoFi")]),q=g!=null?g.indexOf("("):-1;
if(q!=-1){var n=g.indexOf(")"),W=g.slice(0,q).trim(),z=g.slice(q+1,n).trim();if(z.charAt(0)=="'")z=z.slice(1,z.length-1);
if(W=="url"){if(z.charAt(0)=="#"){var u=m.getElementById(z.slice(1));if(u&&u.tagName.toLowerCase().endsWith("gradient")){var N=Q.jN(m,u,L,K);
r="GrFl";R={t:"Objc",v:N}}else{r="SoFi";R={t:"Objc",v:F}}}else console.log("unknown url",z)}else if(W=="rgb"){r="SoFi";
R={t:"Objc",v:F};R.v.Clr.v=I.G.h$(CSS.dR(g))}else console.log("unknown fill",g)}else{r="SoFi";R={t:"Objc",v:F};
R.v.Clr.v=I.G.h$(CSS.dR(g))}return{type:r,U:R}};Ie.FI=function(m){var g=new aC,L=m.getAttribute("transform");
if(L)g=Ie.Gh(L);var K=m.getAttribute("style");if(K!=null){var r={};Ie.FD(r,K,["transform"]);K=r.transform;
if(K)g.concat(Ie.Gh(K))}return g};Ie.Nd=function(m,g){var L=new aC,K=m.getAttribute("x"),r=m.getAttribute("y");
if(K)L.gE=parseFloat(K);else if(g)L.gE=g.gE;if(r)L.Dv=parseFloat(r);else if(g)L.Dv=g.Dv;return L};Ie.Gh=function(m){var g=Typr.U.SVG.readTrnf(m);
return new aC(g[0],g[1],g[2],g[3],g[4],g[5])};Ie.Fq=function(m,g){var L={},K="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var r=0;r<K.length;r++){var R=m.getAttribute(K[r]);if(R!=null&&R!="inherit")L[K[r]]=R}var Q=m.getAttribute("class");
if(g!=null&&Q!=null&&g["."+Q]!=null)Ie.FD(L,g["."+Q],K);var F=m.getAttribute("id");if(g!=null&&F!=null&&g["#"+F]!=null)Ie.FD(L,g["#"+F],K);
var q=m.getAttribute("style");if(q!=null)Ie.FD(L,q,K);return L};Ie.FD=function(m,g,L){g=g.trim().split(";");
for(var K=0;K<g.length;K++){var r=g[K].split(":"),R=r[0]?r[0].trim():"",Q=r[1]?r[1].trim():"";for(var F=0;
F<L.length;F++)if(R==L[F]&&Q!="inherit")m[L[F]]=Q}};Ie.Fx=function(m){var g=m.getAttribute("xlink:href");
if(g==null)g=m.getAttribute("href");return g};Ie.jN=function(m,g,L,K){var r=Ie,R=new aC,Q=g.getAttribute("gradientTransform");
if(Q)R=r.Gh(Q);R.concat(L);var F=JSON.parse(aU.WV[aU.order.indexOf("GrFl")]),q=F.Grad.v;q.Intr.v=0;var n=g.tagName,W=new jf(0,0),z=new jf(K.j,0);
if(n=="linearGradient"){F.Type.v.GrdT="Lnr";if(g.getAttribute("x1"))W.x=parseFloat(g.getAttribute("x1"));
if(g.getAttribute("y1"))W.y=parseFloat(g.getAttribute("y1"));if(g.getAttribute("x2"))z.x=parseFloat(g.getAttribute("x2"));
if(g.getAttribute("y2"))z.y=parseFloat(g.getAttribute("y2"));W.x=z.x+.5*(W.x-z.x);W.y=z.y+.5*(W.y-z.y)}if(n=="radialGradient"){F.Type.v.GrdT="Rdl";
if(g.getAttribute("cx"))W.x=parseFloat(g.getAttribute("cx"));if(g.getAttribute("cy"))W.y=parseFloat(g.getAttribute("cy"));
z.xF(W.x,W.y);if(g.getAttribute("r"))z.x+=parseFloat(g.getAttribute("r"))}if(g.getAttribute("gradientUnits")=="userSpaceOnUse"){W=R.SW(W);
z=R.SW(z)}else{W.x=K.x+W.x*K.j;W.y=K.y+W.y*K.F;z.x=K.x+z.x*K.j;z.y=K.y+z.y*K.F}I.G.By(W,z,K,F);var u=g.children;
if(u.length==0){var N=r.Fx(g);if(N==null)throw"gradient has no stops";var b=m.getElementById(N.slice(1));
if(b==null){console.log(N.slice(1));throw"e"}var B=r.jN(m,b,R,K);F.Grad=B.Grad}else{var h=[];for(var A=0;
A<u.length;A++){var e=u[A],c=r.Fq(e),a=c["stop-color"],$=c["stop-opacity"],G=e.getAttribute("offset");
if(a==null)a="#000000";if($==null)$="1";var o=G?parseFloat(G):0;a=CSS.dR(a);h.push([o,[a.u/255,a.S/255,a.R/255],parseFloat($)])}I.G.IO(h,q)}return F};
Ie.wX=function(m,g,L){var K=[],r=Ie;r.hC=g.ITE?"\t":"";var R=g.ICJ,Q=g.ICl;K.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+m.j+" "+m.F+"\" width=\""+R+"\" height=\""+Q+"\">");
var F={nW:[],r:[],yi:0,At:0,HU:0,HI:{},Hq:{},An:0,BZ:{},y_:{},yE:0,dd:[]};Ie.hn(m,F,m.root.children,1,g,L);
if(F.nW.length!=0){K.push(r.Ld(1)+"<defs>");K=K.concat(F.nW);K.push(r.Ld(1)+"</defs>")}K.push(r.Ld(1)+"<style>");
K.push(r.Ld(2)+"tspan { white-space:pre }");for(var q in F.BZ)K.push(r.Ld(2)+"."+q+" { "+F.BZ[q]+" } ");
K.push(r.Ld(1)+"</style>");K=K.concat(F.r);K.push("</svg>");K=K.join(g.ITE?"\n":"");var n=I.m(Math.round(K.length*1.5)),W=X.cZ(K,n,0);
if(r.zN){console.log(r.zN);var z="SVGParser.gen.db = [\n";for(var u=0;u<r.zN.length;u++){var N=r.zN[u];
z+="{\n\tnam: \""+N.lV+"\",\n\tpts: [\n";for(var b=0;b<N.VS.length;b++){var B=N.VS[b];z+="\t\t[\""+B[0]+"\", { cmds: "+JSON.stringify(B[1].O)+", crds:"+JSON.stringify(B[1].D)+" } ]"+(b==N.VS.length-1?"":",")+"\n"}z+="\t]\n}"+(u==r.zN.length-1?"":",")+"\n"}z+="]\n";
console.log(z)}return n.buffer.slice(0,W)};Ie.hC="";Ie.Ld=function(m){var g="";for(var L=0;L<m;L++)g+=Ie.hC;
return g};Ie.Tn=function(m){return""+parseFloat(m.toFixed(3))};Ie.hn=function(m,g,L,K,r,R){var Q=Ie;
for(var F=0;F<L.length;F++){var q=L[F].A,n=q.add.lsct,W=q.add.vmsk,z=q.add.vstk,u=q.add.TySh,N=[];if(!r.hidden&&!q.WP())continue;
var b=q.opacity/255,B=q.add.iOpa?q.add.iOpa/255:1;if(b!=1)N.push("opacity: "+Q.Tn(b));if(B!=1)N.push("fill-opacity: "+Q.Tn(B));
if(q.TZ!="norm"){var h=ad.ILT[ad.go.indexOf(q.TZ)];if(h!=null)N.push("mix-blend-mode: "+h)}if(!q.WP())N.push("display: none");
var A=[],e=[],c=q.getName(),a=c.indexOf(" .");if(a!=-1){e.push(c.slice(a+2));c=c.slice(0,a)}if(r.names)A.push("id=\""+Q.KW(c)+"\"");
var $=q.add.lmfx;if($)$=$.solidFillMulti.v[0];if($)$=$.v;if($&&!$.enab.v)$=null;if(q.EY()){if(Q.zN&&q.getName().split("-").length==3){Q.zN.push({lV:q.getName(),SU:0,VS:[]})}if(W||q.add.artb){var G;
if(W)G=I.q.Qt(W.W).KL;else{var o=q.vP(),H=I.e.Gl(o);G=Typr.U.pathToSVG({crds:H.D,cmds:H.O},2)}g.HU++;
A.push("clip-path=\"url(#cp"+g.HU+")\"");g.nW.push(Q.Ld(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+g.HU+"\">");
g.nW.push(Q.Ld(3)+"<path d=\""+G+"\" />");g.nW.push(Q.Ld(2)+"</clipPath>")}if(N.length!=0)A.push("style=\""+N.join(";")+"\"");
g.r.push(Q.Ld(K)+"<g "+Q.Nb(A,e)+">");Q.hn(m,g,L[F].children,K+1,r,R);g.r.push(Q.Ld(K)+"</g>")}else if(q.lo()&&W==null){var f=new v(0,0,m.j,m.F);
Q.hE(N,q.add,g,f);if(N.length!=0)A.push("style=\""+N.join(";")+"\"");g.r.push(Q.Ld(K)+"<rect width=\""+m.j+"\" height=\""+m.F+"\" "+Q.Nb(A,e)+" />")}else if(W){var f=I.q.Oe(W.W),G=I.q.Qt(W.W);
if(G.gw!=0){A.push("fill-rule=\"evenodd\"")}var E=G.KL;Q.hE(N,q.add,g,f);if(N.length!=0){var S=N.join(";"),V=g.y_[S];
if(V==null){V="shp"+g.yE;g.yE++;g.y_[S]=V;g.BZ[V]=S}e.push(V)}g.r.push(Q.Ld(K)+"<path "+Q.Nb(A,e)+" d=\""+E+"\" />");
if(Q.zN&&Q.zN[Q.zN.length-1]){var J=I.e.Ng(W.W);J.D=J.D.map(Math.round);var U=Q.zN[Q.zN.length-1];U.SU+=JSON.stringify(J).length;
U.VS.push([N[0].split("#").pop(),J])}}else if(u&&r.ICj){var j=u.m_,i=new RI(j,R);if($)A.push("fill=\""+CSS.ET($.Clr.v)+"\"");
var k=QE.YM(i,u),P=I.e.LL(k);for(var w in P){if($==null)A.push("fill=\""+w+"\"");var H=P[w],E=Typr.U.pathToSVG({crds:H.D,cmds:H.O},2);
g.r.push(Q.Ld(K)+"<path "+Q.Nb(A,e)+" d=\""+E+"\" />");if($==null)A.pop()}}else if(u&&!r.ICD){var j=u.m_,d=u.f.clone(),_=0,M=0;
if(aj.SE(j)==1){var y=aj.qh(j,0,0).gV.Justification,D=0,s=aj.gj(j)[2];if(y==2)D=s/2;if(y==1)D=s;d.translate(D,0)}N.push("transform: "+Q.vS(d));
var Z=aj.tq(j),aQ=j.EngineDict.ParagraphRun,aI=aQ.RunArray,aq=aQ.RunLengthArray;if(N.length!=0)A.push("style=\""+N.join(";")+"\"");
g.r.push(Q.Ld(K)+"<text "+Q.Nb(A,e)+" >");var aa=q.add.lmfx;if(aa)aa=aa.frameFXMulti.v[0];if(aa)aa=aa.v;
var aD=$?CSS.ET($.Clr.v):null;for(var jt=0;jt<aI.length;jt++){var aR=[],aL=aq[jt],aw=Z.slice(_,_+aL-1),ap=aj.qh(j,_,_),al=ap.zS[ap.dh.Font].Name;
if(g.dd.indexOf(al)==-1)g.dd.push(al);CSS.IvY(aR,ap,u.f,!0,r.dd,aD);if(aa){N.push("stroke: "+CSS.ET(aa.Clr.v));
N.push("stroke-width: "+aa.Sz.v.val)}var ak=ap.dh.FontSize*1.12;if(jt==0)ak=aj.SE(j)==0?0:ap.dh.FontSize;
M+=ak;if(aw!=""){var S=aR.join(";"),V=g.y_[S],aZ="";if(V==null){V="txt"+g.yE;g.yE++;g.y_[S]=V;g.BZ[V]=S}var ao=ap.dh.Tracking;
if(ao!=null&&ao!=0){ao=Math.round(ao*ap.dh.FontSize/1e3);aZ=" dx=\"0";for(var aS=1;aS<aw.length;aS++)aZ+=" "+ao;
aZ+="\" "}g.r.push(Q.Ld(K+1)+"<tspan x=\"0\" y=\""+Q.Tn(M)+"\" class=\""+V+"\""+aZ+">"+Q.KW(aw)+"</tspan>")}_+=aL}g.r.push(Q.Ld(K)+"</text>")}else if(q.add.SoLd){var an=q.add.SoLd,IU=an.Idnt.v,a_=0,aG=an.Crop?an.Crop.v:null;
if(g.Hq[IU]!=null)a_=g.Hq[IU];else{g.An++;a_=g.An;g.Hq[IU]=g.An;var aM=m.Ws(IU,aG),IL="";if(aM==null)return;
var av=aM.E_,aA=ax.xo(aM.raw.buffer);if(aA=="pdf"){var aB=new aH("h");ax.PDF.X_(aM.raw.buffer,aB);aB.ZB();
aB.cv();aB.X();aB.cG();if(an.Crop&&an.Crop.v==1){l.ma.ad(aB,aB.root.ZM(aB,!0))}var aV=ax.SVG.Cf(aB,aB.j,aB.F,null,{dd:R});
IL="data:image/svg+xml;base64,"+ax.Er(aV)}else if(aA=="jpg"||aA=="png"||aA=="gif"||aA=="svg"){var Ia={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
IL="data:"+Ia[aA]+";base64,"+ax.Er(aM.raw.buffer)}else{IL=ax.fM(av[0].buffer,av[1].j,av[1].F)}g.nW.push(Q.Ld(2)+"<image width=\""+av[1].j+"\" height=\""+av[1].F+"\" id=\"img"+a_+"\" href=\""+IL+"\"/>")}var aK=I.i.fQ(an);
if(N.length!=0)A.push("style=\""+N.join(";")+"\"");var aE=Q.Nb(A,e);g.r.push(Q.Ld(K)+"<use "+aE+" href=\"#img"+a_+"\" transform=\""+Q.vS(aK)+"\"/>")}else if(!q.rect.L_()&&(r.IeB||u)){if(N.length!=0)A.push("style=\""+N.join(";")+"\"");
var aE=Q.Nb(A,e),Ij=q.buffer;if($)Ij=ai.IRs(Ij,$,q.rect);var as=q.rect;g.An++;var IL=ax.fM(Ij.buffer,as.j,as.F,"png",null,!0);
g.nW.push(Q.Ld(2)+"<image width=\""+q.rect.j+"\" height=\""+q.rect.F+"\" id=\"img"+g.An+"\" href=\""+IL+"\"/>");
g.r.push(Q.Ld(K)+"<use "+aE+" href=\"#img"+g.An+"\" x=\""+as.x+"\" y=\""+as.y+"\" />")}}};Ie.Nb=function(m,g){if(g.length!=0)m.push("class=\""+g.join(" ")+"\"");
return m.join(" ")};Ie.KW=function(m){return String(m).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
Ie.vS=function(m){var g=[m.Wh,m.R,m.OS,m.$Y,m.gE,m.Dv].map(Ie.Tn);return"matrix("+g.join(",")+")"};Ie.hE=function(m,g,L,K){var r=Ie,R=g.vstk,Q=g.vmsk,F=g.lmfx;
if(Q&&Q.JE!=0){var q=r.Tn(Q.JE);if(L.HI[q]==null){L.At++;L.HI[q]=L.At;L.nW.push(r.Ld(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+L.At+"\"> <feGaussianBlur stdDeviation=\""+q+"\" /> </filter>")}m.push("filter: url(#flt"+L.HI[q]+")")}var n=ai.Mk(F,g),W=n[0],z=n[1];
if(R&&!R.fillEnabled.v)m.push("fill: none");else if(W){var u=CSS.ET(W.Clr.v);m.push("fill: "+u)}else if(z){r.Fw(z,L,K);
m.push("fill: url(#grd"+L.yi+")")}if(R==null||!R.strokeEnabled.v)R=ai.M_(F);if(R&&R.strokeEnabled.v){var N=R.strokeStyleContent.v,b=N.classID;
if(b=="solidColorLayer")m.push("stroke: "+CSS.ET(N.Clr.v));else{r.Fw(N,L,K);m.push("stroke: url(#grd"+L.yi+")")}var B=aU.WL.Zi.indexOf(R.strokeStyleLineCapType.v.strokeStyleLineCapType),h=aU.WL.join.indexOf(R.strokeStyleLineJoinType.v.strokeStyleLineJoinType),A=R.strokeStyleOpacity.v.val/100,e=R.strokeStyleLineWidth.v.val,c=aU.WL.ZE.indexOf(R.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(c==2){e*=2;m.push("paint-order:stroke fill markers")}var a=R.strokeStyleLineDashSet.v,$=[];for(var G=0;
G<a.length;G++)$.push(Math.round(a[G].v.val*e));if(B!=0)m.push("stroke-linecap:"+["butt","round","square"][B]);
if(h!=0)m.push("stroke-linejoin:"+["miter","round","bevel"][h]);if(A!=1)m.push("stroke-opacity:"+r.Tn(A));
if(e!=1)m.push("stroke-width: "+r.Tn(e));if($.length!=0)m.push("stroke-dasharray: "+$.join(","))}};Ie.Fw=function(m,g,L){g.yi++;
var K=Ie,r=m.Grad.v,R=r.Clrs.v.slice(0),Q=r.Trns.v.slice(0),F=m.Ofst.v,q=m.Type.v.GrdT=="Rdl"?1:0,n=(q==1?"radial":"linear")+"Gradient",W=I.G.we(m,L);
if(q==0){W[0].x=W[1].x+2*(W[0].x-W[1].x);W[0].y=W[1].y+2*(W[0].y-W[1].y)}var z=K.Ld(2)+"<"+n+" id=\"grd"+g.yi+"\" gradientUnits=\"userSpaceOnUse\" ";
if(q==0)g.nW.push(z+" x1=\""+K.Tn(W[0].x)+"\" y1=\""+K.Tn(W[0].y)+"\" x2=\""+K.Tn(W[1].x)+"\" y2=\""+K.Tn(W[1].y)+"\">");
if(q==1)g.nW.push(z+" cx=\""+K.Tn(W[0].x)+"\" cy=\""+K.Tn(W[0].y)+"\" r=\""+K.Tn(jf.hQ(W[0],W[1]))+"\">");
var u=m.Rvrs.v;if(u){R.reverse();Q.reverse()}for(var N=0;N<R.length;N++){var b=R[N].v,B=N<Q.length?Q[N].v.Opct.v.val/100:1,B=B==1?"":"stop-opacity=\""+K.Tn(B)+"\"",h=b.Lctn.v/4096;
if(u)h=1-h;g.nW.push(K.Ld(3)+"<stop offset=\""+K.Tn(h)+"\" stop-color=\""+CSS.ET(b.Clr.v)+"\" "+B+" />")}g.nW.push(K.Ld(2)+"</"+n+">")};
Ie.RD=function(m,g,L,K,r){var R=[],Q=Ie.RD,F=!1,q={uP:m,PC:g,yF:[!0,!0,!0],Sb:!1,pe:L,ILW:0};q.Cg=Math.round(Math.max(m,g)*(.02+Q.Bz(q)*.03));
q.iq=Q.IEw(q);q.BX=Q.IED(q.iq,(Q.Bz(q)<.5?-1:1)*(.2+Q.Bz(q)*.3));if(Q.Bz(q)<.5){var n=q.iq;q.iq=q.BX;
q.BX=n}q.IEZ=Q.Bz(q)<.4&&Q.IEx(q.BX,{u:1,S:1,R:1})>.3;q.IEu=Q.Bz(q)<.5?0:1;R.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+m+" "+g+"\" width=\""+m+"\" height=\""+g+"\">");
q.HQ=K[Math.floor(Q.GW(q)*K.length)];q.HD=K[Math.floor(Q.GW(q)*K.length)];R.push("<style>");R.push("@font-face {  font-family: "+q.HQ[2]+";  src: url(rsrc/fonts/"+q.HQ[5]+");  }");
R.push("@font-face {  font-family: "+q.HD[2]+";  src: url(rsrc/fonts/"+q.HD[5]+");  }");R.push("</style>");
var W=[0,0,m,g],z=W;if(r==null)R.push("<path style=\"fill: "+Q.fG(q.iq)+"\" d=\""+Q.Rect(W[0],W[1],W[2]-W[0],W[3]-W[1])+"\" id=\"Background\" />");
else{q.Sb=!0;Q.hX(q,W,R,r)}if(Q.Bz(q)<.25&&!q.Sb){q.yF[0]=q.yF[2]=!1;Q.IZt(W,q,R);z=W}else if(Q.Bz(q)<.25||q.Sb)z=W;
else{var u=.52+Q.Bz(q)*.2;if(Q.Bz(q)<.5)u=1-u;var N=W.slice(0),b=W.slice(0);if(Q.Bz(q)<.5)N[2]=b[0]=Math.round(u*m);
else N[3]=b[1]=Math.round(u*g);if(Q.Bz(q)<.5){var n=N;N=b;b=n}z=N;Q.Inw(q,b,R,r)}Q.InD(q,z,R);R.push("</svg>");
R=R.join("\n");var B=I.m(Math.round(R.length*1.5)),h=X.cZ(R,B,0);return[B.buffer.slice(0,h),q.qr]};Ie.RD.IZt=function(m,g,L){var K=Ie.RD,r=m[2]-m[0],R=m[3]-m[1];
if(K.Bz(g)<.5){L.push("<path id=\"Border\" style=\"fill: "+K.fG(g.BX)+"\" d=\""+K.Iny(m[0],m[1],m[2]-m[0],m[3]-m[1],g.Cg)+"\" />")}else if(K.Bz(g)<-.4){K.InM(g,m,L)}else{var Q=K.Bz(g)<.5?0:1,F=(Q==0?R:r)/4,q=K.GV(g,Q,m,L,F,!0),q=K.GV(g,Q+2,m,L,F,!0,q)}};
Ie.RD.InD=function(m,g,L){var K=Ie.RD,r="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),R=2*Math.floor(K.Bz(m)*r.length/2),Q=g[2]-g[0],F=g[3]-g[1],n=0,z=0;
m.l$=(m.uP+Q)*.5*(.04+K.Bz(m)*.05);m.l$=Math.min(m.l$,F*.4,Q*.12);m.l$=Math.round(m.l$);var q=Math.min(m.l$*r[R].length*(.35+.3*K.Bz(m)),Q*.9),W=(g[1]+g[3])/2,u=I.xM(m.iq)<.85?{u:1,S:1,R:1}:{u:.1,S:.1,R:.1};
if(K.Bz(m)<.25&&m.yF[0]){z=0;n=g[0]+m.Cg}else if(K.Bz(m)<.33&&m.yF[2]){z=2;n=g[2]-m.Cg}else{z=1;n=(g[0]+g[2])/2}var N=u.u==1?"0,0,0":"255,255,255",b=m.Sb&&K.Bz(m)<1;
if(b){var B=g[0],h=Q,A=W-m.l$*1.1,e=m.l$*2.2,c=.7;if(z==1&&K.Bz(m)<.5){B=A=.2*Math.min(Q,F);h=Q-2*A;
e=F-A-A}else if(K.Bz(m)<.7){B=A=0;h=Q;e=F;c=.25}L.push("<path id=\"Strip\" style=\"fill: rgb("+N+"); opacity: "+c+"\" d=\""+K.Rect(B,A,h,e)+"\" />")}if(K.Bz(m)<.4){var a=m.l$*.07;
a*=1.5+K.Bz(m)*1;if(z==-1&&Q/F<3&&!b){L.push("<path id=\"Bar-bottom\" style=\"fill: "+K.fG(u)+"\" d=\""+K.Rect(n-q/2,W+m.l$*1.1-a/2,q,a)+"\" />");
L.push("<path id=\"Bar-top\"    style=\"fill: "+K.fG(u)+"\" d=\""+K.Rect(n-q/2,W-m.l$*1.1-a/2,q,a)+"\" />")}if(z!=1){L.push("<path id=\"Bar\" style=\"fill: "+K.fG(u)+"\" d=\""+K.Rect(n-a/2,W-m.l$*.8,a,m.l$*.8*2)+"\" />");
n+=(z==0?1:-1)*m.l$/3}}var $=m.l$*.4;L.push(K.hB(r[R+1],n,W+$*1.6,$,u,z,m.HD));L.push(K.hB(r[R],n,W+m.l$*.04,m.l$,u,z,m.HQ))};
Ie.RD.Inw=function(m,g,L,K){var r=g[2]-g[0],R=g[3]-g[1],Q=Math.max(r,R),F=Math.min(r,R),q=Ie.RD;if(Q/F<5&&!m.Sb&&!1){q.hX(m,g,L,K)}else if(q.Bz(m)<0)L.push("<path style=\"fill: "+q.fG(m.BX)+"\" d=\""+q.Rect(g[0],g[1],r,R)+"\" />");
else{var n=0;if(g[3]!=m.PC)n=0;if(g[2]!=m.uP)n=3;if(g[0]!=0)n=1;if(g[1]!=0)n=2;var W=n+2&3;if(Q/F<3){var z=q.Inn(W),u=z[Math.round(q.Bz(m)*(z.length-1))],N=u.lV.slice(0,4),b=N.indexOf(1);
u=JSON.parse(JSON.stringify(u));var B=-1;if(N!="0000"){var h=new aC;if(u.lV[5]=="0"){if(b==3&&n==1){B=1;
h.scale(-1,1)}else B=b}else{var A=W;while(A==W)A=Math.floor(q.Bz(m)*4)&3;h.rotate((-b+A)*Math.PI/2)}q.f(u,h)}var e=q.Pt(u),c=r-2*m.Cg,a=R-2*m.Cg;
if(B!=-1){if((B&1)==0)a-=m.Cg;else c-=m.Cg}var $=Math.min(c/e.j,a/e.F),G=new aC;G.translate(-e.x,-e.y);
G.scale($,$);var o=(r-e.j*$)/2,H=(R-e.F*$)/2;if(B!=-1){if(B==3)o=0;if(B==0)H=0;if(B==1)o=r-e.j*$;if(B==2)H=R-e.F*$}G.translate(g[0]+o,g[1]+H);
q.nB(m,u,G,m.BX,L)}else{q.GV(m,n,g,L,1e9)}}};Ie.RD.hX=function(m,g,L,K){var r=g[2]-g[0],R=g[3]-g[1],Q=Math.max(r,R),F=Math.min(r,R),q=Ie.RD,n=q.GW(m),W,z,u,N=K[0]instanceof ArrayBuffer;
if(N){W="data:image/jpg;base64,"+RU.$S(K[0]);z=K[1];u=K[2]}else{var b=Math.floor(n*K.length),B=K[b];
m.qr=B;W=B.webformatURL;z=B.webformatWidth;u=B.webformatHeight}var h=g[0],A=g[1],e=r,c=R;if(r/R>z/u){c=e*u/z;
A=A-(c-R)/2}else{e=c*z/u;h=h-(e-r)/2}if(N){L.push("<defs>");L.push("<image width=\""+z+"\" height=\""+u+"\" id=\"Background\" href=\""+W+"\" />");
L.push("</defs>");var a=e/z;L.push("<use href=\"#Background\" transform=\""+Ie.vS(new aC(a,0,0,a,h,A))+"\" />")}else{var $="cp"+Math.random();
L.push("<clipPath id=\""+$+"\">");L.push("<path style=\"fill: "+q.fG(m.BX)+"\" d=\""+q.Rect(g[0],g[1],r,R)+"\" />");
L.push("</clipPath>");L.push("<image  clip-path=\"url(#"+$+")\" xlink:href=\""+W+"\" x=\""+h+"\" y=\""+A+"\" width=\""+e+"\" height=\""+c+"\" />")}};
Ie.RD.hB=function(m,g,L,K,r,R,Q){var F=Ie.RD;return"<text x=\""+g+"\" y=\""+L+"\" style=\"fill:"+F.fG(r)+"; font-size:"+K+"px; text-anchor:"+["start","middle","end"][R]+"; font-family:"+Q[2]+";\"><tspan>"+m+"</tspan></text>"};
Ie.RD.nB=function(m,g,L,K,r){var R=Ie.RD,Q=[];for(var F=0;F<g.VS.length;F++){Q.push(K);if(m.IEZ){K=(F&1)==m.IEu?{u:1,S:1,R:1}:Q[0]}}r.push("<g id=\""+g.lV.split("-")[2]+":::\" style=\"transform: "+Ie.vS(L)+";\" >");
for(var F=0;F<g.VS.length;F++){var q=g.VS[F];K=Q.pop();r.push("<path style=\"fill: "+(K?R.fG(K):"#"+q[0])+"\" d=\""+Typr.U.pathToSVG({crds:q[1].D,cmds:q[1].O})+"\" />")}r.push("</g>")};
Ie.RD.InM=function(m,g,L){var K=Ie.RD,r=Ie.RD.fi,R=[];for(var Q=0;Q<r.length;Q++){var F=r[Q],q=F.lV.slice(0,4);
if(q!="1001")continue;R.push(F)}var F=R[Math.floor(K.Bz(m)*R.length)];if(K.Bz(m)<.5)K.f(F,new aC(0,1,1,0,0,0));
var n=g[3]-g[1],W=g[2]-g[0],z=K.Pt(F),u=.7*Math.min(W,n,.5*Math.max(W,n))/Math.max(z.j,z.F),N=new aC;
N.scale(u,u);if(K.Bz(m)<.5){N.scale(1,-1);N.translate(0,n)}K.nB(m,F,N,m.BX,L);N.rotate(Math.PI);N.translate(W,n);
K.nB(m,F,N,m.BX,L)};Ie.RD.Inn=function(m){var g=Ie.RD.fi,L=[];for(var K=0;K<g.length;K++){var r=g[K],R=r.lV.slice(0,4);
if(R=="0000"){L.push(r);continue}if(["1000","0100","0010","0001"].indexOf(R)==-1)continue;var Q=R.indexOf("1");
if(r.lV[5]=="0"&&m==Q&&Q!=3)continue;L.push(r)}return L};Ie.RD.GV=function(m,g,L,K,r,R,Q){var F=Ie.RD.fi,q=Ie.RD,n=[],c,a;
for(var W=0;W<F.length;W++){var z=F[W],u=z.lV.slice(0,4);if(["1110","1101","1011","0111"].indexOf(u)==-1)continue;
var N=u.indexOf("0")+2&3;if(z.lV[5]=="0")if(R==!0||g!=N&&!(g==1&&N==3))continue;n.push(z)}var b=Q!=null?Q:Math.floor(q.Bz(m)*n.length),z=n[b],z=JSON.parse(JSON.stringify(z)),u=z.lV.slice(0,4),N=u.indexOf("0")+2&3;
if(N==3&&g==1)I.f(z,new aC(1,0,0,-1,0,1e3));var B=new aC;B.translate(-500,-500);B.rotate(-N*Math.PI/2);
B.translate(500,500);q.f(z,B);var h=L[3]-L[1],A=L[2]-L[0],e=q.Pt(z);if(e.y<0){e.F+=e.y;e.y=0}if(e.y>0){e.F+=e.y;
e.y=0}if((g&1)==0){a=h;c=A}else{c=h;a=A}var $=Math.min(Math.min(.5+.5*q.Bz(m))*Math.min(A,h),r)/e.F,G=Math.ceil(c/(1e3*$)),o=new aC,H=new aC;
H.scale($,$);if(g==0||g==2){H.translate(-(A/2),-(h/2));H.rotate(-g*Math.PI/2);H.translate(A/2+L[0],h/2+L[1])}else{H.rotate(Math.PI/2);
H.scale(1,-1);H.translate(L[0],L[1]);if(g==1){H.scale(-1,1);H.translate(A,0)}}K.push("<g id=\"Border-"+["top","right","bottom","left"][g]+":::\">");
for(var W=0;W<G;W++){var f=o.clone();f.concat(H);q.nB(m,z,f,m.BX,K);o.translate(1e3-2,0)}K.push("</g>");
return b};Ie.RD.Rect=function(m,g,L,K){return Typr.U.pathToSVG({crds:[m,g,m+L,g,m+L,g+K,m,g+K],cmds:["M","L","L","L","Z"]})};
Ie.RD.Iny=function(m,g,L,K,r){var R=[m,g,m+L,g,m+L,g+K,m,g+K];m+=r;g+=r;L-=2*r;K-=2*r;R.push(m,g,m,g+K,m+L,g+K,m+L,g);
return Typr.U.pathToSVG({crds:R,cmds:"M L L L Z M L L L Z".split(" ")})};Ie.RD.IED=function(m,g){var L=I.aO(m.u,m.S,m.R);
L.lS=Math.max(.1,Math.min(.9,L.lS+g));return I.FU(L.PC,L.Gr,L.lS)};Ie.RD.IXQ=function(m,g){var L=I.aO(m.u,m.S,m.R);
L.PC+=g;return I.FU(L.PC,L.Gr,L.lS)};Ie.RD.IXD=function(m){var g=I.aO(m.u,m.S,m.R);g.lS=1-g.lS;return I.FU(g.PC,g.Gr,g.lS)};
Ie.RD.IEx=function(m,g){var L=m.u-g.u,K=m.S-g.S,r=m.R-g.R;return Math.sqrt(L*L+K*K+r*r)};Ie.RD.IEw=function(m){var g=Ie.RD;
return{u:g.Bz(m),S:g.Bz(m),R:g.Bz(m)}};Ie.RD.fG=function(m){return CSS.Q_({u:m.u*255,S:m.S*255,R:m.R*255})};
Ie.RD.Pt=function(m){var g=m.VS,L=new v;for(var K=0;K<g.length;K++)L=L.uM(I.e.Pt(g[K][1].D));return L};
Ie.RD.f=function(m,g){var L=m.VS;for(var K=0;K<L.length;K++)I.e.f(L[K][1].D,g,L[K][1].D)};Ie.RD.Bz=function(m){m.ILW++;
var g=m.ILW&3;if(g==0)m.pe=Ie.RD.lP(m.pe);var L=m.pe>>>8*g&255;return L*(.99999999/255)};Ie.RD.GW=function(m){var g=Ie.RD.lP(m.pe);
m.pe=Ie.RD.lP(g);return g*(1/4294967295)};Ie.RD.lP=function(m){m=(m^61^m>>>16)>>>0;m=m+(m<<3)>>>0;m=(m^m>>>4)>>>0;
m=m*668265261>>>0;m=(m^m>>>15)>>>0;return m};Ie.RD.fi=[{lV:"0001-0-bird",VS:[["4b3c34",{O:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),D:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{O:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),D:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{O:"M C C C C C C C C C C C C L Z".split(" "),D:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{lV:"0001-0-bird2",VS:[["ff7f2a",{O:"M L L L Z M L L L Z".split(" "),D:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{O:"M C C C C C C C C C C C L Z".split(" "),D:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{O:"M C C C C C C L Z M C C Z".split(" "),D:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{O:"M L L L Z M L L L Z".split(" "),D:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{O:"M L C C C C C C C C L Z".split(" "),D:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{O:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),D:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{lV:"0000-1-flower",VS:[["7a59a2",{O:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),D:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{lV:"0000-1-flower",VS:[["d13777",{O:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),D:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{lV:"0000-1-flower",VS:[["ffac42",{O:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),D:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{lV:"0000-1-flower",VS:[["d04040",{O:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),D:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{lV:"0000-1-flower",VS:[["ec7272",{O:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),D:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{O:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),D:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{lV:"0000-0-hearts",VS:[["d17070",{O:"M C C C C C C C C C L Z".split(" "),D:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{O:"M C C C C C C C C C L Z".split(" "),D:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{O:"M C C C C C C C C C L Z".split(" "),D:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{lV:"0000-0-anchor",VS:[["2a3b66",{O:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),D:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{lV:"0000-1-leaf",VS:[["fbb600",{O:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),D:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{lV:"0000-1-acorn",VS:[["a05a2c",{O:"M C C C C C C C L Z".split(" "),D:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{O:"M C C C C C C C C C C C Z".split(" "),D:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{lV:"0000-0-skull",VS:[["808080",{O:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),D:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{lV:"0000-0-ghost",VS:[["e6e6e6",{O:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),D:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{O:"M C C C C Z M C C C C Z".split(" "),D:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{lV:"1001-1-rose",VS:[["9e1460",{O:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),D:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{O:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),D:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{lV:"1001-1-curls",VS:[["53a7ab",{O:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),D:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{O:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),D:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{lV:"0111-0-pines",VS:[["e9e9e9",{O:"M C C C C C C C C L L L Z".split(" "),D:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{O:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),D:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{lV:"0111-0-flowers",VS:[["8cae40",{O:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),D:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{O:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),D:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{lV:"1101-1-confetti",VS:[["e789ff",{O:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),D:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{O:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),D:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{lV:"1101-1-branch",VS:[["7f500b",{O:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),D:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{O:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),D:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{lV:"1101-1-sticks",VS:[["ec7272",{O:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),D:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{O:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),D:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{lV:"1101-1-dots",VS:[["ec7272",{O:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),D:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{O:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),D:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{O:["M","C","C","Z"],D:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{lV:"1101-1-strips",VS:[["ffc88c",{O:"M L L L L Z M L L L L Z M L L L L Z".split(" "),D:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{O:"M L L L L Z M L L L L Z M L L L L Z".split(" "),D:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{O:["M","C","C","Z"],D:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{lV:"1101-1-circs",VS:[["ec7272",{O:"M C C C C Z M C C C C Z".split(" "),D:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{O:"M C C C C Z M C C C C Z".split(" "),D:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{O:["M","C","C","Z"],D:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{lV:"1101-1-squares",VS:[["014ea7",{O:"M L L L L Z M L L L L Z".split(" "),D:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{O:"M L L L L Z M L L L L Z".split(" "),D:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{O:["M","C","C","Z"],D:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{lV:"1101-0-christmas",VS:[["014ea7",{O:"M C C C C Z M C C C C Z M L L L L Z".split(" "),D:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{O:"M C C C C Z M C C C C Z M L L L L Z".split(" "),D:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var Im={};Im.parse=function(m){var g=new Uint8Array(m),L=null;if(g[0]==80&&g[1]==75){var K=Date.now(),r=UZIP.parse(g.buffer),L=r["document.json"];
L=JSON.parse(X.d_(L,0,L.length));Im.Gs(L,r)}else{var R=IS.parse(m);L=Im.hV(R[2][0][1])}return L};Im.Gs=function(m,g){var L=typeof m;
if(L=="string"||L=="number"||L=="boolean")return m;if(m instanceof Array){for(var K=0;K<m.length;K++)m[K]=Im.Gs(m[K],g);
return m}var r=m._class;if(r==null)return m;if(r=="MSJSONFileReference"){var R=m._ref;if(!1){}else if(g[R+".json"]!=null){var Q=g[R+".json"],F=Q.length;
for(var K=0;K<F;K++)if(Q[K]==11||Q[K]==3)Q[K]=32;var q=X.d_(Q,0,F);m=JSON.parse(q)}else if(g[R+".png"]!=null)return{key:R.split("/").pop(),bdata:g[R+".png"]};
else if(g[R+".jpg"]!=null)return{key:R.split("/").pop(),bdata:g[R+".jpg"]};else if(g[R+".pdf"]!=null)return{key:R.split("/").pop(),bdata:g[R+".pdf"]};
else if(g[R]!=null)return{key:R.split("/").pop(),bdata:g[R]};else{console.log(m,g);return}}else if(r=="MSAttributedString"){var q=atob(m.archivedAttributedString._archive),n=q.length-1,W=new Uint8Array(n);
for(var K=0;K<n;K++)W[K]=q.charCodeAt(K);m.archivedAttributedString=Im.hV(W)}for(var z in m)m[z]=Im.Gs(m[z],g);
return m};Im.hh=function(m,g,L,K){if(m instanceof Uint8Array)return null;if(K.indexOf(m)!=-1)return null;
K.push(m);if(m==g)return L;for(var r in m){L.push(r);var R=Im.hh(m[r],g,L,K);if(R){console.log(m,R);
throw"e"}L.pop()}};Im.hV=function(m){var g=qr.parse(m,0),L=g.$objects,K=new Uint8Array(L.length),r=Im.ec(L,K,g.$top.root);
for(var R=0;R<L.length;R++)if(K[R]==0&&R!=0){console.log(R,L[R]);Im.hh(r,R,[],[])}for(var R=0;R<L.length;
R++){var Q=L[R];if(Q._class&&(Q._class=="bitmap"||Q._class=="fill"&&Q.fillType==4&&(Q.image||Q.imageSHA))){var F=Q.image,q=Q.imageSHA,n=null,W=null;
if(F=="$null")F=null;if(q=="$null")q=null;if(F&&F.data){W=F.sha1["NS.bytes"];W=btoa(X.dn(W,0,W.length));
n=F.data instanceof Uint8Array?F.data:F.data["NS.bytes"]}else if(F==null&&q==null){var z=ax.PNG.Cf([[I.m(4).buffer]],1,1);
n=new Uint8Array(z)}else{var u=(r.assets?r.assets.imageCollection:r.images).images;if(q)W=q instanceof Uint8Array?q:q["NS.bytes"];
else W=F.sha1["NS.bytes"];W=btoa(X.dn(W,0,W.length));var n=u[W].data;if(n["NS.bytes"])n=n["NS.bytes"]}n=new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.length));
delete Q.imageSHA;Q.image={key:W,bdata:n}}}return r};Im.IEL=function(m){return m.slice(0,11)=="MSImmutable"?"MS"+m.slice(11):m};
Im.ec=function(m,g,L){var K=m[L];if(g[L]==1){return K}g[L]=1;if(typeof K=="string")return K;if(typeof K=="number")return K;
if(typeof K=="boolean")return K;if(K instanceof Array)return K;if(K instanceof Uint8Array){return K}if(m[K.$class]==null){if(K.$class==null&&K["NS.data"]!=null)return K;
console.log(L,K);throw"e"}var r=m[K.$class],R=Im.IEL(r.$classname);g[K.$class]=1;K.$class=R;if(Im.rV[R]){delete K.$class;
K._class=Im.rV[R]}var Q=Im.ec;if(R=="NSMutableArray"||R=="NSArray"){var F=[];if(K["NS.objects"]!=null)for(var q=0;
q<K["NS.objects"].length;q++)F.push(Q(m,g,K["NS.objects"][q]));else for(var q=0;K["NS.object."+q]!=null;
q++)F.push(Q(m,g,K["NS.object."+q]));m[L]=F;return F}if(R=="NSDictionary"||R=="NSMutableDictionary"){var n={$class:R};
if(K["NS.keys"]!=null)for(var q=0;q<K["NS.keys"].length;q++){var W=Q(m,g,K["NS.keys"][q]);if(W instanceof Uint8Array)W=btoa(Im.vg.dn(W,0,W.length));
else if(typeof W!="string"&&typeof W!="number")W=btoa(Im.vg.dn(W["NS.bytes"],0,W["NS.bytes"].length));
n[W]=Q(m,g,K["NS.objects"][q])}else for(var q=0;K["NS.key."+q]!=null;q++){var W=Q(m,g,K["NS.key."+q]);
if(W instanceof Uint8Array)W=btoa(Im.vg.dn(W,0,W.length));else if(typeof W!="string"&&typeof W!="number")W=btoa(Im.vg.dn(W["NS.bytes"],0,W["NS.bytes"].length));
n[W]=Q(m,g,K["NS.object."+q])}for(var z in K)delete K[z];for(var z in n)K[z]=n[z];return K}if(R=="NSURL")return{$class:R,base:Q(m,g,K["NS.base"]),relative:Q(m,g,K["NS.relative"])};
if(Im.IEJ.indexOf(R)!=-1){m[L]=Q(m,g,K.array_do);return m[L]}if(K.do_objectID!=null)K.do_objectID=Q(m,g,K.do_objectID);
if(Im.IEl.indexOf(R)!=-1)return K;var u=Im.IEG[R];if(u==null){console.log(m,K);throw"unknown class "+R}for(var q=0;
q<u.length;q++)if(K[u[q]]!=null)K[u[q]]=Q(m,g,K[u[q]]);if(R=="MSTextLayer"){var N=K,b,B,h,A;if(N.attributedString)b=N.attributedString.archivedAttributedString;
else b=N.storage;A=b.NSString;if(typeof A!="string")A=X.d_(A["NS.bytes"],0,A["NS.bytes"].length);if(b.NSAttributeInfo)B=b.NSAttributeInfo["NS.bytes"];
else{var e=A.length,c=[];while(e>0){var a=Math.min(100,e);c.push(a,0);e-=a}B=new Uint8Array(c)}h=b.NSAttributes instanceof Array?b.NSAttributes:[b.NSAttributes];
var $={$class:"NSAttributedString",NSString:A,NSAttributes:h};N.attributedString={_class:"MSAttributedString",archivedAttributedString:$};
$.NSAttributeInfo={$class:"NSMutableData","NS.data":B};delete N.storage}return K};Im.vg={Di:function(m,g){return m[g+1]<<8|m[g]},d:function(m,g){return m[g+3]<<24|m[g+2]<<16|m[g+1]<<8|m[g]},dn:function(m,g,L){var K="";
for(var r=0;r<L;r++)K+=String.fromCharCode(m[g+r]);return K}};Im.rV={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
Im.IEJ=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
Im.IEl="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
Im.IEG={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var qr={};qr.parse=function(m,g){var L=X.dn(m,g,8);g+=8;var K=qr.parse.IEo(m,m.length-31),r=[];if(K.Ad==1){var g=m.length-31-K.Ad*K.AP;
for(var R=0;R<K.AP;R++)r.push(m[g+R])}else if(K.Ad==2){var g=m.length-31-K.Ad*K.AP;for(var R=0;R<K.AP;
R++)r.push(X.Di(m,g+R*2))}else if(K.Ad==4){var g=m.length-31-K.Ad*K.AP;for(var R=0;R<K.AP;R++)r.push(X.d(m,g+R*4))}else{throw"e"}var Q=qr.parse.ec(m,r,K.root,K);
return Q};qr.parse.ec=function(m,g,L,K){var r=qr.vg,R=K.IXR,Q=R==4?r.d:R==2?r.Di:r.IET,F=qr.parse,q=g[L],n=m[q],W=n>>4,z=n&15,N=null;
q+=1;if([4,5,6,10,12,13].indexOf(W)!=-1&&z==15){var u=F.dS(m,q);q+=u.SU;z=u.U}if(!1){}else if(W==0)N=z==8?!1:z==9?!0:null;
else if(W==1)N=F.dS(m,q-1).U;else if(W==2)N=1<<z==4?X.tr(m,q):X.GC(m,q);else if(W==3)N=X.GC(m,q);else if(W==4)N=new Uint8Array(m.buffer,q,z);
else if(W==5)N=X.dn(m,q,z);else if(W==6)N=X.lU(m,q,z);else if(W==8){N=0;for(var b=0;b<z+1;b++)N=N<<8|m[q+b]}else if(W==10){N=[];
for(var b=0;b<z;b++)N.push(F.ec(m,g,Q(m,q+R*b),K))}else if(W==12){N=[];for(var b=0;b<z;b++)N.push(F.ec(m,g,Q(m,q+R*b),K))}else if(W==13){N={};
for(var b=0;b<z;b++){var B=F.ec(m,g,Q(m,q+R*b),K),h=F.ec(m,g,Q(m,q+R*(z+b)),K);N[B]=h}}else throw"unknown mask "+W;
return N};qr.parse.dS=function(m,g){var L=1<<(m[g]&15),K=0;for(var r=0;r<L;r++)K=K<<8|m[g+1+r];return{U:K,SU:L+1}};
qr.parse.IEo=function(m,g){var L={};g+=6;L.Ad=m[g];g++;L.IXR=m[g];g++;g+=4;L.AP=X.d(m,g);g+=4;g+=4;L.root=X.d(m,g);
g+=4;g+=4;L.Ipa=X.d(m,g);g+=4;return L};qr.vg={IET:function(m,g){return m[g]},Di:function(m,g){return m[g]<<8|m[g+1]},d:function(m,g){return m[g]<<24|m[g+1]<<16|m[g+2]<<8|m[g+3]},dn:function(m,g,L){var K="";
for(var r=0;r<L;r++)K+=String.fromCharCode(m[g+r]);return K}};var IS={parse:function(m){var g=new Uint8Array(m),L=IS.JY(g),K=[],r=new Uint8Array(g.length),R=[];
K.push(R);IS.Gz(g,L,1,r,R);for(var Q=0;Q<R.length;Q++){var F=[];K.push(F);IS.Gz(g,L,R[Q][3],r,F);R[Q][3]=Q+1}return K},Gz:function(m,g,L,K,r){L--;
var R=L*g.pm+(L==0?100:0),Q=m[R],F=IS.Di(m,R+1);if(F!=0)throw"free block in a page";var q=IS.Di(m,R+3),n=IS.Di(m,R+5);
if(n==0)n=65536;var W=m[R+7],z=IS.Di(m,R+8);if(Q==2||Q==5)R+=4;else z=0;for(var u=0;u<q;u++){var N=L*g.pm+IS.Di(m,R+8+2*u),b=-1,B=0,h=0,A=0;
if(Q==2||Q==5){b=IS.d(m,N);N+=4}if(Q==2||Q==10||Q==13){B=IS.Fk(m,N);N+=B.SU}if(Q==5||Q==13){h=IS.Fk(m,N);
N+=h.SU}if(Q==5){IS.Gz(m,g,b,K,r);continue}var e=g.pm-(L==0?100:0),c=B.nw,a=Q==13?e-35:Math.floor((e-12)*64/255)-23,$=Math.floor((e-12)*32/255)-23,G=$+(c-$)%(e-4);
if(c<=a){IS.jR(m,N,K,0,c)}else{var o=G<=a?G:$,H=0;IS.jR(m,N,K,0,o);H+=o;A=IS.d(m,N+o);while(A!=0){var f=(A-1)*g.pm;
A=IS.d(m,f);var E=Math.min(g.pm-4,c-H);IS.jR(m,f+4,K,H,E);H+=E}}r.push(IS.IES(K,c))}},IES:function(m,g){var L=0,K=IS.Fk(m,L);
L+=K.SU;var r=[],R=[];while(L<K.nw){var Q=IS.Fk(m,L);L+=Q.SU;r.push(Q.nw)}if(L!=K.nw)throw"e";for(var F=0;
F<r.length;F++){var Q=r[F];if(!1){}else if(Q==0)R.push(null);else if(Q==1){R.push(IS.IXJ(m,L));L+=1}else if(Q==2){R.push(IS.cL(m,L));
L+=2}else if(Q==3){R.push(IS.IEC(m,L));L+=3}else if(Q==4){R.push(IS.dS(m,L));L+=4}else if(Q==7){R.push(IS.IXl(m,L));
L+=16}else if(Q==8)R.push(0);else if(Q==9)R.push(1);else if(Q>=12&&(Q&1)==0){var q=Q-13>>1,n=new Uint8Array(q);
IS.jR(m,L,n,0,q);R.push(n);L+=q}else if(Q>=13&&(Q&1)==1){var q=Q-12>>1;R.push(IS.d_(m,L,q));L+=q}else throw"unknonw type "+Q}return R},JY:function(m){if(!(m[18]==1&&m[19]==1&&m[20]==0&&m[21]==64&&m[22]==32&&m[23]==32))throw"unexpected SQL3 header";
var g={Hx:IS.dn(m,0,15),pm:IS.Di(m,16),Ipp:IS.d(m,24),size:IS.d(m,28),IpD:IS.d(m,32),Ipx:IS.d(m,36),Ipw:IS.d(m,40),IpL:IS.d(m,44),IpJ:IS.d(m,48),Ipl:IS.d(m,52),IJJ:IS.d(m,56),Ipo:IS.d(m,60),IpT:IS.d(m,64)!=0,IpS:IS.d(m,68),Ipi:IS.d(m,92),Ipk:IS.d(m,96)};
if(g.pm==1)g.pm=65536;if(g.IJJ!=1)throw"unsupported text encoding "+g.IJJ;return g},IEi:function(m,g){return m[g]<<16|m[g+1]<<8|m[g+2]},IEC:function(m,g){var L=IS.IEi(m,g),K=L&8388608;
return K?-(16777215-L+1):L},IXJ:function(m,g){IS.eN[0]=m[g];return IS.IXO[0]},dS:function(m,g){var L=IS.eN;
for(var K=0;K<4;K++)L[K]=m[g+3-K];return IS.IXd[0]},cL:function(m,g){var L=IS.eN;L[0]=m[g+1];L[1]=m[g];
return IS.IXV[0]},Di:function(m,g){return m[g]<<8|m[g+1]},d:function(m,g){return m[g]<<24|m[g+1]<<16|m[g+2]<<8|m[g+3]},IXl:function(m,g){var L=IS.eN;
for(var K=0;K<8;K++)L[K]=m[g+7-K];return IS.IXW[0]},Fk:function(m,g){var L=g,K=0;while(!0){var r=m[g];
g++;K=K*128+(r&127);if(r<128)break}return{nw:K,SU:g-L}},dn:function(m,g,L){var K="";for(var r=0;r<L;
r++)K+=String.fromCharCode(m[g+r]);return K},d_:function(m,g,L){var K="";for(var r=0;r<L;r++)K+="%"+IS.IXo(m[g+r].toString(16));
return decodeURIComponent(K)},jR:function(m,g,L,K,r){if(m[g+r-1]==null||L[K+r-1]==null){console.log(g,K,r);
throw"e"}for(var R=0;R<r;R++)L[K+R]=m[g+R]},IXo:function(m){return m.length<2?"0"+m:m}};IS.eN=new Uint8Array(8);
IS.IXO=new Int8Array(IS.eN.buffer);IS.IXV=new Int16Array(IS.eN.buffer);IS.IXd=new Int32Array(IS.eN.buffer);
IS.IXW=new Float64Array(IS.eN.buffer);function Rw(m,g,L){this.Mw=m;this.B_=g;this.IXi=L;this.pp=new jf(0,0);
this.BB=-1;this.BA=0;this.yY=0;this.iQ=new v;this.ij=[];this.HS=null;this.IJO=null;this.Hk=null;this.Af=null;
this.sT=null;this.IlC=null}Rw.prototype.StartPage=function(m,g,L,K){var r=this.B_,R=r.$K(),Q=1;while((L-m)*(K-g)*R*R/(Q*Q)>8e3*8e3)Q++;
r.scale(1/Q,1/Q);this.IJO=[m,g,L,K];var Q=r.$K();m=Math.round(m*Q);g=Math.round(g*Q);L=Math.round(L*Q);
K=Math.round(K*Q);var F=this.Mw,q=this.Hk;if(q==null){r.gE=-m}else{var n=q[2]-q[0]+30,W=Math.round(L-m)+30;
if(this.pp.x+n+W>8192){r.gE=-m;this.pp.x=0;this.pp.y+=this.yY+120;this.yY=0}else{r.gE+=n;this.pp.x+=n}}r.Dv=this.pp.y+(this.IXi?K:-g);
this.yY=Math.max(this.yY,Math.round(K-g));this.Hk=[m,g,L,K];F._.push(F.ua())};Rw.prototype.ry=function(){var m=this.Mw,g=m._[m._.length-1];
return g};Rw.prototype.KQ=function(){var m=JSON.parse(JSON.stringify(aU.WL.default));m.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
m.strokeEnabled.v=!1;m.fillEnabled.v=!1;return m};Rw.prototype.KT=function(){var m=this.Mw,g=m.Co();
g.vZ("Path "+m._.length);this.Mw._.push(g);g.$J|=16;g.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.G.h$({u:0,S:0,R:0})}};
g.add.vmsk=new x.Lb;g.add.vstk=this.KQ();return g};Rw.prototype.Gt=function(m){var g={D:m.crds,O:m.cmds},L=I.e.Nk(g,!1);
I.q._R(L,this.B_);return L};Rw.KS=function(m,g){for(var L=0;L<m.length;L++)if(m[L].au!=null)m[L].au=g};
Rw.IXb=function(m){return Math.sqrt(Math.abs(m[0]*m[3]-m[1]*m[2]))};Rw.vd=function(m){return I.G.h$({u:m[0]*255,S:m[1]*255,R:m[2]*255})};
Rw.F_=function(m){return new aC(m[0],m[1],m[2],m[3],m[4],m[5])};Rw.prototype.Stroke=function(m){if(this.BB!=-1&&this.BB!=this.BA)return;
if(m.pth.cmds.length<=1)return;var g=this.Gt(m.pth);if(g.length<=2)return;this.Fe(m);Rw.KS(g,-1);g[2].au=1;
var L=Rw.vd(m.COLR),K=this.ry(),r=this.KQ();r.strokeEnabled.v=!0;r.strokeStyleMiterLimit.v=m.mlimit;
r.strokeStyleLineDashSet.v=ai.cH(m.dash,1/m.lwidth);r.strokeStyleLineDashOffset.v.val=m.doff;r.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aU.WL.join[m.ljoin];
r.strokeStyleLineCapType.v.strokeStyleLineCapType=aU.WL.Zi[m.lcap];r.strokeStyleLineWidth.v.val=Math.max(.4,m.lwidth*Rw.IXb(m.ctm)*this.B_.$K());
r.strokeStyleContent.v.Clr.v=L;var R=K!=null&&K.add.vmsk!=null&&!K.EY(),Q=R&&!K.add.vstk.strokeEnabled.v&&x.Lb.Il_(K.add.vmsk.W,g,!0),F=R&&!K.add.vstk.fillEnabled.v&&JSON.stringify(r)==JSON.stringify(K.add.vstk);
if(F){Rw.KS(g,-1);K.add.vmsk.W=K.add.vmsk.W.concat(g.slice(2))}else if(Q){K.add.vstk=r;r.fillEnabled.v=!0}else{K=this.KT();
K.add.vmsk.W=g;K.add.vstk=r}};Rw.prototype.Fill=function(m,g){if(this.BB!=-1&&this.BB!=this.BA)return;
if(m.ca==0)return;var L=m.pth.cmds;if(L.length==0)return;if(L.length==2&&JSON.stringify(L)=="[\"M\",\"L\"]")return;
var K=I.e.Pt(m.cpth.crds),r=I.e.Pt(m.pth.crds);if(r.my(K).L_())return;var R=m.pth;if(this.Af==null&&UDOC.G.isBox(R,[r.x,r.y,r.x+r.j,r.y+r.F])&&r.Vp(K)){R=m.cpth}else this.Fe(m);
var Q=this.Gt(R),F=I.e.Gl(r);I.e.f(F.D,this.B_,F.D);r=I.e.Pt(F.D);var q=Rw.uB(m.colr,this.B_,r),n=this.ry(),W=n!=null&&n.add.vstk!=null&&!n.add.vstk.strokeEnabled.v&&n.add.SoCo&&q.type=="SoFi"&&JSON.stringify(n.add.SoCo.Clr.v)==JSON.stringify(q.U.v.Clr.v);
if(W){var z=!1;for(var u=0;u<Q.length;u++){if(Q[u].au==0||Q[u].au==2)z=!0}if(z){var N=I.e.Pt(I.q.dD(n.add.vmsk.W)),b=I.e.Pt(I.q.dD(Q));
W=N.my(b).L_()}}if(W){var B=n.add.vmsk.W;for(var u=2;u<Q.length;u++)B.push(Q[u])}else{n=this.KT();delete n.add.SoCo;
n.add.vmsk.W=x.Lb.QT(Q);Rw.jz(m.colr,n,this.B_,r);Rw.dO(m,n)}};Rw.jz=function(m,g,L,K){var r=Rw.uB(m,L,K),R=null,Q=null;
g.add.vstk.fillEnabled.v=!0;if(r.type=="SoFi"){R="SoCo";Q=aU.av}if(r.type=="GrFl"){R="GdFl";Q=aU.rn}if(r.type=="patternFill"){R="PtFl";
Q=aU.r$}if(R!=null){g.add[R]={classID:"null"};for(var F=0;F<Q.length;F++){var q=Q[F];g.add[R][q]=r.U.v[q]}}};
Rw.prototype.Fe=function(m){var g=this.Mw,L=m.cpth,K=L.cmds.join(""),r=L.crds,R=K+" "+r.join(","),Q=UDOC.G.isBox(L,this.IJO);
if(Q&&this.Af==null)return;if(R==this.Af)return;this.uq();if(!Q){this.Af=R;g._.push(g.ua());var F=g.Co();
F.vZ("Mask");F.add.lsct=Ra.Ha;F.TZ="pass";F.$J=24;var q=F.add.vmsk=new x.Lb;q.W=this.Gt(m.cpth);if(UDOC.G.isBox(L)){this.sT=I.q.Oe(q.W);
this.sT.XH(3,3)}else this.sT=null;this.IlC=F}};Rw.prototype.uq=function(){var m=this.Mw;if(this.Af!=null){var g=m._.length-1,L=g,K=!1;
while(L>=0&&m._[L].add.lsct!=Ra.vc)L--;var r=this.sT;if(r){var R=new v,Q=g;while(Q>L){R=m._[Q].vk(this.Mw,!1,!0);
Q--}K=r.Vp(R)}if(K){this.ij.splice(L,1);m._.splice(L,1)}else{m._.push(this.IlC)}this.Af=null}};Rw.uB=function(m,g,L){var K,r;
if(m.length!=null){K="SoFi";var R=JSON.parse(aU.WV[aU.order.indexOf("SoFi")]);r={t:"Objc",v:R};r.v.Clr.v=Rw.vd(m)}else{var Q=Rw.IBm(m,g,L);
K="GrFl";r={t:"Objc",v:Q}}return{type:K,U:r}};Rw.IBm=function(m,g,L){var K=JSON.parse(aU.WV[aU.order.indexOf("GrFl")]),r=K.Grad.v;
r.Intr.v=0;var R=Rw.F_(m.mat);R.concat(g);var Q=new jf(0,0),F=new jf(L.j,0),q=m.crds;if(m.typ=="rad"){K.Type.v.GrdT="Rdl";
var n=.7;Q.x=(1-n)*q[0]+n*q[3];Q.y=(1-n)*q[1]+n*q[4];F.x=Q.x;F.y=Q.y;F.x+=Math.max(q[2],q[5])}else{K.Type.v.GrdT="Lnr";
Q.x=q[0];Q.y=q[1];F.x=q[2];F.y=q[3];Q.x=F.x+.5*(Q.x-F.x);Q.y=F.y+.5*(Q.y-F.y)}Q=R.SW(Q);F=R.SW(F);I.G.By(Q,F,L,K);
var W=m.grad;I.G.IO(W,r);return K};Rw.prototype.PutText=function(m,g,L,K){var r=g.charCodeAt(0),u=null;
if(this.BB!=-1&&this.BB!=this.BA)return;if(g.length==0||g.length==1&&(r==0||r==8203))return;this.Fe(m);
var R=this.Mw,Q=m.font,F=Rw.F_(m.ctm);F.concat(this.B_);var q=Rw.F_(Q.Tm);q.concat(F);var n=l.k.$K(q),W=new aC(1/n,0,0,-1/n,0,0);
W.concat(q);var z=Q.Tfs*n;if(Q.Th!=100||Q.Trise!=0){console.log(Q)}var N=R._.length-1;while(N>=0&&R._[N].add.TySh==null)N--;
if(K==null&&N>=0&&R._[N].add.TySh){var b=R._[N],B=this.ij[N],h=b.add.TySh.f,A=(h.gE+B.iT-W.gE)/z,e=Math.abs(A),c=g.indexOf(" ")==-1,a=h.Wh==W.Wh&&h.R==W.R&&h.OS==W.OS&&h.$Y==W.$Y,$=a&&Math.abs(B.iS-W.Dv)<1e-5&&e<.6,G=W.Dv-B.iS;
if($){u=b;B.iT=W.gE-h.gE;if(A>.2&&c&&[".",",","?",":","!"].indexOf(g)==-1)g=" "+g}else if(a&&Math.abs(W.gE-h.gE)<1e-5&&0<G&&G<z*1.7&&B.IoD==z){u=b;
this.dw(B);B.iS=W.Dv;g="\n"+g}}if(u==null){N=R._.length;this.ij[N]={$T:[],iT:0,iS:W.Dv,HO:"",IoD:z};
u=R.Co();R._.push(u);u.add.lnsr="rend";u.add.TySh=aj.nS(0,0);u.add.TySh.f=W}var B=this.ij[N];B.iT+=L*z;
B.HO+=g;var o=u.add.TySh.m_,H=aj.tq(o);if(K){aj.ci(o,1);var f=[0,0,Math.ceil(K[0]*n),Math.ceil(K[1]*n)];
aj.gy(o,f)}var E=H.length-1,S=E+g.length;aj.ca(o,E,g);if(this.HS==null)this.HS=aj.qh(o,E,E);var V=this.HS;
V.dh.FontSize=Math.round(z);V.dh.Tracking=Math.round(Q.Tc*100);V.dh.Underline=Q.Tun==1;V.dh.FillColor={Type:1,Values:[1,m.colr[0],m.colr[1],m.colr[2]]};
if(Q.Tal!=null)V.gV.Justification=Q.Tal;if(B.$T.length!=0){V.dh.AutoLeading=!1;V.dh.Leading=B.iS-B.$T[B.$T.length-1].y}var J=Q.Tf;
J=J.replace(/#2B/g,"+");J=J.replace(/#2C/g,"-");J=J.split("+").pop();var U={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(U[J])J=U[J];aj.Fy(V,J);aj.cr(o,E,S-1,V);u.OV()};Rw.prototype.dw=function(m){m.$T.push({uP:m.iT,Dn:m.HO.slice(m.$T.length==0?0:1)+"\n",y:m.iS,Gr:m.IoD});
m.iT=0;m.HO=""};Rw.prototype.PutImage=function(m,g,L,K,r,R,Q){if(this.BB!=-1&&this.BB!=this.BA)return;
var F=this.Mw,q=m.font.Tmode;if(q==7&&F._[F._.length-1].add.TySh){return}this.Fe(m);var n=Rw.F_(m.ctm);
n.concat(this.B_);var W=new aC(1/L,0,0,-1/K,0,1);W.concat(n);n=W;g=Rw.WB(g,L,K);if(r)r=Rw.WB(r,L,K);
if(r==null){if(g.length==L*K*4)g=new Uint8Array(ax.PNG.Cf([[g.buffer,0]],L,K))}else{g=this.ck(g,L,K,R,!1);
r=this.ck(r,L,K,Q,!0);var z=I.m(L*K);I.Vl(r,z,0);I.eX(z,g,3);g=new Uint8Array(ax.PNG.Cf([[g.buffer,0]],L,K))}var u=F.Qb(g,"Bitmap",0,0),N=u.rect.clone();
N.x=N.y=0;var b=I.e.Gl(N).D;I.e.f(b,n,b);u.add.SoLd.Trnf=l.k.gf(b);u.add.SoLd.nonAffineTransform=l.k.gf(b);
u.lQ(F,!1);Rw.dO(m,u);F._.push(u)};Rw.dO=function(m,g){g.opacity=Math.round(255*m.ca);var L=Rw.Gf[m.bmode];
if(L==null)console.log("Unknown blend mode",L);else g.TZ=L};Rw.Gf={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
Rw.WB=function(m,g,L){var K=ax.xo(m.buffer);if(K=="jpg"){try{m=new Uint8Array(ax.JPG.Ia_(m.buffer))}catch(QX){m=new Uint8Array(g*L*4)}}if(K==null&&m.length!=g*L*4){var r=new Uint8Array(g*L*4),R=new Uint8Array(Math.ceil(g*L/8));
UTIF.decode._decodeG4(m,0,m.length,R,0,g,1);for(var Q=0;Q<g*L;Q++){var F=Q*4,q=(R[Q>>3]>>7-(Q&7)&1)*255;
r[F]=q;r[F+1]=q;r[F+2]=q;r[F+3]=255}m=r}return m};Rw.prototype.ck=function(m,g,L,K,r){if(m.length!=g*L*4){var R=ax.xo(m.buffer),Q=ax.EU(R);
if(Q==null||R=="tga")Q=ax.EU("jpg");m=new Uint8Array(Q.X_(m,K,r)[0].data)}return m};Rw.prototype.ShowPage=function(){var m=this.Mw;
this.BA++;var g=this.Hk;this.uq();var L=m.Co();m._.push(L);var K=new v(Math.round(this.pp.x),Math.round(this.pp.y),Math.round(g[2]-g[0]),Math.round(g[3]-g[1]));
this.iQ=this.iQ.uM(K);L.IW(K);L.vZ("Page "+this.BA);L.add.lsct=Ra.Ha;L.TZ="pass";L.$J=24};Rw.prototype.Print=function(m){console.log("Print:",m)};
Rw.prototype.Done=function(){var m=this.Mw;if(this.BA==1)m._[m._.length-1].add.lsct=Ra.lG;m.wr(this.BA);
for(var g=0;g<m._.length;g++){var L=m._[g],K=L.add.vmsk,r=L.add.TySh,R=this.ij[g];L.js();L.Zh(m);if(r&&R.$T.length!=0){this.dw(R);
var Q=r.m_,F=R.$T.length,q=R.$T[0],n=0,z=0;for(var W=0;W<F;W++)n=Math.max(n,R.$T[W].uP);aj.ci(Q,1);r.f.Dv-=q.Gr*.7;
aj.gy(Q,[0,0,Math.ceil(n*1.1),Math.ceil(R.$T[F-1].y-q.y+q.Gr*2)])}if(r){var Q=r.m_;aj.IOf(Q);var u=aj.tq(Q).split("\n");
for(var W=0;W<u.length-1;W++){var N=u[W],b=0;for(var B=0;B<N.length;B++){var h=N.charCodeAt(B);if(1473<=h&&h<=1524)b++}if(b>N.length/2){u[W]=N.split("").reverse().join("");
var A=Q.EngineDict.ParagraphRun.RunArray[W].ParagraphSheet.Properties;A._Direction=1;A.Justification=aj.LD(A)}}aj.__(Q,u.join("\n"))}}m.pR=!0;
m.j=this.iQ.j;m.F=this.iQ.F;m.buffer=I.m(this.iQ.c()*4)};var qy={};qy.wX=function(m,g,L,K){var r=!1,R=[m.root],Q=m.root.children;
if(m.add.artd){r=!0;for(var F=0;F<Q.length;F++)if(Q[F].A.add.artb==null)r=!1;if(r)R=Q}var q=new v(0,0,m.j,m.F),n=g[0];
n=n.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();n=n.split(" ");var W=[];for(var F=0;
F<n.length;F++){var z=n[F];if(z=="-"){var u=W.pop(),N=parseInt(n[F+1]);while(u<N){W.push(u);u++}}else W.push(parseInt(z))}n=W;
for(var F=0;F<n.length;F++)if(isNaN(n[F])||n[F]<1||n[F]>R.length){n.splice(F,1);F--}var b=72/m.Jt;for(var F=0;
F<R.length;F++){if(n.length!=0&&n.indexOf(F+1)==-1)continue;var B=R[F],h=r?B.A.vP():q,A=Math.round(h.j*b),e=Math.round(h.F*b);
L.StartPage(0,0,A,e);var c=UDOC.getState([[0,0,A,e]]),a=new aC;a.translate(-h.x,-h.y-h.F);a.scale(b,-b);
if(g[2]){var $=m.os();if(!q.TB(h)){$=I.m(h.c()*4);I.pq(m.os(),q,$,h)}if(g[1]!=100){var G=ax.JPG.Cf([[$.buffer]],h.j,h.F,[g[1]]);
$=new Uint8Array(G)}var o=new aC;o.translate(h.x,h.y);qy.zL(c,L,$,h,o,a)}else qy.YW(m,B,c,L,a,g,K);L.ShowPage()}L.Done()};
qy.Mo=function(m){m=I.G.EX(m);return[m.u/255,m.S/255,m.R/255]};qy.YW=function(m,g,L,K,r,R,Q){var F=g.A,q=F.add.lsct,n=F.add.lmfx,W=F.add.vmsk,z=F.add.vstk,u=F.add.TySh;
if(!F.WP())return;var N=F.opacity/255,b=F.add.iOpa?F.add.iOpa/255:1;for(var B in Rw.Gf)if(Rw.Gf[B]==F.TZ)L.bmode=B;
L.ca=L.CA=N*b;var h=n;if(h)h=h.solidFillMulti.v[0];if(h)h=h.v;if(h&&!h.enab.v)h=null;if(F.EY()){for(var A=0;
A<g.children.length;A++)qy.YW(m,g.children[A],L,K,r,R,Q)}else if(W){var e=W.W,c=I.q.Oe(e),a=I.e.Ng(e),$=!1,G=!1,o=!1;
I.e.f(a.D,r,a.D);L.pth={cmds:a.O,crds:a.D};if(z.fillEnabled.v){var H=ai.Mk(n,F.add),f=H[0],E=H[1];if(f){L.colr=qy.Mo(f.Clr.v)}else if(E){var S=E,V=[],J,U=S.Type.v.GrdT=="Rdl"?"rad":"lin",j=I.G.we(S,c),i=r.SW(j[0]),k=r.SW(j[1]);
if(U=="rad")J=[i.x,i.y,0,i.x,i.y,jf.hQ(i,k)];else{i.xF(k.x+(i.x-k.x)*2,k.y+(i.y-k.y)*2);J=[i.x,i.y,k.x,k.y]}var P=S.Grad.v.Clrs.v;
for(var A=0;A<P.length;A++){var w=P[A].v;V.push([w.Lctn.v/4096,qy.Mo(w.Clr.v)])}L.colr={typ:U,mat:[1,0,0,1,0,0],grad:V,crds:J}}$=!0}var d=ai.M_(n);
if(!z.strokeEnabled.v&&d)z=d;if(z.strokeEnabled.v){var T=z.strokeStyleContent.v,y=z.strokeStyleLineDashSet.v,D=aU.WL.ZE.indexOf(z.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(T.Clr==null)return;var s=I.G.EX(T.Clr.v);L.COLR=[s.u/255,s.S/255,s.R/255];L.lwidth=z.strokeStyleLineWidth.v.val*(D==2?2:1)*r.$K();
L.mlimit=z.strokeStyleMiterLimit.v;L.doff=z.strokeStyleLineDashOffset.v.val;L.ljoin=aU.WL.join.indexOf(z.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
L.lcap=aU.WL.Zi.indexOf(z.strokeStyleLineCapType.v.strokeStyleLineCapType);L.dash=[];for(var A=0;A<y.length;
A++)L.dash.push(y[A].v.val*L.lwidth);if(L.dash.length==1&&L.dash[0]==0)L.dash=[];G=!0;if(D==2)o=!0}if($&&!o)K.Fill(L);
if(G)K.Stroke(L);if($&&o)K.Fill(L)}else if(u&&R[4]){var Z=u.m_,aQ=new RI(Z,Q),a=QE.YM(aQ,u),aI=I.e.LL(a);
for(var s in aI){var aq=parseInt(s.slice(1),16);L.colr=h?qy.Mo(h.Clr.v):[(aq>>>16&255)/255,(aq>>>8&255)/255,(aq&255)/255];
var aa=aI[s];I.e.f(aa.D,r,aa.D);aa=I.e.I_S(aa);L.pth={cmds:aa.O,crds:aa.D};K.Fill(L)}}else if(u&&R[3]==!1){var Z=u.m_,aD=u.f.clone(),_=new aC(1,0,0,-1,0,0);
_.concat(aD);_.concat(r);var M=aj.tq(Z),aQ=new RI(Z,Q);for(var A=0;A<aQ.gV.length;A++){var jt=aQ.gV[A];
if(jt.$H.length==1&&jt.$H[0].HJ)continue;for(var aR=0;aR<jt._A.length;aR++){var aL=jt._A[aR],aw=jt.BG.y+aL.BG.y,ap=jt.$H[aL.start].start,al=jt.$H[aL.end-1].end,ak=aj.IOL(Z,ap,al);
for(var ao=0;ao<ak.length;ao++){var aZ=aQ.Y$(ap),aS=ak[ao],an=aj.qh(Z,ap,ap),IU=an.zS[an.dh.Font].Name;
L.font.Tf=IU;var s=aj.EX(an.dh);L.colr=h?qy.Mo(h.Clr.v):[s.u/255,s.S/255,s.R/255];L.font.Tfs=Math.round(an.dh.FontSize);
var a_=M.slice(ap,ap+aS);if(an.dh.FontCaps==2)a_=a_.toUpperCase();var aG=new aC;aG.translate(aZ.l.x,-aw);
aG.concat(_);L.ctm=[aG.Wh,aG.R,aG.OS,aG.$Y,aG.gE,aG.Dv];K.PutText(L,a_,0);L.ctm=[1,0,0,1,0,0];ap+=aS}}}}else if(!F.rect.L_()){var aM,av,aA=new aC;
if(F.add.SoLd){var IL=F.add.SoLd,aB=IL.Idnt.v,aV=m.Ws(aB,IL.Crop?IL.Crop.v:null),aE="";if(aV==null)return;
var Ia=aV.E_,aK=ax.xo(aV.raw.buffer);if(R[5].indexOf(aK)!=-1)aM=aV.raw;else aM=Ia[0];av=Ia[1];aA=I.i.fQ(IL)}else{aM=F.buffer;
av=F.rect;aA.translate(av.x,av.y)}if(h)aM=ai.IRs(aM,h,av);qy.zL(L,K,aM,av,aA,r)}};qy.zL=function(m,g,L,K,r,R){var Q=new aC;
Q.scale(K.j,-K.F);Q.translate(0,K.F);Q.concat(r);Q.concat(R);m.ctm=[Q.Wh,Q.R,Q.OS,Q.$Y,Q.gE,Q.Dv];g.PutImage(m,L,K.j,K.F);
m.ctm=[1,0,0,1,0,0]};var Qp={};Qp.GT=function(m){var g=new Uint8Array(m);return Qp.f_(g,0)};Qp.f_=function(m,g){var L=X.d,K=X.dn,r={aP:K(m,g,4),H:g+8,size:L(m,g+4)},R=r.aP=="FORM"||r.aP=="LIST"||r.aP=="CAT ";
if(R)r.yN=K(m,g+8,4);if(r.size<0||r.H+r.size>m.length)throw"e";if(R){r.sub=[];g+=12;var Q=r.H+r.size;
while(g<Q){var F=Qp.f_(m,g);r.sub.push(F);g+=8+F.size+(F.size&1)}}return r};var pQ={};pQ.GT=function(m,g){var L=new Uint8Array(m);
return pQ.f_(L,0,g)};pQ.f_=function(m,g,L){var K=X.Bm,r=X.dn,R={aP:r(m,g,4),H:g+8,size:K(m,g+4)};if(L&&L[R.size]!=null)R.size=L[R.size];
if(R.aP=="RIFF"||R.aP=="LIST"){R.yN=r(m,g+8,4)}if(R.size<0||R.H+R.size>m.length)throw"e";if(R.aP=="RIFF"||R.aP=="LIST"&&(R.yN!="cmpr"&&R.yN!="stlt")){R.sub=[];
g+=12;var Q=R.H+R.size;while(g<Q){var F=pQ.f_(m,g,L);R.sub.push(F);g+=8+F.size+(F.size&1)}}return R};
var Qp={};Qp.GT=function(m){var g=new Uint8Array(m);return Qp.f_(g,0)};Qp.f_=function(m,g){var L=X.d,K=X.dn,r={aP:K(m,g,4),H:g+8,size:L(m,g+4)},R=r.aP=="FORM"||r.aP=="LIST"||r.aP=="CAT ";
if(R)r.yN=K(m,g+8,4);if(r.size<0||r.H+r.size>m.length)throw"e";if(R){r.sub=[];g+=12;var Q=r.H+r.size;
while(g<Q){var F=Qp.f_(m,g);r.sub.push(F);g+=8+F.size+(F.size&1)}}return r};function RR(){}RR.GT=function(m,g){var L=new Uint8Array(m);
g.pR=!0;var K=X.dn(L,0,2);if(K=="WL"){alert("Unsupported CDR version")}else{var r=RR.oI,R=pQ.GT(L.buffer),Q={data:L,H:0,Ie:RR.Ih$(L[11])},u=300;
Q.HZ=Q.Ie<600?16:32;RR.oj(Q,R.sub,g,0);var F=r(R,"cmpr").sub,q=F[0],n=F.slice(1),W=r(q,"mcfg").U,z=W.IXk;
u/=RG.Gw(new v(0,0,Math.round(z.x*u),Math.round(z.y*u)),8192*8192);var N=Math.round(z.x*u),b=Math.round(z.y*u);
g.j=N;g.F=b;g.buffer=I.m(g.j*g.F*4);var B=r(q,"filt").sub,h=r(q,"otlt").sub;q.Hn={};for(var A=0;A<B.length;
A++)q.Hn[B[A].sub[0].U.id]=B[A].sub[0].U;q.HB={};for(var A=0;A<h.length;A++)q.HB[h[A].U.id]=h[A].U;var e=new aC(u,0,0,-u,z.x*u/2,z.y*u/2),c=n[1];
RR.eW(c,q,g,e);g.wr(1);g._[g._.length-1].IW(new v(0,0,N,b))}};RR.oI=function(m,g){var L=null;for(var K=0;
K<m.sub.length;K++){var r=m.sub[K];if(r.aP==g||r.yN==g)L=r}return L};RR.eW=function(m,g,L,K){var r=RR.oI,R=m.yN?m.yN:m.aP,Q=r(m,"lgob"),F=r(m,"txsm"),q,n;
if(Q){q=r(Q,"trfl");n=r(Q,"loda")}var W=q?q.sub[0].za.clone():new aC;W.concat(K);var z=L.Co();if(R=="page"||R=="layr"||R=="grp "){z.vZ((R=="page"?"Page":"Group")+" "+L._.length);
z.add.lsct=Ra.lG;z.TZ="pass";z.$J=24;var u=[];if(R=="page")u=r(m,"gobj").sub;if(R=="layr")u=m.sub.slice(2);
if(R=="grp ")u=m.sub.slice(4);if(u.length==0)return;L._.push(L.ua());for(var N=u.length-1;N>=0;N--)RR.eW(u[N],g,L,K)}else if(R=="obj "&&n.U&&n.U.path){z.vZ("Object "+L._.length);
var b=g.Hn[n.U.IXe],B=g.HB[n.U.IXC],h=z.getName(),A=b&&b.type!=0,e=A&&b.U!=null?b.U:[0,0,0];z.$J|=16;
z.add.vstk=JSON.parse(JSON.stringify(aU.WL.default));var c=z.add.vstk;c.strokeEnabled.v=!1;z.add.vmsk=new x.Lb;
if(B&&B.IXX!=1){c.strokeEnabled.v=!0;c.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
c.strokeStyleLineWidth.v.val=B.lineWidth*K.$K();var a=B.color;c.strokeStyleContent.v.Clr.v=I.G.h$({u:a[0]*255,S:a[1]*255,R:a[2]*255})}var $=n.U.path;
z.add.vmsk.W=I.e.Nk($,!1);I.q._R(z.add.vmsk.W,W);Rw.jz(e,z,W,I.q.Oe(z.add.vmsk.W));c.fillEnabled.v=A;
z.js();z.Zh(L)}else if(R=="obj "&&F){var G=n.U.IXh,o=n.U.IX$,E="";z.add.TySh=aj.nS(0,0);var H=W.$K();
z.add.TySh.f.translate(W.gE,W.Dv);var f=z.add.TySh.m_,S=F.U.IoT;for(var N=0;N<S.length;N++){var V=S[N],J=E.length;
E+=V.text+"\n";aj.ca(f,J,V.text+"\n");var U=RR.IBw(V.IXr,g),j=aj.qh(f,J,E.length);if(U.align==3)j.gV.Justification=1;
else j.gV.Justification=0;var i=U.fill.U;j.dh.FillColor={Type:1,Values:[1,i[0],i[1],i[2]]};j.dh.FontSize=Math.round(U.IXF.fontSize*W.$K());
aj.cr(f,J,E.length-1,j)}if(o){aj.ci(f,0)}else{aj.ci(f,1);aj.gy(f,[0,0,Math.round(G.x*W.Wh),Math.round(-G.y*W.$Y)])}z.vZ(E.slice(0,10))}else{z=null}if(z)L._.push(z)};
RR.IBw=function(m,g){var L=RR.oI(g,"stlt").U,K=JSON.parse(JSON.stringify(L.Jg[m]));if(K.H$!=0){var r=L.Jg[K.H$];
for(var R in r)if(K[R]==null||K[R]==0)K[R]=r[R];delete K.H$}K.align=L.IXt[K.IBU];K.fill=g.Hn[L.IBI[K.IoH]];
K.IDx=g.HB[L.IBR[K.ITq]];K.IXF=L.ITZ[K.IBp];return K};RR.IBS=function(m){var g=m.data[m.H];m.H+=1;return g};
RR.jt=function(m){var g=X.eL(m.data,m.H);m.H+=2;return g};RR.aU=function(m){var g=X.Bm(m.data,m.H);m.H+=4;
return g};RR.IBk=function(m){var g=X.Bm(m.data,m.H);m.H+=8;return g};RR.Fv=function(m){var g=X.rQ(m.data,m.H);
m.H+=2;return g};RR.FZ=function(m){var g=X.ib(m.data,m.H);m.H+=4;return g};RR.GC=function(m){var g=X.Ieq(m.data,m.H);
m.H+=8;return g};RR.QF=function(m){if(m.H>=m.data.length)throw"e";var g=0;while(m.data[m.H+g]!=0)g++;
var L=X.dn(m.data,m.H,g);m.H+=g+1;return L};RR.IBO=function(m){if(m.Ie<600)return Math.PI*RR.Fv(m)/1800;
return Math.PI*RR.FZ(m)/18e7};RR.IBM=function(m){if(m.Ie<1500)return RR.vW(m);else return RR.GC(m)/254e3};
RR.vW=function(m){if(m.Ie<600)return RR.Fv(m)/1e3;else return RR.FZ(m)/254e3};RR.IB_=function(m){if(m.Ie<600)return CRDParser.jt(m);
else return RR.aU(m)};RR.IB$=function(m){if(m.Ie<600)return CRDParser.Fv(m);else return RR.FZ(m)};RR.oj=function(m,g,L,K){var r=RR,R=r.IBS,Q=r.jt,F=r.aU,q=r.IBk,n=r.Fv,W=r.FZ,z=r.GC,u=r.vW,N=r.IBM,b=r.IBO,B=r.IB_,h=r.IB$;
for(var A=0;A<g.length;A++){var e=m.Ie,c=g[A];m.H=c.H+(c.aP=="LIST"?4:0);if(c.aP=="vrsn"){var a=Q(m);
m.Ie=a;console.log("Version",a);m.HZ=a<600?16:32}else if(c.aP=="DISP"){}else if(c.aP=="LIST"&&c.yN=="cmpr"){var $=F(m),G=F(m),o=F(m),H=F(m),f=new Uint8Array(m.data.buffer,m.H+8+2,$-6-8),E=pako.inflateRaw(f),U=0;
m.H+=$;f=new Uint8Array(m.data.buffer,m.H+8+2);var S=pako.inflateRaw(f),V=[];for(var J=0;J<S.length;
J+=4)V.push(X.Bm(S,J));c.sub=[];while(U<E.length){var j=pQ.f_(E,U,V);U=j.H+j.size;c.sub.push(j)}var i={data:E,H:0,Ie:e,HZ:m.HZ};
RR.oj(i,c.sub,L,K+1)}else if(c.aP=="LIST"&&c.yN=="stlt"){var k=m.H,jt=32;c.U={};var P=F(m);if(P==0)return;
c.U.IBI=RR.oa(m,e>=1300);c.U.IBR=RR.oa(m);c.U.ITZ={};var w=F(m);for(var d=0;d<w;d++){var T=F(m);m.H+=e<1e3?12:20;
var y=Q(m),D=Q(m);m.H+=8;var s=u(m);m.H+=e<1e3?12:20;c.U.ITZ[T]={IBD:y,IDo:D,fontSize:s}}c.U.IXt=RR.oa(m);
var Z=F(m);m.H+=52*Z;var aQ=F(m);m.H+=152*aQ;var aI=F(m);m.H+=784*aI;var aq=F(m);for(var d=0;d<aq;d++){m.H+=40;
if(e>1300)m.H+=4;if(e>=1300){if(F(m))m.H+=68;else m.H+=12}else{m.H+=20;if(e>=1e3)m.H+=8;if(F(m))m.H+=8;
m.H+=8}}var aa=F(m);c.U.IBE={};for(var d=0;d<aa;d++){var aD=F(m),_={};m.H+=12;_.right=u(m);_.IDS=u(m);
_.left=u(m);c.U.IBE[aD]=_}var M=F(m);if(e>=1300)jt+=4;m.H+=jt*M;var aR=F(m);m.H+=28*aR;if(e>800){var aL=F(m);
m.H+=12*aL}c.U.Jg={};for(var d=0;d<P;d++){var aw=F(m),ap=F(m),al={};al.H$=F(m);m.H+=8;var ak=F(m);if(e>=1200)ak*=2;
m.H+=ak;al.IoH=F(m);al.ITq=F(m);if(aw>1){al.IBp=F(m);al.IBU=F(m);al.IDi=F(m);al.IDk=F(m);if(e>800)al.IDO=F(m)}if(aw>2){al.IDM=F(m);
al.ID_=F(m);al.IDe=F(m);al.IDC=F(m);al.IDv=F(m)}c.U.Jg[ap]=al}}else if(c.aP=="LIST")RR.oj(m,c.sub,L,K+1);
else if(c.aP=="txsm"){c.U={};if(e<600)throw"e";if(e<700)throw"e";if(e>=1600)throw"e";if(e>=1500)m.H+=37;
else m.H+=36;if(F(m)){if(e<800)m.H+=32}if(e<800)m.H+=4;c.U.IDZ=F(m);c.U.IoT=[];m.H+=48;if(e>=800){if(F(m)){m.H+=32;
if(e>=1300)m.H+=8}}if(e>=1500)m.H+=12;var aw=F(m),ao=1,aZ=!1;if(!aw){if(e>=800)m.H+=4;if(e>800)m.H+=2;
if(e>=1400)m.H+=2;m.H+=24;if(e<800)m.H+=8;ao=F(m)}for(var J=0;J<ao;J++){var aS=F(m),d=0;if(e>=1300&&aw)m.H++;
m.H++;var P=F(m),an=[];for(d=0;d<P;d++){var IU=R(m),aG=0;R(m);var a_=R(m);if(e>=800)aG=R(m);var al={};
if(a_&1){al.IBD=Q(m);var aM=Q(m);if(aM)al.IDn=aM}if(a_&2)m.H+=4;if(a_&4)al.IDE=u(m);if(a_&8)m.H+=4;if(a_&16)m.H+=4;
if(a_&32)m.H+=4;if(a_&64){al.IoH=F(m);if(e>=1500)m.H+=48}if(a_&128){al.ITq=F(m)}if(aG&8){if(e>=1300){var av=F(m);
if(m.H+av*2>=m.data.length){aZ=!0;break}m.H+=av*2}else m.H+=4}if(aG&32){var aA=R(m);if(aA)m.H+=52}if(IU==2)if(e>=1300)m.H+=48;
an.push(al)}if(aZ){break}var IL=F(m);if(m.H+IL*4>m.data.length)break;var aB=[];for(d=0;d<IL;d++){var aV=0;
if(e>=1200)aV=q(m)&4294967295;else aV=F(m);aB[d]=aV>>16|aV&1}var Ia=IL;if(e>=1200)Ia=F(m);var aK=RR.QF(m);
c.U.IoT.push({IXr:aS,text:aK,Jg:an})}}else if(c.aP=="font"){var aE=Q(m),Ij=Q(m);m.H+=14;var as=RR.QF(m);
c.U={id:aE,IDX:Ij,name:as}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(c.aP)!=-1){}else if(c.aP=="flgs")c.U=F(m);
else if(c.aP=="bbox"){var IQ=u(m),Ih=u(m),Rp=u(m),ag=u(m);c.U=new v(IQ,Ih,Rp-IQ,ag-Ih)}else if(c.aP=="fild"){var IE=F(m),ae=0,RQ;
if(e>=1300){m.H+=4;ae=Q(m);m.H+=2}var Rj=Q(m);if(Rj==0){}else if(Rj==1){m.H+=e>=1300?13:2;RQ=RR.dR(m)}else if(Rj==2){m.H+=e>=1300?8:2;
var ab=R(m),RM=0;if(e>=1300){m.H+=17;RM=n(m)}else if(e>=600){m.H+=19;RM=W(m)}else{m.H+=11;RM=n(m)}var Rx=b(m),Iw=.5+h(m),qX=.5+h(m)-.5;
if(e>=600)m.H+=2;var RC=B(m)&255,Rd=R(m)/100;m.H++;var Ip=B(m)&65535;if(e>=1300)m.H+=3;var ID=[];for(var d=0;
d<Ip;d++){var qB=RR.dR(m);if(e>=1300){if(ae==158||e>=1600&&ae==150)m.H+=26;else m.H+=5}var Ii=B(m)/100;
if(e>=1300)m.H+=3;ID.push([Ii,qB])}RQ={typ:ab==1?"lin":"rad",crds:[Iw-Math.cos(Rx)/2,qX-Math.sin(Rx)/2,Iw,qX],grad:ID,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",Rj);
c.U={id:IE,type:Rj,U:RQ}}else if(c.aP=="outl"){var Ro=F(m);if(e>=1300){var IG=0,qk=0;while(IG!=1){m.H+=qk;
IG=F(m);qk=F(m)}}var qI=Q(m),mp=Q(m),ay=Q(m);if(e<1300&&e>=600)m.H+=2;var at=u(m),Ru=Q(m)/100;if(e>=600)m.H+=2;
var Qi=b(m);if(e>=1300)m.H+=46;else if(e>=600)m.H+=52;var RQ=RR.dR(m,Ro==270963208||Ro==276198e3,Ro);
c.U={id:Ro,IXX:qI,IDB:mp,IDh:ay,lineWidth:at,color:RQ}}else if(c.aP=="mcfg"){if(1300<=e)m.H+=12;else if(900<=e)m.H+=4;
else if(600<=e&&e<700)m.H+=28;var DR=0,IM=0;if(e<400)throw"e";else{DR=u(m);IM=u(m)}c.U={IXk:new jf(DR,IM)}}else if(c.aP=="loda"){var k=m.H,Rc=B(m),RO=B(m),QK=B(m),qm=B(m),QL=B(m),Re=[],IF=[];
m.H=k+QK;for(var d=0;d<RO;d++)Re[d]=B(m);m.H=k+qm;for(var d=RO-1;d>=0;d--)IF[d]=B(m);c.U={};for(var d=0;
d<RO;d++){m.H=k+Re[d];var Qv=IF[d];if(Qv==10)c.U.IXC=F(m);else if(Qv==20)c.U.IXe=F(m);else if(Qv==200)c.U.IDV=B(m);
else if(Qv==30){if(e<400)QL--;if(QL==1){var IQ=N(m),Ih=N(m),Rf=0,RE=0,Rg=0,QI=0;if(e<1500){QI=N(m);Rg=e<900?QI:N(m);
RE=e<900?QI:N(m);Rf=e<900?QI:N(m)}else throw"e";c.U.path=I.e.Ng(I.q.RD.Rect(0,0,IQ,Ih,Rf))}else if(QL==2){var mL=u(m),mC=u(m),Rv=b(m),RP=b(m),Rm=Math.abs(mL),Iq=Math.abs(mC);
c.U.path=I.e.Ng(I.q.RD.gB(0,0,Rm,-Iq))}else if(QL==3){c.U.path=RR.Ih_(m)}else if(QL==4){c.U.IX$=RR.IBg(m)}else if(QL==6){c.U.IXh=RR.Iho(m)}else if(QL==37){c.U.path=RR.eP(m)}else console.log(QL)}}}else if(c.aP=="trfd"){var k=m.H,Rc=B(m),RO=B(m),QK=B(m);
m.H=k+QK;var Re=[];for(var d=0;d<RO;d++)Re[d]=B(m);for(var d=0;d<RO;d++){m.H=k+Re[d];if(e>=1300)m.H+=8;
var ml=Q(m);if(ml==8){var QD,qD,IQ,RK,pe,Ih;if(e>=600)m.H+=6;if(e>=500){QD=z(m);qD=z(m);IQ=z(m)/(e<600?1e3:254e3);
RK=z(m);pe=z(m);Ih=z(m)/(e<600?1e3:254e3)}else throw"e";c.za=new aC(QD,RK,qD,pe,IQ,Ih)}else console.log(ml)}}else if(!1){console.log(c);
var IW=Math.min(c.size,32);console.log(X.rI(data,c.H,IW));console.log(X.I_y(data,c.H,IW))}}};RR.oa=function(m,g){var L=RR.aU,K={},r=L(m);
for(var R=0;R<r;R++){var Q=L(m);m.H+=4;var F=L(m);K[Q]=F;if(g)m.H+=48}return K};RR.IBg=function(m){var g=RR,L=g.vW,K=L(m),r=L(m);
return new jf(K,r)};RR.Iho=function(m){var g=RR,L=g.vW;m.H+=4;var K=L(m),r=L(m);return new jf(K,r)};
RR.eP=function(m){var g=RR,L=g.aU,K=g.jt,r=g.vW;m.H+=4;var R=K(m)+K(m);m.H+=16;var Q=RR.fd(m,R);return Q};
RR.Ih_=function(m){var g=RR.jt(m);m.H+=2;return RR.fd(m,g)};RR.fd=function(m,g){var L=RR,K=L.vW,r=m.Ie<600?2:4,R=m.H,Q={D:[],O:[]},F=0,q=0,n=0;
for(var W=0;W<g;W++){var F=K(m),q=K(m),z=m.data[R+g*r*2+W];if(!(z&64)&&!(z&128)){Q.D.push(F,q);Q.O.push("M");
n+=2}else if(z&64&&!(z&128)){Q.D.push(F,q);Q.O.push("L");n+=2}else if(!(z&64)&&z&128){Q.D.push(F,q);
Q.O.push("C");n+=6}else if(z&64&&z&128){Q.D.push(F,q)}}if(n!=Q.D.length)throw"e";return Q};RR.IXx=function(m,g){var L=X.Bm;
g+=8;var K=L(m,g);g+=4;var r=L(m,g);g+=4;g+=4*7;var R=g,Q=I.m(K*r*4);g+=1024;for(var F=0;F<r;F++)for(var q=0;
q<K;q++){var n=F*K+q,W=(r-F-1)*K+q,z=m[g+n]<<2,u=W<<2;Q[u+0]=m[R+z+2];Q[u+1]=m[R+z+1];Q[u+2]=m[R+z+0];
Q[u+3]=255}return{qT:Q,rect:new v(0,0,K,r)}};RR.Ih$=function(m){if(m==32)return 300;else if(m<49)return 0;
else if(m<58)return 100*(m-48);else if(m<65)return 0;return 100*(m-55)};RR.dR=function(m,g,L){var K=RR.jt,r=RR.aU,R=m.Ie,Q=0,F=0;
if(R>=500){Q=K(m);if(Q==1&&R>=1300)Q=25;if(Q==25||Q==30)throw"e";else if(Q==14)throw"e";else{m.H+=6;
F=r(m)}}else throw"e";var q=[];if(Q==2||Q==9||Q==17){var n=[F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255];
if(Q==2)for(var W=0;W<4;W++)n[W]=Math.round(255*n[W]/100);for(var W=0;W<4;W++)n[W]/=255;q=UDOC.C.cmykToRgb(n)}else if(Q==1||Q==5){q=[F>>>0&255,F>>>8&255,F>>>16&255];
for(var W=0;W<3;W++)q[W]=q[W]/255}else console.log("Unknown color model "+Q,F,F.toString(16));return q};
var Qk={};Qk.nu=function(){var m=new ArrayBuffer(4);return[new Uint8Array(m),new Uint32Array(m),new Float32Array(m)]}();
Qk.IqI=function(m,g,L,K,r){function R(j,i){for(var k=0;k<j.length;k++)if(j[k][0]==i)return j[k]}function Q(){var f=0,j=0,i=0;
do{i=m[g++];f|=(i&127)<<j;j+=7}while(i&128&&j<35);return f>>>0}var F=Qk.nu,q=F[0],n=F[1],W=F[2],z="",h=1;
for(var u=0;u<r;u++)z+="    ";var N=K[0]=="mesg",b=K[2],B={},A=N?1e9:b.length;while(h<=A){var e=h;if(N){e=m[g++];
if(e>127){if(m[g]!=1)throw"e";g++}if(e==0)break}var c=R(b,e),a=c[2],$=c[1]==1,G=$?Q():1,o=new Array(G);
if(a==3){if(!$)throw"e";o=m.slice(g,g+G);g+=G}else for(var u=0;u<G;u++){var H;if((a&1)==1){if(a==1)H=m[g++]==1;
else if(a==3)H=m[g++];else if(a==5){var f=Q();H=f&1?~(f>>>1):f>>>1}else if(a==7)H=Q();else if(a==9){if(m[g]==0){H=0;
g++}else{q[0]=m[g];q[1]=m[g+1];q[2]=m[g+2];q[3]=m[g+3];var E=n[0];n[0]=E<<23|E>>>9;H=W[0];g+=4}}else if(a==11){var S=Qk.IhK(m,g);
H=S[0];g+=S[1]+1}else throw a}else{var V=L[a>>>1];if(V[0]=="enum"){var J=m[g++];if(J>127)throw"e";H=V[2][J]}else{var U=Qk.IqI(m,g,L,V,r+1);
H=U[0];g=U[1]}}o[u]=H}B[c[3]]=$?o:o[0];h++}return[B,g]};Qk.IhK=function(m,g){var L=g;while(m[L]!=0)L++;
return[X.d_(m,g,L-g),L-g]};Qk.Ihc=function(m,g){var L=g;while(m[L]!=0)L++;for(var K=g;K<L;K++)if(m[K]>127)throw"e";
return X.dn(m,g,L-g)};Qk.Iht=function(m,g){var L=Qk.Ihc,K=1,r=[];while(K<m.length){var R=K,Q=r.length,F=L(m,K);
K+=F.length+1;var q=m[K++];if(q==0){var n=m[K++];if(n>127)K++;var W=[];for(var z=0;z<n;z++){var u=L(m,K);
K+=u.length+1;var N=m[K++];if(N!=0)throw N;var b=m[K++];if(b!=0)throw b;var B=m[K++];if(B>127){if(m[K]!=1)throw"e";
K++}if(B!=z)throw B;W.push(u)}r.push(["enum",F,W])}else if(q==1){var n=m[K++],W=[];for(var z=0;z<n;z++){var u=L(m,K);
K+=u.length+1;var N=m[K++];if(N>127){if(m[K]!=1)throw"e";K++}var b=m[K++];if(b>127){if(m[K]!=1)throw"e";
K++}var B=m[K++];if(B>127){if(m[K]!=1)throw"e";K++}W.push([B,b,N,u])}r.push(["strc",F,W])}else if(q==2){var n=m[K++];
if(n>127)K++;var W=[];for(var z=0;z<n;z++){var u=L(m,K);K+=u.length+1;var N=m[K++];if(N>127){if(m[K]!=1)throw"e";
K++}var b=m[K++];if(b>127){if(m[K]!=1)throw"e";K++}var B=m[K++];if(B>127){if(m[K]!=1)throw"e";K++}W.push([B,b,N,u])}r.push(["mesg",F,W])}else throw q}return r};
function If(){}If.GT=function(m,g){var L=new Uint8Array(m),K=8,r=X.Bm(L,K),j=1,i=0;K+=4;var R=[];while(K<L.length){var Q=X.Bm(L,K);
K+=4;var F=L.slice(K,K+Q);if(L[K]==137&&L[K+1]==80){}else F=UZIP.inflateRaw(F);R.push(F);K+=Q}var q=Qk.Iht(R[0]),n=Qk.IqI(R[1],0,q,q[q.length-1],0)[0],W={OL:{},ii:{},ITr:{}},z=n.nodeChanges;
for(var u=0;u<z.length;u++){var N=z[u],b=N.guid;W.ii[b.sessionID+","+b.localID]=N}for(var u=0;u<z.length;
u++){var N=z[u],b=N.parentIndex;if(b){var B=If.F$(W.ii,b.guid);if(B.children==null)B.children=[];B.children.push(N)}}var h=z[0],A=h.children,e=new v,c=[],a=[];
for(var b=0;b<A.length;b++){var $=A[b],G=$.children;if($.name=="Internal Only Canvas"||G==null)continue;
var o=new v;for(var H=0;H<G.length;H++){var f=G[H],E=f.transform,S=f.size,V=new v(E.m02,E.m12,S.x,S.y);
o=o.uM(V)}var J=e.F==0?0:e.F+100,U=o.clone();U.x=0;U.y=J;e=e.uM(U);c[b]=o;a[b]=J}while(Math.max(e.j,e.F)/j>16e3)j++;
if(j!=1)console.log("Scaling down "+j+"x");g.j=Math.round(e.j/j);g.F=Math.round(e.F/j);g.buffer=I.m(g.j*g.F*4);
for(var b=0;b<A.length;b++){var $=A[b],G=$.children;if($.name=="Internal Only Canvas"||G==null)continue;
G.sort(If.ILe);var k=new aC(1,0,0,1,-c[b].x,a[b]-c[b].y);k.scale(1/j,1/j);for(var H=0;H<G.length;H++){var f=G[H];
If.eW(f,[],k,n.blobs,g,0,W);i++}}g.wr(i);g.pR=!0};If.eW=function(m,g,L,K,r,R,Q){var F=If,E=!1,S,V,U,j,i;
for(var q=0;q<g.length;q++){var n=g[q],W=n.guidPath.guids[0];if(F.IVw(W,m.guid)){var z={};for(var u in m)z[u]=n[u]!=null?n[u]:m[u];
m=z}}var N=m.type,b=m.children,B=m.size,h=m.effects,A=r.Co();A.vZ(m.name);A.Vd(m.visible);A.opacity=Math.round(m.opacity*255);
var e=F.kV(m.transform),c=e.clone();c.concat(L);var a=new v(Math.round(c.gE),Math.round(c.Dv),Math.round(B.x*c.$K()),Math.round(B.y*c.$K())),$=m.fillPaints,G=m.inheritFillStyleID;
if(G){var z=F.F$(Q.ii,G);if(z)$=z.fillPaints}if($==null)$=[];var $=F.IIi($),o=$[0],H=m.strokePaints,G=m.inheritFillStyleIDForStroke;
if(G){var z=F.F$(Q.ii,G);if(z)H=z.fillPaints}if(H==null)H=[];var H=F.IIi(H),f="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(N)!=-1;
if(f||N=="FRAME"){S=new x.Lb;V=[];F.IQO(m,K,S,V);E=I.q.at(S.W);I.q._R(S.W,c);a=I.q.Oe(S.W);if(Q.OL.ob&&o){var J=x.Lb.QT(Q.OL.ob.W);
for(var q=2;q<J.length;q++)if(J[q].au!=null)J[q].au=3;S.W=S.W.concat(J.slice(2));V=V.concat(JSON.parse(JSON.stringify(Q.OL.xV)))}}if(o&&o.type=="IMAGE"&&o.image.name=="")o=null;
if(o&&o.type=="IMAGE"){i=o.imageScaleMode;U=F.os(K,o.image.dataBlob);var k=U.wh.j/U.wh.F,P=B.x/B.y;j=Math.abs(k-P)}if(N=="FRAME"){}else if(f&&E&&U&&(i=="FIT"||i=="FILL"&&j<=.05)){var w=K[o.image.dataBlob].bytes,d=r.Qb(w,A.getName(),0,0);
d.$J=A.$J;d.opacity=A.opacity;A=d;var y=new v(0,0,B.x,B.y);if(i=="FIT"){var D=U.wh.j,s=U.wh.F,Z=Math.min(B.x/D,B.y/s),aQ=D*Z,aI=s*Z;
y=new v(y.x+(y.j-aQ)/2,y.y+(y.F-aI)/2,aQ,aI)}var aq=I.e.Gl(y).D;I.e.f(aq,c,aq);A.add.SoLd.Trnf=l.k.gf(aq);
A.add.SoLd.nonAffineTransform=l.k.gf(aq);var aa=[],h=m.effects,aD=o.paintFilter;if(h)for(var q=0;q<h.length;
q++)if(h[q].type=="FOREGROUND_BLUR"){var _=h[q],M=aN.Ee("GsnB",{});aa.push(M);M.v.enab.v=_.visible;M.v.Fltr.v.Rds.v.val=_.radius/2.4}if(aD&&aD.exposure!=0){var M=aN.Ee("brit",{});
aa.push(M);M.v.Fltr.v.Brgh.v=Math.round(aD.exposure*160);M.v.Fltr.v.useLegacy.v=!0}if(aa.length!=0){A.add.SoLd.filterFX=aN.uK();
r.QA({id:A.add.SoLd.placed.v,rect:new v,buffer:I.m(1),s:new x.Ed});A.add.SoLd.filterFX.v.filterFXList.v=aa}A.lQ(r,!1);
F.Iqq(Q,A,r)}else if(f){A.$J|=16;A.add.vogk=V;A.add.vmsk=S;var jt=A.add.vstk=JSON.parse(JSON.stringify(aU.WL.default)),aR=F.Fh(m,o,c,a,K,r,Q);
if(aR[0]=="None"){jt.fillEnabled.v=!1;A.add.SoCo=aR[1]}else{var aL=aR[1].Opct.v.val;if(aL!=100)A.opacity=Math.round(A.opacity/255*(aL/100)*255);
A.add[aR[0]]=aR[1]}var aR=F.Fh(m,H[0],c,a,K,r,Q);if(aR[0]!="None"){jt.strokeEnabled.v=!0;jt.strokeStyleLineWidth.v.val=m.strokeWeight*c.$K();
jt.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aU.WL.ZE[["INSIDE","CENTER","OUTSIDE"].indexOf(m.strokeAlign)];
var aw={SoCo:"SoFi",GdFl:"GrFl"}[aR[0]],ap=["SoFi","GrFl","patternFill"].indexOf(aw),al=[aU.av,aU.rn,aU.r$][ap];
jt.strokeStyleContent.v={classID:aU.WL.yN[0]};jt.strokeStyleLineDashSet.v=ai.cH(m.dashPattern,1/m.strokeWeight);
var ak=jt.strokeStyleContent.v={classID:aU.WL.yN[ap]};for(var q=0;q<al.length;q++)ak[al[q]]=aR[1][al[q]]}if(h)for(var q=0;
q<h.length;q++){var _=h[q];if(_.type!="FOREGROUND_BLUR")continue;S.JE=_.radius/2.4}A.Zh(r)}else if(N=="TEXT"){var ao=m.textData,aZ=ao.layoutSize,aS=["LEFT","RIGHT","CENTER"].indexOf(m.textAlignHorizontal);
A.add.lnsr="rend";A.add.TySh=aj.nS(0,0);A.add.TySh.pI=new v(0,0,100,100);var an=c.clone();A.add.TySh.f=an;
var IU=A.add.TySh.m_,a_=ao.characters;if(m.textCase=="TITLE"){for(var q=0;q<a_.length;q++)if(q==0||a_[q-1]==" "){var aG=a_.slice(0,q),aM=a_.slice(q+1);
a_=aG+a_[q].toUpperCase()+aM}}a_=a_.replace(/\u2028/g,"\n");a_=a_.replace(/\u2029/g,"\n");a_=a_.replace(/\r/g,"\n");
aj.ca(IU,0,a_);var av=m.textAutoResize,aA=ao.baselines;if(av=="WIDTH_AND_HEIGHT"){var IL=aS==0?0:aS==1?aZ.x:aZ.x/2,aB=aA?aA[0].position.y:0;
an.translate(IL*c.$K(),aB*c.$K());aj.ci(IU,0)}else if(av=="HEIGHT"||av=="NONE"){var aB=aA?aA[0].position.y-m.fontSize*.7:0;
an.translate(0,aB*c.$K());aj.ci(IU,1);aj.gy(IU,[0,0,Math.round(aZ.x),Math.round(1.2*aZ.y)])}else throw av;
if(a_!=""){var aV=aj.qh(IU,0,1);F.IqU(m,c,B,aV,A);aj.cr(IU,0,a_.length,aV);var Ia=ao.characterStyleIDs,aK=ao.styleOverrideTable;
if(Ia)for(var q=0;q<Ia.length;q++){var aE=Ia[q];if(a_[q]=="\n")continue;if(aE!=0){var Ij;for(var as=0;
as<aK.length;as++)if(aK[as].styleID==aE)Ij=aK[as];var aV=aj.qh(IU,q,q+1);F.IqU(Ij,c,B,aV,A);aj.cr(IU,q,q+1,aV)}}}}else if(N=="SYMBOL"){}else if(N=="INSTANCE"){var IQ=m.symbolData,Ih=IQ.symbolOverrides,z=F.F$(Q.ii,IQ.symbolID);
if(z)b=z.children;else console.log(m.name,"symbol not found",IQ.symbolID);g=g.slice(0);for(var q=0;q<Ih.length;
q++)g.push(Ih[q])}else console.log(N);if(!1){}else if(b&&!f){b.sort(F.ILe);if(R==0&&N!="SYMBOL"&&N!="INSTANCE"){A.IW(a);
var Rp=$?$[0]:null;if(Rp&&Rp.type=="SOLID"){var ag=Rp.color;A.add.artb.artboardBackgroundType.v=4;A.add.artb.Clr=F.dR(ag)}}r._.push(r.ua());
var IE=Q.OL;Q.OL={};for(var ae=0;ae<b.length;ae++)F.eW(b[ae],g,c,K,r,R+1,Q);Q.OL=IE;A.add.lsct=!1?Ra.lG:Ra.Ha;
A.TZ="pass";var Rj=A.WP();A.$J=24;A.Vd(Rj);var RQ=R!=0&&$.length!=0&&!m.frameMaskDisabled&&m.containerSupportsFillStrokeAndCorners;
if(RQ&&S){A.add.vmsk=S;A.add.vogk=V;A.Zh(r)}else F.Iqq(Q,A,r);r._.push(A)}else if(m.mask){if(S){Q.OL.ob=S;
Q.OL.xV=V}}else{var ab=[];if(h)for(var RM=0;RM<h.length;RM++){var _=h[RM],Rx=_.color,Iw=_.type,qX=["DROP_SHADOW","INNER_SHADOW"].indexOf(Iw);
if(qX!=-1){var RC=["DrSh","IrSh"][qX],Rd=JSON.parse(aU.WV[aU.order.indexOf(RC)]);ab.push([RC,Rd]);Rd.enab.v=_.visible;
Rd.Md.v.BlnM=ad.EE(F.IV$(_.blendMode));Rd.Opct.v.val=Math.round(100*Rx.a);Rd.blur.v.val=Math.round(_.radius*c.$K());
Rd.Clr=F.dR(Rx);var IL=_.offset.x,aB=_.offset.y;Rd.uglg.v=!1;Rd.lagl.v.val=Math.round(180/Math.PI*Math.atan2(aB,-IL));
Rd.Dstn.v.val=Math.round(Math.sqrt(IL*IL+aB*aB)*c.$K())}}for(var q=1;q<$.length;q++){var Ip=$[q],ID=F.Fh(m,Ip,c,a,K,r,Q);
if(ID[0]=="GdFl")ab.push(["GrFl",ID[1]]);else if(ID[0]=="SoCo")ab.push(["SoFi",ID[1]]);else if(ID[0]=="PtFl")ab.push(["patternFill",ID[1]]);
else throw ID}if(ab.length!=0){var qB=JSON.parse(aU.default);for(var q=0;q<aU.order.length;q++)qB[aU.JS[q]]={t:"VlLs",v:[]};
for(var q=0;q<ab.length;q++){var Ii=ab[q],RC=aU.JS[aU.order.indexOf(Ii[0])];qB[RC].v.unshift({t:"Objc",v:Ii[1]})}if(b==null)A.add.lmfx=qB}r._.push(A)}};
If.ILe=function(m,g){var L=m.parentIndex.position,K=g.parentIndex.position;return L>K?1:-1};If.IIi=function(m){for(var g=1;
g<m.length;g++){var L=m[g];if(L.type=="IMAGE"&&L.opacity==1){m=m.slice(g);break}}for(var g=0;g<m.length;
g++){var L=m[g];if(!L.visible||L.type=="IMAGE"&&L.image.dataBlob==null){m.splice(g,1);g--}}return m};
If.Iqq=function(m,g,L){if(m.OL.ob){g.add.vmsk=m.OL.ob.clone();g.add.vogk=JSON.parse(JSON.stringify(m.OL.xV));
g.Zh(L)}};If.IqU=function(m,g,L,K,r){var R=m.fontSize,Q=m.lineHeight,F=m.fontName,q=m.textAlignHorizontal,n=m.textTracking,W=m.textCase;
if(R==null)R=K.dh.FontSize;if(F)aj.Fy(K,F.postscript);if(R!=null)K.dh.FontSize=Math.round(R);if(n)K.dh.Tracking=Math.round(n*1e3);
if(W)K.dh.FontCaps=W=="UPPER"?2:0;if(Q&&(Q.units!="PERCENT"||Q.value!=100)){var z=Q.value;if(Q.units=="PERCENT")z=1*R*z/100;
if(Q.units=="RAW")z=1*R*z;K.dh.AutoLeading=!1;K.dh.Leading=Math.round(z)}if(q)K.gV.Justification=["LEFT","RIGHT","CENTER"].indexOf(q);
var u=m.fillPaints;if(u){var N=If.Fh(m,u[0],g,L);if(N[0]=="SoCo"){var b=I.G.EX(N[1].Clr.v);K.dh.FillColor={Type:1,Values:[1,b.u/255,b.S/255,b.R/255]};
r.opacity=Math.round(r.opacity/255*(N[1].Opct.v.val/100)*255)}else console.log(u)}};If.Fh=function(m,g,L,K,r,R,Q){var F=If,q,n,W=m.size;
if(g){var z=g.type,u=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(z);
if(z=="SOLID"){q="SoCo";var N=g.color;n=JSON.parse(aU.WV[aU.order.indexOf("SoFi")]);n.Clr=F.dR(N)}else if(u!=-1){var b=JSON.parse(aU.WV[aU.order.indexOf("GrFl")]),B=b.Grad.v;
B.Intr.v=0;b.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][u];var h=[],A=g.stops;for(var e=0;e<A.length;e++){var c=A[e],a=c.color;
h.push([c.position,[a.r,a.g,a.b],a.a])}I.G.IO(h,B);var $=F.kV(g.transform);$.eb();var G=$.clone();G.scale(W.x,W.y);
G.concat(L);var o=new jf(0,.5),H=new jf(1,.5);o=G.SW(o);H=G.SW(H);if(!0){o.x=H.x+.5*(o.x-H.x);o.y=H.y+.5*(o.y-H.y)}I.G.By(o,H,K,b);
if(u==3){var f=b.Angl.v;f.val=(f.val+180+180)%360-180;b.Rvrs.v=!b.Rvrs.v}q="GdFl";n=b}else if(z=="IMAGE"){var b=JSON.parse(aU.WV[aU.order.indexOf("patternFill")]),E=b.phase.v,S=g.image.dataBlob,V=Q.ITr[S],y=1;
if(V==null){var J=F.os(r,S);V=Q.ITr[S]={qT:new Uint8Array(J.data),l:J.wh};V.id=aH.lk()+"-d71c-11e5-b1ae-a548a96e5f9f";
V.name="someImage";R.Zn(V)}b.Algn.v=!0;b.Ptrn.v.Idnt.v=V.id;var j=L.gE,i=L.Dv,k=g.imageScaleMode,$=F.kV(g.transform);
$.eb();var P=K.j,w=K.F,d=V.l.j,T=V.l.F;if(k=="FILL"){y=Math.max(P/d,w/T);y=Math.round(y*100)/100}else if(k=="FIT"){y=Math.min(P/d,w/T);
y=Math.round(y*100)/100}else if(k=="STRETCH"){var D=P*$.Wh,s=w*$.$Y;y=.5*(D/d+s/T);y=Math.round(y*100)/100;
j+=(D-P)/2+$.gE*P;i+=(s-w)/2+$.Dv*w}else if(k=="TILE"){y=g.scale;y=Math.round(y*100)/100;j+=(D-P)/2;
i+=(s-w)/2}var Z=y*d,aQ=y*T;j+=-(Z-P)/2;i+=-(aQ-w)/2;b.Scl.v.val=Math.round(100*y);E.Hrzn.v=Math.round(j);
E.Vrtc.v=Math.round(i);q="PtFl";n=b}else throw z;if(n)n.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(g.opacity*100)}}}else{q="None";
n={classID:"null",Clr:{t:"Objc",v:I.G.h$({u:0,S:0,R:0})}}}return[q,n]};If.os=function(m,g){var L=m[g];
if(L.rslt)return L.rslt;var K=L.bytes.buffer,r=ax.xo(K),R=ax.EU(r);L.rslt=R.X_(K)[0];return L.rslt};
If.IQO=function(m,g,L,K){var r=m.type,R=m.size,Q=m.cornerRadius,z;if(Q==null)Q=0;var F=I.xV.ae(),q=R.x,n=R.y,W=[Q,Q,Q,Q],u=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var N=0;N<4;N++)if(m[u[N]]!=null)W[N]=m[u[N]];if(r=="RECTANGLE"||r=="ROUNDED_RECTANGLE"||r=="FRAME"){z=I.q.RD.Rect(0,0,q,n,W)}else if(r=="ELLIPSE"){var b=m.arcData,B=b?b.startingAngle:0,h=b?b.endingAngle:2*Math.PI,A=b?b.innerRadius:0;
if(B==0&&h>1.999*Math.PI)z=I.q.RD.gB(0,0,q,n,0);else z=I.q.RD.I$p(q/2,n/2,n/2,B,h);if(A!=0&&A!=1){var e=x.Lb.QT(z).slice(3);
e.reverse();for(var N=0;N<e.length;N++){var c=e[N],a=c.QR;c.QR=c.LM;c.LM=a}var $=new aC;$.translate(-q/2,-n/2);
$.scale(A,A);$.translate(q/2,n/2);I.q._R(e,$);z=z.concat(e);z[2].length*=2}}else if(r=="LINE"){z=I.q.RD.Rect(0,0,q,n,0);
z.pop();z.pop();z[2].length=2}else if(r=="REGULAR_POLYGON"){z=I.q.RD.JU(.5,.5,.5,Math.PI/2,m.count,0);
var G=new aC;G.scale(q,n);I.q._R(z,G)}else if(r=="BOOLEAN_OPERATION"){z=[{type:6},{type:8,all:0}];var o=m.children,H=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(m.booleanOperation);
if(H==-1)throw m;if(o==null)o=[];for(var N=0;N<o.length;N++){var f=o[N],E=new x.Lb,S=[],V=If.IQO(f,g,E,S);
if(E.W==null)continue;I.q._R(E.W,If.kV(f.transform));z=z.concat(E.W.slice(2));for(var J=0;J<S.length;
J++)K.push(S[J])}for(var N=3;N<z.length;N++)if(z[N].au!=null)z[N].au=H;F=null}else if(r=="VECTOR"){var U,j;
if(!0){var i=m.vectorData;U=i.normalizedSize;j=i.vectorNetworkBlob}else{U=R;j=fg[0].commandsBlob;console.log(fg)}var k=g[j].bytes,P=new Uint32Array(k.buffer),w=new Float32Array(k.buffer),d=P[0],T=P[1],y=[];
for(var N=0;N<d;N++){var D=3+N*3,s=new jf(w[D+1],w[D+2]);y.push(s)}var Z=[],aQ=3+d*3;for(var N=0;N<T;
N++){var aI=aQ+N*7,aa=P[aI+1],aD=P[aI+4];Z.push([aa,aD,w[aI+2],w[aI+3],w[aI+5],w[aI+6]])}var _=-1;for(var N=0;
N<T;N++){if(_==-1){}else{var M=-1;for(var J=N;J<T;J++)if(Z[J][1]==_)M=J;for(var J=N;J<T;J++)if(Z[J][0]==_)M=J;
if(M!=-1){var jt=0,a=Z[M];Z[M]=Z[N];Z[N]=a;if(a[0]!=_){jt=a[0];a[0]=a[1];a[1]=jt;jt=a[2];a[2]=a[4];a[4]=jt;
jt=a[3];a[3]=a[5];a[5]=jt}}}_=Z[N][1]}var aR=[],aL=[],aw=-1;_=-1;for(var N=0;N<T;N++){var ap=Z[N],aa=ap[0],aD=ap[1],al=y[aa],ak=y[aD];
if(_!=aa){aL.push("M");aR.push(al.x,al.y);aw=aa}aR.push(al.x+ap[2],al.y+ap[3]);aR.push(ak.x+ap[4],ak.y+ap[5]);
aL.push("C");aR.push(ak.x,ak.y);_=aD;if(aw==aD){aL.push("Z");aw=_=-1}}z=I.e.Nk({D:aR,O:aL},!0);if(Q!=0){var W=[],ao=z[2].length;
for(var N=0;N<ao;N++)W.push(Q);if(I.q.V_(z))I.q.IVa(z,2,W)}var aZ=new aC;aZ.scale(U.x==0?1:R.x/U.x,U.y==0?1:R.y/U.y);
I.q._R(z,aZ)}L.W=z;if(F)K.push(F)};If.F$=function(m,g){return m[g.sessionID+","+g.localID]};If.IVw=function(m,g){return m.sessionID==g.sessionID&&m.localID==g.localID};
If.IV$=function(m){var g={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn"}[m];if(g==null)throw m;return g};
If.dR=function(m){return{t:"Objc",v:I.G.h$({u:m.r*255,S:m.g*255,R:m.b*255})}};If.kV=function(m){var g=[m.m00,m.m10,m.m01,m.m11,m.m02,m.m12];
for(var L=0;L<6;L++)if(Math.abs(g[L])<1e-20)g[L]=0;return new aC(g[0],g[1],g[2],g[3],g[4],g[5])};var l={};
l.$B=function(m,g,L){this.name=m;this.id=g;this.Tu=null;if(L!=null)this.$z=L};l.$B.prototype.VH=function(m,g,L,K,r){};
l.$B.prototype.enable=function(m,g,L,K,r,R){var Q=new Y(p.E.V,!0);Q.data={P:p.o.cM,_q:"default"};g.g(Q)};
l.$B.prototype.disable=function(m,g,L,K,r){};l.$B.prototype.II_=function(m,g,L,K,r){return!1};l.$B.prototype.Mc=function(m,g,L,K,r){};
l.$B.prototype.Fr=function(m,g,L,K,r){};l.$B.prototype.NB=function(m,g,L,K,r){};l.$B.prototype.RK=function(m,g,L,K,r){};
l.$B.prototype.fE=function(m,g,L,K,r){};l.$B.prototype.KK=function(m,g,L,K){};l.$B.prototype.ey=function(m,g,L,K){};
l.$B.prototype.ao=function(m,g){};l.$B.prototype.Kq=function(m,g){};l.$B.prototype.lr=function(m,g,L,K,r){};
l.$B.prototype.SI=function(m,g){};l.$B.prototype.AC=function(m,g){return!1};l.$B.prototype._j=function(m,g){return!1};
l.$B.prototype.HE=function(){return!1};l.$B.prototype.FK=function(m,g){return!0};l.$B.prototype.FY=function(){return null};
l.$B.prototype.IIr=function(m,g,L){};l.$B.prototype.Iq_=function(){return!1};l.$B.prototype.Ixm=function(m,g,L,K){};
l.$B.prototype.track=function(m){var g=new Y(p.E.VG,!0);g.data=m;m.iM=!0;this.Tu.g(g)};l.$B.am=function(m,g,L,K,r){l.$B.IqM(m,g,[aT.get([12,41]).charAt(0)+": "+I.Wq.bT(L.j,K.Jt,r,K.j,!0),aT.get([12,42]).charAt(0)+": "+I.Wq.bT(L.F,K.Jt,r,K.F,!0)],K)};
l.$B.IqM=function(m,g,L,K){var r=14,R=130,Q=L.length*17+8,F=new v(m,g-Q,R,Q),q=l.$B.IIG;if(q==null)q=l.$B.IIG=document.createElement("canvas");
q.width=R;q.height=Q;var n=q.getContext("2d");n.fillStyle="rgba(0,0,1,1)";n.fillRect(0,0,R,Q);n.font=r+"px monospace";
n.fillStyle="rgba(255,255,255,1)";for(var W=0;W<L.length;W++)n.fillText(L[W],6,(W+1)*17);K.J.To=[[n.getImageData(0,0,R,Q).data,F.clone()]]};
l.$B.IIG=null;l.Kb="0";l.eS="1";l.I$I="2";l.I$Q="3";l.ImY="5";l.I$h="6";l.I$g="7";l.fB="8";l.IUo="9";
l.Zw="10";l.oR="11";l.FN="12";l.om="13";l.Iqp="14";l.IUi="16";l.IQS="18";l.bW="19";l.IqO="20";l.IDd="22";
l.FE="23";l.Fs="24";l.IUh="25";l.Z_="27";l.aw="31";l.IUH="32";l.IUy="34";l.IIe="35";l.aT="36";l.an="37";
l.Pj="38";l.IIt="39";l.IQV="40";l.IIT="41";l.ol="42";l.ZC="43";l._T="47";l.fF="51";l.Fz="52";l.gI="54";
l.oT="55";l.gq="56";l.gQ="57";l.oS="58";l.Z$="59";l.ei="61";l.Zo="100";l.gi="101";l.oi="120";l.fy="230";
l.IXK="231";l.AV="232";l.pW="233";l.CO="234";l.VJ="235";l.gk="236";l.IQE=function(m){var g=l.II,L=null;
for(var K in g)if(g[K][1].indexOf(m[1].classID)!=-1)L=K;return L};l.II={};l.II[l.FE]=["tools/brush",["PbTl"]];
l.II[l.Fs]=["tools/pencil",["PcTl"]];l.II[l.aw]=["tools/eraser",["ErTl"]];l.jx=function(m,g,L){l.$B.call(this,m,g,L);
this.aZ={brush:m?ql.wy():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.Tf=null;this.xG=null;this.KO=null;this.sr=null;this.Sm=null;this.nR=null;this.sd=null;this.iu=null;
this.D_=null;this.rh=null;this.HF=null;this.HK=null;this.CG=null;this.Ih=1;this.IY=!1;this._Z=null;this.caller=null};
l.jx.prototype=new l.$B;l.jx.prototype._j=function(m,g){return m.Tb&&g.a(C.jU)};l.jx.prototype.Fr=function(m,g,L,K,r){if(K.a(C.qk)){this.nR=new jf(r.x,r.y);
var R=this.aZ.brush.Brsh.v,Q=R.Dmtr.v.val,F=R.Hrdn!=null?R.Hrdn.v.val:-1;this.sd=[Q,F,!0,JSON.parse(JSON.stringify(this.aZ.brush)),r];
this.Qh(L)}};l.jx.prototype.CP=function(m,g,L){var K=this.sd,r=m.L.T,R=L.x-K[4].x,Q=L.y-K[4].y,F=K[0],q=K[1],n=Math.abs(R)>Math.abs(Q);
if(n&&K[2]){var W=Math.round(2*R/r);F+=W;L.x-=R-.5*W*r}if(!n&&!K[2]&&q!=-1){var W=Math.round(.25*Q);
q+=W;L.y-=Q-4*W}F=Math.max(1,F);q=K[1]==-1?-1:Math.max(0,Math.min(100,q));var z=K[3];z.Brsh.v.Dmtr.v.val=F;
if(q!=-1)z.Brsh.v.Hrdn.v.val=q;this.sd=[F,q,n,z,L];var u=IT.Mg(z,g.Br.Rd,r),N=u[1];N.x=Math.round(this.nR.x-N.j/2);
N.y=Math.round(this.nR.y-N.F/2);m.J.H_=[u];var b=m.L.TV(this.nR.x,this.nR.y);m.J.nO={sN:[],sy:[b.x-F/2,b.y,b.x+F/2,b.y]};
if(q!=-1)m.J.nO.sy.push(b.x+50/r,b.y-q/2,b.x+50/r,b.y+q/2);m.Oi=!0};l.jx.prototype.fE=function(m,g,L,K,r){if(this.id==l.IqO)return;
if(this.nR){this.nR=null;this.ok(JSON.parse(JSON.stringify(this.sd[3])));m.J.H_=[];m.J.nO=null;m.Oi=!0;
return}var R=new Y(p.E.V,!0);R.data={P:p.o.dL,K:this.id,IBB:"showBrushOpts",iW:new jf(r.zv+4,r.hp)};
g.g(R)};l.jx.prototype.ok=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.VP,Su:am.qv,cu:m};this.caller.g(g)};
l.jx._W=function(m,g,L,K){if(m==null)m="FrgC";if(g==null)g="norm";if(L==null)L=1;var r={classID:"Fl",Usng:{t:"enum",v:{FlCn:m}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(L*100)}},Md:{t:"enum",v:{BlnM:ad.EE(g)}}};
if(m=="Clr")r.Clr={t:"Objc",v:K};if(m=="contentAware")r.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{Qm:"fill",XX:r}};l.jx.prototype.VH=function(m,g,L,K,r){this.Tu=g;var R=L.gW.length;if(R==0&&!L.kn())return;
var Q=R!=0?-1-L.gW[0]:L.N[0],F=L._[Q];if(m.P=="fromAction"){var q=m.HX,n=q.XX;if(q.Qm=="fill"){var W=(n.Opct?n.Opct.v.val:100)/100,z=n.Md?ad._D(n.Md.v.BlnM):"norm",u=n.Usng.v.FlCn,N;
if(u=="contentAware"){if(L.I==null){alert("Select an area to heal first.");return}if(!L.kn())return;
this.aV(L);var b=L.I,B=I.m(b.rect.c()*4);I.eX(b.channel,B,3);this.PL(L,"sheal",B,b.rect,b.rect);this.X(L,b.rect);
this.finish(L,b.rect)}else{if(u=="FrgC")N=r.$q;else if(u=="BckC")N=r._Q;else if(u=="Blck")N=0;else if(u=="Wht")N=16777215;
else if(u=="Gry")N=8421504;else if(u=="Clr"){var h=I.G.EX(n.Clr.v);N=h.u<<16|h.S<<8|h.R}var A=N>>16&255,e=N>>8&255,c=N>>0&255;
this.IIS(L,F,L.I,A,e,c,Math.round(255*W),z,[2,3])}}else if(q.Qm=="delete"){var a=Q<0?1:F.eF,b=L.I,f;
if(b==null)return;var $=Q<0?L.Qj[-Q-1]:a<=0?null:a==1?F.WN():F.lI(L).s,G=a<=0?F.rect:$.rect,o=a<=0?b.rect.my(G):b.rect.clone();
if(o.L_())return;var H=o.c();if(a<=0){f=I.m(H*4);I.pq(F.buffer,F.rect,f,o)}else{f=I.m(H);$.extend(o);
I.Cp($.channel,$.rect,f,o)}if(0<=Q&&F.uu(L,b)){if(a<=0){I._U(f,0);I.pq(F.OJ.Fi,F.OJ.pu,f,o)}else{I.set(f,255);
I.Cp(F.OJ.Fi,F.OJ.pu,f,o)}}else{if(a<=0){var E=I.m(f.length>>2);I.Vl(f,E,3);I.h.OP(I.ae(b.rect.c()),b.rect,E,o,b.channel,o,1);
I.eX(E,f,3)}else{var S=I.m(b.rect.c()),A=r._Q>>16&255,e=r._Q>>8&255,c=r._Q>>0&255;I.set(S,Math.round(I.Mi(A,e,c)));
I.h.OP(S,b.rect,f,o,b.channel,o,1)}}this.oM(L,!0,[2,2],Q,a,o,f)}}if(m.P=="stroke"){var V=m.IBh,b=L.I;
if(b==null){b={rect:F.rect.clone(),channel:I.m(F.rect.c())};I.Vl(F.buffer,b.channel,3)}var J=ai.cA(V),U=l.Lk.Iqx(b,Math.ceil(J[0]),Math.ceil(J[1])),N=I.G.EX(V.Clr.v),A=Math.round(N.u),e=Math.round(N.S),c=Math.round(N.R);
this.IIS(L,F,U,A,e,c,Math.round(255*V.Opct.v.val/100),ad._D(V.Md.v.BlnM),[14,9])}if(m.P=="fillBMP"){this.Iqg(L,F,L.I,m.bz,m.od,m.Is)}if(m.P=="draw"){var j=m.qY,i=m.ISb?aJ._I.Imm(j,L):j.rect,k=this.aZ.bmode;
this.aV(L);this.aZ.bmode="norm";this.PL(L,"draw",j.buffer,i,i.my(new v(0,0,L.j,L.F)));this.aZ.bmode=k;
this.X(L,i);this.finish(L,i,m.Is,m.ISb)}};l.jx.prototype.IIS=function(m,g,L,K,r,R,Q,F,q){var n=L==null?new v(0,0,m.j,m.F):L.rect,W=Q<<24|R<<16|r<<8|K<<0,z=I.m(n.c()*4);
I._U(z,W);this.Iqg(m,g,L,z,F,q)};l.jx.prototype.Iqg=function(m,g,L,K,r,R){var Q=m.gW.length!=0?-1-m.gW[0]:m.N[0],F=Q<0?1:g.eF,q=Q<0?m.Qj[-1-Q]:F<=0?null:F==1?g.WN():g.lI(m).s,n=F<=0?g.rect:q.rect,W=L==null?new v(0,0,m.j,m.F):L.rect,z=L==null?I.xE(m.j*m.F):L.channel,u=W.c(),N,b=null;
if(F<=0){N=I.m(u*4);I.pq(g.buffer,g.rect,N,W)}else{N=I.m(u);q.extend(W);I.Cp(q.channel,q.rect,N,W)}if(L!=null)I.tk(z,K);
if(F>0){b=I.m(u);I.Wt(K,b)}if(0<=Q&&L&&g.uu(m,L)){var B=g.OJ.Kh,h=I.clone(g.OJ.Kh);if(F<=0)I.jR(K,h);
else I.jR(b,h);var A=new aP([2,3],this);A.data={P:"drawtemp",A:m.N[0],$y:F,IBr:B,IBA:h};m.wM(A);this.ao(A.data,m)}else{if(F<=0)I.h.dq(r,K,W,N,W,W,1);
else I.h.OP(b,W,N,W,z,W,1);this.oM(m,!0,R,Q,F,W,N)}};l.jx.prototype.AC=function(m){if(C.uG.indexOf(m)!=-1)return!0;
return!1};l.jx.prototype.KK=function(m,g,L,K){var r=this.aZ.brush,R=K.a(C.qk),Q=R!=this.IY,F=l.jx.oO(r,K);
if(F!=null)this.ok(F);if(!K.a(C.EZ)&&K.km()!=-1){var q=p.IvN(Math.round(this.aZ.opacity*100),K.km())/100;
this.a$({opacity:q},g)}if(this.id==l.fB&&Q&&m!=null){var n=this.aZ.qsmode;if(n==2)n=m.I==null?0:1;else n=2;
this.a$({qsmode:n},g)}this.IY=R;if(Q){if(m)this.Ih=m.L.T;this.Qh(L,K)}};l.jx.oO=function(m,g){var L=m.Brsh.v.Dmtr.v.val,K=m.Brsh.v.Hrdn!=null?m.Brsh.v.Hrdn.v.val:-1,r=L,R=K,Q=g.a(C.jU);
if(g.a(C.uR)){if(Q)K=25*Math.floor((K-1)/25);else{if(L<=10)L--;else if(L<=50)L=5*Math.floor((L-1)/5);
else if(L<=100)L=10*Math.floor((L-1)/10);else if(L<=200)L=25*Math.floor((L-1)/25);else if(L<=400)L=50*Math.floor((L-1)/50);
else L=100*Math.floor((L-1)/100)}}if(g.a(C.ko)){if(Q)K=25*Math.ceil((K+1)/25);else{if(L<10)L++;else if(L<50)L=5*Math.ceil((L+1)/5);
else if(L<100)L=10*Math.ceil((L+1)/10);else if(L<200)L=25*Math.ceil((L+1)/25);else if(L<400)L=50*Math.ceil((L+1)/50);
else L=100*Math.ceil((L+1)/100)}}L=Math.max(1,L);K=Math.max(0,Math.min(100,K));if(R==-1)K=-1;if(L!=r||K!=R){var F=JSON.parse(JSON.stringify(m));
F.Brsh.v.Dmtr.v.val=L;if(R!=-1)F.Brsh.v.Hrdn.v.val=K;return F}return null};l.jx.prototype.Qh=function(m,g,L,K){if(m.Br.list.length==0)return;
var r=this.id,R;if((r==l.Z_||r==l.bW||r==l.FE||r==l.Fs)&&(g!=null&&g.a(C.qk)||this.aZ.alt[0]))R="crosshair";
else{var Q=this.Ih,F=this.aZ.brush,q;if(L&&L.N.length!=0)q=L._[L.N[0]];if((r==l.Z_||r==l.bW)&&q!=null&&q.eF<=0){var n=L.L.TV(K.x,K.y),W=this.Iwf(n),z=this.aZ.sfrom,u=q.buffer,N=q.rect,$,G;
if(z!=0){N=new v(0,0,L.j,L.F);u=L.os(z==1&&L.N[0]!=L._.length-1?L.N[0]:null)}var b=new v(N.x+W.x,N.y+W.y,N.j,N.F),B=IT.Mg(F,m.Br.Rd,Q),h=B[0],A=B[1],e=Math.ceil(A.j/Q),c=new v(Math.round(n.x-e/2),Math.round(n.y-e/2),e,e),a=I.m(c.c()*4);
I.pq(u,b,a,c);if(Q==1){$=a;G=c}else if(Q<1){var o=I.xO(a,c,Q);$=o.qT;G=o.rect;if(G.c()!=A.c()){G=A.clone();
G.x=o.rect.x;G.y=o.rect.y;$=I.m(G.c()*4);I.pq(o.qT,o.rect,$,G)}}else{$=h.slice(0);G=A;I.scale._f(a,c.j,c.F,$,G.j,G.F,Q)}var H=this.aZ.opacity/255;
for(var f=0;f<$.length;f+=4)$[f+3]=H*(h[f+3]*$[f+3]);R={qr:$,l:G,mB:new jf(G.j/2,G.F/2)}}else R=IT.MK(F,m.Br.Rd,Q)}var E=new Y(p.E.V,!0);
E.data={P:p.o.cM,_q:R};if(this.caller)this.caller.g(E)};l.jx.prototype.enable=function(m,g,L,K){this.Tf=L;
this.caller=g;this.ok(JSON.parse(JSON.stringify(this.aZ.brush)));if(m&&m.L.T!=0)this.Ih=m.L.T;this.Qh(L,K)};
l.jx.prototype.SI=function(m,g){if(g==am.qv){this.aZ.brush=m.Br.sz;this.Qh(m)}};l.jx.prototype.lr=function(m,g,L,K,r){for(var R in m)this.aZ[R]=m[R];
if(this.aZ.alt[0])this.Qh(r,K,L)};l.jx.prototype.aV=function(m,g){var L=m.gW.length!=0?-1-m.gW[0]:m.N[0],K=m._[L],r=L<0?1:K.eF,R=L<0?m.Qj[-L-1]:r<=0?null:r==1?K.WN():K.lI(m).s;
this.CG=m.I==null?null:{rect:m.I.rect.clone(),channel:I.clone(m.I.channel)};this.rh=R?R.channel:K.buffer;
this.D_=(R?R.rect:K.rect).clone();var Q=new v(0,0,m.j,m.F),F=Q.uM(this.D_);if((this.gH()&&r<=0||F.TB(this.D_))&&g!=!0)this.rh=this.rh.slice(0);
else{if(R)R.extend(F);else K.extend(F)}this.HF=this.D_;this.HK=this.rh;if(r<=0&&(this.id==l.Z_||this.id==l.bW)){var q=this.aZ.sfrom;
if(q!=0){this.HF=new v(0,0,m.j,m.F);this.HK=I.clone(m.os(q==1&&m.N[0]!=m._.length-1?m.N[0]:null))}}};
l.jx.prototype.g$=function(m,g,L){if(m.a(C.qk)){var K=new Y(p.E.B,!0);K.K=l.Iqp;K.data={P:"pickhere",IBH:L};
g.g(K);return!0}return!1};l.jx.prototype.vM=function(m,g,L,K,r,R){if(!m.kn()){this.xG=null;return}this.aV(m);
var Q=new v(0,0,m.j,m.F),F=null;if(R!=null){var q=m.gW.length!=0?-1-m.gW[0]:m.N[0],n=m._[q],W=q<0?m.Qj[-q-1]:n.eF<=0?null:n.eF==1?n.WN():n.lI(m).s;
F=I.m(Q.c()*4);if(W)l.jx.PW(this.rh,this.D_,W.color,F,Q);else I.pq(this.rh,this.D_,F,Q)}var z=this.aZ;
if(this.xG&&this.id==l.fB&&z.qsmode!=0){}else{var u=g.$q,N=g._Q;if(this._Z=="erase"){var b=u;u=N;N=b}var B=this.id==l.fB?this.D_:Q;
this.xG=new IT(z.brush,g.Br.Rd,g.Br.jg,{aC:r,HA:R,IBd:z.smth*50*p.M()/m.L.T,HH:this.id==l.Fs||z.emode==1,zm:z.prsr},u,N,B,F)}if(this.id==l.fB){this.xG.IeX(z.brush,z.qsmode==2?0:16777215)}var h=m.L.TV(K.x,K.y);
h=l.Bc.BO(m,h,g);if(L.a(C.jU)&&this.KO){this.xG.moveTo(this.KO.x,this.KO.y,K.kw);this.xG.lineTo(h.x,h.y,K.kw)}else this.xG.moveTo(h.x,h.y,K.kw);
this.KO=h;this.sr=h.clone();this.Sm=new Db(h)};l.jx.prototype.vE=function(m,g,L){if(m.L.T!=0&&m.L.T!=this.Ih){this.Ih=m.L.T;
this.Qh(L)}};l.jx.prototype.na=function(m,g,L,K){if(this.xG==null)return;var r=m._[m.N[0]],R=m.L.TV(K.x,K.y);
R=l.Bc.BO(m,R,g);var Q=this.Sm.YQ(R,L);if(Q.TB(this.KO))return 1;this.xG.lineTo(Q.x,Q.y,K.kw);this.KO=Q;
if(this.id==l.Z_||this.id==l.bW){var F=this.gu(),q=11;F=m.L.nt(R.x-F.x,R.y-F.y);var n=q>>>1,W=new v(Math.round(F.x)-n,Math.round(F.y)-n,q,q),z=I.m(W.c()*4);
I._U(16777215);for(var u=0;u<q;u++)z[(u*q+n)*4+3]=z[(q*n+u)*4+3]=255;m.J.To=[[z,W]];m.Oi=!0}};l.jx.prototype.ey=function(m,g,L,K){if(L._O!=this.id)return;
if(this.id!=l.fB||m==null)return;if(m.I==null||m.N[0]!=this.IBW){this.IBW=m.N[0];this.a$({qsmode:0},g)}};
l.jx.prototype.X=function(m,g){if(m.gW.length!=0){m.Oi=!0;return}var L=m._[m.N[0]];if(g==null){g=this.xG.MF();
if(this.gH()&&L.eF<=0)g=g.my(this.D_)}if(g.L_())return;if(L.eF<=0){L.X(g)}if(L.eF==1){L.WN().gg=!0;L.Zh(m)}if(L.eF==3){L.X()}m.X(m.root.OW(g,m,m.N[0],!0))};
l.jx.prototype.RK=function(m,g,L,K,r){if(this.xG==null)return;this.xG.finish();if(this.id!=l.IQS&&this.id!=l.bW&&this.id!=l.fB)this.tQ(m);
if(this.id==l.Z_||this.id==l.bW){m.J.To=[];m.Oi=!0}if(this.id==l.fB){var R=m.I;m.I=this.CG;var Q=new Y(p.E.B,!0);
Q.data={P:"setsel",Is:this.name,I:R};Q.K=l.eS;g.g(Q);if(this.aZ.qsmode==0)this.a$({qsmode:1},g)}else{this.finish(m,this.xG.hz());
this.xG=null;this.iu=null}this.dir=0};l.jx.prototype.a$=function(m,g){for(var L in m)this.aZ[L]=m[L];
var K=new Y(p.E.V,!0);K.data={P:p.o.dL,K:this.id,px:m};g.g(K)};l.jx.prototype.gH=function(){var m=this.id;
return m==l.fB||m==l.aw||m==l.IIt||m==l.IQV||m==l.IIT||m==l.IDd};l.jx.prototype.finish=function(m,g,L,K){var r=m.gW.length!=0?-1-m.gW[0]:m.N[0],R=m._[r],Q=r<0?1:R.eF,F=r<0?m.Qj[-r-1]:Q<=0?null:Q==1?R.WN():R.lI(m).s,q=F?F.rect:R.rect,z;
if(this.gH()||!q.TB(this.D_)){if(F==null){if(this.gH())R.qV();else{var n=g.uM(this.D_),W=I.m(n.c()*4);
I.pq(R.buffer,R.rect,W,n);R.buffer=W;R.rect=n}}else F.qV();this.X(m,q)}if(Q<=0){z=I.m(g.c()*4);I.pq(this.rh,this.D_,z,g)}else{z=I.m(g.c());
I.set(z,F.color);I.Cp(this.rh,this.D_,z,g)}this.oM(m,!1,L?L:this.name,r,Q,g,z,K)};l.jx.prototype.oM=function(m,g,L,K,r,R,Q,F){var q=Q;
if(r>0){q=I.m(R.c()*4);l.jx.PW(Q,R,0,q,R)}var n=new aP(L,this);n.data=[{A:K,$y:r,l:R,$O:q}];if(F)n.data.ISz=[m.I,null];
m.wM(n);if(g)this.ao(n.data,m);else if(F)m.I=null;aJ.gL.Imi(m,n.data)};l.jx.prototype.Kq=function(m,g){this.IRg(m,g,!1)};
l.jx.prototype.ao=function(m,g){this.IRg(m,g,!0)};l.jx.prototype.IRg=function(m,g,L){if(m.P=="drawtemp"){var K=L?m.IBA:m.IBr,r=g._[m.A];
r.OJ.Kh=K;r.XU(g,0,0,g.I);r.X()}else{aJ.gL.nx(g,m);if(m.ISz){g.I=m.ISz[L?1:0];g.qL=!0}}g.X()};l.jx.prototype.tQ=function(m){this.PL(m,this._Z,this.xG.jv(),this.xG.ZM(),this.xG.MF());
this.X(m)};l.jx.prototype.PL=function(m,g,L,K,r){var R=this.aZ,Q=m._[m.N[0]],F=m.gW.length!=0?m.Qj[m.gW[0]]:Q.eF<=0?null:Q.eF==1?Q.WN():Q.lI(m).s,q=I.m(r.c()*4);
if(F==null){I.pq(this.rh,this.D_,q,r)}else{l.jx.PW(this.rh,this.D_,F.color,q,r)}if(m.I&&g!="qselect"){var n=r.my(m.I.rect),W=I.m(n.c()*4);
if(g=="copy"){var z=I.m(n.c());I.Cp(m.I.channel,m.I.rect,z,n);I.pq(q,r,W,n);I.h.oH(L,K,W,n,z,n,0,n,1,!1)}else{I.pq(L,K,W,n);
I.lD(m.I.channel,m.I.rect,W,n)}L=W;K=n}if(g=="idraw"||g=="ierase"){if(this.iu==null)this.iu=I.m(this.D_.c());
var u=this.aZ.samp,N=this.Tf._Q,b=u==0?this.KO:this.sr,B=b.x,h=b.y,A=l.lz.Aa(this.rh,this.D_,[b,new jf(B-2,h),new jf(B+2,h),new jf(B,h-2),new jf(B,h+2)]);
if(u==2)A=[[N>>>16&255,N>>>8&255,N>>>0&255,255]];var e=l.lz.IZi(q,r,this.KO,A,this.aZ.wconf),c=I.m(r.c());
I.Cp(this.iu,this.D_,c,r);I.XK.uM(e,c,c);I.Cp(c,r,this.iu,this.D_);I.lD(c,r,L,K);g=g.slice(1)}if(g=="erase"&&(aJ.gL.IJd(m)!=16777215||F))g="draw";
if(g=="draw")I.h.dq(R.bmode,L,K,q,r,r,R.opacity);else if(g=="erase"){var a=I.m(r.c()*4);I.pq(L,K,a,r);
if(F==null){var $=I.m(r.c());I.Vl(a,$,3);I.Xw($,R.opacity);I.eb($);I.lD($,r,q,r)}else{I._U(a,0,4278190080);
I.h.dq("norm",a,r,q,r,r,R.opacity)}}else if(g=="clone"||g=="heal"){var G=this.gu(),o=this.HF.clone();
o.offset(G.x,G.y);var H=r.clone();H.XH(1,1);var f=I.m(H.c()*4),E=I.m(H.c());I.pq(L,K,f,H);I.Vl(f,E,3);
I._U(f,0);if(F==null){I.pq(this.HK,o,f,H);var S=I.m(H.c());I.Vl(f,S,3);I.XG(S,E)}else l.jx.PW(this.rh,o,F.color,f,H);
if(g=="clone"){I.eX(E,f,3);I.h.dq(R.bmode,f,H,q,r,r,R.opacity)}if(g=="heal"){var V=I.clone(E);I.round(V,20);
var J=I.m(H.c()*4);I.pq(this.rh,this.D_,J,H);I.h.oH(f,H,J,H,V,H,0,H,1,!1);I.hA.I_(J,V,H);I.h.oH(J,H,q,r,E,H,0,r,1,!1)}}else if(g=="dodge"||g=="burn"){var f=I.m(r.c()*4),i=1,k=0,P=0,w=0;
I.pq(L,K,f,r);var U=r.c()*4,j=l.jx.gb;if(this.IY){if(g=="dodge")g="burn";else g="dodge"}var d=R.rng;
if(g=="dodge"){k=[1-i/2,1,1+i][d];P=[1,1/(1+i),1][d];w=[i/2,0,0][d]}if(g=="burn"){k=[1/(1-i/2),1,1-i/2][d];
P=[1,1+i,1][d];w=[-(i/2)/(1-i/2),0,0][d]}for(var T=0;T<U;T+=4){var y=f[T+3];q[T+0]=j(q[T+0],k,P,w,y);
q[T+1]=j(q[T+1],k,P,w,y);q[T+2]=j(q[T+2],k,P,w,y)}}else if(g=="sponge"||g=="redeye"){var f=I.m(r.c()*4),E=I.m(r.c());
I.pq(L,K,f,r);I.Vl(f,E,3);I.jR(q,f);var D=R.smode;if(this.IY)D=1-D;var s=aN.Rw("hue2");if(g=="sponge")In.dI(s,0,[0,[-50,46][D],[6,5][D]]);
else In.dI(s,1,{Zj:[265,305,25,55],Hl:[0,-90,-70]});var Z=qE.Ik("hue2",s);qE.qK(Z,f,f,r);I.h.oH(f,r,q,r,E,r,0,r,1,!1)}else if(g=="copy")I.pq(L,K,q,r);
else if(g=="sheal"){var f=I.m(r.c()*4),E=I.m(r.c());I.pq(L,K,f,r);I.Vl(f,E,3);I.Rg.I_(this.rh,this.D_,E,q,r)}else if(g=="qselect"){var aQ=this.D_,aI=aQ.j,aa=aQ.F,aD=aI*aa,_=this.xG.jv(),A=this.rh,M=l.Lk.Kx,E=M.EG;
E.fill(128);for(var T=0;T<aD;T++){var jt=_[T<<2],aR=_[(T<<2)+3];if(aR==255&&(jt==0||jt==255))E[T]=jt}E[0]=E[aI-1]=0;
E[(aa>>>1)*aI]=E[(aa>>>1)*aI+aI-1]=0;l.TY.Al(M,!0);m.I={rect:aQ,channel:M.I.slice(0)};m.qL=!0}if(F==null)I.pq(q,r,Q.buffer,Q.rect);
else l.jx.gs(q,r,F)};l.jx.gu=function(){return null};l.jx.gb=function(m,g,L,K,r){var R=m*(1/255),Q=K+g*Math.pow(R,L),F=Math.round(Q*r+R*(255-r));
return Math.max(0,Math.min(255,F))};l.jx.PW=function(m,g,L,K,r){var R=I.m(r.c());I.set(R,L);I.Cp(m,g,R,r);
I._U(K,4278190080);I.xk(R,K)};l.jx.gs=function(m,g,L){var K=I.m(g.c());I.Wt(m,K);I.Cp(K,g,L.channel,L.rect)};
l.Lk=function(m,g,L){l.$B.call(this,m,g,L);this.aZ={BF:"front",JE:0,ee:{Dn:0,x:3,y:2},Hu:[10,!0,!0]};
this.cK=new jf(-1,-1);this.Ms=new jf(-1,-1);this.po="default";this.Tu=null;this.Qn=!1;this.Hd=!1;this.IY=!1;
this.Hb=0;this.rU=0;this.Ht=!1;this.kL=null;this.kJ=null;this.zl=!1};l.Lk.prototype=new l.$B;l.Lk.Kx={key:""};
l.Lk.Kw=function(m,g){var L={Qm:m,XX:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(g)L.XX.T=g;return L};l.Lk.o_=function(m,g){return l.Lk.Kw("set",{t:"Objc",v:{classID:m,Top:{t:"UntF",v:{type:"#Pxl",val:g.y}},Left:{t:"UntF",v:{type:"#Pxl",val:g.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:g.y+g.F}},Rght:{t:"UntF",v:{type:"#Pxl",val:g.x+g.j}}}})};
l.Lk.aF=function(m,g){var L=[],K=[],Q="set";for(var r=0;r<m.length;r+=2){L.push(m[r]);K.push(m[r+1])}var R={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:L},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:K}]}}}};
if(g)Q={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[g];return l.Lk.Kw(Q,R)};
l.Lk.IIH=function(m,g){var L={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:m.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:m.y}}}},K=l.Lk.Kw("set",L);
K.XX.Tlrn={t:"long",v:g[0]};K.XX.AntA={t:"bool",v:g[1]};K.XX.Cntg={t:"bool",v:g[2]};return K};l.Lk.ud=function(m){return l.Lk.Kw("set",{t:"enum",v:{Ordn:m?"Al":"None"}})};
l.Lk.IIc=function(m,g,L){var K={classID:"null"};if(m!="border")K.selectionModifyEffectAtCanvasBounds={t:"bool",v:L};
var r={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[m[0]];K[r]={t:"UntF",v:{type:"#Pxl",val:g}};return{Qm:m,XX:K}};
l.Lk.IQj=function(m,g,L){var K={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},r={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][L]}},{t:"name",v:{classID:"Lyr",val:m}}]},R=[{classID:"null",null:K,T:r},{classID:"null",null:r,T:K},{classID:"null",null:r,From:K},{classID:"null",null:r,With:K}],Q=["set","add","subtract","interfaceIconFrameDimmed"];
return{Qm:Q[g],XX:R[g]}};l.Lk.Iqv=function(m,g){var L=new Y(p.E.V,!0);L.data={P:p.o.VP,Su:am.Il};if(!g.ny)m.g(L);
L.data={P:p.o.VP,Su:am.Hr};if(!g.dA.pT)m.g(L)};l.Lk.prototype.VH=function(m,g,L,K,r){l.Lk.Iqv(g,r);this.Tu=g;
var R=m.P,Q,F,q=new v(0,0,L.j,L.F),ak=!1,ao,aZ;if(R=="fromAction"){var n=m.HX,W=n.Qm,z=n.XX,u=z?z.selectionModifyEffectAtCanvasBounds:null,N=u&&u.v;
if(W=="inverse"){if(L.I==null){alert("No selection!");return}Q={channel:I.m(q.c()),rect:q};I.Cp(L.I.channel,L.I.rect,Q.channel,Q.rect);
I.eb(Q.channel);F=[7,2]}else if(W=="expand"){var b=z.By.v.val,B=L.I.rect.clone();B.XH(b,b);var h=I.m(B.c()),A=I.m(B.c());
I.Cp(L.I.channel,L.I.rect,A,B);I.style.stroke(A,h,B,b);Q={channel:h,rect:B};F=[7,4]}else if(W=="contract"){var b=z.By.v.val,e=L.I.rect.clone();
e.XH(1,1);if(!N)e=e.my(q);var A=I.m(e.c()),c=I.m(A.length);I.Cp(L.I.channel,L.I.rect,A,e);I.eb(A);I.style.stroke(A,c,e,b);
I.eb(c);Q={channel:c,rect:e};I.qV(Q);F=[7,5]}else if(W=="border"){var b=z.Wdth.v.val;Q=l.Lk.Iqx(L.I,b/2,b/2);
F=[7,9]}else if(W=="feather"||W=="smoothness"){var b=z.Rds.v.val;Q=l.Lk.IDW(L.I,b,W=="smoothness",q,N);
F=W=="feather"?[7,6]:[19,3,0]}else{var a=z.null.v;function $(IQ){var Ih=IQ.Top.v.val,aM=IQ.Left.v.val;
return new v(aM,Ih,IQ.Rght.v.val-aM,IQ.Btom.v.val-Ih)}function G(IQ){var Ih=IQ[0].arr,Rp=IQ[1].arr,ag={D:[],O:[]};
for(var aw=0;aw<Ih.length;aw++){ag.O.push(aw==0?"M":"L");ag.D.push(Ih[aw],Rp[aw])}ag.O.push("Z");return ag}var o=["set","addTo","subtractFrom","interfaceWhite"].indexOf(W),H=z.T?z.T.v:null;
if(H&&H.classID=="Elps"){Q=this.IqK(l.CM.ICk($(H)));F=[10,4]}else if(H&&H.classID=="Rctn"){var f=$(H);
Q={channel:I.m(f.c()),rect:f.clone()};I.set(Q.channel,255);F=[10,15]}else if(H&&H.classID=="ObSl"){var f=$(H),E=l.Lk.Kx,S=E.rect,V=E.EG,J=S.j,U=S.F,j=f.x-S.x,i=j+f.j-1,k=Math.max(j,Math.min(i,j+i>>>1)),P=f.y-S.y,w=P+f.F-1,d=Math.max(P,Math.min(w,P+w>>>1)),T=Math.max(j,0),y=Math.min(i,J),D=Math.max(P,0),s=Math.min(w,U);
V.fill(128);if(0<=P)for(var Z=T;Z<y;Z++)V[P*J+Z]=0;if(w<U)for(var Z=T;Z<y;Z++)V[w*J+Z]=0;if(0<=j)for(var aQ=D;
aQ<s;aQ++)V[aQ*J+j]=0;if(i<J)for(var aQ=D;aQ<s;aQ++)V[aQ*J+i]=0;var aI=l.Ib.IiO,aq=Math.round(f.j*aI),aa=Math.round(f.F*aI);
for(var Z=Math.max(0,k-aq);Z<Math.min(J,k+aq);Z++)V[d*J+Z]=255;for(var aQ=Math.max(0,d-aa);aQ<Math.min(U,d+aa);
aQ++)V[aQ*J+k]=255;l.TY.Al(E,!0);Q={channel:E.I.slice(0),rect:S.clone()};F=[10,44]}else if(H&&H.classID=="Plgn"){Q=this.IqK(G(H.Pts.v.arr));
F=[10,9]}else if(H&&H.classID=="Pnt"){Q=l.lz.IxO(L,new jf(H.Hrzn.v.val,H.Vrtc.v.val),[z.Tlrn.v,z.AntA==null||z.AntA.v,z.Cntg==null||z.Cntg.v]);
F=[10,12]}else if(H&&H.Ordn=="None"){Q=null;F=[7,1]}else if(H&&H.Ordn=="Al"){Q={channel:I.m(q.c()),rect:q};
I.set(Q.channel,255);F=[7,0]}else{var _=L.N[0],aL;if(a.length==2)_=RL.qW(L,a[1]);else if(H.length==2)_=RL.qW(L,H[1]);
var M=(H?H:a)[0].v.enum,jt=["Trsp","Msk","vectorMask"].indexOf(M);console.log(jt);var aR=o!=-1?o:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(W);
if(H&&H[0].t=="name"){for(var aw=0;aw<L.Qj.length;aw++)if(L.Qj[aw].name==H[0].v.val)_=aw;aL={P:"fromchannel",tK:[-5-_,0,aR]}}else if(M=="RGB")aL={P:"fromchannel",tK:[-1,0,aR]};
else aL={P:"fromlayer",tK:[_,jt,aR]};this.VH(aL,g,L,K,r);return}if(z.Fthr)Q=l.Lk.IDW(Q,z.Fthr.v.val,!1);
if(W!="set"&&L.I!=null)Q=I.XK.Ln(Q,L.I,["","union","difference","intersection"][o])}if(W=="expand"||W=="contract")if(!N&&!q.contains(Q.rect)){var ap=Q.rect.my(q),al=I.m(ap.c());
I.Cp(Q.channel,Q.rect,al,ap);Q.channel=al;Q.rect=ap}}if(R=="qmask"){ak=!0;var aS=L.li(),an=new v(0,0,L.j,L.F);
if(aS){Q=aS.rect.TB(an)&&I.Xx(aS.channel,255)?null:{rect:aS.rect.clone(),channel:aS.channel.slice(0)};
ao=aS}else{Q=null;aZ=new x.Ed;aZ.color=0;aZ.name="Quick Mask";aZ.vu=!0;if(L.I){aZ.rect=L.I.rect.clone();
aZ.channel=L.I.channel.slice(0)}else{aZ.rect=an;aZ.channel=I.m(aZ.rect.c());I.set(aZ.channel,255)}}F=[6,6,1]}if(R=="setsel"){Q=m.I;
F=m.Is}if(R=="crange"){var IU=m.mv,a_=m.mV;Q=l.Lk.Iwk(L,IU,a_,m.Xt);F=[7,8];IU={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:IU.dU},A:{t:"doub",v:IU.Wh},B:{t:"doub",v:IU.R}}};
a_={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:a_.dU},A:{t:"doub",v:a_.Wh},B:{t:"doub",v:a_.R}}};this.track({Qm:"colorRange",XX:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(m.Xt*200)},Mnm:IU,Mxm:a_,colorModel:{t:"long",v:0}}})}if(R=="fromlayer"||R=="fromchannel"||R=="frompath"){var aG=m.tK[0],jt=m.tK[1],o=m.tK[2];
if(R=="fromlayer"){if(aG==null)aG=L.N[0];var aM=L._[aG];if(jt==0){var av=aM.rect,aA=aM.buffer;if(av.L_())return;
var IL=I.m(aA.length>>>2);I.Vl(aA,IL,3);Q={channel:IL,rect:av.clone()}}else{if(aM.s==null)aM.Zh(L);var aB=jt==1?aM.WN():aM.s;
Q=l.Lk.IxJ(aB,q)}this.track(l.Lk.IQj(aM.getName(),o,jt))}else if(R=="frompath"){var aV=L.zA(),Ia=aV[1],aV=aV[0];
if(aV.length==0||Ia.length==0)return;var aK=aV[Ia[0]];if(aG!=null)for(var aw=0;aw<aV.length;aw++)if(aV[aw].Bj==aG)aK=aV[aw];
var aB=aK.add.vmsk.WN(),aE=aB.ZM();if(aE.c()==0)return;var IL=aB.Xj(),Ij=L.Xv.indexOf(-1-aG);if(Ij!=-1)L.Xv.splice(Ij,1);
Q={channel:IL,rect:aE}}else{if(aG==null)aG=l.Lk.IIZ(L);Q=l.Lk.Iie(L,aG)}if(o!=0&&L.I)Q=I.XK.Ln(Q,L.I,["","union","difference","intersection"][o]);
F=[14,11]}if(Q!=null&&I.Xx(Q.channel,0)){Q=null;F=[7,1]}if(Q)I.qV(Q);var as=new aP(F,this);as.data={P:"changesel",CG:L.I,XB:Q,li:ak,Iil:ao,IOr:aZ};
L.wM(as);this.ao(as.data,L)};l.Lk.IIZ=function(m){var g=0;if(m.gW.length!=0)g=-5-m.gW[0];else if(JSON.stringify(m.L.WY)=="[1,1,1]")g=-1;
else g=-2-m.L.WY.indexOf(1);return g};l.Lk.Iie=function(m,g){var L,K=new v(0,0,m.j,m.F);if(-5<g&g<0){var r=-g-1,R=m.os(),Q=I.m(K.c());
if(r==0)I.Wt(R,Q);else I.Vl(R,Q,r-1);L={channel:Q,rect:K.clone()}}if(g<-4){L=l.Lk.IxJ(m.Qj[-g-5],K)}return L};
l.Lk.IxJ=function(m,g){var L,K;if(m.EX()==0){K=m.ZM();if(K.c()==0)return;L=m.Xj()}else{K=g;L=I.m(K.c());
m.vy(K,L)}return{channel:L,rect:K}};l.Lk.prototype._j=function(m){return this.Ht||m.Tb&&this.id!=l.ImY};
l.Lk.prototype.gA=function(m,g,L){var K=new Y(g,!0);K.data=L;m.g(K)};l.Lk.prototype.IDc=function(m,g){var L=new Y(p.E.V,!0);
L.data={P:p.o.cM,_q:g};m.g(L)};l.Lk.prototype.ZM=function(m,g,L){g=m.I==null||this.Hb>1||this.rU>1?g:null;
var K=this.cK,r=this.Ms;if(L){K.x=Math.max(0,Math.min(m.j,K.x));K.y=Math.max(0,Math.min(m.F,K.y));r.x=Math.max(0,Math.min(m.j,r.x));
r.y=Math.max(0,Math.min(m.F,r.y))}var R=l.nB.Tz(K,r,g,!0,this.aZ.ee),Q=R[0].x,F=R[0].y;return new v(Q,F,R[1].x-Q,R[1].y-F)};
l.Lk.prototype.Mc=function(m,g,L,K,r){if(this.oe())return;this.Tu=g;this.Qn=!1;this.Hd=K.a(C.jU);this.IY=K.a(C.qk);
this.Hb=this.Hd?0:1;this.rU=this.IY?0:1;this.cK=m.L.TV(r.x,r.y);this.cK=l.Bc.BO(m,this.cK,L);if(this.IIs(m,this.cK)){this.Ht=!0;
this.kL=m.I.rect.clone();return}this.cX(m,L,K,r);m.L.zz=new v};l.Lk.prototype.IIs=function(m,g){if(m.I&&this.aZ.BF=="front")return I.wF(g,m.I.channel,m.I.rect);
return!1};l.Lk.prototype.NB=function(m,g,L,K,r){this.Tu=g;if(this.zl)return;var R=m.L.TV(r.x,r.y);if(jf.hQ(this.cK,R)*m.L.T>5)this.Qn=!0;
if(K.a(C.vD)){if(this.kJ==null)this.kJ=new jf(R.x-this.cK.x,R.y-this.cK.y);this.cK.x=R.x-this.kJ.x;this.cK.y=R.y-this.kJ.y}else this.kJ=null;
this.Ms=R;if(!this.Ht)this.Ms=l.Bc.BO(m,this.Ms,L);if(this.IIs(m,this.Ms))this.IDc(g,"move");else this.IDc(g,this.po);
if(this.Ht){var Q=this.kL.clone();Q.x+=this.Ms.x-this.cK.x;Q.y+=this.Ms.y-this.cK.y;var F=l.Bc.ZK(m,Q,L);
m.I.rect.x=Math.round(this.Ms.x-this.cK.x+this.kL.x+F[0]);m.I.rect.y=Math.round(this.Ms.y-this.cK.y+this.kL.y+F[1]);
m.qL=!0;l.Bc.ZF(m,Q,F);return}this.Fg(m,L,K,r);if(m.L.zz)m.L.zz=this.ZM(m,K)};l.Lk.prototype.oe=function(){return!1};
l.Lk.prototype.RK=function(m,g,L,K,r){m.L.zz=null;this.Ms=m.L.TV(r.x,r.y);this.Ms=l.Bc.BO(m,this.Ms,L);
if(this.Ht){this.Ht=!1;if(this.Ms.TB(this.cK)&&this.IIn()=="front"){this.gA(g,p.E.VG,l.Lk.ud());return}this.Iqs(m,this.kL,m.I.rect.clone());
if(m!=null&&m.J.Sp){m.J.Sp=null;m.Oi=!0}return}this.Cs(m,L,K,r);l.Lk.Iqv(g,L)};l.Lk.prototype.Iqs=function(m,g,L){var K=m.oC();
if(K!=null&&K.K==this&&K.data.P=="movesel"){}else{K=new aP([7,7],this);K.data={P:"movesel",hN:g};m.wM(K)}K.data.uQ=L;
this.ao(K.data,m)};l.Lk.prototype.Fr=function(m,g,L,K,r){this.zl=!0};l.Lk.prototype.fE=function(m,g,L,K,r){var R=new Y(p.E.V,!0);
R.data={P:p.o.dL,K:this.id,DL:r,Mw:m,ZS:L};g.g(R);this.zl=!1};l.Lk.prototype.KK=function(m,g,L,K){var r=K.a(C.jU),R=K.a(C.qk);
if(this.Qn){if(this.Hb==0&&!r)this.Hb++;if(this.Hb==1&&r)this.Hb++;if(this.rU==0&&!R)this.rU++;if(this.rU==1&&R)this.rU++}if(m!=null&&m.I!=null){var Q=K.vQ();
if(Q.x!=0||Q.y!=0){var F=m.I.rect.clone();F.x+=Q.x;F.y+=Q.y;this.Iqs(m,m.I.rect.clone(),F)}}var q=l.Lk.ov(this.aZ.BF,r,R),n=new Y(p.E.V,!0);
n.data={P:p.o.dL,K:this.id,BF:q};g.g(n)};l.Lk.prototype.finish=function(m,g,L,K){var r=m.I,R=this.getSelection(m,g,L,K);
if(R==null)R=l.Lk.ud();else{var Q=this.aZ.JE,F=this.IIn();if(Q!=0)R.XX.Fthr={t:"UntF",v:{type:"#Pxl",val:Q}};
if(F!="front"&&F!="xor")R.Qm={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[F]}this.gA(this.Tu,p.E.VG,R);
this.cK.xF(-1,-1);this.Ms.xF(-1,-1)};l.Lk.prototype.IIn=function(){return l.Lk.ov(this.aZ.BF,this.Hd,this.IY)};
l.Lk.ov=function(m,g,L){if(g)m="union";if(L)m="difference";if(g&&L)m="intersection";return m};l.Lk.prototype.getSelection=function(m,g,L,K){return null};
l.Lk.prototype.cX=function(m,g,L,K){};l.Lk.prototype.Fg=function(m,g,L,K){};l.Lk.prototype.Cs=function(m,g,L,K){};
l.Lk.prototype.Kq=function(m,g){var L=m.P;if(L=="changesel")g.I=m.CG;if(L=="movesel")g.I.rect=m.hN;if(m.li){if(m.Iil){g.gW=[g.Qj.length];
g.Qj.push(m.Iil)}else{g.Qj.pop();g.gW=[]}}g.qL=!0};l.Lk.prototype.ao=function(m,g){var L=m.P;if(L=="changesel")g.I=m.XB;
if(L=="movesel")g.I.rect=m.uQ;if(m.li){if(m.IOr){g.gW=[g.Qj.length];g.Qj.push(m.IOr)}else{g.Qj.pop();
g.gW=[]}}g.qL=!0};l.Lk.prototype.lr=function(m){this.aZ=m};l.Lk.prototype.IqK=function(m){var g=I.e.Ny(m.D);
if(g.L_())return null;var L=p.Y("canvas","");L.width=g.j;L.height=g.F;var K=L.getContext("2d");K.beginPath();
K.translate(-g.x,-g.y);Typr.U.pathToContext({cmds:m.O,crds:m.D},K);K.closePath();K.fill();var r=I.m(g.c()),R=K.getImageData(0,0,L.width,L.height);
I.Vl(R.data,r,3);return{rect:g,channel:r}};l.Lk.IDW=function(m,g,L,K,r){if(L)g=Math.round(g*.7);var R=Math.ceil(2.6*g),Q=m.rect.clone();
Q.XH(R,R);if(K&&!r)Q=Q.my(K);var F=I.m(Q.c()),q=I.m(F.length);I.Cp(m.channel,m.rect,q,Q);I.blur.Nl(q,F,Q,g);
if(L){var n=F.length;for(var W=0;W<n;W++){var z=(F[W]-128)*g*2.5;F[W]=Math.max(0,Math.min(255,Math.round(128+z)))}}return{channel:F,rect:Q}};
l.Lk.Iqx=function(m,g,L){var K=Math.max(1,Math.ceil(L)),r=m.rect.clone();r.XH(K,K);var R=r.c(),Q={channel:I.m(R),rect:r},F=I.m(R);
I.Cp(m.channel,m.rect,F,Q.rect);if(L!=0)I.style.stroke(F,Q.channel,Q.rect,L);else I.jR(F,Q.channel);
var q=I.m(R);I.eb(F);if(g!=0)I.style.stroke(F,q,Q.rect,g);else I.jR(F,q);I.XK.my(Q.channel,q,Q.channel);
return Q};l.Lk.Iwk=function(m,g,L,K){var r=new v(0,0,m.j,m.F),R=m.os();if(m.I){var Q=m.I.rect.my(r),F=I.m(Q.c()*4);
I.pq(R,r,F,Q);r=Q;R=F}var q=r.c(),n=I.m(q),W=1/K;for(var z=0;z<q;z++){var u=z<<2,N=I.Kf(R[u],R[u+1],R[u+2]),b=I.tL(N,g,L,K,W);
n[z]=255*b}return{rect:r,channel:n}};l.Kl=function(){l.jx.call(this,[10,18],l.aT,"tools/blur");this._Z="copy"};
l.Kl.prototype=new l.jx;l.Kl.prototype.Mc=function(m,g,L,K,r){var R=K.a(C.qk)?IT.Yo:IT.aT;this.vM(m,L,K,r,this.aZ.strn,R);
if(this.xG==null)return;this.tQ(m)};l.Kl.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);
if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.Ki=function(){l.jx.call(this,[10,0],l.FE,"tools/brush");
this._Z="draw"};l.Ki.prototype=new l.jx;l.Ki.prototype.Mc=function(m,g,L,K,r){if(this.g$(K,g,r))return;
this.vM(m,L,K,r,this.aZ.flow);if(this.xG==null)return;this.tQ(m)};l.Ki.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);
if(this.nR)this.CP(m,L,r);if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.KM=function(){l.jx.call(this,[10,42],l.IUh,"tools/crepl");
this._Z="idraw";this.aZ.bmode="hue "};l.KM.prototype=new l.jx;l.KM.prototype.Mc=function(m,g,L,K,r){if(this.g$(K,g,r))return;
this.vM(m,L,K,r,this.aZ.flow);if(this.xG==null)return;this.tQ(m)};l.KM.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);
if(this.nR)this.CP(m,L,r);if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.Kv=function(){l.jx.call(this,[10,43],l.IDd,"tools/redeye");
this.aZ.smode=0;this._Z="redeye"};l.Kv.prototype=new l.jx;l.Kv.prototype.Mc=function(m,g,L,K,r){this.vM(m,L,K,r,this.aZ.flow);
if(this.xG==null)return;this.tQ(m)};l.Kv.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);
if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.KZ=function(){l.jx.call(this,[10,38],l.Fs,"tools/pencil");
this._Z="draw"};l.KZ.prototype=new l.jx;l.KZ.prototype.Mc=function(m,g,L,K,r){if(this.g$(K,g,r))return;
this.vM(m,L,K,r,this.aZ.flow);if(this.xG==null)return;this.tQ(m)};l.KZ.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);
if(this.nR)this.CP(m,L,r);if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.Kn=function(){l.jx.call(this,[10,22],l.IQV,"tools/burn");
this._Z="burn"};l.Kn.prototype=new l.jx;l.Kn.prototype.Mc=function(m,g,L,K,r){this.vM(m,L,K,r,this.aZ.expo/Math.E);
if(this.xG==null)return;this.tQ(m)};l.Kn.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);
if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.IQ=function(m,g,L){l.jx.call(this,m==""?null:m?m:[10,1],g?g:l.Z_,L?L:"tools/clone");
this._Z="clone";this.pM=null;this.H=null};l.IQ.prototype=new l.jx;l.IQ.prototype.Mc=function(m,g,L,K,r){var R=this.aZ,Q=R.alt[0];
if(K.a(C.qk)||K.a(C.ez)||Q){this.pM=m.L.TV(r.x,r.y);this.H=null;if(Q)this.a$({alt:[!1]},g);this.Qh(L,K,m,r);
return}if(this.pM==null){alert(aT.get([15,7,0]));return}this.Qh(L,K);this.vM(m,L,K,r,this.aZ.flow);if(this.xG==null)return;
this.H=this.Iwf(m.L.TV(r.x,r.y));this.tQ(m)};l.IQ.prototype.Iwf=function(m){var g=this.H;if(g==null||!this.aZ.algnd)g=new jf(Math.round(m.x-this.pM.x),Math.round(m.y-this.pM.y));
return g};l.IQ.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);if(this.xG==null){if(this.pM!=null)this.Qh(L,K,m,r);
return}if(!r.Tb||this.pM==null)return;this.na(m,L,K,r);this.tQ(m)};l.IQ.prototype.gu=function(){return this.H};
l.IQ.prototype.disable=function(m,g,L,K){this.pM=null;this.H=null};l.ma=function(m,g,L){l.$B.call(this,m,g,L);
this.rm={QE:{Dn:0,x:0,y:0}};this.vV=null;this.cursor=null;this.IMO=0;this.zt=null;this.cK=null;this.HW=null};
l.ma.prototype=new l.$B;l.ma.prototype.HE=function(){return this.vV!=null};l.ma.prototype._j=function(m){return this.vV&&this.vV.IIV()};
l.ma.prototype.Mc=function(m,g,L,K,r){this.zt=r;var R=m.L.TV(r.x,r.y);R.x=Math.round(R.x);R.y=Math.round(R.y);
var Q=this.rm.QE,F=Q.Dn!=0?Q.x/Q.y:null;if(this.vV)this.vV.Mc(m,L,K,R,F,!1);else this.cK=l.Bc.BO(m,R,L)};
l.ma.prototype.Iqk=function(m,g){var L=[m.x,m.y,m.x+m.j,m.y,m.x+m.j,m.y+m.F,m.x,m.y+m.F];return new Ri(L,!0,!1,this.id==l.oR,!0,g,this.id==l.oR?2:0)};
l.ma.prototype.Qh=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.cM,_q:this.cursor};m.g(g)};l.ma.prototype.enable=function(m,g,L,K){this.cursor="crosshair";
this.Qh(g);if(m!=null&&m.I){var r=this.rm.QE={Dn:0,x:0,y:0};this.gA(g,p.E.V,{P:p.o.dL,K:this.id,ki:!1,ee:r});
this.lr({Jw:"cropby",ICI:3},g,m,K,L)}};l.ma.prototype.NB=function(m,g,L,K,r){this.zt=r;var R=m.L.TV(r.x,r.y);
if(!r.Tb){var Q="crosshair";if(this.vV){var F=this.vV.nm(R,m.L.T);if(F)Q=F;else Q="default"}if(Q!=this.cursor){this.cursor=Q;
this.Qh(g)}}if(this.vV)this.vV.NB(m,L,K,R);else if(this.cK){var q=l.nB.Tz(this.cK,l.Bc.BO(m,R,L),K,!0,this.rm.QE),n=q[0].x,W=q[0].y,z=this.HW=new v(n,W,q[1].x-n,q[1].y-W);
m.J.eT=I.e.Gl(z);m.Oi=!0;l.$B.am(r.x+10,r.y-10,z,m,L)}};l.ma.prototype.RK=function(m,g,L,K,r){this.zt=r;
if(this.vV==null){if(this.cK){var R=this.HW;if(R){var Q=this.rm.QE;this.vV=this.Iqk(R,Q.Dn!=0);this.vV.WJ(m,L);
this.HW=null;this.gA(g,p.E.V,{P:p.o.dL,K:this.id,ki:!0})}this.cK=null;m.J.To=[];m.Oi=!0}return}var F=m.L.TV(r.x,r.y);
this.vV.RK(m,L,K,F);this.gA(g,p.E.V,{P:p.o.dL,K:this.id,ki:!0});var q=this.vV.rR();if(Math.abs(q[0]-q[4])<2||Math.abs(q[1]-q[5])<2){this.disable(m,g,null,K);
return}if(Date.now()-this.IMO<200&&this.vV.Rt(F)){this.on(m,L);this.disable(m,g,L,K);return}this.IMO=Date.now()};
l.ma.prototype.KK=function(m,g,L,K){var r=this.vV;if(r==null||this.zt&&this.zt.Tb)return;if(K.a(C.xI)){this.on(m,L);
this.disable(m,g,L,K)}else if(K.a(C.rw)){this.disable(m,g,L,K)}else r.KK(m,L,K)};l.ma.oZ=function(m,g){if(g==null)g=[!0,!0,!0,!0];
var L={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][m]}}},K=["Top","Left","Btom","Rght"];
for(var r=0;r<4;r++)L[K[r]]={t:"bool",v:g[r]};return{Qm:"trim",XX:L}};l.ma.IQX=function(m,g,L,K){var r={classID:"null"};
if(K!=null){r.Wdth={t:"UntF",v:{type:"#Pxl",val:m}};r.Hght={t:"UntF",v:{type:"#Pxl",val:g}};r.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][K]}}}if(L!=null)r.Rslt={t:"UntF",v:{type:"#Rsl",val:L}};
return{Qm:"imageSize",XX:r}};l.ma.IIC=function(m,g,L){if(L==null)L=4;var K=Math.floor(L/3),r=L%3;return{Qm:"canvasSize",XX:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:m}},Hght:{t:"UntF",v:{type:"#Pxl",val:g}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][r]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][K]}}}}};
l.ma.prototype.VH=function(m,g,L,K,r){var R=new v(0,0,L.j,L.F),Q=[11,3],F=L.Jt,q=L.j/2,n=L.F/2,W=1,d,T;
if(m.P=="fromAction"){var z=m.HX,u=z.Qm,N=z.XX,b=L.j/L.F,B=N.Wdth?N.Wdth.v.val:-1,h=N.Hght?N.Hght.v.val:-1,F=N.Rslt?N.Rslt.v.val:null,A=N.Wdth?N.Wdth.v.type:N.Hght?N.Hght.v.type:-1,e=1,c;
if(u=="imageSize"){if(N.Intr){if(N.Intr.v.Intp=="Nrst")e=0;if(N.Intr.v.Intp=="bicubicSharper")e=2;if(B==-1&&h==-1){var a=F/L.Jt;
B=Math.round(L.j*a);h=Math.round(L.F*a)}else if(A=="#Prc"){if(B!=-1)B=Math.round(L.j*B/100);if(h!=-1)h=Math.round(L.F*h/100)}if(N.CnsP&&N.CnsP.v){if(B==-1)B=Math.round(h*b);
if(h==-1)h=Math.round(B/b)}}else{if(A=="#Prc")F=Math.round(L.Jt/((B!=-1?B:h)/100));else if(A==-1)F=Math.round(F);
else throw"e";B=L.j;h=L.F}c={P:"imgsize",kO:B,kM:h,ke:F,uj:e}}else if(u=="canvasSize"){console.log(u,N);
if(B==-1)B=L.j;if(h==-1)h=L.F;if(N.Rltv&&N.Rltv.v==!0){if(N.Wdth)B+=L.j;if(N.Hght)h+=L.F}var $=N.Vrtc?N.Vrtc.v.VrtL:"Cntr",G=N.Hrzn?N.Hrzn.v.HrzL:"Cntr";
c={P:"canvsize",kO:B,kM:h,Eo:3*["Top","Cntr","Btom"].indexOf($)+["Left","Cntr","Rght"].indexOf(G)}}else if(u=="revealAll"){c={P:"revealAll"}}else if(u=="trim"){var o={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[N.trimBasedOn.v.trimBasedOn];
if(o==null)throw"e";var H=["Top","Left","Btom","Rght"],f=[!0,!0,!0,!0];for(var E=0;E<4;E++)if(N[H[E]])f[E]=N[H[E]].v;
c={P:"trim",IwS:o,ee:f}}if(c)this.VH(c,g,L,K,r);return}else if(m.P=="imgsize"){R=new v(0,0,m.kO,m.kM);
if(m.ke)F=m.ke;W=m.uj}else if(m.P=="canvsize"){var S=m.Eo!=null?m.Eo:0;R=new v(0,0,m.kO,m.kM);var V=L.j-m.kO,J=L.F-m.kM,U=Math.round(V/2),j=Math.round(J/2);
if(S==1||S==4||S==7)R.x=U;if(S==2||S==5||S==8)R.x=V;if(S==3||S==4||S==5)R.y=j;if(S==6||S==7||S==8)R.y=J;
if(m.H){R.x=m.H.x;R.y=m.H.y}}else if(m.P=="rot"&&(m.U+2*Math.PI)%(Math.PI/2)!=0){var i=I.e.Gl(R).D,k=new aC;
k.translate(-q,-n);k.rotate(m.U);k.translate(q,n);I.e.f(i,k,i);R=I.e.Ny(i)}else if(m.P=="rot"&&m.U!=Math.PI&&m.U!=-Math.PI){R=new v(q-L.F/2,n-L.j/2,L.F,L.j);
if((L.j+L.F&1)==1){q=Math.floor(q);n=Math.floor(n);R=new v(q-Math.floor(L.F/2),n-Math.floor(L.j/2),L.F,L.j);
if((L.j&1)==1&&m.U!=-Math.PI/2)R.y--;if((L.F&1)==1&&m.U==-Math.PI/2)R.x--}}else if(m.P=="trim"){Q=[11,12,0];
var P=L.os(),w=new v(0,0,L.j,L.F);R=I.xn(P,w,m.IwS,m.ee);if(R.L_())R=w}else if(m.P=="cropbysel"){Q=[11,12,1];
R=L.I.rect.clone()}else if(m.P=="revealAll"){Q=[11,12,2];R=L.root.ZM(L,!0)}if(m.P=="imgsize"||m.P=="rot"||m.P=="scl"){var y=new aC;
if(m.P=="imgsize"){Q=[11,10];y.scale(m.kO/L.j,m.kM/L.F)}else{y.translate(-q,-n);if(m.P=="rot")y.rotate(m.U);
if(m.P=="scl")y.scale(m.U.x,m.U.y);y.translate(q,n);Q=m.Is}T=I.i.Gj(y);d=this.IqD(L,r,T,W)}var D=new v(0,0,L.j,L.F);
if(!R.L_()&&(!R.TB(D)||d!=null)){var s=new aP(Q,this);s.data={hN:D,uQ:R,ICM:L.Jt,ke:F,pX:d,Hc:T,kE:l.ma.IQn(L,R,D,d!=null)};
L.wM(s);this.ao(s.data,L)}};l.ma.IQn=function(m,g,L,K){if(m.qo.length==0)return null;var r=JSON.stringify(m.qo),R=JSON.parse(r);
l.Dg.IaK(R,g,L,K);R=JSON.stringify(R);return[r,R]};l.ma.prototype.IqD=function(m,g,L,K,r){var R={_:[],HM:null,ex:null};
for(var Q=0;Q<m._.length;Q++)R._.push(Q);for(var Q=0;Q<m.pc.length;Q++)R._.push(-1-Q);R.HM=l.k.RW(m,R._,!0);
l.k.Se(m,g,R._,R.HM,K,L,null,!0,r);R.ex=l.k.RW(m,R._,!0);return R};l.ma.prototype.ao=function(m,g){if(m.ke)g.Jt=m.ke;
if(m.kE)g.qo=JSON.parse(m.kE[1]);if(m.pX){l.ma.IqC(g,I.i.dl(m.Hc));l.k.Ry(g,m.pX._,m.pX.ex)}l.ma.ad(g,m.uQ)};
l.ma.prototype.Kq=function(m,g){if(m.ICM)g.Jt=m.ICM;if(m.kE)g.qo=JSON.parse(m.kE[0]);var L=m.hN.clone();
L.offset(-m.uQ.x,-m.uQ.y);l.ma.ad(g,L);if(m.xa)g.L.H.zn(m.xa);g.Iwj();if(m.pX){var K=I.i.dl(m.Hc).clone();
K.eb();l.ma.IqC(g,K);l.k.Ry(g,m.pX._,m.pX.HM)}};l.ma.IqC=function(m,g){for(var L=0;L<m._.length;L++){var K=m._[L];
if(K.add.artb==null)continue;var r=I.e.Gl(K.vP()).D;I.e.f(r,g,r);var R=I.e.Ny(r);K.IW(R)}};l.ma.ad=function(m,g){m.j=g.j;
m.F=g.F;var L=[];for(var K=0;K<m._.length;K++)L.push(K);l.Bc.AQ(m,L,null,-g.x,-g.y);for(var K=0;K<m._.length;
K++){m._[K].Zh(m)}m.Iwj();m.L.H.xF(0,0);if(m.I)m.I.rect.offset(-g.x,-g.y);for(var K=0;K<m.Qj.length;
K++)m.Qj[K].rect.offset(-g.x,-g.y)};l.ma.prototype.lr=function(m,g,L,K,r){if(m.Jw=="commit"){this.on(L,r);
this.disable(L,g,null,K)}else if(m.Jw=="cancel"){this.disable(L,g,null,K)}var R=null,Q=this.rm.QE;if(m.Jw=="config"){this.rm=m.rm;
Q=this.rm.QE;if(L==null)return;R=new v(0,0,L.j,L.F);if(Q.Dn==1){var F=Q.x/Q.y;R.F=Math.round(R.j/F)}if(Q.Dn==2){R.j=Q.x;
R.F=Q.y}R.x=Math.round((L.j-R.j)/2);R.y=Math.round((L.F-R.F)/2)}if(m.Jw=="cropby"){if(L==null)return;
var q=m.ICI,R;if(q==0)R=L.root.ZM(L,!0);if(q==1){if(L.N.length==0)alert("No layer is selected.");else{var n=L.root.dr(L.N[0]);
R=n.ZM(L,!0)}}if(q==2){if(L.N.length==0)alert("No layer is selected.");else{var W=L._[L.N[0]];R=I.xn(W.buffer,W.rect,0);
if(R.L_())R=W.rect.clone()}}if(q==3){if(L.I!=null)R=L.I.rect;else alert("There is no selection.")}}if(R&&R.L_())R=null;
if(R!=null){this.vV=this.Iqk(R,Q.Dn!=0);this.vV.WJ(L,r);this.gA(g,p.E.V,{P:p.o.dL,K:this.id,ki:!0})}};
l.ma.prototype.on=function(m,g){var L=this.vV.rR(),K=I.e.Ny(L),r=this.IQR(m,L),R=!1,Q=this.rm.QE,F=Q.x,q=Q.y,z;
if(this.id==l.Zw&&Q.Dn==2&&r.c()!=F*q){r=new v(r.x,r.y,F,q);R=!0}var n=I.i.Eq(L,r);n=I.i.eb(n);var W=I.i.BN(n),u=Math.atan2(n[3],n[0]);
if(Math.abs(u)>1e-9||!W||R)z=this.IqD(m,g,n,1,K);var N=new aP(this.name,this),b=new v(0,0,m.j,m.F);N.data={hN:b,uQ:r,pX:z,Hc:n,xa:m.L.H.clone(),kE:l.ma.IQn(m,r,b,!1)};
m.wM(N);this.ao(N.data,m)};l.ma.prototype.IQR=function(m,g){var L=I.i.Eq(g),K=I.i.BN(L),r=I.i.dl(L),R=r.gE,Q=r.Dv,F=Math.atan2(r.R,r.Wh);
r.rotate(F);var q=new v(R,Q,r.Wh,r.$Y);if(!K){function n(c,a,$){var G=c[a]-c[$],o=c[a+1]-c[$+1];return Math.sqrt(G*G+o*o)}var W=n(g,0,2),z=n(g,4,6),u=Math.max(W,z),N=n(g,2,4),b=n(g,6,0),B=Math.max(N,b),h=l.ma.IQx(g,m.j/2,m.F/2),A,e;
if(isNaN(h)||h==Infinity||h==-Infinity||Math.min(h,1/h)<.1)h=(W+z)/(N+b);if(u/B>h){A=u*1;e=A/h}else{e=B*1;
A=e*h}q.j=A;q.F=e}q.x=Math.round(q.x);q.y=Math.round(q.y);q.j=Math.round(q.j);q.F=Math.round(q.F);return q};
l.ma.IQx=function(m,g,L){var K=m[0]-g,r=m[1]-L,R=m[2]-g,Q=m[3]-L,F=m[6]-g,q=m[7]-L,n=m[4]-g,W=m[5]-L,z=((r-W)*F-(K-n)*q+K*W-r*n)/((Q-W)*F-(R-n)*q+R*W-Q*n),u=((r-W)*R-(K-n)*Q+K*W-r*n)/((q-W)*R-(F-n)*Q+F*W-q*n),N=-((u*q-r)*(z*Q-r)+(u*F-K)*(z*R-K))/((u-1)*(z-1));
function b(h){return h*h}var B=Math.sqrt((b(z-1)+b(z*Q-r)/N+b(z*R-K)/N)/(b(u-1)+b(u*q-r)/N+b(u*F-K)/N));
if(z==1&&u==1)B=Math.sqrt((b(Q-r)+b(R-K))/(b(q-r)+b(F-K)));return B};l.ma.prototype.disable=function(m,g,L,K){if(m==null)return;
if(this.vV)this.vV.clear(m);this.vV=null;this.gA(g,p.E.V,{P:p.o.dL,K:this.id,ki:!1})};l.ma.prototype.gA=function(m,g,L,K){var r=new Y(g,!0);
r.data=L;if(K)r.K=K;m.g(r)};l.Ipc=function(){l.ma.call(this,[10,2],l.Zw,"tools/rcrop")};l.Ipc.prototype=new l.ma;
l.Iek=function(){l.ma.call(this,[10,39],l.oR,"tools/pcrop")};l.Iek.prototype=new l.ma;l.KE=function(){l.jx.call(this,[10,21],l.IIt,"tools/dodge");
this._Z="dodge"};l.KE.prototype=new l.jx;l.KE.prototype.Mc=function(m,g,L,K,r){this.vM(m,L,K,r,this.aZ.expo/Math.PI);
if(this.xG==null)return;this.tQ(m)};l.KE.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);
if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.KX=function(){l.jx.call(this,[10,3],l.aw,"tools/eraser");
this._Z="erase"};l.KX.prototype=new l.jx;l.KX.prototype.Mc=function(m,g,L,K,r){this.vM(m,L,K,r,this.aZ.flow);
if(this.xG==null)return;this.tQ(m)};l.KX.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);
if(this.xG==null)return;if(!r.Tb)return;var R=this.na(m,L,K,r);this.tQ(m)};l.Kr=function(){l.jx.call(this,[10,45],l.IUH,"tools/beraser");
this._Z="ierase"};l.Kr.prototype=new l.jx;l.Kr.prototype.Mc=function(m,g,L,K,r){if(this.g$(K,g,r))return;
this.vM(m,L,K,r,this.aZ.flow);if(this.xG==null)return;this.tQ(m)};l.Kr.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);
if(this.nR)this.CP(m,L,r);if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.Rp=function(){l.Lk.call(this,[10,15],l.eS,"tools/rselect");
this.po="crosshair"};l.Rp.prototype=new l.Lk;l.Rp.prototype.Fg=function(m,g,L,K){if(!K.Tb||!this.Qn)return;
var r=this.ZM(m,L,!0);m.J.eT=I.e.Gl(r);m.Oi=!0;l.$B.am(K.x+10,K.y-10,r,m,g)};l.Rp.prototype.Cs=function(m,g,L,K){m.J.eT=null;
m.J.To=[];m.Oi=!0;this.finish(m,g,L,K)};l.Rp.prototype.getSelection=function(m,g,L,K){if(this.cK.TB(this.Ms)||!this.Qn)return null;
var r=this.ZM(m,L,!0);if(r.L_())return null;return l.Lk.o_("Rctn",r)};l.CM=function(){l.Lk.call(this,[10,4],l.I$I,"tools/eselect");
this.po="crosshair"};l.CM.prototype=new l.Lk;l.CM.prototype.Fg=function(m,g,L,K){if(!K.Tb||!this.Qn)return;
var r=this.ZM(m,L);m.J.eT=l.CM.ICk(r);m.Oi=!0;l.$B.am(K.x+10,K.y-10,r,m,g)};l.CM.prototype.Cs=function(m,g,L,K){m.J.eT=null;
m.J.To=[];m.Oi=!0;this.finish(m,g,L,K)};l.CM.prototype.getSelection=function(m,g,L,K){if(this.cK.TB(this.Ms)||!this.Qn)return null;
var r=this.ZM(m,L);if(!r.tY(new v(0,0,m.j,m.F)))return null;return l.Lk.o_("Elps",r)};l.CM.ICk=function(m){var g=m.x,L=m.y,K=m.x+m.j,r=m.y+m.F,R=(g+K)/2,Q=(L+r)/2,F=(g-K)/2,q=(L-r)/2,n=.5522848,W={D:[R,Q-q],O:["M","C","C","C","C"]};
W.D.push(R+n*F,Q-q,R+F,Q-n*q,R+F,Q);W.D.push(R+F,Q+n*q,R+n*F,Q+q,R,Q+q);W.D.push(R-n*F,Q+q,R-F,Q+n*q,R-F,Q);
W.D.push(R-F,Q-n*q,R-n*F,Q-q,R,Q-q);return W};l.nl=function(){l.$B.call(this,[10,5],l.Iqp,"tools/eyedropper");
this.HY=!1;this.zT=1};l.nl.prototype=new l.$B;l.nl.prototype._j=function(m){return m.Tb};l.nl.prototype.VH=function(m,g,L,K,r){if(m.P=="pickhere")this.oE(L,g,r,K,m.IBH)};
l.nl.prototype.Mc=function(m,g,L,K,r){this.HY=!0;this.oE(m,g,L,K,r)};l.nl.prototype.NB=function(m,g,L,K,r){if(this.HY)this.oE(m,g,L,K,r)};
l.nl.prototype.RK=function(m,g,L,K,r){this.HY=!1};l.nl.prototype.oE=function(m,g,L,K,r){var R=l.nl.Rx(m,r,this.zT),Q=new Y(p.E.V);
Q.data={P:p.o.VP,Su:am.Tc,Jj:0,U:R};g.g(Q)};l.nl.Rx=function(m,g,L){var K=m.L.TV(g.x,g.y),r=Math.floor(K.x),R=Math.floor(K.y),Q=(L-1)/2,F=Math.max(0,r-Q),q=Math.max(0,R-Q),n=Math.min(m.j,r+Q+1),W=Math.min(m.F,R+Q+1),z=(n-F)*(W-q),u=m.os(),N=0,b=0,B=0;
for(var r=F;r<n;r++)for(var R=q;R<W;R++){var h=4*(R*m.j+r);N+=u[h];b+=u[h+1];B+=u[h+2]}N=Math.round(N/z);
b=Math.round(b/z);B=Math.round(B/z);return N<<16|b<<8|B};l.nl.prototype.lr=function(m){this.zT=m.zT};
l.Ep=function(){l.$B.call(this,[10,6],l.IUy,"tools/gradient");this.aZ={G:JSON.parse(aU.cT.IUQ).v,Wx:"Lnr",xp:!1,Ivx:!1,Ivz:"norm",aC:1};
this.tR=!1;this.dp=null};l.Ep.prototype=new l.$B;l.Ep.prototype.enable=function(m,g,L,K){var r=new Y(p.E.V,!0);
r.data={P:p.o.cM,_q:"default"};g.g(r)};l.Ep.prototype.lr=function(m){this.aZ=m.Su};l.Ep.prototype.Mc=function(m,g,L,K,r){if(!m.kn())return;
this.dp=m.L.TV(r.x,r.y);this.dp=l.Bc.BO(m,this.dp,L);this.tR=!0};l.Ep.prototype.NB=function(m,g,L,K,r){if(!this.tR)return;
var R=m.L.TV(r.x,r.y);R=l.Bc.BO(m,R,L);if(K.a(C.jU))R=l.Ep.IJ(this.dp,R);m.J.eT={D:[this.dp.x,this.dp.y,R.x,R.y],O:["M","L"]};
m.J.Vq=[this.dp.x,this.dp.y,R.x,R.y];m.Oi=!0};l.Ep.prototype.RK=function(m,g,L,K,r){if(!this.tR)return;
var R=m._[m.N[0]],Q=m.L.TV(r.x,r.y);Q=l.Bc.BO(m,Q,L);if(K.a(C.jU))Q=l.Ep.IJ(this.dp,Q);var F=Q.wV(this.dp),q=jf.Ll(this.dp,Q,.5),n=Math.atan2(F.y,F.x),W=jf.hQ(this.dp,Q),z=Math.sin(n),u=Math.cos(n);
if(W>2){var N;if(m.I)N=m.I.rect;else N=new v(0,0,m.j,m.F);var b=I.m(N.c()*4),B=this.aZ,h=B.Wx;if(h!="Lnr"){W*=2;
q=this.dp}I.G.IT(B.G,b,N,[u*1/W,z*1/W,-z*1/W,u*1/W],q.x,q.y,B.xp,aU.G.types.indexOf(h),L.$q,L._Q,null,B.Ivx);
var A=Math.round(B.aC*256),e=b.length;if(A!=256)for(var c=0;c<e;c+=4)b[c+3]=b[c+3]*A>>>8;var a=new Y(p.E.B);
a.K=l.aw;a.data={P:"fillBMP",bz:b,od:B.Ivz,Is:this.name};g.g(a)}m.J.eT=null;m.J.Vq=[];m.Oi=!0;this.tR=!1};
l.Ep.IJ=function(m,g){if(m.TB(g))return m;var L=g.x-m.x,K=g.y-m.y,r=Math.abs(L),R=Math.abs(K);if(r>R)R=r/2>R?0:r;
if(R>r)r=R/2>r?0:R;r=L>0?r:-r;R=K>0?R:-R;var Q=Math.sqrt(L*L+K*K)/Math.sqrt(r*r+R*R);return new jf(m.x+r*Q,m.y+R*Q)};
l.Ep.yP=function(m,g,L,K,r,R,Q){if(Q==null)Q=p.Y("canvas","");var F=Q.getContext("2d");Q.width=g;Q.height=L;
var q=new v(0,0,g,L),n=I.m(g*L*4);I.fe(n,g,L,4,0,0);var W=Math.sin(K),z=Math.cos(K),u=I.m(g*L*4);I.G.IT(m,u,q,[z*1/g,W*1/g,-W*1/L,z*1/L],g/2,L/2,!1,0,r,R);
I.h.dq("norm",u,q,n,q,q,1);var N=F.getImageData(0,0,g,L);I.jR(n,N.data);F.putImageData(N,0,0);return Q.toDataURL()};
l.Ep.IQs=function(m,g,L){var K=JSON.parse(JSON.stringify(m));for(var r=0;r<K.Clrs.v.length;r++){var R=K.Clrs.v[r].v,Q=R.Type.v.Clry;
if(Q=="UsrS")continue;var F=Q=="FrgC"?g:L;R.Type.v.Clry="UsrS";R.Clr={t:"Objc",v:I.G.h$({u:F>>16&255,S:F>>8&255,R:F&255})}}return K};
l.uy=function(){l.$B.call(this,[10,7],l.Z$,"tools/hand");this.Hy=new jf(0,0);this.Hs=new jf(0,0)};l.uy.prototype=new l.$B;
l.uy.prototype.VH=function(m,g,L,K,r){var R=m.P;if(R=="setcls"){L.L.WY=m.WY;L.Oi=!0}if(R=="scroll"&&!K.a(C.qk)){if(K.a(C.EZ))l.uy.Kc(L,L.L.H.x-m.pB.y,L.L.H.y-m.pB.x);
else l.uy.Kc(L,L.L.H.x-m.pB.x,L.L.H.y-m.pB.y)}};l.uy.prototype.enable=function(m,g,L,K){var r=new Y(p.E.V,!0);
r.data={P:p.o.cM,_q:"grab"};g.g(r)};l.uy.prototype.Mc=function(m,g,L,K,r){this.Hs.zn(m.L.H);this.Hy.xF(r.x,r.y)};
l.uy.prototype.NB=function(m,g,L,K,r){if(!r.Tb)return;l.uy.Kc(m,this.Hs.x+(r.x-this.Hy.x),this.Hs.y+(r.y-this.Hy.y))};
l.uy.Kc=function(m,g,L){var K=m.L.T;if(m.j*K<m.L.r.j&&m.F*K<m.L.r.F)m.L.H.xF(0,0);else{m.L.H.x=g;m.L.H.y=L}m.qb=!0};
l.oX=function(){l.IQ.call(this,[10,25],l.bW,"tools/hbrush")};l.oX.prototype=new l.IQ("");l.oX.prototype.RK=function(m,g,L,K,r){if(this.xG==null)return;
this.PL(m,"heal",this.xG.jv(),this.xG.ZM(),this.xG.hz());this.X(m,this.xG.hz());l.jx.prototype.RK.call(this,m,g,L,K,r);
if(!this.aZ.algnd)this.H=null};l.LE=function(){l.$B.call(this,[10,8],l._T,"tools/htype");this.xt=[];
this.$X=null;this.ZS=null;this.caller=null;this.Ivf=0;this.k$=0;this.IZj=null;this.Hf=null;this.dQ=null;
this.zC=null;this.rp=null;this.wD=null;this.IZh=null;this.p$=null;this.vV=null;this.hx=!1;this.WI=!1;
this.nF=!1;this.zB=null;this.qz=null;this.InU=null;this.uU=!1;this.uS=!1;this._w=-1;this.DX=-1;this.RU=document.createElement("textarea");
this.RU.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.RU.addEventListener("input",this.IDY.bind(this),!1);this.RU.addEventListener("keydown",this.Ijp.bind(this),!1)};
l.LE.prototype=new l.$B;l.LE.prototype._j=function(m){return m.Tb};l.LE.prototype.ey=function(m,g,L,K){if(this.dQ!=null)return;
this.caller=g;this.$X=m;var r=this.IIk(m);if(r.length!=0){var R=null,Q=[],F=[];for(var q=0;q<r.length;
q++){var n=m._[r[q]],W=n.add.TySh,z=0,u=aj.tq(W.m_).length-2,N=aj.qh(W.m_,z,u);aj._v(N,l.k.$K(W.f));
if(N.dh.Font!=null)N.dh.Font=N.zS[N.dh.Font].Name;R=N.zS;Q.push(N.dh);F.push(N.gV)}var N={zS:R,dh:aj.kB(Q),gV:aj.kB(F)};
if(N.dh.Font)aj.Fy(N,N.dh.Font);this.IkK(g,N)}};l.LE.prototype.IIk=function(m){var g=[];for(var L=0;
L<m.N.length;L++)if(m._[m.N[L]].add.TySh)g.push(m.N[L]);return g};l.LE.prototype.VH=function(m,g,L,K,r){if(m.P=="updateStyles"){if(this.dQ==null){var R=this.IIk(L),Q=!1;
if(R.length!=0){this.KY(L,g,r,R);for(var F=0;F<R.length;F++){var q=L._[R[F]],n=q.add.TySh;this.dQ=q;
var W=aj.tq(n.m_);this._w=0;this.DX=W.length-1;aj.cr(n.m_,this._w,this.DX,this.oA(r,n));var z=this.C_(L,r);
if(z==!1)Q=!0}if(Q){this.uU=!0;return}this.dx(L,g)}return}this.or(r)}if(m.P.startsWith("warp")){var u=this.uS;
if(m.P=="warp"||m.P=="warpCancel"){if(m.P=="warp")this.dQ.add.TySh.nY=m.QM;else this.dQ.add.TySh.nY=this.IZh;
var L=this.$X;this.C_(L,r);if(!u)this.Ce(L)}if(m.P!="warp")this.RU.focus();if((m.P=="warpConfirm"||m.P=="warpCancel")&&u){this.uS=!1;
if(m.P=="warpConfirm")this.dx(L,g);else this.mF(L,g)}}if(m.P=="editCurr"){if(this.dQ!=null)this.disable(L,g,r,K);
this.$X=L;this.ZS=r;this.caller=g;this.KY(L,g,r,[m.pY]);var W=aj.tq(this.dQ.add.TySh.m_);this._w=0;this.DX=W.length-1;
this.Ce(L);this.Ro();this.RU.focus()}if(m.P=="switchPntPrgr"){var q=L._[L.N[0]],n=q.add.TySh,N=n.f.$K(),b=JSON.parse(JSON.stringify(n.m_)),B=aj.SE(b),h=B==1?aj.gj(b):[0,0,Math.round(q.rect.j*1.05/N),Math.round(q.rect.F*1.25/N)],A=aj.qh(b,0,0),e=[0,h[2],h[2]/2][A.gV.Justification%3],c=A.dh.FontSize*.8;
aj.ci(b,1-B);if(B==0){e=-e;c=-c;aj.gy(b,[0,0,h[2],h[3]])}var a=new aC(1,0,0,1,e,c);a.concat(n.f);this.VH({wS:L.N[0],P:"newED",uI:b,f:a},g,L,K,r)}if(m.P=="newED"){var q=L._[m.wS],n=q.add.TySh,$=this.KN(L,[m.wS]);
n.m_=m.uI;if(m.f)n.f=m.f;var G=new RI(n.m_,r.dd),o=QE.Wa(G,n);q.rect=o.l;q.buffer=o.qT;q.X();L.X();var H=new aP(this.name,this);
H.data={jc:$,ux:this.KN(L,[m.wS])};L.wM(H)}};l.LE.prototype.or=function(m){var g=Math.min(this._w,this.DX),L=Math.max(this._w,this.DX),K=this.dQ.add.TySh;
aj.cr(K.m_,g,L-1,this.oA(m,K));var r=this.$X,R=this.C_(r,m);if(R)this.Ce(r);if(document.activeElement.tagName.toLowerCase()!="input")this.RU.focus()};
l.LE.prototype.AC=function(m){return this.xt.indexOf(m)!=-1};l.LE.prototype.enable=function(m,g,L,K){var r=this.RU;
if(!p.Ya(r))g.Q.appendChild(r);this.p$="default";this.Qh(g)};l.LE.prototype.HE=function(){return this.dQ!=null};
l.LE.prototype.IQi=function(m,g){for(var L=m._.length-1;L>=0;L--){var K=m._[L];if(K.add.TySh&&K.rect.Rn(g)&&m.IJB(L)){var r=K.SO(2)||K.SO(31);
return r?-2:L}}return-1};l.LE.prototype.Mc=function(m,g,L,K,r){this.$X=m;this.ZS=L;this.caller=g;var R=m.L.TV(r.x,r.y),Q=this.dQ==null;
if(Q){var F=this.IQi(m,R);if(F==-2){alert(aT.get([6,57,0]));return}if(F>=0){if(!QE.ht(m._[F].add.TySh,L.dd)){alert("Fonts not loaded yet");
return}this.KY(m,g,L,[F])}else{this.nF=!0;this.zB=r;return}}if(this.vV&&this.vV.Mc(m,L,K,R)&&I.QM.gN(this.dQ.add.TySh.nY)||!Q&&I.e.fP(R,this.dQ.rect)>20/m.L.T&&aj.SE(this.dQ.add.TySh.m_)==0){this.hx=!0;
this.qz=R;this.InU=this.dQ.add.TySh.f.clone();if(this._w==-1&&this.DX==-1)this._w=this.DX=this.oY(R)}else{if(this.rp==null){alert("Fonts not loaded yet");
return}this.WI=!0;this._w=this.DX=this.oY(R);var q=Date.now();if(q-this.Ivf>300)this.k$=0;this.k$++;
this.Ivf=q;if(this.k$==2)this.Ijj();if(this.k$==3)this.Ijm();if(this.k$>1){this.WI=!1;this.Ro()}}this.Ce(m)};
l.LE.prototype.KY=function(m,g,L,K){var r=m._[K[0]];this.dQ=r;this.gA(g,p.E.V,{P:p.o.dL,K:this.id,Jw:"showactive"});
this.zC=K;m.N=K.slice(0);m.MJ();m.ur=!0;this.wD=this.KN(m,K);this.Iml(r.add.TySh);this.C_(m,L)};l.LE.prototype.Iml=function(m){if(aj.SE(m.m_)!=1)return;
var g=aj.gj(m.m_);g=new v(0,0,g[2]-g[0],g[3]-g[1]);var L=[g.x,g.y,g.x+g.j,g.y,g.x+g.j,g.y+g.F,g.x,g.y+g.F];
I.e.f(L,m.f,L);this.vV=new Ri(L,!1,!1,!1,!0)};l.LE.prototype.Ijj=function(){var m=aj.tq(this.dQ.add.TySh.m_);
this._w=this.IwZ(m,this._w);this.DX=this.Iqa(m,this._w)};l.LE.prototype.IwZ=function(m,g){var L=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",K=[];
for(var r=0;r<L.length;r++)K.push(L.charAt(r));var R=K.indexOf(m[g])==-1?!0:!1;for(var r=g-1;r>=0;r--)if(K.indexOf(m.charAt(r))!=-1==R)return r+1;
return 0};l.LE.prototype.Iqa=function(m,g){var L=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",K=[];for(var r=0;
r<L.length;r++)K.push(L.charAt(r));var R=K.indexOf(m[g])==-1?!0:!1;for(var r=g+1;r<m.length;r++)if(K.indexOf(m.charAt(r))!=-1==R)return r;
return m.length-1};l.LE.prototype.Ijm=function(){var m=this.rp.ISf(this._w);this._w=m[0];this.DX=m[1]};
l.LE.prototype.Qh=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.cM,_q:this.p$};m.g(g)};l.LE.prototype.NB=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y),Q=this.dQ;
if(!r.Tb){var F="default";if(this.vV&&I.QM.gN(Q.add.TySh.nY)){var q=this.vV.nm(R,m.L.T);if(q)F=q;else if(this.vV.Rt(R))F="text"}else if(Q&&I.e.fP(R,Q.rect)>20/m.L.T)F="move";
else if(this.IQi(m,R)>=0)F="text";if(F!=this.p$){this.p$=F;this.Qh(g)}}if(this.nF&&jf.hQ(this.zB,r)>4){this.nF=!1;
this.IQp(m,g,L,K,r);Q=this.dQ;this.hx=!0;this.vV=new Ri(null,!1,!1,!1,!0);var n=m.L.TV(this.zB.x,this.zB.y);
n.x=Math.round(n.x);n.y=Math.round(n.y);this.vV.Mc(m,L,K,n)}if(this.hx){var W=Q.add.TySh;if(this.vV){this.vV.NB(m,L,K,R);
var z=W.f.clone(),u=Math.atan2(z.R,z.Wh);z.rotate(u);var N=I.i.dl(I.i.Eq(this.vV.rR())),b=Math.atan2(N.R,N.Wh);
N.rotate(b);if(!isNaN(N.Wh)&&N.Wh*N.$Y-N.R*N.OS!=0){var B=new v(0,0,N.Wh/z.Wh,N.$Y/z.$Y),h=Math.round(B.j),A=Math.round(B.F),e=W.m_.Curve;
if(e){var c=aj.gj(W.m_),a=new aC(h/c[2],0,0,A/c[3],0,0);I.e.f(e.Points,a,e.Points);aj.eP(W)}aj.gy(W.m_,[0,0,h,A]);
W.f=I.i.dl(I.i.Eq(this.vV.rR(),B));this.C_(m,L);aj.eP(W)}}else{var $=R.x-this.qz.x,G=R.y-this.qz.y;W.f=this.InU.clone();
var o=new jf(W.f.gE+$,W.f.Dv+G);o=l.Bc.BO(m,o,L);W.f.gE=o.x;W.f.Dv=o.y;this.C_(m,L)}}if(this.WI)this.DX=this.oY(R);
if(this.hx||this.WI)this.Ce(m)};l.LE.prototype.IQp=function(m,g,L,K,r){var R=m.zA(),Q=R[0],F=R[1],q=m.Co();
q.add.lnsr="rend";var n=m._.slice(0);q.vZ("Text layer "+n.length);this.dQ=q;var W=m.N.length==0?m._.length-1:m.N[m.N.length-1],z=W+1;
if(n[W].add.lsct==Ra.lG)z--;this.wD={$e:n.slice(0),CG:m.N.slice(0)};n.splice(z,0,q);m.N=[z];this._w=this.DX=0;
m.rZ(n);this.wD.lx=n.slice(0);this.wD.XB=m.N.slice(0);this.gA(g,p.E.V,{P:p.o.dL,K:this.id,Jw:"showactive"});
var u=m.L.TV(r.x,r.y);q.add.TySh=aj.nS(u.x,u.y,L.XT);var N=q.add.TySh,b=N.m_;if(r.Tb)aj.ci(b,1);else{aj.ci(b,0);
var B=Q[F.pop()],h=B?B.add.vmsk:null;if(h){h=h.clone();var A=h.W,a,$;for(var e=0;e<A.length;e++)if(A[e].au!=null)A[e].au=0;
var c=4*p.M()/m.L.T;a=I.q.wF(h.W,u,!0,c);if(a.Bj==-1)a=I.q.wF(h.W,u);if(a.Bj!=-1){aj.ci(b,1);var G=I.q._B(A,a.Bj),o=I.q.Ls(A,a.Bj)-1;
A=h.W=A.slice(0,2).concat(A.slice(G,G+o+1));h.N=[];N.add={vmsk:h,vogk:x.js(A)};b.Curve={};aj.Lx(N);if(a.OL!=null){var H=RI.YV(b.Curve);
I.e.f(H[0],N.f,H[0]);var f=I.e.hg(H[0],u.x,u.y),E=L.XT.gV.Justification;if(E==2||E==5){var S=(H[2][f]+H[3]*.5)%H[3];
f=RI.Mb(S,H[2])}var V=H[1][f];V=V%o;h.VS=[V,V];aj.Lx(N)}else this.Iml(N)}}}return q};l.LE.prototype.RK=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y),Q=this.nF;
if(this.nF){this.nF=!1;this.IQp(m,g,L,K,r);this.WI=!0}if(this.hx||this.WI){this.Ce(m);this.Ro();if(Q)this.or(L)}if(this.hx&&this.vV)this.vV.RK(m,L,K,R);
this.hx=this.WI=!1;this.RU.focus()};l.LE.prototype.Ro=function(){var m=this.dQ.add.TySh,g=Math.min(this._w,this.DX),L=Math.max(this._w,this.DX),K,r;
if(g==L){var R=aj.tq(m.m_);if(g==0||R.charAt(g-1)=="\n")K=r=g;else K=r=g-1}else{K=g;r=L-1}var Q=aj.qh(m.m_,K,r);
aj._v(Q,l.k.$K(m.f));this.IkK(this.caller,Q)};l.LE.prototype.IkK=function(m,g){this.gA(m,p.E.V,{P:p.o.VP,Su:am.mP,XT:g})};
l.LE.prototype.KK=function(m,g,L,K){if(K.a(C.rw))this.mF(m,g)};l.LE.prototype.disable=function(m,g,L,K){var r=this.dQ;
this.dx(m,g)};l.LE.prototype.lr=function(m,g,L,K,r){if(this.uS)return;if(m.Jw=="commit")this.dx(L,g);
if(m.Jw=="cancel")this.mF(L,g);if(m.Jw=="showwarp"){if(L==null)return;if(this.dQ==null){var R=L._[L.N[0]],Q=R.add.TySh;
if(Q==null)return;this.KY(L,g,r,[L.N[0]]);this.RU.focus();this.uS=!0}this.IZh=this.dQ.add.TySh.nY;var F=new Y(p.E.V,!0);
F.data={P:p.o.My,OT:"textwarp"};g.g(F)}};l.LE.prototype.SI=function(m,g){if(g!=am.Iw)return;if(this.uU){this.uU=!1;
var L=this.$X,K=this.zC;for(var r=0;r<K.length;r++){this.dQ=L._[K[r]];this.C_(L,m)}this.dx(L,this.caller);
return}if(this.dQ)this.or(m)};l.LE.prototype.oA=function(m,g){var L=JSON.parse(JSON.stringify(m.XT));
aj._v(L,1/l.k.$K(g.f));return L};l.LE.prototype.ao=function(m,g){if(m.jc!=null)this.oc(g,m.ux);else this.IIJ(g,m.lx,m.XB)};
l.LE.prototype.Kq=function(m,g){if(m.jc!=null)this.oc(g,m.jc);else this.IIJ(g,m.$e,m.CG)};l.LE.prototype.oc=function(m,g){for(var L=0;
L<g.length;L++){var K=g[L],r=K.wS,R=m._[r];R.buffer=K.$O;R.rect=K.l.clone();R.X();var Q=R.add.TySh;Q.nY=K.QM;
Q.pI=K.pI.clone();Q.f=K.f.clone();Q.m_=JSON.parse(JSON.stringify(K.m_));R.OV()}m.X()};l.LE.prototype.KN=function(m,g){var L=[];
for(var K=0;K<g.length;K++){var r=g[K],R=m._[r],Q=R.add.TySh;L.push({wS:r,f:Q.f.clone(),QM:JSON.parse(JSON.stringify(Q.nY)),pI:Q.pI.clone(),m_:JSON.parse(JSON.stringify(Q.m_)),$O:I.clone(R.buffer),l:R.rect.clone()})}return L};
l.LE.prototype.IIJ=function(m,g,L){m.N=L;m.rZ(g);m.X()};l.LE.prototype.C_=function(m,g,L){if(L==null)L=!1;
var K=this.dQ.add.TySh;if(!QE.ht(K,g.dd))return!1;this.rp=new RI(K.m_,g.dd);if(!L){var r=aj.tq(K.m_);
this.RU.value=r.slice(0,r.length-1)}var R=QE.Wa(this.rp,K);if(I.QM.gN(K.nY))K.pI=new v;else{if(aj.SE(K.m_)==1){var Q=aj.gj(K.m_),F=R.pI.y;
K.pI=new v(0,F,Q[2]-Q[0],Q[3]-Q[1]-F)}else{K.pI=R.pI}}var q=this.dQ.rect;this.dQ.rect=R.l;this.dQ.buffer=R.qT;
this.dQ.X();m.ZB();m.X(m.root.OW(R.l.uM(q),m,m._.indexOf(this.dQ)));return!0};l.LE.prototype.IDY=function(m){if(this.dQ==null||this.uS)return;
var g=this.RU.selectionStart,L=this.dQ.add.TySh,K=aj.tq(L.m_),r=this.RU.value+"\n",R=Math.min(this._w,this.DX),Q=Math.max(this._w,this.DX),z=!1;
this._w=Math.min(g,R);if(r.length-g<K.length-this.DX)this.DX=K.length-r.length+g;if(K!=r){while(this._w>0&&K.charAt(this._w-1)!=r.charAt(this._w-1))this._w--}var F=K.substring(0,this._w),q=K.substring(this.DX,K.length),n=r.substring(this._w,r.length-q.length);
aj._C(L.m_,this._w,this.DX);aj.ca(L.m_,this._w,n);var W=this.oA(this.ZS,L),u=-1;for(var N=0;N<n.length;
N++)u=Math.max(u,n.charCodeAt(N));if(u!=-1&&u>128&&W.dh.Font!=null){var b=W.zS[W.dh.Font].Name,B=this.ZS.dd.su(u,b,W.zS);
if(b!=B){aj.Fy(W,B);z=!0}}if(this.Hf!=null&&n==this.Hf){var h=JSON.parse(this.IZj);W.dh=h.dh;W.zS=h.zS;
z=!0}aj.cr(L.m_,this._w,this._w+n.length-1,W);this._w=this.DX=F.length+n.length;var A=this.$X,e=this.C_(A,this.ZS,!0);
if(e)this.Ce(A,!0);if(z)this.Ro()};l.LE.prototype.Ijp=function(m){if(this.dQ==null||this.uS)return;if(this.dQ==null)return;
var g=C,L=0,K=0,A=!1;if(g.Bf(m.code,g.ITt))L=1;if(g.Bf(m.code,g.Iwo))L=-1;if(g.Bf(m.code,g.pA))K=-1;
if(g.Bf(m.code,g.py))K=1;var r=m.ctrlKey||m.metaKey,R=g.Bf(m.code,C.Iph),Q=g.Bf(m.code,C.IpH);if(g.Bf(m.code,C.xI)&&r){this.dx(this.$X,this.caller);
return}if(g.Bf(m.code,C.HN)){m.preventDefault();var F=this.RU,q=F.value,n=F.selectionStart,W=F.selectionEnd;
F.value=q.substring(0,n)+"\t"+q.substring(W);F.selectionStart=F.selectionEnd=n+1;this.IDY(null);return}if((g.Bf(m.code,g.nk)||g.Bf(m.code,g.um))&&r){var z=this._w,u=this.DX;
if(z>u){var N=z;z=u;u=N}var b=this.dQ.add.TySh,B=aj.tq(b.m_);if(z!=u){this.Hf=B.slice(z,u);this.IZj=JSON.stringify(this.ZS.XT)}}var h=aj.tq(this.dQ.add.TySh.m_);
if(L!=0||K!=0||R||Q){m.preventDefault();var e=this._w;if(L!=0){if(r&&L==-1)e=this.IwZ(h,this._w-1);else if(r&&L==1)e=this.Iqa(h,this._w);
else e=this._w+L}else if(K!=0){var c=this.rp.Y$(this._w);if(K==-1&&c.zh==0)e=0;else if(K==1&&c.zh==this.rp.ITP()-1)e=99999999999;
else e=this.rp.IVZ(new jf(c.l.x+c.l.j/2,0),c.zh+K)}else if(R){var a=this._w-1;while(a>0&&h.charCodeAt(a)!=10)a--;
e=a==0?0:a+1}else if(Q){var a=this._w;while(a<h.length-1&&h.charCodeAt(a)!=10)a++;e=a}e=Math.max(0,Math.min(h.length-1,e));
if(m.shiftKey)this._w=e;else this._w=this.DX=e;A=!0}if(g.Bf(m.code,C.o)&&r){this._w=0;this.DX=h.length-1;
A=!0}if(A){this.Ro();this.Ce(this.$X)}};l.LE.IjD=function(m,g){var L=m.length;if(L!=g.length)return!1;
for(var K=0;K<L;K++)if(m[K].wS!=g[K].wS)return!1;return!0};l.LE.prototype.dx=function(m,g){if(this.dQ==null)return;
this.dQ.OV();var L=this.wD;if(L instanceof Array){var K=this.KN(m,this.zC),r=m.oC();if(r!=null&&r.K==this&&r.data.jc&&l.LE.IjD(r.data.jc,L))r.data.ux=K;
else{var R=new aP(this.name,this);R.data={jc:L,ux:K};m.wM(R)}}else{var R=new aP(this.name,this);R.data={$e:L.$e,lx:L.lx,CG:L.CG,XB:L.XB};
m.wM(R)}this.escape(m,g)};l.LE.prototype.mF=function(m,g){if(this.dQ==null)return;if(this.wD instanceof Array){this.oc(m,this.wD);
if(this.dQ)aj.eP(this.dQ.add.TySh)}else{m.N=this.wD.CG;m.rZ(this.wD.$e)}m.X();this.escape(m,g)};l.LE.prototype.escape=function(m,g){this.dQ=null;
this.zC=null;this.rp=null;this.vV=null;this.RU.blur();m.J.eT=null;m.J.pw=null;m.J.Vq=[];m.Oi=!0;this.hx=!1;
this.WI=!1;this._w=this.DX=-1;this.gA(g,p.E.V,{P:p.o.dL,K:this.id,Jw:"hideactive"})};l.LE.prototype.gA=function(m,g,L,K){var r=new Y(g,!0);
r.data=L;if(K)r.K=K;m.g(r)};l.LE.prototype.oY=function(m){var g=this.dQ.add.TySh,L=this.rp,K=g.f.clone();
K.eb();var r=K.SW(m),R=aj.ZM(g,L),Q=I.QM.Xd(g.nY,R),F=I.pl.t.tz(Q,0,1,0,1),q=new Uint32Array(30),n=I.pl.t.ISe(F.GY,F.PR,r.x,r.y,q),W=I.pl.wF(Q,r.x,r.y,F.GY,q,n,!1),z=I.pl.BY;
if(z==null)z=new Float64Array(2);r=new jf(R.x+z[0]*R.j,R.y+z[1]*R.F);var u=L.IVZ(r);return u};l.LE.prototype.Ce=function(m,g){if(g==null)g=!1;
var L=this.dQ.add.TySh,K=aj.SE(L.m_),r=this.rp,R=r?aj.ZM(L,r):null;m.J.Vq=[];m.J.eT=null;m.J.pw=null;
if(this.vV){this.vV.WJ(m,this.ZS,!I.QM.gN(L.nY));var Q=L.f.clone();Q.eb();I.e.f(m.J.Vq,Q,m.J.Vq);I.e.f(m.J.eT.D,Q,m.J.eT.D);
if(r&&r.ITb()){var F=R.j-20,q=R.F+8;m.J.eT.D.push(F,q,F+10,q,F+5,q-5,F+5,q+5);m.J.eT.O.push("M","L","M","L")}}else if(K==0)this.Ijw(m,L,r);
else m.J.eT={D:[],O:[]};var n=Math.min(this._w,this.DX),W=Math.max(this._w,this.DX);if(!g){this.RU.selectionStart=n;
this.RU.selectionEnd=W}if(r!=null){var z=function($,G){var o=$.x,H=$.y+$.F,f=new aC;f.translate(-o,-H);
f.rotate(-G);f.translate(o,H);$.y+=$.F*.27;var e=I.e.Gl($);I.e.f(e.D,f,e.D);return e};if(n==W){n=Math.max(n,0);
var u=r.Y$(n);if(u){var N=u.l,b=this.ZS.XT.dh.FontSize;if(b!=null&&b!=0){N.y+=N.F-b;N.F=b}var B=r.ISD(n);
if(B!=null&&B.ws==1)N.x+=N.j;var h=z(N,u.DI).D;m.J.eT.O.push("M","L");m.J.eT.D.push(h[0],h[1],h[6],h[7])}}else{m.J.pw={D:[],O:[]};
for(var A=n;A<W;A++){var u=r.Y$(A),e=z(u.l,u.DI);I.e.concat(m.J.pw,e)}}}if(r!=null){if(!R.L_()){var c=I.QM.Xd(L.nY,R),a=Math.min(R.j,R.F)/10;
if(m.J.eT){m.J.eT=I.e.IH(m.J.eT);m.J.eT=I.e.Ic(m.J.eT,a);I.pl.apply(c,m.J.eT.D,R)}if(m.J.pw){m.J.pw=I.e.IH(m.J.pw);
m.J.pw=I.e.Ic(m.J.pw,a);I.pl.apply(c,m.J.pw.D,R)}I.pl.apply(c,m.J.Vq,R)}}if(m.J.eT)I.e.f(m.J.eT.D,L.f,m.J.eT.D);
if(m.J.pw)I.e.f(m.J.pw.D,L.f,m.J.pw.D);I.e.f(m.J.Vq,L.f,m.J.Vq);m.Oi=!0};l.LE.prototype.Ijw=function(m,g,L){if(L==null)return;
m.J.Vq.push(0,0);if(m.J.eT==null)m.J.eT={O:[],D:[]};for(var K=0;K<L.gV.length;K++){var r=L.gV[K];for(var R=0;
R<r._A.length;R++){var Q=r._A[R],F=r.BG.x+Q.BG.x+Q.l.x,q=r.BG.y+Q.BG.y+Q.l.y+Q.l.F;m.J.eT.O.push("M","L");
m.J.eT.D.push(F,q,F+Q.l.j,q)}}m.Oi=!0};l._b=function(){l.Lk.call(this,[10,9],l.ImY,"tools/lasso");this.po="crosshair";
this.lF=null;this.DQ=null;this.qz=null};l._b.prototype=new l.Lk;l._b.prototype.cX=function(m,g,L,K){this.lF=this.cK;
this.DQ={D:[this.lF.x,this.lF.y],O:["M"]}};l._b.prototype.Fg=function(m,g,L,K){this.qz=K;var r=this.DQ;
if(r==null)return;if(!K.Tb){if(this.DQ!=null&&this.rU>1&&L.a(C.qk)){r.D.pop();r.D.pop();r.D.push(this.Ms.x,this.Ms.y);
m.J.eT=r;m.Oi=!0}return}r.O.push("L");r.D.push(this.Ms.x,this.Ms.y);this.lF=this.Ms;if(this.Qn){m.J.eT=r;
m.Oi=!0}};l._b.prototype.HE=function(){return this.DQ!=null};l._b.prototype.oe=function(){return this.DQ!=null};
l._b.prototype.KK=function(m,g,L,K){l.Lk.prototype.KK.call(this,m,g,L,K);if(this.DQ&&this.rU>1&&this.qz&&!this.qz.Tb&&!K.a(C.qk))this.Iqz(m,L,K)};
l._b.prototype.Cs=function(m,g,L,K){this.qz=K;var r=this.DQ;if(r==null)return;if(this.rU>1&&L.a(C.qk)){r.O.push("L");
r.D.push(this.Ms.x,this.Ms.y);return}this.Iqz(m,g,L)};l._b.prototype.Iqz=function(m,g,L){this.finish(m,g,L,this.qz);
this.DQ=null;m.J.eT=null;m.Oi=!0};l._b.prototype.getSelection=function(m,g,L,K){if(this.cK.TB(this.Ms)||!this.Qn)return null;
return l.Lk.aF(this.DQ.D)};l.Bc=function(){l.$B.call(this,[10,11],l.Kb,"tools/move");this.kF=new jf(0,0);
this.kW=new jf(0,0);this.dX=null;this.Sm=null;this.wj=new jf(0,0);this.dc=null;this.Tf=null;this.Tu=null;
this.ru=null;this.Qx=[];this.rJ=null;this.tR=!1;this.P=0;this.uw=null;this.wz=null;this.kN=null;this.z$=!1;
this.aZ={uW:!1,dj:!1,nO:!1};this.vV=null;this.Bs=null;this.Ini=null;var m=[];for(var g=0;g<I.Wq.IP.length;
g++)m.push({name:I.Wq.IP[g],$:function(L,K,r){return{Nf:K.dA.$C==r}}});this.Nt=new mx(m);this.Nt.v("select",this.Tj,this)};
l.Bc.prototype=new l.$B;l.$B.prototype._j=function(m){return this.tR&&this.P!=2};l.Bc.prototype.Iq_=function(){return this.tR&&this.P==0};
l.Bc.prototype.Ixm=function(m,g,L,K){this.Ri(m,-this.wj.x,-this.wj.y);this.wj.xF(0,0);this.Re(m,null,L);
this.SD(m)};l.Bc.prototype.FY=function(){var m=this.aZ;return[m.uW?1:0,m.dj?1:0,m.nO?1:0]};l.Bc.prototype.IIr=function(m,g,L){var K=this.aZ;
if(m&&m[0]!=null)K.uW=m[0]==1;if(m&&m[1]!=null)K.dj=m[1]==1;if(m&&m[2]!=null)K.nO=m[2]==1;var r=new Y(p.E.V,!0);
r.data={P:p.o.dL,K:this.id,ky:K,IBy:g};L.g(r)};l.Bc.IUz=function(m,g,L,K,r,R,Q){if(Q==null)Q=[!1,!0];
var F=new v(0,0,m.j,m.F),q=m.ul(null,r,!0),n=m.IQI(q,Q[0]?F:null,Q[1]?null:F)[0];if(L!=1){var W=new v(0,0,Math.round(n.j*L),Math.round(n.F*L));
l.ma.ad(n,W);var z=[];for(var u=0;u<n._.length;u++)z.push(u);var N=l.k.RW(n,z,!0);l.k.Se(n,K,z,N,1,I.i.Gj(new aC(L,0,0,L,0,0)),null,!0);
n.cG()}var b=[];for(var u=0;u<g.length;u++)b.push(ax.kr(n,g[u].toUpperCase(),null,null,R?R[u]:null,K));
return b};l.Bc.prototype.Iqf=function(m,g,L,K,r){if(m==null||m.N.length==0)return;var R=l.Bc.IUz(m,[g],L,K,null)[0],Q=new Y(p.E.V,!0);
Q.data={P:p.o.Ly,data:R,name:m._[m.N[0]].getName()+"."+g};r.g(Q)};l.Bc.prototype.lr=function(m,g,L,K,r){if(m.Jj=="getPNG"){this.Iqf(L,"png",m.IEI,r,g)}else if(m.Jj=="getSVG"){this.Iqf(L,"svg",m.IEI,r,g)}if(m.Jj=="prms"){this.aZ=m;
this.SD(L)}};l.Bc.IjL=function(m){var g=m.length,K=0;m.sort(function(F,q){return F[0]+F[1]/2-(q[0]+q[1]/2)});
var L=m[g-1][0]+m[g-1][1]-m[0][0];for(var r=0;r<g;r++)K+=m[r][1];var R=Math.round((L-K)/(g-1)),Q=m[0][0];
for(var r=0;r<g;r++){m[r][0]=Q;Q+=m[r][1]+R}};l.Bc.prototype.VH=function(m,g,L,K,r){var R=m.P;if(R=="trsl"){var Q=Math.round(m.IEK),F=Math.round(m.IXY);
this.wj.xF(Q,F);this.AI(L,g,K,r,!1,m.A);this.Ri(L,Q,F);this.Re(L,null,r)}else if(R=="gids"||R=="gidsFromLayer"){var q=m.wz,n,W;
if(q==null)q=JSON.parse(JSON.stringify(L.TW));if(R=="gids"){n=m.gZ;var z=q[0].length+q[1].length,u=n[0].length+n[1].length;
W=z==u?[23,2]:z>u?[23,3]:[23,4];if(u==0)W=[11,15,0]}else if(R=="gidsFromLayer"){var N=[[],[]];for(var b=0;
b<L.N.length;b++){var B=L._[L.N[b]].rect;if(B.L_())continue;N[0].push(B.x,B.x+B.j);N[1].push(B.y,B.y+B.F)}W=[11,15,1];
n=JSON.parse(JSON.stringify(L.TW));l.Bc.TI(n,N)}if(JSON.stringify(q)==JSON.stringify(n))return;var R=new aP(W,this);
R.data={P:2,wz:q,gZ:n};L.wM(R);this.ao(R.data,L)}else if(R=="algn"){var h=m.U;if(L==null)return;if(L.N.length<2&&!(L.I!=null&&h!=3&&h!=7)){alert(aT.get([15,7,5]));
return}var A=L.I;L.I=null;var B=A?A.rect:l.k.ZM(L);this.AI(L,g,K,r,!1);if(!this.tR)return;var e=this.ru,c={},a=[],$=[],G=[];
for(var b=0;b<e.length;b++){var o=e[b];while(L._[o].getName()=="</Layer group>")o++;var H=L.root.dr(o),f=H;
while(H.parent!=null){H=H.parent;if(e.indexOf(H.index)!=-1)f=H}var E=$.indexOf(f.index);if(E==-1){E=$.length;
$.push(f.index)}a[b]=E}var S=[],V=[],J=[];for(var b=0;b<$.length;b++){var U=l.k.ZM(L,L.ul(!0,$[b]));
J.push(U);var j=h==3?[U.y,U.F]:[U.x,U.j];S[b]=j;V.push(j)}l.Bc.IjL(V);for(var b=0;b<$.length;b++){var U=J[b],i=U.x,k=U.y;
if(h==0)i=B.x;if(h==1)i=B.x+(B.j-U.j)/2;if(h==2)i=B.x+(B.j-U.j);if(h==3)k=S[b][0];if(h==4)k=B.y;if(h==5)k=B.y+(B.F-U.F)/2;
if(h==6)k=B.y+(B.F-U.F);if(h==7)i=S[b][0];G.push(Math.round(i-U.x),Math.round(k-U.y))}var P=[];for(var b=0;
b<e.length;b++){var w=a[b];P[2*b]=G[2*w];P[2*b+1]=G[2*w+1]}this.Ri(L,0,0,null,P);var d=h==3||h==7?[20,4,6]:[20,4,h<3?h:h-1];
this.Re(L,null,r,P,d);L.I=A}};l.Bc.TI=function(m,g){for(var L=0;L<g.length;L++)for(var K=0;K<g[L].length;
K++)if(m[L].indexOf(g[L][K])==-1)m[L].push(g[L][K])};l.Bc.prototype.enable=function(m,g,L,K,r){this.Tf=L;
this.Tu=g;this.z$=r?!0:!1;this.SD(m);this.Qh("default",g)};l.Bc.prototype.disable=function(m,g,L,K){this.IMc(m)};
l.Bc.prototype.IMc=function(m){if(m==null)return;if(this.vV){this.vV.clear(m);this.vV=null}if(m.J.nO){m.J.nO=null;
m.Oi=!0}if(m.J.Sp){m.J.Sp=null;m.Oi=!0}if(m.J.dJ[this.id]){delete m.J.dJ[this.id];m.Oi=!0}if(m.J.To.length!=0){m.J.To=[];
m.Oi=!0}};l.Bc.prototype.ey=function(m,g,L,K){if(L._O!=this.id)return;this.SD(m)};l.Bc.prototype.SD=function(m,g){if(m==null)return;
var L=this.aZ;this.IMc(m);if(!this.z$){var K;if(L.dj||L.nO)K=I.e.uV(l.k.ZM(m));if(L.dj&&!K.L_()){this.vV=new Ri([K.x,K.y,K.x+K.j,K.y,K.x+K.j,K.y+K.F,K.x,K.y+K.F],!0);
this.vV.WJ(m,this.Tf)}if(L.nO){var r=m.Ilu(m.N[0]),W=null,z=!1;if(r==null)r=new v(0,0,m.j,m.F);m.J.nO={sN:[K],sy:[]};
var R=m.J.nO.sy,Q=K.x+K.j,F=K.y+K.F,q=K.x+Math.floor(K.j/2),n=K.y+Math.floor(K.F/2);if(g){var u=m.root.wF(new jf(Math.floor(g.x),Math.floor(g.y)));
if(u){W=I.e.uV(u.A.vk(m));if(W.tY(K)){z=(W.Vp(K)||K.Vp(W))&&!K.TB(W);if(!z)W=null}}}this.Iqm(K,R);if(W!=null){m.J.nO.sN.push(W);
var N=W.x+W.j,b=W.y+W.F,B=W.x+Math.floor(W.j/2),h=W.y+Math.floor(W.F/2);if(z){var A=q,e=n;if(K.Vp(W)){A=B;
e=h}R.push(K.x,e,W.x,e);R.push(Q,e,N,e);R.push(A,K.y,A,W.y);R.push(A,F,A,b)}else{this.Iqm(W,R);var c=F<W.y||b<K.y,a=Q<W.x||N<K.x;
if(Q<W.x)R.push(Q,n,W.x,n);if(N<K.x)R.push(N,n,K.x,n);if(F<W.y)R.push(q,F,q,W.y);if(b<K.y)R.push(q,b,q,K.y);
if(c&&!a){if(K.x<W.x)R.push(K.x,h,W.x,h);if(W.x<K.x)R.push(W.x,n,K.x,n)}}}else{if(K.y>r.y)R.push(q,r.y,q,K.y);
if(F<r.y+r.F)R.push(q,F,q,r.y+r.F);if(K.x>r.x)R.push(r.x,n,K.x,n);if(Q<r.x+r.j)R.push(Q,n,r.x+r.j,n)}m.Oi=!0}}if(this.P==2&&this.tR){var $=this.ru,G=$[0],o=(G==0?"X":"Y")+": "+I.Wq.bT(m.TW[G][$[1]],m.Jt,this.Tf,G==0?m.j:m.F,!0);
l.$B.IqM(Math.round(this.dX.x)+10,Math.round(this.dX.y)-10,[o],m);m.Oi=!0}if(this.P==3&&this.tR){var H=I.e.Gl(this.uw);
m.J.dJ[this.id]={eT:H};m.Oi=!0}};l.Bc.prototype.Iqm=function(m,g){var L=m.j,K=m.F,r=m.x+Math.floor(L*.2),R=m.y+Math.floor(K*.2);
g.push(r,m.y,r,m.y+K);g.push(m.x,R,m.x+L,R)};l.Bc.prototype.Qh=function(m,g){var L={P:p.o.cM,_q:m},K=new Y(p.E.V,!0);
K.data=L;g.g(K)};l.Bc.prototype.WZ=function(m){var g=this.Bs.EH()[0],L=this.dc,K=this.Ini[g];this.InK(L,K)};
l.Bc.prototype.Tj=function(m){var g=JSON.parse(JSON.stringify(this.Tf.dA));g.$C=this.Nt.EH()[0];var L=new Y(p.E.V,!0);
L.data={P:p.o.VP,Su:am.pL,cC:g};this.Tu.g(L)};l.Bc.prototype.fE=function(m,g,L,K,r){if(this.tR)this.RK(m,g,L,K,r);
this.dc=m;this.Tf=L;this.Tu=g;var R=m.L.TV(r.x,r.y),Q;if(l.Bc.Tp(L,r)){Q=this.Nt}else{if(this.Bs)this.Bs.removeEventListener("select",this.WZ);
var F=[];m.root.wF(R,F);if(F.length==0)return;var q=[];this.Ini=F;for(var n=0;n<F.length;n++)q.push({name:m._[F[n]].getName()});
Q=this.Bs=new mx(q);Q.v("select",this.WZ,this)}Q.parent=g;Q.b();Q.update(m,L);var W=new Y(p.E.V,!0);
W.data={P:p.o.xW,Mt:Q,x:r.zv+2,y:r.hp+1};g.g(W)};l.Bc.prototype.II_=function(m,g,L,K,r){return l.Bc.Tp(L,r)};
l.Bc.prototype.Mc=function(m,g,L,K,r){this.dX=r;this.kF.xF(r.x,r.y);this.kW=m.L.TV(r.x,r.y);this.Sm=new Db(this.kW);
this.AI(m,g,K,L,!0)};l.Bc.Tp=function(m,g){return m.EK&&(0<g.x&&g.x<I.Wq.HV||0<g.y&&g.y<I.Wq.HV)};l.Bc.prototype.AI=function(m,g,L,K,r,R){var Q,F=this.kW,q=!1;
if(r){var n=K.ny&&K.dA.TW;if(l.Bc.Tp(K,this.kF)){Q=JSON.parse(JSON.stringify(m.TW));if(this.kF.x<I.Wq.HV)m.TW[0].push(F.x);
if(this.kF.y<I.Wq.HV)m.TW[1].push(F.y);if(!n){var W=new Y(p.E.V);if(!K.dA.TW){W.data={P:p.o.VP,Su:am.pG};
g.g(W)}if(!K.ny){W.data={P:p.o.VP,Su:am.Il};g.g(W)}n=!0}}var z=this.Ima(m,F);if(n&&z){this.P=2;this.wz=Q?Q:JSON.parse(JSON.stringify(m.TW));
this.ru=z;this.tR=!0;this.rJ=l.k.ZM(m);return}if(m.gW.length!=0){this.P=4;this.rJ=m.Qj[m.gW[0]].rect.clone();
this.tR=!0;return}if(this.vV&&this.vV.nm(F,m.L.T,!0)!=null){var W=new Y(p.E.V);W.data={P:p.o.RI,K:l.Zo};
g.g(W);var u=new Y(p.E.B);u.K=l.Zo;u.data={P:"doMouseDown",dX:this.kF};g.g(u);return}if(m.I&&m.I.rect.Rn(F)){var N=Math.round(F.x),b=Math.round(F.y),B=m.I.rect;
q=m.I.channel[(b-B.y)*B.j+N-B.x]>128}if(!q&&(!this.z$&&(L.a(C.EZ)||this.aZ.uW)||this.z$&&this.aZ.uW&&(L.a(C.jU)||m.N.length<2))){var h=this.Ijl(m,F,L);
if(!h){m.N=[];m.Sg=null;m.$F=m.zd=!0;this.P=3;this.uw=new v;this.tR=!0;return}}if(L.a(C.qk)&&!q){var u=new Y(p.E.B);
u.K=l.pW;u.data={P:x.vs,IBs:!0};g.g(u)}}if(m.gW.length!=0){this.P=4;this.rJ=m.Qj[m.gW[0]].rect.clone();
this.tR=!0;return}this.ru=m.ul(R==null,R,null,!0);for(var A=0;A<this.ru.length;A++){var e=m._[this.ru[A]];
if(e.SO(2)||e.SO(31)){alert(aT.get([6,57,0]));return}}this.Qx=l.Bc.Iin(m,this.ru);this.P=0;if(m.I&&(!r||q)&&m.N.length==1&&m.kn(!1)){if(!m.ICr()){this.tR=!1;
return}var c=m._[m.N[0]],a=L.a(C.qk);this.P=1;var $=m.history[m.CR];if($.K==this&&$.data.P==1&&$.data.A==m.N[0]&&c.eF==c.OJ.eF&&!a){this.kN=$}else{var G=c.OJ,o=!1,H;
if(!c.uu(m,m.I)||a){o=!0;c.OX(m,m.I,a)}if(c.OJ.eF<=0){H=I.m(c.OJ.Kh.length>>2);I.Vl(c.OJ.Kh,H,3)}else H=I.clone(m.I.channel);
var f={rect:c.OJ.gw.clone(),channel:H};this.kN=new aP(a?[12,53]:[12,54],this);this.kN.data={P:1,A:m.N[0],OJ:c.OJ,De:G,rO:o,CG:m.I,XB:f,$Y:new jf(0,0)};
m.wM(this.kN);m.I=f;m.qL=!0}}this.tR=!0;this.rJ=l.k.ZM(m)};l.Bc.prototype.Ijl=function(m,g,L){var K=m.root.wF(new jf(Math.floor(g.x),Math.floor(g.y)));
if(K){if(K.A.add.vmsk)m.Oi=!0;var r=m._.indexOf(K.A);if(L.a(C.jU)){var R=m.N.indexOf(r);if(R==-1)m.N.push(r);
else if(m.N.length>1)m.N.splice(R,1)}else if(m.N.indexOf(r)==-1){this.InK(m,r)}}return K!=null};l.Bc.prototype.InK=function(m,g){m._[g].eF=0;
m.N=[g];m.Sg=null;m.MJ();m.ur=!0;m.$F=!0};l.Bc.prototype.NB=function(m,g,L,K,r){this.dX=r;var R=m.L.TV(r.x,r.y),u,N;
if(this.Sm&&this.P<2)R=this.Sm.YQ(R,K);if(!this.tR){if(L.ny&&L.dA.TW){var Q=this.Ima(m,R),F="default";
if(Q)F=["col-resize","row-resize"][Q[0]];else if(this.vV){var q=this.vV.nm(R,m.L.T);if(q)F=q}this.Qh(F,g)}this.SD(m,R);
return}var n=this.kW,W=Math.round(R.x-n.x)-this.wj.x,z=Math.round(R.y-n.y)-this.wj.y;if(this.rJ){if(this.P==2){R=l.Bc.BO(m,R,L,[!1,m.I?m.I.rect:this.rJ,!0])}else{N=this.rJ.clone();
N.offset(this.wj.x+W,this.wj.y+z);u=l.Bc.ZK(m,N,L);W+=Math.round(u[0]);z+=Math.round(u[1])}}this.wj.x+=W;
this.wj.y+=z;this.Ri(m,W,z,R,null,K.a(C.jU));this.SD(m,R);if(u)l.Bc.ZF(m,N,u)};l.Bc.prototype.Ima=function(m,g){g=[g.x,g.y];
for(var L=0;L<2;L++)for(var K=0;K<m.TW[L].length;K++)if(Math.abs(m.TW[L][K]-g[L])*m.L.T<4)return[L,K];
return null};l.Bc.prototype.Ri=function(m,g,L,K,r,R){if(this.P==0){if(r)l.Bc.Aj(m,this.ru,this.Qx,r);
else l.Bc.AQ(m,this.ru,this.Qx,g,L)}else if(this.P==1){var Q=this.kN.data;Q.$Y.offset(g,L);l.Bc.Rk(m,Q.A,g,L)}else if(this.P==2){var F=1e-5;
if(R)F=m.L.T<=1?10:1;else if(m.L.T<=1)F=1;var q=F*Math.round(K.x/F),n=F*Math.round(K.y/F),W=[q,n],z=this.ru;
m.TW[z[0]][z[1]]=W[z[0]]}else if(this.P==3){var u=this.kW,N=I.e.Ny([u.x,u.y,K.x,K.y]);this.uw=N;var b=[];
m.root.IVg(N,b);if(JSON.stringify(m.N)!=JSON.stringify(b)){m.N=b;m.$F=!0;m.zd=!0}}else if(this.P==4){for(var B=0;
B<m.gW.length;B++)m.Qj[m.gW[B]].rect.offset(g,L);m.Oi=!0}};l.Bc.Rk=function(m,g,L,K){var r=m._[g];m.I.rect.offset(L,K);
r.XU(m,L,K,m.I);m.qL=!0;m.X()};l.Bc.prototype.RK=function(m,g,L,K,r){this.Re(m,r,L);this.SD(m)};l.Bc.prototype.Re=function(m,g,L,K,r){if(!this.tR)return;
this.tR=!1;if(this.P==0){if(K){this.Imk(m,null,K,r)}else{if(this.wj.x==0&&this.wj.y==0)return;this.Imk(m,this.wj.clone())}m.qb=!0}else if(this.P==2){var R=0;
g=[g.x,g.y];var Q=this.ru,F=this.wz[0].length+this.wz[1].length,q=m.TW[0].length+m.TW[1].length;if(L.EK&&g[Q[0]]<I.Wq.HV){m.TW[Q[0]].splice(Q[1],1);
R=1;if(F==q-1)return}if(F<q)R=2;var n=new aP([[23,2],[23,3],[23,4]][R],this);n.data={P:2,wz:this.wz,gZ:JSON.parse(JSON.stringify(m.TW))};
m.wM(n)}else if(this.P==4){var n=new aP([12,54],this);n.data={P:4,N:m.gW.slice(0),H:this.wj.clone()};
m.wM(n)}this.wj.xF(0,0)};l.Bc.prototype.KK=function(m,g,L,K){var r=K.vQ();if(m!=null&&(r.x!=0||r.y!=0)){this.wj.xF(r.x,r.y);
this.AI(m,g,K,L,!1);if(!this.tR)return;this.Ri(m,r.x,r.y);this.Re(m,null,L);this.SD(m)}};l.Bc.prototype.Kq=function(m,g){if(m.P==0)l.Bc.Aj(g,m.N,m.wt,m.zW,!0);
else if(m.P==2){g.TW=JSON.parse(JSON.stringify(m.wz));g.Oi=!0}else if(m.P==4){for(var L=0;L<m.N.length;
L++)g.Qj[m.N[L]].rect.offset(-m.H.x,-m.H.y);g.Oi=!0}else{var K=g._[m.A];if(m.rO){K.OB(g,m.De);g.I=m.CG;
g.qL=!0;g.X();K.X()}else{l.Bc.Rk(g,m.A,-m.$Y.x,-m.$Y.y)}}};l.Bc.prototype.ao=function(m,g){if(m.P==0)l.Bc.Aj(g,m.N,m.wt,m.zW);
else if(m.P==2){g.TW=JSON.parse(JSON.stringify(m.gZ));g.Oi=!0}else if(m.P==4){for(var L=0;L<m.N.length;
L++)g.Qj[m.N[L]].rect.offset(m.H.x,m.H.y);g.Oi=!0}else{var K=g._[m.A];if(m.rO){K.OJ=m.OJ;g.I=m.XB;l.Bc.Rk(g,m.A,0,0);
K.X()}else{l.Bc.Rk(g,m.A,m.$Y.x,m.$Y.y)}}};l.Bc.prototype.Imk=function(m,g,L,K){if(L){var r=!0;for(var R=0;
R<L.length;R++)if(L[R]!=0)r=!1;if(r)return}var Q=m.history[m.CR];if(Q.data&&Q.K==this&&Q.data.P==0&&L==null&&JSON.stringify(Q.data.N)==JSON.stringify(this.ru)&&JSON.stringify(Q.data.wt)==JSON.stringify(this.Qx)){var F=Q.data.zW,q=Q.data.IhQ.XX.T.v;
q.Hrzn.v.val+=g.x;q.Vrtc.v.val+=g.y;for(var R=0;R<F.length;R+=2){F[R]+=g.x;F[R+1]+=g.y}}else{if(g==null)g=new jf(L[0],L[1]);
var n={Qm:"move",XX:{classID:"null",null:RL.c$("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:g.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:g.y}}}}}},W=new aP(K?K:[12,54],this);
if(L)W.data={P:0,N:this.ru,wt:this.Qx,zW:L};else W.data={P:0,N:this.ru,wt:this.Qx,zW:l.Bc.Ixi(this.ru,g.x,g.y)};
W.data.IhQ=n;m.wM(W);this.track(n)}};l.Bc.Ixi=function(m,g,L){var K=[];for(var r=0;r<m.length;r++)K.push(g,L);
return K};l.Bc.AQ=function(m,g,L,K,r){l.Bc.Aj(m,g,L,l.Bc.Ixi(g,K,r))};l.Bc.Aj=function(m,g,L,K,r){if(g.length==0)return;
if(L==null){L=[];for(var R=0;R<g.length;R++){L.push(m._[g[R]].us(m,!0))}}var Q=new v,F=new v(0,0,m.j,m.F);
for(var R=0;R<g.length;R++){var q=K[2*R],n=K[2*R+1];if(r){q=-q;n=-n}var W=m._[g[R]],z=L[R];if(W.add.fxrp&&(z.indexOf(0)!=-1||W.lo()))W.add.fxrp.offset(q,n);
for(var u=0;u<z.length;u++){var N=z[u];if(N==0){W.rect.offset(q,n);if(W.zp()&&W.lI(m))W.lI(m).rect.offset(q,n);
if(W.add.artb){var b=W.vP();b.offset(q,n);W.IW(b)}if(W.add.TySh){W.add.TySh.f.translate(q,n);if(W.add.TySh.add){W.add.TySh.add.vmsk.offset(q,n)}}if(W.add.SoLd){var B=new aC(1,0,0,1,q,n),h=W.add.SoLd,A=l.k.yb(h.Trnf),e=l.k.yb(h.nonAffineTransform);
I.e.f(A,B,A);I.e.f(e,B,e);h.Trnf=l.k.gf(A);h.nonAffineTransform=l.k.gf(e)}}if(N==1)W.WN().rect.offset(q,n);
if(N==2){W.add.vmsk.offset(q,n);if(W.add.vogk)I.xV.f(W.add.vogk,[1,0,q,0,1,n,0,0],[])}if(N==3){W.lI(m).s.rect.offset(q,n);
if(z.length==1)W.X()}}if(z.length>0){var c=W.add.GdFl;if(c==null)c=W.add.PtFl;if(W.lo()&&!W.wP()&&W.add.vmsk!=null&&I.q.qA(W.add.vmsk.W)&&W.add.vmsk.kc==255&&(c==null||c.Algn&&c.Algn.v)){W.rect.offset(q,n)}else W.Zh(m);
var a=m.root.OW(W.vk(m),m,g[R]);Q=Q.uM(a);a.offset(-q,-n);Q=Q.uM(a);if(W.add.SoCo||W.add.GdFl||W.add.PtFl||qE.get(W.add)!=null)Q=Q.uM(F);
W.ILV()}}m.X(Q)};l.Bc.Iin=function(m,g){var L=[];for(var K=0;K<g.length;K++){var r=m._[g[K]];L.push(r.us(m))}return L};
l.Bc.ZF=function(m,g,L){var K=m.J.Sp={D:[],O:[]},r=g.x+L[0],R=g.y+L[1];if(L[2]!=1e9){K.O.push("M","L");
K.D.push(L[2],R,L[2],R+g.F)}if(L[3]!=1e9){K.O.push("M","L");K.D.push(r,L[3],r+g.j,L[3])}m.Oi=!0};l.Bc.BO=function(m,g,L,K){var r=l.Bc.IQa(m,[[g.x],[g.y]],L,K);
return new jf(g.x+r[0],g.y+r[1])};l.Bc.ZK=function(m,g,L,K,r){var R=r==!0?0:1,Q=l.Bc.IQa(m,[[g.x,g.x+(g.j>>>R),g.x+g.j],[g.y,g.y+(g.F>>>R),g.y+g.F]],L,K);
return Q};l.Bc.IQa=function(m,g,L,K){if(K==null)K=[!0,null,!0];var r=[0,0,1e9,1e9];if(!L.zY)return r;
var R=JSON.parse(JSON.stringify(g));for(var Q=0;Q<2;Q++){var F=1e9,q=g[Q],n=0;for(var W=0;W<q.length;
W++){var z=l.Bc.Ijk(m,q[W],R[1-Q][W],Q,L,K);if(z!=1e9)R[Q][W]=z;if(z!=1e9&&Math.abs(z-q[W])<Math.abs(F)){F=z-q[W];
n=z}}if(F!=1e9){r[Q]=F;r[Q+2]=n}}return r};l.Bc.Ijk=function(m,g,L,K,r,R){var Q=1e9,F=r.DV,q=r.dA;if(R[0]&&F[0]&&q.TW&&r.ny){var n=m.TW[K];
for(var W=0;W<n.length;W++)if(Math.abs(n[W]-g)<Math.abs(Q-g))Q=n[W]}if(F[1]&&q.wf&&r.ny){var z=Math.round(I.Wq.qX(q.hO,m,q.hf));
if(K==1&&q.D$==1){var u=L*.5*Math.sqrt(4/3),N;z*=Math.sqrt(4/3);N=Math.round((g-u)/z)*z+u;if(Math.abs(N-g)<Math.abs(Q-g))Q=N;
N=Math.round((g+u)/z)*z-u;if(Math.abs(N-g)<Math.abs(Q-g))Q=N}else{var N=Math.round(g/z)*z;if(Math.abs(N-g)<Math.abs(Q-g))Q=N}}var b=m.qo;
if(F[3]&&q.qo&&r.ny&&b.length!=0){for(var W=0;W<b.length;W++){if(!R[2]&&m.$u.indexOf(W)!=-1)continue;
var B=l.Dg.DJ(b,W);for(var h=0;h<3;h+=2)if(B[h+K]!=g&&Math.abs(B[h+K]-g)<Math.abs(Q-g))Q=B[h+K]}}if(R[1]){var A=R[1],e=A.j,c=A.F,a=[A.x,A.y,A.x+(e>>>1),A.y+(c>>>1),A.x+e,A.y+c];
for(var W=0;W<6;W+=2)if(Math.abs(a[W+K]-g)<Math.abs(Q-g))Q=a[W+K]}if(F[4]){var e=m.j,c=m.F,a=[0,0,e>>>1,c>>>1,e,c];
for(var W=0;W<6;W+=2)if(Math.abs(a[W+K]-g)<Math.abs(Q-g))Q=a[W+K]}var $=Math.abs(Q-g)<=4*p.M()/m.L.T?Q:1e9;
return $};l.lz=function(){l.Lk.call(this,[10,12],l.IUo,"tools/mwand")};l.lz.prototype=new l.Lk;l.lz.prototype.cX=function(m,g,L,K){this.finish(m,g,L,K)};
l.lz.prototype.getSelection=function(m,g,L,K){var r=this.Ms,R=l.Lk.IIH(new jf(Math.floor(r.x),Math.floor(r.y)),this.aZ.Hu);
return R};l.lz.IxO=function(m,g,L){if(m.N.length!=1){alert("More than one layer selected.");return null}var K=m._[m.N[0]],r;
if(K.add.lsct!=null&&K.add.lsct!=Ra.O$){alert("No layer selected.");return null}if(g.x<0||g.x>m.j||g.y<0||g.y>m.F)return null;
var R=new v(0,0,m.j,m.F),Q=K.eF<=0?null:K.eF==1?K.WN():K.lI(m).s;if(Q==null&&R.TB(K.rect))r=K.buffer;
else{r=I.m(R.c()*4);if(Q==null)I.pq(K.buffer,K.rect,r,R);else l.jx.PW(Q.channel,Q.rect,Q.color,r,R)}var F=l.lz.IZi(r,R,g,null,L),q=I.YR(F,R),n=I.m(q.c());
I.Cp(F,R,n,q);return{rect:q,channel:n}};l.lz.Aa=function(m,g,L){var K=g.j,R=0,Q=0,F=0,q=0;m=new Uint32Array(m.buffer);
var r=[],n=L.length;for(var W=0;W<n;W++){var z=L[W],u=Math.round(z.x-.5-g.x),N=Math.round(z.y-.5-g.y);
if(!g.Rn(z))u=N=0;var b=N*K+u,B=m[b];r.push([B&255,B>>8&255,B>>16&255,B>>>24])}return r};l.lz.IZi=function(m,g,L,K,r){m=new Uint32Array(m.buffer);
var R=g.j,Q=g.F,F=R*Q;if(K==null)K=l.lz.Aa(m,g,[L]);var q=Math.round(L.x-.5-g.x),n=Math.round(L.y-.5-g.y),W=n*R+q,z=Date.now(),u=I.m(R*Q),N=r[0],b=1/N,B=r[1]&&N>0?255:0;
if(r[2]){var h=I.m(u.length),A=new Uint32Array(F),e=1;A[0]=q<<16|n;h[W]=1;while(e>0){var c=A[e-1];e--;
var a=c>>>16,$=c&65535,G=$*R+a,o=l.lz.Tw(m[G],K);if(o>N){var H=B*(1-Math.max(0,Math.min(1,(o-N)*b)));
u[G]=~~H}else{u[G]=255;if($!=Q-1&&h[G+R]==0){A[e++]=a<<16|$+1;h[G+R]=1}if($!=0&&h[G-R]==0){A[e++]=a<<16|$-1;
h[G-R]=1}if(a!=R-1&&h[G+1]==0){A[e++]=a+1<<16|$;h[G+1]=1}if(a!=0&&h[G-1]==0){A[e++]=a-1<<16|$;h[G-1]=1}}}}else{for(var G=0;
G<F;G++){var o=l.lz.Tw(m[G],K);if(o<=N)u[G]=255}for(var $=0;$<Q;$++)for(var a=0;a<R;a++){var G=$*R+a;
if(u[G]==0&&(a>0&&(u[G-1]==255||$>0&&u[G-R-1]==255||$<Q-1&&u[G+R-1]==255)||a<R-1&&(u[G+1]==255||$>0&&u[G-R+1]==255||$<Q-1&&u[G+R+1]==255)||$>0&&u[G-R]==255||$<Q-1&&u[G+R]==255)){var o=l.lz.Tw(m[G],K),H=B*(1-Math.max(0,Math.min(1,(o-N)*b)));
u[G]=~~H}}}return u};l.lz.Tw=function(m,g){var L=g.length,K=l.lz.IL$(m,g[0]),r=1;while(r!=L){K=Math.min(K,l.lz.IL$(m,g[r]));
r++}return K};l.lz.IL$=function(m,g){var L=m&255,K=m>>>8&255,r=m>>>16&255,R=m>>>24&255;if(g[3]==0)return R<5?0:255;
var Q=Math.max(Math.abs(L-g[0]),Math.max(Math.abs(K-g[1]),Math.abs(r-g[2])));return R==0?255:Q};l.IC=function(){l.jx.call(this,[10,26],l.IqO,"tools/patch");
this.lF=null;this.DQ=null;this.H=null;this.BG=null;this.uL=new jf;this.uJ=null};l.IC.prototype=new l.jx;
l.IC.prototype.Mc=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y);if(m.I&&I.wF(R,m.I.channel,m.I.rect)){var Q=new v(0,0,m.j,m.F),F=Q.my(m.I.rect);
if(!m.kn()||F.L_())return;if(!F.TB(m.I.rect)){var q=I.m(F.c());I.Cp(m.I.channel,m.I.rect,q,F);m.I={channel:q,rect:F}}this.aV(m);
this.BG=R;this.uL=new jf(R.x-m.I.rect.x,R.y-m.I.rect.y);this.uJ=I.m(m.I.rect.c()*4);I.set(this.uJ,4294967295);
if(this.aZ.patch==1){var n=m._[m.N[0]];n.OX(m,m.I,!0);if(n.OJ==null)this.BG=null}}else{this.DQ={D:[R.x,R.y],O:["M"]};
this.lF=R}};l.IC.prototype.NB=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y);if(this.BG){if(this.aZ.patch==1){var Q=m._[m.N[0]].OJ,F=R.x-this.uL.x,q=R.y-this.uL.y;
l.Bc.Rk(m,m.N[0],Math.round(F-Q.gw.x),Math.round(q-Q.gw.y))}else this.Ivm(m,R,"clone")}if(this.lF){this.DQ.O.push("L");
this.DQ.D.push(R.x,R.y);this.lF=R;m.J.eT=this.DQ;m.Oi=!0}};l.IC.prototype.RK=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y);
if(this.BG){this.Ivm(m,R,"heal");this.finish(m,m.I.rect);this.BG=null}if(this.lF){var Q=l.Lk.ov(this.aZ.setop,K.a(C.jU),K.a(C.qk)),F=new Y(p.E.VG,!0);
if(this.DQ.D.length<=4)F.data=l.Lk.ud();else F.data=l.Lk.aF(this.DQ.D,Q);g.g(F);this.lF=null;m.J.eT=null;
m.Oi=!0}};l.IC.prototype.gu=function(){return this.H};l.IC.prototype.lr=function(m,g,L,K,r){l.jx.prototype.lr.call(this,m,g,L,K,r);
this.Qh(r,K)};l.IC.prototype.Qh=function(m,g){var L="auto;";if(g!=null&&g.a(C.jU)&&!g.a(C.qk)||this.aZ.setop=="union")L="copy";
var K=new Y(p.E.V,!0);K.data={P:p.o.cM,_q:L};if(this.caller)this.caller.g(K)};l.IC.prototype.Ivm=function(m,g,L){var K=new jf(Math.round(this.BG.x-g.x),Math.round(this.BG.y-g.y));
if(this.aZ.patch==1)K.xF(-K.x,-K.y);this.H=K;this.PL(m,L,this.uJ,m.I.rect,m.I.rect);this.X(m,m.I.rect)};
l.RC=function(){l.jx.call(this,[10,13],l.IIe,"tools/pbucket")};l.RC.prototype=new l.jx;l.RC.prototype.enable=function(m,g,L,K){var r=new Y(p.E.V,!0);
r.data={P:p.o.cM,_q:"default"};g.g(r)};l.RC.prototype.SI=function(m,g){};l.RC.prototype.RK=function(m,g,L,K,r){if(!m.kn())return;
var R=m.L.TV(r.x,r.y),Q=l.lz.IxO(m,R,this.aZ.wconf);if(Q==null)return;var F=I.m(Q.rect.c()*4);I._U(F,(L.$q&255)<<16|(L.$q>>8&255)<<8|(L.$q>>16&255)<<0);
I.eX(Q.channel,F,3);this.aV(m);this.PL(m,"draw",F,Q.rect,Q.rect);this.X(m,Q.rect);this.finish(m,Q.rect)};
l.$Z=function(){l.Lk.call(this,[10,14],l.I$h,"tools/plasso");this.po="crosshair";this.xt=[];this.DQ=null;
this.IBe=0};l.$Z.prototype=new l.Lk;l.$Z.prototype.disable=function(m,g,L,K){this.yl(m)};l.$Z.prototype.cX=function(m,g,L,K){this.xt=[C.sY,C.Wg]};
l.$Z.prototype.AC=function(m){return this.xt.indexOf(m)!=-1};l.$Z.prototype._j=function(m){return this.DQ!=null};
l.$Z.prototype.oe=function(){return this.DQ!=null};l.$Z.prototype.HE=function(){return this.DQ!=null};
l.$Z.prototype.Fg=function(m,g,L,K){if(this.DQ==null)return;var r=this.DQ,R=r.D,Q=R.length-2,F=this.Ms;
if(this.rU>1&&L.a(C.qk)&&K.Tb){R.push(0,0);r.O.push("L");Q+=2}else if(L.a(C.jU))F=l.Ep.IJ(new jf(R[Q-2],R[Q-1]),F);
R[Q]=F.x;R[Q+1]=F.y;m.J.eT=r;m.Oi=!0};l.$Z.prototype.Cs=function(m,g,L,K){var r=Date.now();if(this.DQ==null)this.DQ={D:[this.Ms.x,this.Ms.y,this.Ms.x,this.Ms.y],O:["M","L"]};
else{this.Fg(m,g,L,K);this.DQ.O.push("L");this.DQ.D.push(this.Ms.x,this.Ms.y);m.J.eT=this.DQ;if(r-this.IBe<250||jf.hQ(this.Ms,new jf(this.DQ.D[0],this.DQ.D[1]))<5*p.M()/m.L.T){this.finish(m,g,L,K);
this.yl(m)}}this.IBe=r;m.J.eT=this.DQ};l.$Z.prototype.yl=function(m){this.DQ=null;this.xt=[];if(m!=null){m.J.eT=null;
m.Oi=!0}};l.$Z.prototype.KK=function(m,g,L,K){l.Lk.prototype.KK.call(this,m,g,L,K);if(this.DQ==null)return;
if(K.a(C.sY)||K.a(C.Wg)){this.DQ.D.pop();this.DQ.D.pop();this.DQ.O.pop();this.Fg(m,L,K)}if(K.a(C.xI)){if(this.DQ.D.length>4)this.finish(m,L,K);
this.DQ=null}if(K.a(C.rw)){this.DQ=null}m.J.eT=this.DQ;m.Oi=!0};l.$Z.prototype.getSelection=function(m,g,L,K){return l.Lk.aF(this.DQ.D)};
l.Fb=function(){l.Lk.call(this,[10,10],l.I$g,"tools/mlasso");this.po="crosshair";this.xt=[];this.W=[];
this.tU=[];this._A=[];this.tI=null;this.Vm=null;this.OU=null;this.OI=0;this.BJ=0};l.Fb.prototype=new l.Lk;
l.Fb.prototype.disable=function(m,g,L,K){this.clear(m)};l.Fb.prototype._j=function(m){return this.W.length!=0};
l.Fb.prototype.HE=function(){return this.W.length!=0};l.Fb.prototype.AC=function(m){return this.xt.indexOf(m)!=-1};
l.Fb.prototype.cX=function(m,g,L,K){this.xt=[C.sY,C.Wg];var r=this.Am(this.cK,m);if(this.W.length!=0&&(jf.hQ(r,this.W[0])<4*p.M()/m.L.T||Date.now()-this.OI<300)){this.Rv(m,this.W[0]);
this.finish(m,g,L);this.clear(m);return}this.OI=Date.now();if(this.W.length!=0)r=this.TO(r,m);else{var R=m.j,Q=m.F,F=I.m(R*Q),q=m.os(),n=R*Q*4;
for(var W=0;W<n;W+=4)F[W>>>2]=~~(.5+I.Mi(q[W],q[W+1],q[W+2])*(q[W+3]*(1/255)));this.tI=I.kY.ISC(F,R,Q);
this.OU=new Uint16Array(F.length)}this.Rv(m,r);this.BJ=L.a(C.qk)?1:0;this.dV(m)};l.Fb.prototype.Rv=function(m,g){var L=this.W;
this.tU[L.length]=this._A.length;if(L.length!=0){I.kY.wU(this.Vm,g.y*m.j+g.x);var K=this.TS(m,g);K.reverse();
var r=l.Fb.IIv(m,K);this._A=this._A.concat(r)}L.push(g);this.Iqt(m)};l.Fb.prototype.Iqt=function(m){var g=this.W[this.W.length-1],L=g.y*m.j+g.x;
this.Vm=I.kY.ISv(this.tI.rk,this.tI.lS,L);this.OU.fill(0)};l.Fb.prototype.Am=function(m,g){return new jf(Math.floor(Math.max(0,Math.min(g.j-1,m.x))),Math.floor(Math.max(0,Math.min(g.F-1,m.y))))};
l.Fb.prototype.clear=function(m){this._A=[];this.W=[];this.tU=[];this.tI=null;this.Vm=null;this.OU=null;
if(m!=null){m.J.eT=null;m.J.Vq=[];m.Oi=!0}this.xt=[]};l.Fb.prototype.Fg=function(m,g,L,K){var r=this.W,R=r.length;
if(R==0)return;var Q=this.TO(this.Am(this.Ms,m),m),F=this.TS(m,Q);for(var q=0;q<F.length;q++){var n=F[q],W=new jf(n%m.j,Math.floor(n/m.j));
if(this.OU[n]>30&&jf.hQ(W,r[R-1])>20){this.Rv(m,W);return}this.OU[n]++}if(this.BJ==1&&K.Tb)this.Rv(m,Q);
this.dV(m)};l.Fb.prototype.dV=function(m){var g=this.W;if(g.length!=0){var L=this.TO(this.Am(this.Ms,m),m),K=this.TS(m,L);
K.reverse();var r=l.Fb.IIv(m,K),R=this._A.concat(r),Q=m.J.eT={D:R,O:["M"]};for(var F=2;F<R.length;F+=2)Q.O.push("L")}m.J.Vq=[];
for(var F=0;F<g.length;F++)m.J.Vq.push(g[F].x+.5,g[F].y+.5);m.Oi=!0};l.Fb.prototype.Cs=function(m,g,L,K){};
l.Fb.prototype.KK=function(m,g,L,K){if(this.W.length==0)return;if(K.a(C.sY)||K.a(C.Wg)){this.W.pop();
this._A=this._A.slice(0,this.tU[this.W.length]);this.tU.pop();if(this.W.length==0)this.clear(m);else this.Iqt(m);
this.dV(m)}if(K.a(C.xI)){var r=this.Am(this.Ms,m);this.Rv(m,r);this.finish(m,L,K);this.clear(m)}if(K.a(C.rw)){this.clear(m)}};
l.Fb.prototype.getSelection=function(m,g,L,K){return l.Lk.aF(this._A)};l.Fb.prototype.TS=function(m,g){var L=this.W[this.W.length-1],K=L.y*m.j+L.x,r=g.y*m.j+g.x;
if(this.BJ==1)return[r,K];var R=[r];while(r!=K){r=this.Vm.Xc[r];R.push(r);if(R.length>5e3){console.log(R);
throw"e"}}return R};l.Fb.IIv=function(m,g){var L=[],K=m.j;for(var r=0;r<g.length;r++){var R=g[r];L.push(R%K+.5,Math.floor(R/K)+.5)}return L};
l.Fb.prototype.TO=function(m,g){var L=g.j,K=g.F,r=m.clone(),Q=3;I.kY.wU(this.Vm,m.y*L+m.x);var R=this.Vm.G_[m.y*L+m.x];
for(var F=-Q+1;F<Q;F++)for(var q=-Q+1;q<Q;q++){var n=m.x+q,W=m.y+F;if(n<0||n>=L||W<0||W>=K)continue;
I.kY.wU(this.Vm,W*L+n);if(this.Vm.G_[W*L+n]<R)r.xF(n,W)}return r};l.dg=function(){l.$B.call(this,[10,36],l.IUi,"tools/ruler");
this.VS=null;this.VD=null;this.uo=null;this.uO=null};l.dg.prototype=new l.$B;l.dg.prototype._j=function(m){return m.Tb};
l.dg.prototype.disable=function(m,g,L,K){this.VS=this.VD=null;if(m)this.SD(m)};l.dg.prototype.Mc=function(m,g,L,K,r){var R=m.L.T/p.M(),Q=m.L.TV(r.x,r.y);
Q.x=Math.round(Q.x);Q.y=Math.round(Q.y);var F=this.VS;if(F&&jf.hQ(Q,F[0])*R<6)this.VD=[0];else if(F&&jf.hQ(Q,F[1])*R<6)this.VD=[1];
else if(F&&l.dg.Ijh(F[0],F[1],Q)*R<6&&Math.min(F[0].x,F[1].x)-5<=Q.x&&Q.x<=Math.max(F[0].x,F[1].x)+5&&Math.min(F[0].y,F[1].y)-5<=Q.y&&Q.y<=Math.max(F[0].y,F[1].y)+5){this.VD=[0,1];
this.uO=[F[0].clone(),F[1].clone()];this.uo=Q}else{this.VS=[Q.clone(),Q.clone()];this.VD=[1]}};l.dg.prototype.NB=function(m,g,L,K,r){if(this.VD==null)return;
var R=this.VS,Q=this.VD,F=m.L.TV(r.x,r.y);F.x=Math.round(F.x);F.y=Math.round(F.y);if(Q.length==2){var q=F.x-this.uo.x,n=F.y-this.uo.y;
R[0]=this.uO[0].clone();R[0].offset(q,n);R[1]=this.uO[1].clone();R[1].offset(q,n)}else{R[Q[0]].xF(F.x,F.y);
if(K.a(C.jU)){R[Q[0]]=l.Ep.IJ(R[1-Q[0]],R[Q[0]])}}this.SD(m);this.gA(g,p.E.V,{P:p.o.dL,K:this.id,Iha:R[0],oQ:R[1]})};
l.dg.prototype.RK=function(m,g,L,K,r){this.VD=null};l.dg.prototype.gA=function(m,g,L){var K=new Y(g,!0);
K.data=L;m.g(K)};l.dg.prototype.SD=function(m){var g=this.VS;if(g==null){m.J.eT=null;m.J.Vq=[]}else{var L=[g[0].x,g[0].y,g[1].x,g[1].y];
m.J.eT={O:["M","L"],D:L};m.J.Vq=L}m.Oi=!0};l.dg.Ijh=function(m,g,L){var K=g.x-m.x,r=g.y-m.y,R=Math.abs(r*L.x-K*L.y+g.x*m.y-g.y*m.x),Q=Math.sqrt(K*K+r*r);
return R/Q};l.Ap=function(){l.jx.call(this,[10,19],l.an,"tools/sharpen");this._Z="copy"};l.Ap.prototype=new l.jx;
l.Ap.prototype.Mc=function(m,g,L,K,r){var R=this.aZ.pdetail?IT.Yo:IT.an;if(K.a(C.qk))R=IT.aT;this.vM(m,L,K,r,this.aZ.strn,R);
if(this.xG==null)return;this.tQ(m)};l.Ap.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);
if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.RH=function(){l.jx.call(this,[10,24],l.IQS,"tools/shbrush");
this._Z="draw";this.aZ.opacity=.5};l.RH.prototype=new l.jx;l.RH.prototype.Mc=function(m,g,L,K,r){this.vM(m,L,K,r,1);
if(this.xG==null)return;this.tQ(m)};l.RH.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);
if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.RH.prototype.RK=function(m,g,L,K,r){if(this.xG==null)return;
this.PL(m,"sheal",this.xG.jv(),this.xG.ZM(),this.xG.hz(),null);this.X(m,this.xG.hz());l.jx.prototype.RK.call(this,m,g,L,K,r)};
l.AD=function(){l.jx.call(this,[10,20],l.Pj,"tools/smudge");this._Z="copy"};l.AD.prototype=new l.jx;
l.AD.prototype.Mc=function(m,g,L,K,r){this.vM(m,L,K,r,this.aZ.strn,IT.Pj);if(this.xG==null)return;this.tQ(m)};
l.AD.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);if(this.xG==null)return;
if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.Ax=function(){l.jx.call(this,[10,23],l.IIT,"tools/sponge");
this._Z="sponge"};l.Ax.prototype=new l.jx;l.Ax.prototype.Mc=function(m,g,L,K,r){this.vM(m,L,K,r,this.aZ.flow);
if(this.xG==null)return;this.tQ(m)};l.Ax.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);if(this.nR)this.CP(m,L,r);
if(this.xG==null)return;if(!r.Tb)return;this.na(m,L,K,r);this.tQ(m)};l.S$=function(){l.$B.call(this,[10,17],l.ei,"tools/zoom");
this.eb=!1;this.bt=!0;this.OO=0;this.ta=null;this.dp=null;this.u_=0;this.xa=null;this.Df=0;this.Nt=new mx([{name:[8,0],cP:"Ctrl + +"},{name:[8,1],cP:"Ctrl + -",Oo:!0},{name:[20,3],cP:"Ctrl + 0"},{name:[20,2],$:function(m){return{Bt:aT.get([20,2])+": 100%"}},cP:"Ctrl + 1"}],[{C:p.E.B,K:l.ei,n:{P:"zoom",bt:!0}},{C:p.E.B,K:l.ei,n:{P:"zoom",bt:!1}},{C:p.E.B,K:l.ei,n:{P:"adapt",U:"fitscr"}},{C:p.E.B,K:l.ei,n:{P:"adapt",U:"pixel"}}])};
l.S$.prototype=new l.$B;l.S$.prototype.fE=function(m,g,L,K,r){var R=this.Nt;R.b();R.parent=g;R.update(m,L);
var Q=new Y(p.E.V,!0);Q.data={P:p.o.xW,Mt:R,x:r.zv+2,y:r.hp+1};g.g(Q)};l.S$.prototype.enable=function(m,g,L,K){this.TX(g,K);
if(Date.now()-this.OO<300)this.VH({P:"adapt",U:"pixel"},g,m,K,L);this.OO=Date.now()};l.S$.prototype.Mc=function(m,g,L,K,r){this.dp=new jf(r.x,r.y);
this.u_=m.L.T;this.xa=m.L.H.clone()};l.S$.prototype.NB=function(m,g,L,K,r){if(this.dp==null)return;var R=Math.round((r.x-this.dp.x)/16);
if(R==0)return;var Q=l.S$.Te(this.u_),F=l.S$._P[Math.max(0,Math.min(l.S$._P.length-1,Q-R))];m.L.T=this.u_;
m.L.H=this.xa.clone();this.VH({P:"zoom",T:F,dX:this.dp},g,m,K,L)};l.S$.prototype.RK=function(m,g,L,K,r){if(jf.hQ(this.dp,r)<4){var R=this.Ixk(K);
this.VH({P:"zoom",bt:R,dX:r},g,m,K,L)}this.dp=null};l.S$._P=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
l.S$.TM=function(m,g,L,K){var r=1;while(m*r*1/2>L||g*r*1/2>K)r*=1/2;if(m*r*2/3>L||g*r*2/3>K)r*=1/2;else if(m*r>L||g*r>K)r*=2/3;
return r};l.S$.IjF=function(m,g){var L=l.S$.Te(m);if(g&&L==0)return m;if(!g&&L==l.S$._P.length-1)return m;
return l.S$._P[g?L-1:L+1]};l.S$.Te=function(m){var g=0;while(l.S$._P[g]>m)g++;return g};l.S$.Ru=function(m,g,L,K){var r=m.$X;
if(K==0||K==null){K=l.S$.IjF(m.T,L);if(K==m.T)return}var R=m.TV(g.x,g.y);if(r.j*K<=m.r.j&&r.F*K<=m.r.F)m.H.xF(0,0);
else{m.H.x=Math.round(r.j*K/2-R.x*K+(g.x-m.r.j/2));m.H.y=Math.round(r.F*K/2-R.y*K+(g.y-m.r.F/2))}m.T=K};
l.S$.prototype.VH=function(m,g,L,K,r){var R=0,Q=!1,F=null;if(m.P=="adapt"){var q=0;if(m.U=="pixel")q=1;
if(m.U=="fitscr"){var q=0,n=L.L.r.j,W=L.L.r.F;if(L.j<=n&&L.F<=W){var z=1;while(L.j*(z+1)<=n&&L.F*(z+1)<=W)z++;
q=z}else{q=l.S$.TM(L.j,L.F,n,W)}}F=new jf(Math.round(L.L.r.j/2),Math.round(L.L.r.F/2));R=q;l.S$.Ru(L.L,F,Q,R);
L.qb=!0}if(m.P.startsWith("multi")){function u(S){var V=S[0].x-S[1].x,J=S[0].y-S[1].y;return Math.sqrt(V*V+J*J)}function N(S){return new jf((S[0].x+S[1].x)/2,(S[0].y+S[1].y)/2)}var b=m.ue,B=N(b);
if(m.P=="multidown"){this.ta=[b,L.L.T,L.L.TV(B.x,B.y)]}else{R=this.ta[1]*u(b)/u(this.ta[0]);if(R>=1)R=Math.min(32,Math.round(R));
else{var h=0,A=1e9,e=l.S$._P;for(var c=0;c<e.length;c++){var a=Math.abs(1-R/e[c]);if(a<A){A=a;h=c}}R=e[h]}if(R!=L.L.T)l.S$.Ru(L.L,B,Q,R);
var $=this.ta[2],G=L.L.nt($.x,$.y),o=L.L.H;o.x=Math.round(o.x+B.x-G.x);o.y=Math.round(o.y+B.y-G.y);L.qb=!0}}if(m.P=="scroll"){F=m.dX;
this.Df+=m.pB.y;var H=14;if(this.Df<-H){Q=!0;this.Df=Math.max(this.Df+H,-(H-1))}else if(this.Df>H){Q=!1;
this.Df=Math.min(this.Df-H,H-1)}else return;l.S$.Ru(L.L,F,Q,R);L.qb=!0}if(m.P=="zoom"){F=m.dX?m.dX:new jf(Math.round(L.L.r.j/2),Math.round(L.L.r.F/2));
if(m.T!=null)R=m.T;else Q=m.bt;l.S$.Ru(L.L,F,Q,R);L.qb=!0}if(m.P=="mskView"){var f=L._[L.N[0]],E=f.eF==3?f.lI(L).s:f.WN();
if(m.U==0){L.L.WY=[1,1,1];E.vu=!1}if(m.U==1){L.L.WY=[1,1,1];E.vu=!0}if(m.U==2){L.L.WY=[0,0,0];E.vu=!0}for(var c=0;
c<L.Qj.length;c++)L.Qj[c].vu=!1;L.gW=[];L.Oi=!0}};l.S$.prototype.KK=function(m,g,L,K){if(this.eb!=K.a(C.qk)){this.eb=K.a(C.qk);
var r={P:p.o.dL,K:this.id,eb:this.eb},R=new Y(p.E.V,!0);R.data=r;g.g(R);this.TX(g,K)}};l.S$.prototype.TX=function(m,g){var L=new Y(p.E.V,!0),K=this.Ixk(g);
L.data={P:p.o.cM,_q:K?"zoom-in":"zoom-out"};m.g(L)};l.S$.prototype.lr=function(m,g,L,K){this.bt=m.bt;
this.TX(g,K)};l.S$.prototype.Ixk=function(m){var g=this.bt;if(m.a(C.vD)&&m.a(C.EZ))g=!0;if(this.eb)g=!g;
return g};l.Wc=function(m,g,L){l.$B.call(this,m,g,L);this.GR=null;this.Tf=null;this.Tu=null;this.IBC=0};
l.Wc.prototype=new l.$B;l.Wc.prototype.enable=function(m,g,L,K,r){this.Tf=L;var R=new Y(p.E.V,!0);R.data={P:p.o.cM,_q:"default"};
g.g(R)};l.Wc.prototype.fE=function(m,g,L,K,r){if(m.zA()[0].length==0)return;var R=new Y(p.E.V,!0);R.data={P:p.o.dL,K:this.id,DL:r,Mw:m,ZS:L};
g.g(R)};l.Wc.prototype.ICT=function(m,g){var L=new Y(p.E.V,!0);L.data={P:p.o.VP,Su:am.Il};if(!g.ny)m.g(L);
L.data={P:p.o.VP,Su:am.ED};if(!g.dA.pc)m.g(L)};l.Wc.prototype.ey=function(m,g,L,K){if(L._O!=this.id)return;
if(m.N.length==0)return;var r=m._[m.N[0]],R=r.add.vmsk,Q=r.add.vstk,F=l.Wc.T$(m,m.N[0]);this.GR=m;this.Tu=g;
if(r.lo()&&R!=null&&(JSON.stringify(Q)!=JSON.stringify(L.OM)||JSON.stringify(F)!=JSON.stringify(L.Ov))){this.IBC=Date.now();
var q=new Y(p.E.V,!0);q.data={P:p.o.VP,Su:am.Ej,U:F};g.g(q);q.data={P:p.o.VP,Su:am.mf,U:Q};g.g(q)}};
l.Wc.prototype.SI=function(m,g){if(this.GR==null)return;if(g==am.VA||g==am.Ej||g==am.mf){if(Date.now()-this.IBC<50)return;
var L=g==am.Ej,K=this.GR,r=L?m.Ov:m.OM,R=[];for(var Q=0;Q<K.N.length;Q++){var F=K.N[Q],q=K._[F];if(!q.lo()||q.add.vmsk==null)continue;
R.push(F)}var n=new Y(p.E.B,!0);n.K=l.pW;n.data={P:x.hr,gK:R,Xl:L,U:r};if(R.length!=0)this.Tu.g(n)}};
l.Wc.prototype.IaC=function(m){if(typeof m=="number"){var g=new Y(p.E.VG,!0);g.data=l.nB._W(0);g.data.XX.Usng.v.Type.v.Clr.v=I.G.h$({u:m>>>16&255,S:m>>>8&255,R:m>>>0&255});
this.Tu.g(g)}};l.Wc.prototype.VH=function(m,g,L,K,r){this.Tu=g;if(m.P=="newfill"){if(m.RJ==0){var R=new Y(p.E.V,!0);
R.data={P:p.o.My,OT:"colorpicker",yK:r.$q,tG:this.IaC.bind(this)};g.g(R)}}else if(m.P=="pathedit"){var Q=m.Jj,F="",q=L.pc.slice(0),n=L.Xv.slice(0),W=L.pc.slice(0),z=L.Xv.slice(0);
if(Q=="rnm"){var u=-1-m.Bj,N=q[u],b=aH.Qr(m.name,N.add);W[u]=b;F="Rename"}else if(Q=="new"){W.push(aH.Qr("Path "+q.length));
z=[W.length-1];F="New"}else if(Q=="del"){if(z.length==0)return;z.sort(function(E,P){return E-P});if(z[0]==0){W[0]=aH.Qr(q[0].name);
z=z.slice(1)}var B=0;while(z.length!=0){W.splice(z[0]-B,1);z=z.slice(1);B++}F="Delete"}else if(Q=="fromsel"){var h=W[0]=aH.Qr("Work Path");
z=[0];if(L.I==null)return;var A=L.I.channel.slice(0);for(var e=0;e<A.length;e++)A[e]=A[e]>128?2:1;var c=L.I.rect.clone();
c.XH(1,1);var a=I.m(c.c());I.Cp(A,L.I.rect,a,c);var $=Ib.JO(a,c.j,c.F,Math.round(c.c()*5e-4)),G=Ib.zA($),o=new aC(1,0,0,1,-1+L.I.rect.x,-1+L.I.rect.y);
for(var e=0;e<G.length;e++)I.e.f(G[e].path.D,o,G[e].path.D);for(var e=0;e<G.length;e++){var H=G[e];if(H.color==1&&H.parent==-1)continue;
var f=I.e.Nk(G[e].path,!1);h.add.vmsk.W=h.add.vmsk.W.concat(f)}h.add.vogk=x.js(h.add.vmsk.W);F="Selection to"}var E=new aP(F+" Path",this);
E.data={sq:q,uC:n,Ihm:W,uE:z};if(Q=="fromsel"){E.data.CG=L.I;E.data.XB=null}L.wM(E);this.ao(E.data,L)}else{var S=L.zA(m.P=="append"),G=S[0],V=S[1],h=G[V[0]],J=h.add.vmsk,U=h.add.vogk,j=J.clone(),i=J.clone(),k=JSON.stringify(U);
if(m.P=="remove"){if(i.N.length==0)return;var B=0;for(var e=0;e<i.N.length;e++){U.splice(i.N[e]+B,1);
B--}i.W=I.q.IhX(i.W,i.N);i.N=[];i.Gm=[]}if(m.P=="append"){l.Wc.IqZ(m.IhD,i,U)}this.nM(L,h.Bj,i,U);this.WU(L,m.Is,h.Bj,j,i.clone(),null,k,JSON.stringify(U))}};
l.Wc.IVR=function(m,g){var L=I.q.Ihr(m.W,m.N),K=[];for(var r=0;r<m.N.length;r++)K.push(JSON.parse(JSON.stringify(g[m.N[r]])));
return[L,K]};l.Wc.IqZ=function(m,g,L){var K=I.q.GM(g.W),r=I.q.GM(m[0]);g.W=g.W.concat(m[0].slice(2));
g.N=[];for(var R=0;R<r;R++)g.N.push(K+R);for(var R=0;R<r;R++)L.push(JSON.parse(JSON.stringify(m[1][R])))};
l.Wc.prototype.AC=function(m,g){if(g==null)return!1;var L=g.zA(),K=L[0],r=L[1];if(r.length==0)return!1;
var R=K[r[0]],Q=R.add.vmsk;if(Q&&Q.N.length+Q.Gm.length!=0)return[C.sY,C.Wg].indexOf(m)!=-1};l.Wc.prototype.KK=function(m,g,L,K){if(m==null)return;
var r=m.zA(),R=r[0],Q=r[1];if(Q.length==0)return;var F=R[Q[0]],q=F.add.vmsk;if(K.a(C.rw)||K.a(C.xI)){q.Gm=[];
m.Oi=!0}if(q.N.length!=0){var n=K.vQ();if(n.x!=0||n.y!=0){var W=q.clone(),z=q.clone(),u=new aC(1,0,0,1,n.x,n.y),N=F.add.vogk,b=JSON.stringify(N);
I.q._R(z.W,u,z.N);I.xV.f(N,I.i.Gj(u),z.N);this.nM(m,F.Bj,z,N);this.WU(m,"Move Paths",F.Bj,W,z.clone(),!0,b,JSON.stringify(N))}if(K.a(C.sY)||K.a(C.Wg))this.VH({P:"remove",Is:"Delete Paths"},g,m,K,L)}};
l.Wc.prototype.WU=function(m,g,L,K,r,R,Q,F){var q=new aP(g,this);q.data={Jx:L,uh:K,RZ:r,IBV:R,IhN:Q,uN:F};
m.wM(q)};l.Wc.prototype.ao=function(m,g){if(m.Jx!=null)this.nM(g,m.Jx,m.RZ.clone(),JSON.parse(m.uN));
else{g.pc=m.Ihm.slice(0);g.Xv=m.uE.slice(0);g.Oi=g.$F=!0}if(m.CG||m.XB){g.I=m.XB;g.qL=!0}};l.Wc.prototype.Kq=function(m,g){if(m.Jx!=null)this.nM(g,m.Jx,m.uh.clone(),JSON.parse(m.IhN));
else{g.pc=m.sq.slice(0);g.Xv=m.uC.slice(0);g.Oi=g.$F=!0}if(m.CG||m.XB){g.I=m.CG;g.qL=!0}};l.Wc.prototype.nM=function(m,g,L,K){var r=g<0?m.pc[-1-g]:g<1e6?m._[g]:m._[g-1e6].add.TySh;
r.add.vmsk=L;r.add.vogk=K;if(1e6<=g){aj.Lx(r);var R=m._[g-1e6],Q=r,F=this.Tf,q=new RI(Q.m_,F.dd),n=QE.Wa(q,Q);
R.rect=n.l;R.buffer=n.qT;R.X();m.X()}else if(0<=g){L.gg=!0;r.Zh(m);m.X()}m.Oi=m.$F=!0};l.Wc.T$=function(m,g){var L=m._[g],K=L.add.vstk,r=null;
if(K&&!K.fillEnabled.v)r={co:0};else if(L.add.SoCo)r={co:1,jl:L.add.SoCo};else if(L.add.GdFl)r={co:2,jl:L.add.GdFl};
else if(L.add.PtFl)r={co:3,jl:L.add.PtFl};return r};l.Wc.AL=function(m,g){var L=m.add.vmsk,K=m.add.vstk,r=g.co;
if(K)K.fillEnabled.v=r!=0;if(r>0){var R=["SoCo","GdFl","PtFl"][r-1];for(var Q=0;Q<3;Q++)delete m.add[["SoCo","GdFl","PtFl"][Q]];
m.add[R]=g.jl}};l.nB=function(m,g,L,K){l.Wc.call(this,m,g,L);this.aZ={tmode:1,shape:qs.Rw(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{Dn:0}};
this.IhL=K;this.xQ=null;this.Wn=null;this.OY=null};l.nB.prototype=new l.Wc;l.nB.prototype._j=function(m){return m.Tb&&this.id!=l.ZC};
l.nB.prototype.enable=function(m,g,L,K,r){this.Tf=L;var R=new Y(p.E.V,!0);R.data={P:p.o.cM,_q:"crosshair"};
g.g(R)};l.nB.prototype.R_=function(m,g,L,K){};l.nB.prototype.Mc=function(m,g,L,K,r){this.ICT(g,L);var R=this.aZ.tmode;
if(R==2&&!m.kn())return;var Q=m.L.TV(r.x,r.y);Q=l.Bc.BO(m,Q,L);this.OY=[Q.x,Q.y];this.xQ=Q;this.Wn=new jf(0,0)};
l.nB.prototype.IJj=function(m,g,L){var K=[this.xQ.clone(),g.clone()];if(this.IhL)K=l.nB.Tz(K[0],K[1],L,!0,this.aZ.cstr);
if(m)m.L.zz=new v(K[0].x,K[0].y,K[1].x-K[0].x,K[1].y-K[0].y);return this.R_(K[0],K[1],L.a(C.jU),this.OY)};
l.nB.prototype.Ika=function(m,g,L){var K=m.L.TV(g.x,g.y),r=this.aZ.cstr;if(r.Dn==2){var R=new v(K.x-r.x,K.y-r.y,r.x,r.y),Q=l.Bc.ZK(m,R,L);
K.x+=Q[0];K.y+=Q[1];l.Bc.ZF(m,R,Q)}else K=l.Bc.BO(m,K,L);return K};l.nB.prototype.NB=function(m,g,L,K,r){if(this.xQ==null)return;
var R=this.Ika(m,r,L);if(K.a(C.vD))this.xQ=R.wV(this.Wn);else this.Wn=R.wV(this.xQ);this.OY.push(R.x,R.y);
if(this.aZ.shape==null)this.aZ.shape=L.ON[0];var Q=this.IJj(m,R,K)[0],F=I.e.Ng(Q);m.J.eT=F;if(this.id!=l.ZC&&this.id!=l.gq&&this.id!=l.gQ)l.$B.am(r.x+10,r.y-10,m.L.zz,m,L);
m.Oi=!0};l.nB.prototype.IaV=function(m,g,L,K){var r=m[4].clone();if(K){r.x-=g/2;r.y-=L/2}var R=this.R_(r,new jf(r.x+g,r.y+L),!1,this.OY);
this.IOO(m[0],m[1],m[2],R)};l.nB.prototype.IOO=function(m,g,L,K){var r=new Y(p.E.VG,!0);r.data=l.nB.Imo(K[1],L);
g.g(r);if(K[1].v.classID=="customShape"&&K[1].v.Nm.v.startsWith("--")){var R=m.zA(),Q=R[0],F=R[1],q=Q[F.pop()],n=q.add.vmsk,W=q.add.vogk,z=n.clone();
z.W=K[0];this.nM(m,q.Bj,z,W)}};l.nB.prototype.RK=function(m,g,L,K,r){if(this.xQ==null)return;var R=this.Ika(m,r,L),Q=this.aZ.binop,F=this.aZ.tmode,q=this.OY,n=q.length;
if(this.id==l.ZC&&n<=4){}else if(n<=4){R.x=Math.round(R.x);R.y=Math.round(R.y);var W=new Y(p.E.V);W.data={P:p.o.My,OT:"createshape",Ihl:this.IaV.bind(this),Ihk:this.name,IhO:[m,g,L,K,R]};
g.g(W)}else if(n!=2){var z=this.IJj(m,R,K),u=z[0];if(F==0&&u.length>2){u[2].au=[1,2,3,0][Q];var N=m.zA(!0),b=N[0],B=N[1],h=b[B.pop()],A=h.add.vmsk,e=h.add.vogk,c=A.clone(),a=A.clone(),$=JSON.stringify(e);
a.W=a.W.concat(u.slice(2));a.N=[I.q.GM(a.W)-1];var G=I.xV.fc(z[1]);e.push(G?G:I.xV.ae());this.nM(m,h.Bj,a,e);
this.WU(m,this.name,h.Bj,c,a,null,$,JSON.stringify(e))}else if(F==1){this.IOO(m,g,L,z)}else if(F==2){var a=new x.Lb;
a.W=a.W.concat(u.slice(2));var o=a.WN(),H=I.m(o.rect.c()*4);I._U(H,(L.$q&255)<<16|(L.$q>>8&255)<<8|(L.$q>>16&255)<<0);
I.eX(o.channel,H,3);var f=new Y(p.E.B,!0);f.K=l.FE;f.data={P:"draw",qY:{buffer:H,rect:o.rect.clone()},Is:this.name};
g.g(f)}}this.xQ=null;m.J.eT=null;m.J.Sp=null;m.J.To=[];m.L.zz=null;m.Oi=!0};l.nB.prototype.lr=function(m,g,L,K,r){for(var L in m)this.aZ[L]=m[L]};
l.nB.Tz=function(m,g,L,K,r){var R=m.x,Q=m.y,F=g.x,q=g.y;if(r&&r.Dn==2){if(K){F=Math.round(F);q=Math.round(q)}R=F-r.x;
Q=q-r.y}else{var n=0;if(r&&r.Dn==1)n=r.y/r.x;else if(L&&L.a(C.jU))n=1;if(n!=0){if(K){if(R<F)R=Math.floor(R);
else R=Math.ceil(R);if(Q<q)Q=Math.floor(Q);else Q=Math.ceil(Q)}var W=Math.abs(F-R),z=Math.abs(q-Q),u=W;
if(z/W<n)u*=z/W/n;F=F>R?R+u:R-u;q=q>Q?Q+u*n:Q-u*n}if(L&&L.a(C.qk)){R-=F-R;Q-=q-Q}}var m=new jf(R,Q),g=new jf(F,q);
if(K)l.nB.Ia$(m,g);return[m,g]};l.nB.Ia$=function(m,g){if(m.x>g.x){var L=m.x;m.x=g.x;g.x=L}if(m.y>g.y){var L=m.y;
m.y=g.y;g.y=L}m.x=Math.floor(m.x);m.y=Math.floor(m.y);g.x=Math.ceil(g.x);g.y=Math.ceil(g.y)};l.nB.Iar=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
l.nB._W=function(m,g){var L=l.nB.Iar();if(g==null)g=JSON.parse(JSON.stringify(aU.Qs[m]));aJ._I.mi(g,L.Usng.v.Type.v,m);
return{Qm:"make",XX:L}};l.nB.Imo=function(m,g){var L=g.Ov,K=JSON.parse(JSON.stringify(g.OM));if(L.co==0)K.fillEnabled.v=!1;
var r=l.nB._W(Math.max(0,L.co-1),L.jl);r.XX.Usng.v.Shp=m;r.XX.Usng.v.strokeStyle={t:"Objc",v:K};return r};
l.yZ=function(){l.Wc.call(this,[10,29],l.ol,"tools/pen");this.Vg=null;this.rX=null;this.Ob=1;this.IVV=0;
this.to=null;this.tT=!1};l.yZ.prototype=new l.Wc;l.yZ.prototype._j=function(m){return this.Vg!=null};
l.yZ.prototype.Mc=function(m,g,L,K,r){this.ICT(g,L);var R=m.L.TV(r.x,r.y),N,b;R.x=Math.round(R.x);R.y=Math.round(R.y);
var Q=l.Bc.BO(m,R,L),F=m.zA(this.Ob==0),q=F[0],n=F[1],W=q[n.pop()],z=W?W.add.vmsk:null,u=4*p.M()/m.L.T;
if(z)N=I.q.wF(z.W,R,!0,u);if(this.Ob==1&&(z==null||(z.Gm.length==0||z.Gm[0]!=z.W.length-1)&&N.Bj==-1)){var B=new Y(p.E.VG,!0),h=I.xV.uT("customShape",[0,0,1,1],null,null,null,"--");
B.data=l.nB.Imo(h,L);g.g(B);F=m.zA(!0);q=F[0];n=F[1];W=q[n.pop()];z=W.add.vmsk;z.W=z.W.slice(0,2)}var A=W.add.vogk;
this.Vg=z.clone();this.rX=JSON.stringify(A);var e=z.W,c=I.q.GM(e);b=I.q.Vk(z.W,new v(R.x-u,R.y-u,u*2,u*2));
N=I.q.wF(z.W,R,!0,u);if(N.Bj!=-1&&b[0].length==0){var a=I.q._B(e,N.Bj);while(e[a].length<=N.OL){N.OL-=e[a].length;
a+=e[a].length+1}e[a].length++;e.splice(a+2+N.OL,0,{type:4,QR:Q.clone(),Z:Q.clone(),LM:Q.clone()});z.Gm=[a+2+N.OL]}else if(b[0].length==1&&K.a(C.qk)){var $=b[0],G=z.W.length-1,o=z.W[$];
o.LM=o.Z.clone();if($!=G)o.QR=o.Z.clone()}else{var H=0;if(z.Gm.length!=1){z.N=[c];e.push({type:3,length:1,au:[1,2,3,0][this.IVV],OC:0,Et:0,XQ:0});
H=e.length;A.push(I.xV.ae())}else{var f=z.Gm[0],E=I.q.jn(e,f),a=I.q._B(e,E);if(f==a+e[a].length&&jf.hQ(R,e[a+1].Z)<u){e[a].type=0;
z.Gm=[a+1];this.to=Q;this.tT=!0;this.nM(m,W.Bj,z,A);m.Oi=!0;return}e[a].length++;H=f+1}if(K.a(C.jU)&&e[H-1]&&e[H-1].Z)Q=l.Ep.IJ(e[H-1].Z,Q);
e.splice(H,0,{type:4,QR:Q.clone(),Z:Q.clone(),LM:Q.clone()});z.Gm=[H];this.to=Q}this.nM(m,W.Bj,z,A);
m.Oi=!0};l.yZ.prototype.NB=function(m,g,L,K,r){if(this.Vg==null)return;var R=m.L.TV(r.x,r.y),Q=l.Bc.BO(m,R,L),F=m.zA(this.Ob==0),q=F[0],n=F[1],W=q[n.pop()],z=W.add.vmsk,u=z.W,N=u[z.Gm[0]];
if(K.a(C.vD)){if(K.a(C.jU))Q=l.Ep.IJ(this.to,Q);var b=N.Z.wV(N.LM),B=N.QR.wV(N.Z);N.LM=Q;N.Z=Q.add(b);
N.QR=N.Z.add(B)}else{if(K.a(C.jU))Q=l.Ep.IJ(N.Z,Q);if(this.tT){var h=jf.hQ(N.Z,Q),A=h==0?0:jf.hQ(N.Z,N.LM)/h;
N.LM.x=N.Z.x+A*(Q.x-N.Z.x);N.LM.y=N.Z.y+A*(Q.y-N.Z.y)}else N.LM=Q;if(K.a(C.qk))N.type=5;else{N.type=4;
N.QR=N.Z.add(N.Z.wV(Q))}this.to=Q}this.nM(m,W.Bj,z,W.add.vogk);m.Oi=!0};l.yZ.prototype.RK=function(m,g,L,K,r){if(this.Vg==null)return;
var R=m.zA(this.Ob==0),Q=R[0],F=R[1],q=Q[F.pop()],n=q.add.vmsk,W=q.add.vogk;this.WU(m,this.tT?"Close Path":"Add Anchor Point",q.Bj,this.Vg,n.clone(),null,this.rX,JSON.stringify(W));
this.tT=!1;this.Vg=null};l.yZ.prototype.lr=function(m,g,L,K,r){this.Ob=m.tmode;this.IVV=m.binop};l.SQ=function(){l.nB.call(this,[10,30],l.ZC,"tools/fpen",!1)};
l.SQ.prototype=new l.nB;l.SQ.prototype.R_=function(m,g,L,K){return[I.q.Lf(K,this.aZ.tolr),I.xV.uT("customShape",[0,0,1,1],null,null,null,"--")]};
l.CC=function(){l.Wc.call(this,[10,27],l.fF,"tools/pselect");this.lb=null;this.Oy=!1;this.DQ=null;this.Vg=null;
this.WA=null;this.rX=null;this.Wd=null;this.rJ=null;this.MU=null;this.Sm=null};l.CC.prototype=new l.Wc;
l.CC.prototype._j=function(m){return m.Tb};l.CC.prototype.Mc=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y),Q=m.zA(),F=Q[0],q=Q[1],n,W;
for(var z=0;z<q.length;z++){var u=F[q[z]],N=u.add.vmsk,b=I.q.wF(N.W,R).Bj;if(b!=-1){this.DQ=n=u;W=b}for(var B=0;
B<N.VS.length;B++){var h=I.q.QP(N.W,N.VS[B]);if(h==null)continue;var A=jf.hQ(h,R);if(A<4*p.M()/m.L.T){var e=m._[u.Bj-1e6].add.TySh,c=e.m_.Curve,a=e.f,$=c.Reversed;
c.Reversed=!1;var c=RI.YV(e.m_.Curve);c.Reversed=$;I.e.f(c[0],a,c[0]);this.MU=[c,B,a.Wh*a.$Y-a.R*a.OS];
this.DQ=n=u;W=0}}if(this.MU)break}if(n!=null){var N=n.add.vmsk;N.Gm=[];var G=N.N.indexOf(W);if(K.a(C.jU)){if(G==-1){N.N.push(W);
this.Oy=!0}else N.N.splice(G,1)}else{if(G==-1)N.N=[W];this.Oy=!0}this.rJ=I.q.Oe(N.W,N.N)}this.lb=R;this.Sm=new Db(R);
m.$F=!0;m.Oi=!0};l.CC.prototype.NB=function(m,g,L,K,r){if(this.lb==null)return;var R=m.L.TV(r.x,r.y);
if(this.Oy){R=this.Sm.YQ(R,K);var Q=this.DQ;if(this.Vg==null){this.Vg=this.WA=Q.add.vmsk.clone();this.rX=this.Wd=JSON.stringify(Q.add.vogk);
if(K.a(C.qk)){var F=this.Vg.clone(),q=JSON.parse(this.rX),n=l.Wc.IVR(F,q);l.Wc.IqZ(n,F,q);this.WA=F;
this.Wd=JSON.stringify(q)}}var F=this.WA.clone(),q=JSON.parse(this.Wd);if(this.MU){var W=this.MU,z=W[0][0],u=I.e.hg(z,R.x,R.y);
F.VS[W[1]]=W[0][1][u];var N=z[u*2],b=z[u*2+1],B=(z[u*2+2]-N)*(R.y-b)-(z[u*2+3]-b)*(R.x-N);if(W[2]<0)B=-B;
F.xp=B>0}else{var h=this.rJ.clone(),A=h.x,e=h.y;h.offset(R.x-this.lb.x,R.y-this.lb.y);h.x=Math.round(h.x);
h.y=Math.round(h.y);var c=l.Bc.ZK(m,h,L),a=new aC(1,0,0,1,h.x-A+c[0],h.y-e+c[1]);I.q._R(F.W,a,F.N);I.xV.f(q,I.i.Gj(a),F.N);
l.Bc.ZF(m,h,c)}this.nM(m,Q.Bj,F,q)}else{var $=this.lb;m.J.eT=I.e.Gl(new v($.x,$.y,R.x-$.x,R.y-$.y));
m.Oi=!0}};l.CC.prototype.RK=function(m,g,L,K,r){if(this.lb==null)return;var R=m.L.TV(r.x,r.y),Q=this.DQ,F=Q?Q.add.vmsk:null;
if(this.Oy){var q=JSON.stringify(Q.add.vogk);if(!this.lb.TB(R))this.WU(m,"Move Paths",Q.Bj,this.Vg,F,null,this.rX,q);
if(m!=null&&m.J.Sp){m.J.Sp=null;m.Oi=!0}}else{if(F){var n=this.lb,W=new v(n.x,n.y,R.x-n.x,R.y-n.y),z=I.q.IBF(F.W,W);
if(K.a(C.jU)){for(var u=0;u<z.length;u++)if(F.N.indexOf(z[u])==-1)F.N.push(z[u])}else F.N=z}m.J.eT=null;
m.Oi=!0}this.lb=null;this.Vg=null;this.MU=null;this.Oy=!1;this.Sm=null};l.CC.prototype.ey=function(m,g,L,K){l.Wc.prototype.ey.call(this,m,g,L,K);
if(L._O!=this.id)return;if(m.N.length==0)return;var r=m.zA(),R=r[0],Q=r[1];if(Q.length==0)return;var F=R[Q[0]],q=F.add.vmsk,n=F.add.vstk,W=F.add.vogk,z=new Y(p.E.V,!0);
z.data={P:p.o.dL,K:this.id,Jw:"main",ob:q?q:null,xV:W};g.g(z)};l.CC.prototype.lr=function(m,g,L,K,r){var R=m.tK;
if(R.ob){var Q=L.zA(),F=Q[0],q=Q[1],n=F[q[0]],W=n.add.vmsk.clone(),z=JSON.stringify(n.add.vogk),u=R.ob;
this.nM(L,n.Bj,u,R.xV);var N=[18,5];if(W.W.length==u.W.length)N=W.N[0]==u.N[0]?"Fill Rule":"Path Order";
this.WU(L,N,n.Bj,W,u,null,z,JSON.stringify(R.xV))}};l.mg=function(){l.Wc.call(this,[10,28],l.Fz,"tools/dselect");
this.Lu=-1;this.VL=-1;this.tM=null;this.lb=null;this.DQ=null;this.Vg=null;this.rX=null;this.OI=0;this.I$_={psnap:!1};
this.Sm=null};l.mg.prototype=new l.Wc;l.mg.prototype._j=function(m){return m.Tb};l.mg.prototype.lr=function(m){this.I$_=m};
l.mg.prototype.disable=function(m,g,L,K){this.SR(m)};l.mg.prototype.Mc=function(m,g,L,K,r){this.SR(m);
var R=m.L.TV(r.x,r.y),z,u,N;this.tM=R.clone();var Q=m.zA(),F=Q[0],q=Q[1];if(q.length==0)return;var n=4*p.M()/m.L.T,W=new v(R.x-n,R.y-n,n*2,n*2);
for(var b=0;b<q.length;b++){z=this.DQ=F[q[b]];u=z.add.vmsk;N=I.q.Vk(u.W,W);if(N[0].length+N[1].length+N[2].length!=0)break}var B=[!1,!1,!1];
for(var h=0;h<3;h++){for(var A=0;A<N[h].length;A++)if(u.Gm.indexOf(N[h][A])!=-1){N[h]=[N[h][A]];B[h]=!0;
break}}if(N[0].length!=0&&(B[0]||!B[1]&&!B[2])){var e=N[0][0],c=u.Gm.indexOf(e);if(K.a(C.jU)){if(c==-1)u.Gm.push(e);
else{u.Gm.splice(c,1);m.Oi=!0;return}}else if(c==-1)u.Gm=[e];this.Lu=e;this.VL=0}else if(N[1].length!=0&&(B[1]||!B[2])){this.Lu=N[1][0];
this.VL=1}else if(N[2].length!=0){this.Lu=N[2][0];this.VL=2}else{var a=I.q.wF(u.W,R,!0,n);if(a.Bj==-1)this.lb=R;
else{u.N=[a.Bj];u.Gm=[]}}if(this.Vg==null){this.Vg=z.add.vmsk.clone();this.rX=JSON.stringify(z.add.vogk)}this.Sm=new Db(R);
m.Oi=!0};l.mg.prototype.NB=function(m,g,L,K,r){if(m==null)return;var R=m.L.TV(r.x,r.y),Q=this.DQ;if(this.Lu!=-1){var F=this.Vg.clone(),q=Q.add.vogk,n=F.W[this.Lu];
n=[n.Z,n.QR,n.LM][this.VL];if(K.a(C.jU)){R=this.Sm.YQ(R,K);R.x+=n.x-this.tM.x;R.y+=n.y-this.tM.y}else{if(this.I$_.psnap){R.x=Math.round(R.x);
R.y=Math.round(R.y)}R=l.Bc.BO(m,R,L)}if(this.VL==0){var W=new aC(1,0,0,1,R.x-n.x,R.y-n.y);I.q._R(F.W,W,null,F.Gm)}else{var z=F.W[this.Lu],u=z.QR,N=z.LM;
if(this.VL==2){u=z.LM;N=z.QR}u.xF(R.x,R.y);if(z.type==1||z.type==4){var b=jf.hQ(u,z.Z),B=jf.hQ(N,z.Z);
if(B!=0){N.x=z.Z.x-(u.x-z.Z.x)*(B/b);N.y=z.Z.y-(u.y-z.Z.y)*(B/b)}}}this.SG(F,q);this.nM(m,Q.Bj,F,q)}else if(this.lb!=null){var h=this.lb;
m.J.eT=I.e.Gl(new v(h.x,h.y,R.x-h.x,R.y-h.y));m.Oi=!0}else{var A=m.zA(),e=A[0],c=A[1],Q,F,G;if(c.length==0)return;
var a=4*p.M()/m.L.T,$=new v(R.x-a,R.y-a,a*2,a*2);for(var o=0;o<c.length;o++){Q=e[c[o]];F=Q.add.vmsk;
G=I.q.Vk(F.W,$);if(G[0].length+G[1].length+G[2].length!=0)break}this.SR(m);for(var H=0;H<3;H++){for(var f=0;
f<G[H].length;f++){var E=G[H][f],S=F.W[E];S=H==0?S.Z:H==1?S.QR:S.LM;m.J.MI.push(m.J.rg.length>>>1);m.J.rg.push(S.x,S.y);
m.Oi=!0}}}};l.mg.prototype.SR=function(m){if(m.J.rg.length!=0){m.J.rg=[];m.J.MI=[];m.Oi=!0}};l.mg.prototype.RK=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y),Q=this.DQ,F=Q?Q.add.vmsk:null,q=Q?Q.add.vogk:null;
if(this.Lu!=-1){if(Date.now()-this.OI<300){var n=F.W[this.Lu],W=this.VL,z=null;if(W==0){var u=n.QR.TB(n.Z),N=n.LM.TB(n.Z);
if(!u&&!N){z="Anchor Type";if(n.type==1||n.type==4)n.type++;else{n.type--;n.LM=n.Z.add(n.Z.wV(n.QR))}}else{z="Add Handles";
if(u&&N){n.QR.x-=30;n.LM.x+=30}else if(u)n.QR=n.Z.add(n.Z.wV(n.LM));else if(N)n.LM=n.Z.add(n.Z.wV(n.QR))}}else{z="Remove Handle";
if(W==1)n.QR.zn(n.Z);else n.LM.zn(n.Z)}this.SG(F,q);this.nM(m,Q.Bj,F,q);this.WU(m,z,Q.Bj,this.Vg,F,null,this.rX,JSON.stringify(q))}else if(!this.tM.TB(R)){this.WU(m,"Drag Anchors",Q.Bj,this.Vg,F,null,this.rX,JSON.stringify(q))}this.OI=Date.now()}else if(this.lb!=null){var b=this.lb,B=new v(b.x,b.y,R.x-b.x,R.y-b.y);
if(B.j<0)B.x+=B.j;if(B.F<0)B.y+=B.F;B.j=Math.abs(B.j);B.F=Math.abs(B.F);var h=I.q.Vk(F.W,B);F.Gm=h[0];
m.J.eT=null}this.DQ=null;this.Vg=null;this.lb=null;this.Lu=this.VL=-1;this.Sm=null;m.Oi=!0};l.mg.prototype.SG=function(m,g){for(var L=0;
L<m.Gm.length;L++){var K=I.q.jn(m.W,m.Gm[L]);I.xV.hm(g,K)}};l.mg.prototype.KK=function(m,g,L,K){if(m==null)return;
var r=m.zA(),R=r[0],Q=r[1];if(Q.length==0)return;var F=R[Q[0]],q=F.add.vmsk;if(q==null||q.Gm.length==0)return;
var n=F.add.vogk,W=JSON.stringify(n),z=K.vQ();if(z.x!=0||z.y!=0){var u=q.clone(),N=q.clone(),b=new aC(1,0,0,1,z.x,z.y);
I.q._R(N.W,b,null,N.Gm);this.SG(N,n);this.nM(m,F.Bj,N,n);this.WU(m,"Move Anchors",m.N[0],u,N.clone(),!0,W,JSON.stringify(n))}if(K.a(C.sY)||K.a(C.Wg)){var u=q.clone(),N=q.clone();
N.W=I.q.Ihi(N.W,N.Gm,n);N.Gm=[];this.nM(m,F.Bj,N,n);this.WU(m,"Delete Anchors",F.Bj,u,N.clone(),!0,W,JSON.stringify(n))}};
l.mg.prototype.WU=function(m,g,L,K,r,R,Q,F){var q=m.oC();if(R&&q!=null&&q.K==this&&q.data.IBV&&q.data.Jx==L&&JSON.stringify(q.data.uh.Gm)==JSON.stringify(K.Gm)){q.data.RZ=r;
q.data.uN=F}else{var q=new aP(g,this);q.data={Jx:L,uh:K,RZ:r,IBV:R,IhN:Q,uN:F};m.wM(q)}};l.Rect=function(){l.nB.call(this,[10,32],l.gI,"tools/rect",!0)};
l.Rect.prototype=new l.nB;l.Rect.prototype.R_=function(m,g,L){var K=this.aZ.crad,r=g.x-m.x,R=g.y-m.y;
return[I.q.RD.Rect(m.x,m.y,r,R,K),I.xV.uT("Rctn",[m.x,m.y,g.x,g.y],[K,K,K,K])]};l.gB=function(){l.nB.call(this,[10,33],l.oT,"tools/ellipse",!0)};
l.gB.prototype=new l.nB;l.gB.prototype.R_=function(m,g,L){var K=g.x-m.x,r=g.y-m.y;return[I.q.RD.gB(m.x,m.y,K,r),I.xV.uT("Elps",[m.x,m.y,g.x,g.y])]};
l.Si=function(){l.nB.call(this,[10,34],l.gq,"tools/pshape",!1)};l.Si.prototype=new l.nB;l.Si.prototype.R_=function(m,g,L){var K=this.aZ.pshape,r=this.aZ.crad,R=this.aZ.irad/100,Q=this.aZ.sides,F=this.aZ.width,q=this.aZ.tsiz,n=this.aZ.length,h;
g=g.clone();if(L){if(Math.abs(g.x-m.x)<Math.abs(g.y-m.y))g.x=m.x;else g.y=m.y}var W=m.x,z=m.y,u=g.x,N=g.y,b=Math.sqrt((u-W)*(u-W)+(N-z)*(N-z)),B=Math.atan2(-N+z,u-W);
if(K==0)h=I.q.RD.JU(W,z,b,B,Q,r);if(K==1)h=I.q.RD.IVE(W,z,b,B,Q,r,R);if(K==2)h=I.q.RD.I$q(m.x,m.y,g.x,g.y,F,q/100);
if(K==3)h=I.q.RD.IVk(W,z,b,B,n);return[h,I.xV.uT("customShape",[m.x,m.y,g.x,g.y],null,null,null,"--")]};
l.eJ=function(){l.nB.call(this,[10,35],l.gQ,"tools/line",!1)};l.eJ.prototype=new l.nB;l.eJ.prototype.R_=function(m,g,L){var K=this.aZ.width;
g=g.clone();if(L){g=l.Ep.IJ(m,g)}return[I.q.RD.eJ(m.x,m.y,g.x,g.y,K),I.xV.uT("Ln",null,null,[m.x,m.y,g.x,g.y],K)]};
l.S_=function(){l.nB.call(this,[10,31],l.oS,"tools/cshape",!0)};l.S_.prototype=new l.nB;l.S_.prototype.R_=function(m,g,L){var K=this.aZ.shape,r=K.Fi.j/K.Fi.F,R=x.Lb.QT(K.W);
g=g.clone();if(L){g.y=m.y+(g.x-m.x)/r}var Q=g.x-m.x,F=g.y-m.y;I.q._R(R,new aC(Q,0,0,F,m.x,m.y));return[R,I.xV.uT("customShape",[m.x,m.y,g.x,g.y],null,null,null,K.BE)]};
l.k=function(m,g,L){l.$B.call(this,m,g,L);this.QN=0;this._=null;this.rK=null;this.ZS=null;this.uj=1;
this.t_=!1;this.cursor=null;this.De=null;this.CG=null;this.rO=!1;this.HM=null;this.IUM=0;this.cU=null;
this.BJ=0;this.hN=null;this.vV=null;this.XO=null;this.cI=null;this.cq=null};l.k.prototype=new l.$B;l.k.Zb=function(m,g){var L={classID:"null",null:RL.c$("Dcmn",!0)};
if(m)L.Angl={t:"UntF",v:{type:"#Ang",val:g}};else L.Axis={t:"enum",v:{Ornt:g}};return{Qm:m?"rotateEventEnum":"flip",XX:L}};
l.k.prototype.fE=function(m,g,L,K,r){var R=new Y(p.E.V,!0);R.data={P:p.o.dL,K:this.id,DL:r,Mw:m,ZS:L};
g.g(R);this.zl=!1};l.k.prototype._j=function(m){return this.vV&&this.vV.IIV()};l.k.prototype.VH=function(m,g,L,K,r){this.ZS=r;
if(m.P=="again"&&this.cU==null)return;if(m.P=="doMouseDown"){if(this.vV==null)return;this.Mc(L,g,r,K,m.dX);
return}if(!this.FK(L,r))return;if(this.vV){this.IRh(m,this.vV.CN());this.si(L,r,0,!0);this.Cv(L);return}this.ImT(L,m.A==null,m.A);
this.IxR(L);this.IRh(m);this.dx(L,g,m.Is,!1)};l.k.prototype.IRh=function(m,g){var L=this.hN;if(g==null){var K=m.Eo!=null?m.Eo:4;
g=this.vV.Iat()[K]}var r=g.x,R=g.y;if(m.P=="rot"&&m.U!=Math.PI&&(L.j+L.F&1)==1){r=Math.floor(r);R=Math.floor(R)}var Q=new aC;
Q.translate(-r,-R);if(m.P=="rot")Q.rotate(m.U);if(m.P=="scl")Q.scale(m.U.x,m.U.y);if(m.P=="mat")Q.concat(m.U);
Q.translate(r,R);if(m.P=="again")Q=this.cU;var F=this.vV.rR();I.e.f(F,Q,F);this.vV.St(F)};l.k.prototype.HE=function(){return!0};
l.k.prototype.FK=function(m,g){if(m==null)return!1;if(this.id==l.gi)return m.I!=null;var L=m.ul(!0,null,null,!0);
for(var K=0;K<L.length;K++){var r=m._[L[K]];if(r.SO(2)||r.SO(31)){alert(aT.get([6,57,0]));return!1}if(r.add.artb){alert("You can not transform the whole artboard");
return!1}if(r.add.TySh)if(!QE.ht(r.add.TySh,g.dd))return!1;if(r.add.SoLd){if(L.length==1&&!I.QM.gN(r.add.SoLd.warp.v)&&(r.WN()&&r.WN()._m||r.add.vmsk&&r.add.vmsk._m)){alert("Unlink masks before transforming Smart Object");
return!1}if(!m.IGo(r.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+m.ZX(r.add.SoLd.Idnt.v).w_+")");
return!1}}}if(m.I==null)return!0;if(!m.kn())return!1;return m.ICr()};l.k.prototype.Mc=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y);
if(this.BJ==1){var Q=I.i.eb(I.i.Eq(this.vV.rR(),this.hN));R=I.i.fm(Q,R)}var F=this.BJ==0?this.vV:this.XO;
this.t_=F.Mc(m,L,K,R);if(this.t_&&F.Rt(R)){if(Date.now()-this.IUM<250)this.dx(m,g,null,!0);this.IUM=Date.now()}};
l.k.prototype.Qh=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.cM,_q:this.cursor};m.g(g)};l.k.prototype.NB=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y);
if(this.BJ==1){var Q=I.i.eb(I.i.Eq(this.vV.rR(),this.hN));R=I.i.fm(Q,R)}var F=this.BJ==0?this.vV:this.XO;
if(!r.Tb){var q="default";if(F){var n=F.nm(R,m.L.T);if(n)q=n}if(q!=this.cursor){this.cursor=q;this.Qh(g)}}if(!this.t_)return;
F.NB(m,L,K,R);this.si(m,L,0,!0);this.Cv(m);this.Zf(g)};l.k.prototype.RK=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y);
this.vV.RK(m,L,K,R);this.t_=!1};l.k.prototype.KK=function(m,g,L,K){if(K.a(C.xI))this.dx(m,g,null,!0);
else if(K.a(C.rw))this.mF(m,g);else{var r=this.vV.KK(m,L,K);if(r){this.si(m,L,0,!0);this.Zf(g)}}};l.k.prototype.lr=function(m,g,L,K){if(m.Jw=="commit")this.dx(L,g,null,!0);
else if(m.Jw=="cancel")this.mF(L,g);else if(m.Jw=="switchWarp"){this.BJ=1-this.BJ;this.IaF();this.Cv(L);
this.Zf(g)}else if(m.Jw=="wrp"){this.XO.IkS(m.tE);this.Cv(L);this.si(L,this.ZS,0,!0)}else if(m.Jw=="ctyp"){this.vV.IRT(m.cQ);
this.Cv(L);this.Zf(g)}else if(m.Jw=="cen"){this.vV.IRE(m.mB);this.Cv(L);this.si(L,this.ZS,0,!0);this.Zf(g)}else if(m.Jw=="trn"){var r=I.i.Gj(m.Vx),R=this.hN,Q=I.i.Eq(this.vV.rR(),this.hN);
r[6]=Q[6],r[7]=Q[7];var F=[R.x,R.y,R.x+R.j,R.y,R.x+R.j,R.y+R.F,R.x,R.y+R.F];I.i.apply(r,F);this.uj=m.uj;
this.vV.St(F);this.Cv(L);this.si(L,this.ZS,0,!0)}};l.k.prototype.Cv=function(m){if(this.BJ==0)this.vV.WJ(m,this.ZS);
else{this.XO.WJ(m);var g=I.i.Eq(this.vV.rR(),this.hN);I.i.apply(g,m.J.eT.D);I.i.apply(g,m.J.Vq)}};l.k.prototype.dx=function(m,g,L,K){this.si(m,this.ZS,this.uj);
var r=new aP(L?L:this.name,this);if(this.QN==0)r.data={type:this.QN,_:this._,HM:this.rK,ex:l.k.RW(m,this._)};
else if(this.QN==1){var R=m._[this._[0]],Q;if(R.OJ.eF<=0){Q=I.m(R.OJ.gw.c());I.Vl(R.OJ.Kh,Q,3)}else Q=m.I.channel;
var F={rect:R.OJ.gw.clone(),channel:Q};r.data={type:this.QN,A:this._[0],CG:this.CG,XB:F,De:this.De,rO:this.rO,OJ:R.OJ,HM:this.HM,ex:{l:R.OJ.gw,$O:R.OJ.Kh}}}else if(this.QN==2){r.data={type:this.QN,CG:this.CG,XB:{rect:m.I.rect.clone(),channel:I.clone(m.I.channel)}}}m.wM(r);
var q=this.hN,n=new jf(q.x+q.j/2,q.y+q.F/2),W=I.i.Eq(this.vV.rR(),q),z=I.i.dl(W),u=new aC;u.translate(n.x,n.y);
u.concat(z);u.translate(-n.x,-n.y);z=u.clone();var N=-Math.atan2(-z.R,z.Wh),b=new aC;b.rotate(N);z.concat(b);
function B(A,e){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][e],val:A}}}var h={classID:"null",null:RL.c$("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:B(u.gE,0),Vrtc:B(u.Dv,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:B(Math.atan(z.OS)*180/Math.PI,2),Vrtc:B(0,2)}},Wdth:B(z.Wh*100,1),Hght:B(z.$Y*100,1),Angl:B(N*180/Math.PI,2)};
this.Tu=g;this.track({Qm:"transform",XX:h});this.escape(m,g,K)};l.k.prototype.mF=function(m,g){if(this.QN==0)l.k.Ry(m,this._,this.rK);
else if(this.QN==1){var L=m._[this._[0]];m.I=this.CG;if(!this.rO){L.OJ.gw=this.HM.l;L.OJ.Kh=this.HM.$O;
L.XU(m,0,0,m.I)}else{L.OB(m,this.De)}m.X();m.qL=!0}else if(this.QN==2){m.I=this.CG;m.qL=!0}this.escape(m,g,!0)};
l.k.prototype.escape=function(m,g,L){this.vV.clear(m);this.vV=null;this.XO=null;this.BJ=0;if(L)this.gA(g,p.E.V,{P:p.o.vw})};
l.k.prototype.ao=function(m,g){if(m.type==0)l.k.Ry(g,m._,m.ex);else{if(m.type==1){var L=g._[m.A];if(m.rO){L.OJ=m.OJ}else{L.OJ.gw=m.ex.l;
L.OJ.Kh=m.ex.$O}L.XU(g,0,0,g.I);g.X()}g.I={rect:m.XB.rect.clone(),channel:I.clone(m.XB.channel)};g.qL=!0}};
l.k.prototype.Kq=function(m,g){if(m.type==0)l.k.Ry(g,m._,m.HM);else{if(m.type==1){var L=g._[m.A];if(m.rO){L.OB(g,m.De)}else{L.OJ.gw=m.HM.l;
L.OJ.Kh=m.HM.$O;L.XU(g,0,0,g.I)}g.X()}g.I=m.CG;g.qL=!0}};l.k.prototype.ImT=function(m,g,L){m.zA();var K=[];
if(L==null)for(var r=0;r<m.Xv.length;r++)if(m.pc[m.Xv[r]].add.vmsk.W.length>2)K.push(-1-m.Xv[r]);var R=[];
if(L!=null||K.length==0||m.Sg!=null&&m.Sg.length!=0)R=m.ul(g,L,null,!0);R=R.concat(K);this._=R};l.k.prototype.enable=function(m,g,L,K,r,R,Q){if(this.cursor==null)this.cursor="default";
this.Qh(g);if(this.vV)return;this.ZS=L;this.ImT(m,!0);this.IxR(m,R&&R.BM==1?1:null,Q);this.Zf(g);this.Cv(m);
if(R&&R.BM==2)this.lr({Jw:"switchWarp"},g,m,K)};l.k.prototype.Zf=function(m){var g={P:p.o.dL,K:this.id};
if(this.BJ==0){var L=I.i.Eq(this.vV.rR(),this.hN),K=I.i.dl(L);g.Vx={za:K,cQ:this.vV.IRm(),mB:this.vV.CN(),l:this.hN.clone()}}else{g.tE=this.XO.iU()}g.IhC=this.XO!=null;
this.gA(m,p.E.V,g)};l.k.prototype.IxR=function(m,g,L){var K=this.id==l.gi,r=!0,R=this._[0],Q=m._[R],n=null;
if(K){this.QN=2;this.CG=m.I}else if(m.I&&this._.length==1&&R>=0&&!Q.rect.L_()){this.QN=1;this.CG=m.I;
this.De=Q.OJ;this.rO=!1;if(!Q.uu(m,m.I)){this.rO=!0;Q.OX(m,m.I,!1)}this.HM={$O:Q.OJ.Kh,l:Q.OJ.gw}}else{this.QN=0;
this.rK=l.k.RW(m,this._,null,L);for(var F=0;F<this.rK.length;F++)if(this.rK[F][3]!=null)r=!1}var q=this.QN==1;
if(this.rK&&this.rK.length==1){var W=this.rK[0];if(W[3]==null)q=!0;if(W[4]!=null){n=m._[this._[0]].add.SoLd;
if(W[1]||W[2])q=!1}}var z=K?m.I.rect.clone():l.k.ZM(m,this._,L);this.hN=z;if(!K&&n){var u=l.k.yb(n.nonAffineTransform);
this.hN=I.e.Pt(I.QM.Xd(n.warp.v));if(q)this.XO=new jY(n.warp.v);this.cI=I.i.Eq(u,this.hN);this.vV=new Ri(u,!0,!0,r,!1,!1,g)}else{if(q||K)this.XO=new jY(I.QM.m(this.hN));
this.cI=[1,0,0,0,1,0,0,0];this.vV=new Ri([z.x,z.y,z.x+z.j,z.y,z.x+z.j,z.y+z.F,z.x,z.y+z.F],!0,!0,r,!1,!1,g)}this.cq=[1,0,0,0,1,0,0,0]};
l.k.ZM=function(m,g,L){if(g==null)g=m.ul(!0,null,null,!0);var K=new v;if(m.I&&g.length==1&&g[0]>=0)K=m.I.rect.clone();
else for(var r=0;r<g.length;r++){var R=g[r],Q=0<=R?m._[R]:m.pc[-1-R],F=Q.add.vmsk,q=0<=R?Q.vk(m,g.length==1,!1,L):I.q.Oe(F.W,g.length==1&&F.N.length!=0?F.N:null);
K=K.uM(q)}return K};l.k.prototype.gA=function(m,g,L,K){var r=new Y(g,!0);r.data=L;if(K)r.K=K;m.g(r)};
l.k.RW=function(m,g,L,K){var r=[];for(var R=0;R<g.length;R++){var Q=g[R],F,q;if(Q>=0){F=m._[Q];q=F.us(m,L,K)}else{F=m.pc[-1-Q];
q=[2]}var n=[];if(q.indexOf(0)!=-1){var W={cj:[I.clone(F.buffer),F.rect.clone()]};n.push(W);if(F.zp()){var z=F.lI(m);
W.Ihn=I.clone(z.buffer);W.IhB=z.rect.clone()}}else n.push(null);if(q.indexOf(1)!=-1)n.push(F.WN().clone());
else n.push(null);if(q.indexOf(2)!=-1)n.push({ob:F.add.vmsk.clone(),WL:F.add.vstk?JSON.parse(JSON.stringify(F.add.vstk)):null,jl:F.add.vstk?l.Wc.T$(m,Q):null,xV:F.add.vogk?JSON.parse(JSON.stringify(F.add.vogk)):null});
else n.push(null);if(F.add.TySh&&n[0]){aj.Lx(F.add.TySh);n.push(F.add.TySh.f.clone())}else n.push(null);
if(F.add.SoLd&&n[0])n.push(JSON.parse(JSON.stringify(F.add.SoLd)));else n.push(null);if(q.indexOf(3)!=-1)n.push(F.lI(m).s.clone());
else n.push(null);if(F.add.lmfx)n.push(JSON.stringify(F.add.lmfx));else n.push(null);r.push(n)}return r};
l.k.Ry=function(m,g,L){for(var K=0;K<g.length;K++){var r=g[K],R=0<=r?m._[r]:m.pc[-1-r],Q=L[K];if(Q[0]){R.rect=Q[0].cj[1].clone();
R.buffer=I.clone(Q[0].cj[0]);if(R.zp()){var F=R.lI(m);F.buffer=I.clone(Q[0].Ihn);F.rect=Q[0].IhB.clone()}}if(Q[1]){R.WN().channel=I.clone(Q[1].channel);
R.WN().rect=Q[1].rect.clone();R.WN().gg=!0}if(Q[2]){R.add.vmsk=Q[2].ob.clone();if(Q[2].jl)l.Wc.AL(R,Q[2].jl);
if(Q[2].WL)R.add.vstk=JSON.parse(JSON.stringify(Q[2].WL));if(Q[2].xV)R.add.vogk=JSON.parse(JSON.stringify(Q[2].xV))}if(Q[3]){R.add.TySh.f=Q[3].clone();
aj.eP(R.add.TySh)}if(Q[4]){R.add.SoLd=JSON.parse(JSON.stringify(Q[4]))}if(Q[5]){var q=R.lI(m).s;q.channel=I.clone(Q[5].channel);
q.rect=Q[5].rect.clone()}if(Q[6]){R.add.lmfx=JSON.parse(Q[6])}if(0<=r){R.Zh(m);R.X()}}m.X()};l.k.$K=function(m){var g=m.clone(),L=Math.atan2(-g.R,g.Wh),K=new aC;
K.rotate(-L);g.concat(K);return(Math.abs(g.Wh)+Math.abs(g.$Y))/2};l.k.Se=function(m,g,L,K,r,R,Q,F,q,n){var W=I.i.dl(R),z=l.k.$K(W);
for(var u=0;u<L.length;u++){var N=L[u],b=0<=N?m._[N]:m.pc[-1-N],B=K[u];if(b.add.lmfx&&F)ai.ImN(b.add.lmfx,z);
if(B[0]&&!B[3]&&!B[4]&&!B[5]){var h=B[0].cj;if(q){var A=q.clone(),e=I.m(A.c()*4);I.pq(h[0],h[1],e,A);
h=[e,A]}var c=l.k.Cc(h,r,R,Q,r==0?b.buffer.buffer:null,null,null,n);if(c){b.rect=c.rect;b.buffer=c.buffer}}if(B[1])l.k.IxP(m,B[1],b.WN(),r,R,Q);
if(B[2]){var a=Q&&!I.QM.gN(Q),$=B[2].ob.clone(),G=L.length==1&&$.N.length!=0,o=L.length==1&&$.Gm.length>1;
if(o)G=!1;var H=G?$.N:null,f=o?$.Gm:null;if(a){var E=I.QM.Xd(Q);I.i.apply(R,E);I.q.IBj($.W,E,H,f)}else I.q.IXz($.W,R,H,f);
if(b.add.vstk&&F){b.add.vstk.strokeStyleLineWidth.v.val=B[2].WL.strokeStyleLineWidth.v.val*z;var S=B[2].jl;
if(S.co==3){S=JSON.parse(JSON.stringify(S));var V=S.jl.phase.v;S.jl.Scl.v.val=Math.round(S.jl.Scl.v.val*z);
V.Hrzn.v=Math.round(V.Hrzn.v*z);V.Vrtc.v=Math.round(V.Vrtc.v*z);l.Wc.AL(b,S)}}if(b.add.vogk){b.add.vogk=JSON.parse(JSON.stringify(B[2].xV));
if(a||o)I.xV.IMn(b.add.vogk);else I.xV.f(b.add.vogk,R,L.length>1?[]:$.N,F)}$.JE*=z;b.add.vmsk=$;if(b.add.vogk)I.xV.hw(b.add.vogk,b.add.vmsk)}if(B[3]){var J=B[3].clone();
J.concat(W);b.add.TySh.f=J;aj.eP(b.add.TySh);var U=new RI(b.add.TySh.m_,g.dd),j=QE.Wa(U,b.add.TySh);
b.rect=j.l;b.buffer=j.qT}if(B[4]){var i=b.add.SoLd,k=l.k.yb(B[4].nonAffineTransform);I.i.apply(R,k);
var P=I.e.Ny(k);if(Ri.Sf(k)){if(Q){var w=I.e.Pt(I.QM.Xd(B[4].warp.v)),d=I.i.Eq(k,w),T=I.e.Pt(I.QM.Xd(Q));
k=[T.x,T.y,T.x+T.j,T.y,T.x+T.j,T.y+T.F,T.x,T.y+T.F];I.i.apply(d,k);i.warp.v=Q}var y=I.i.Eq(k),D=k;if(!I.i.BN(y)){y[6]=y[7]=0;
D=[0,0,1,0,1,1,0,1];I.i.apply(y,D)}i.Trnf=l.k.gf(D);i.nonAffineTransform=l.k.gf(k);b.lQ(m,r==0)}}if(B[5])l.k.IxP(m,B[5],b.lI(m).s,r,R,Q);
if(0<=N){if(r!=0)b.qV();b.Zh(m);b.X()}}m.X()};l.k.eB=function(m,g,L,K,r,R){if(L==null)L=!1;return l.k.Cc(m,L?0:1,I.i.Gj(g),null,K,r,R,L)};
l.k.Cc=function(m,g,L,K,r,R,Q,F){if(F==null)F=!1;if(F&&Q)throw"e";var q={},u=0,N=.3;if(K&&!I.QM.gN(K)){var n=I.QM.Xd(K);
I.i.apply(L,n);q.rect=I.e.Ny(n);q.buffer=I.m(q.rect.c()*4);I.pl.drawImage(n,m[0],m[1].j,m[1].F,q.buffer,q.rect,g==0);
return q}I.Ez(m);var W=m[0],z=m[1],b=z.c()*l.k.$K(I.i.dl(L));if(F&&b>4e6)N=b>8e6?2.2:1.2;while(u+3<m.length&&m[u+3].c()>16&&I.i.BN(L)&&l.k.$K(I.i.dl(L))<N){u+=2;
var B=m[u],h=m[u+1],A=z.j/h.j,e=z.F/h.F;L=I.i.kB(L,[1,0,z.x,0,1,z.y,0,0]);L=I.i.kB(L,[A,0,0,0,e,0,0,0]);
L=I.i.kB(L,[1,0,-z.x,0,1,-z.y,0,0]);z=h;W=B}var c=I.i.kB(L,I.i.Gj(new aC(z.j,0,0,z.F,z.x,z.y))),a=[0,0,1,0,1,1,0,1];
I.i.apply(c,a);q.rect=I.e.Ny(a);if(Q)q.rect=q.rect.my(Q);if(F){while((q.rect.j&3)!=0)q.rect.j++;while((q.rect.F&3)!=0)q.rect.F++}if(!Ri.Sf(a)||q.rect.j>1e5||q.rect.F>1e5||q.rect.c()>3e4*3e4)return null;
var $=q.rect.c()*4;if(r&&r.byteLength>=$&&$>=r.byteLength>>2){q.buffer=new Uint8Array(r)}else{q.buffer=I.m($)}I.i.drawImage(c,W,z.j,z.F,q.buffer,q.rect,g==0,R,F);
if(g==2&&q.buffer){var G=q.rect.j,o=q.rect.F,H;H=[0,-1,0,-1,16,-1,0,-1,0];H=I.ll.MC(H);var f=q.buffer.slice(0);
I.fn(f);I.ll.Au(f,q.buffer,G,o,H,0);I.tv(q.buffer);I.ft(q.buffer)}if(q.buffer)return q};l.k.IxP=function(m,g,L,K,r,R){if(g.color==255)I.eb(g.channel);
var Q=g.rect,F=I.m(Q.c()*4);I.eX(g.channel,F,3);var q=l.k.Cc([F,Q],K,r,R);if(q){L.rect=q.rect;L.channel=I.m(q.rect.c());
I.Vl(q.buffer,L.channel,3);L.gg=!0}if(g.color==255){I.eb(g.channel);if(q)I.eb(L.channel)}};l.k.yb=function(m){var g=[],L=m.v.length;
for(var K=0;K<L;K++)g.push(m.v[K].v);return g};l.k.gf=function(m){var g={t:"VlLs",v:[]},L=m.length;for(var K=0;
K<L;K++)g.v.push({t:"doub",v:m[K]});return g};l.k.prototype.IaF=function(){var m=I.e.Pt(I.QM.Xd(this.XO.iU())),g=I.i.Eq(this.vV.rR(),this.hN),L=[m.x,m.y,m.x+m.j,m.y,m.x+m.j,m.y+m.F,m.x,m.y+m.F];
I.i.apply(g,L);this.vV.St(L);this.hN=m};l.k.prototype.si=function(m,g,L,K){var r=I.i.Eq(this.vV.rR(),this.hN),q=1e-10,b=!1,B=!1;
r=I.i.kB(r,I.i.eb(this.cI));var R=I.i.dl(r),Q=this.cq,F=I.i.dl(Q);this.cq=r;var n=Math.abs,W=Math.round,z=r[2]-Q[2],u=r[5]-Q[5],N=n(r[0]-Q[0])<q&&n(r[1]-Q[1])<q&&n(r[3]-Q[3])<q&&n(r[4]-Q[4])<q&&n(r[6]-Q[6])<q&&n(r[7]-Q[7])<q&&n(z-W(z))<q&&n(u-W(u))<q;
if(this.QN==0&&this._.length==1){var h=this.rK[0][2];b=h&&(h.ob.N.length!=0||h.ob.Gm.length>1)}for(var A=0;
A<this._.length;A++)if(this._[A]<0)B=!0;if(N&&this.QN==0&&L==0&&this.BJ==0&&!b&&!B){l.Bc.AQ(m,this._,l.Bc.Iin(m,this._),Math.round(-F.gE+R.gE),Math.round(-F.Dv+R.Dv));
return}var e=this.XO?this.XO.iU():null;if(this.QN==0){this.cU=I.i.dl(r);l.k.Se(m,g,this._,this.rK,L,r,e,null,null,K)}else if(this.QN==1){var c=m._[this._[0]],a=this.HM.l;
if(c.eF<=0){var $=this.HM.$O,G=this.CG;if(e&&!I.QM.gN(e)&&!G.rect.TB(a)){var o=I.m(G.rect.c()*4);I.pq($,a,o,G.rect);
$=o;a=G.rect}var H=l.k.Cc([$,a],L,r,e);if(H){c.OJ.Kh=H.buffer;c.OJ.gw=H.rect;var f=I.m(H.rect.c());I.Vl(c.OJ.Kh,f,3);
m.I={channel:f,rect:c.OJ.gw.clone()}}}else{var E=I.m(a.c()*4);I.eX(this.HM.$O,E,3);var H=l.k.Cc([E,a],L,r,e);
if(H){c.OJ.Kh=I.m(H.rect.c());I.Vl(H.buffer,c.OJ.Kh,3);c.OJ.gw=H.rect}this.ILj(m,L,r,e)}c.XU(m,0,0,m.I);
if(L!=0){c.qV();I.qV(m.I)}m.qL=!0;m.X()}else if(this.QN==2)this.ILj(m,L,r,e)};l.k.prototype.ILj=function(m,g,L,K){var r=this.CG.rect,R=I.m(r.c()*4);
I.eX(this.CG.channel,R,3);var Q=l.k.Cc([R,r],g,L,K),F=I.m(Q.rect.c());I.Vl(Q.buffer,F,3);m.I={channel:F,rect:Q.rect};
m.qL=!0};l.k.prototype.disable=function(m,g,L,K){if(this.vV)this.dx(m,g,null,!0)};l.IMz=function(){l.k.call(this,[10,16],l.Zo,"tools/transform")};
l.IMz.prototype=new l.k;l.Imp=function(){l.k.call(this,[7,10],l.gi,"tools/transform")};l.Imp.prototype=new l.k;
l.KI=function(m,g,L){l.$B.call(this,[10,46],l.oi,"tools/transform");this.Zm=[1,1,2,!0];this.le="\0\0\x03\x82";
this.cx=null;this.IQJ=null;this.VO=null;this.nu=null;this.qz=null;this.jf=null;this.du=[]};l.KI.prototype=new l.$B;
l.KI.prototype.HE=function(){return!0};l.KI.ILo=function(m){if(m==null)return!1;if(m.N.length!=1)return!1;
var g=m._[m.N[0]];return g.add.SoLd||m.kn(!1)};l.KI.prototype.FK=function(m,g){return l.KI.ILo(m)};l.KI.prototype.enable=function(m,g,L,K,r,R,Q){this.IQJ=R.Tk;
var F=R.Tk,q,B=null;if(F){var n=m._[F.A];if(n.add.SoLd.filterFX!=null){var W=n.add.SoLd.filterFX.v.filterFXList.v;
if(W[F.index])q=JSON.parse(JSON.stringify(W[F.index].v.Fltr.v))}}var z=q==null,n=m._[m.N[0]],u=n.buffer,N=n.rect,b=n.add.SoLd;
if(b){var h=b.nonAffineTransform.v;B=[];for(var A=0;A<4;A++)B.push(h[A*2].v,h[A*2+1].v);if(z)this.AJ("edit",g);
var e=n.lI(m);u=e.buffer;N=e.rect}this.cx={buffer:u.slice(0),rect:N.clone(),IhY:B};if(z)q=l.KI.IOD(this.cx,this.Zm);
this.VO=q;this.nu=l.KI.Sv(this.VO,this.Zm);this.SC();this.SD(m);if(z)this.fo(g);var c=new Y(p.E.V,!0);
c.data={P:p.o.dL,K:this.id,Su:this.Zm};g.g(c);c.data={P:p.o.cM,_q:"default"};g.g(c)};l.KI.prototype.disable=function(m,g,L,K){if(this.nu)this.dx(m,g,!0)};
l.KI.prototype.SC=function(m){var g=this.nu;this.du=[];for(var L=0;L<g.length;L++){var K=g[L];for(var r=0;
r<K.N.length;r++)this.du.push([L,K.N[L]]);K.PV=I.e$.LR(K);if(m)I.e$.wl(K)}};l.KI.prototype.lr=function(m,g,L,K){if(m.Jw=="commit")this.dx(L,g,!0);
else if(m.Jw=="cancel")this.mF(L,g,!0);else if(m.Jw=="prm"){var r=!1;for(var R=0;R<3;R++)if(this.Zm[R]!=m.Su[R])r=!0;
this.Zm=m.Su;if(r){this.VO=l.KI.IOD(this.cx,this.Zm,this.VO);this.nu=l.KI.Sv(this.VO,this.Zm);this.SC(!0);
this.fo(g)}this.SD(L)}else if(m.Jw=="moveDepth"){var Q=this.nu;for(var F=0;F<Q.length;F++){var q=Q[F];
for(var R=0;R<q.N.length;R++){var n=q.N[R];q.dP[n]+=m.Ihy?1:-1}}this.fo(g)}};l.KI.prototype.AC=function(m,g){return m==C.sY||m==C.Wg};
l.KI.prototype.KK=function(m,g,L,K){var r=K.vQ();if(K.a(C.xI))this.dx(m,g,!0);else if(K.a(C.rw))this.mF(m,g,!0);
else if(K.a(C.sY)||K.a(C.Wg)){var R=this.nu;for(var Q=0;Q<R.length;Q++){var F=R[Q];F.N.sort(function(z,u){return u-z});
for(var q=0;q<F.N.length;q++){var n=F.N[q],W=n*2;F.dP.splice(n,1);F.tB.splice(n,1);F.tg.splice(n,1);
F.eU.splice(n,1);F.mz.splice(W,2);F.yu.splice(W,2)}F.N=[];if(F.eU.length==0){F.AS=F.DK.slice(0);F.mc=F.DK.slice(0)}}this.SC(!0);
this.fo(g);this.SD(m)}else if(r.x!=0||r.y!=0){this.IqQ(m,r.x,r.y,g);this.ah=null}};l.KI.prototype.dx=function(m,g,L){this.AJ("confirm",g);
this.escape(m,g,L)};l.KI.prototype.mF=function(m,g,L){this.AJ("cancel",g);this.escape(m,g,L)};l.KI.prototype.escape=function(m,g,L){m.J.eT=null;
m.J.rg=[];m.Oi=!0;this.nu=null;var K=new Y(p.E.V,!0);K.data={P:p.o.vw};if(L)g.g(K)};l.KI.prototype.Mc=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y),Q=R.x,F=R.y,q=this.nu,n=null,W=[0,2,4,1.2,1.2,1.2],z=-1,u=p.M()*5/m.L.T;
for(var N=0;N<q.length;N++){var b=q[N],B=I.e.hg(b.yu,Q,F,u);if(B!=-1)n=[N,B];if(z==-1&&I.e$.Lm.IZI(b.mc,b.lf,Q,F))z=N}if(n==null&&z!=-1){var b=q[z];
l.KI.Iet(b,Q,F,Q,F,0);n=[z,b.eU.length-1];b.PV=I.e$.LR(b)}this.qz=R;if(n){var h=q[n[0]].N.indexOf(n[1])!=-1;
if(K.a(C.jU)&&!h){q[n[0]].N.push(n[1]);this.du.push(n)}else if(!h){q[n[0]].N=[n[1]];this.du=[n]}}this.SD(m)};
l.KI.Iet=function(m,g,L,K,r,R){var Q=I.e.hg(m.mc,g,L);m.eU.push(Q);m.yu.push(K,r);m.mz.push(m.mc[Q*2]-g,m.mc[Q*2+1]-L);
m.tg.push(0);m.tB.push(!1);m.dP.push(R)};l.KI.prototype.NB=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y),Q=this.qz;
if(Q)this.IqQ(m,R.x-Q.x,R.y-Q.y,g)};l.KI.prototype.IqQ=function(m,g,L,K){var r={},R=this.du,Q=this.nu;
if(this.ah==null){this.ah=[];for(var F=0;F<Q.length;F++)this.ah.push(Q[F].yu.slice(0))}for(var F=0;F<R.length;
F++){var q=this.du[F],n=q[0],W=Q[q[0]],z=q[1]*2;W.yu[z+0]=this.ah[n][z+0]+g;W.yu[z+1]=this.ah[n][z+1]+L;
r[n]=n}for(var n in r)I.e$.wl(this.nu[r[n]]);this.SD(m);this.fo(K)};l.KI.prototype.AJ=function(m,g){var L=new Y(p.E.B,!0);
L.K=l.VJ;L.data={P:m,Tk:this.IQJ,le:this.le,nw:this.VO};g.g(L)};l.KI.prototype.RK=function(m,g,L,K,r){this.qz=null;
this.ah=null};l.KI.prototype.fo=function(m){l.KI.ImU(this.nu,this.Zm,this.VO);this.AJ("edit",m)};l.KI.prototype.SD=function(m){var g=this.nu,L=this.VO;
m.J.eT={D:[],O:[]};m.J.rg=[];m.J.MI=[];for(var K=0;K<g.length;K++){var r=g[K];for(var R=0;R<r.N.length;
R++)m.J.MI.push((m.J.rg.length>>>1)+r.N[R]);m.J.rg=m.J.rg.concat(r.yu);if(this.Zm[3])I.e.concat(m.J.eT,I.e.I_V(r.mc,r.lf))}m.Oi=!0};
l.KI.IOD=function(m,g,L){var K=m.buffer,r=m.rect,R=m.IhY,Q=aN.Rw("\0\0\x03\x82");if(R)for(var F=0;F<4;
F++){Q["PuX"+F].v=R[F*2];Q["PuY"+F].v=R[F*2+1]}var q=Q.puppetShapeList.v,n=I.e$.IJl(K,r.j,r.F,g[1],g[2]),W=[];
for(var z=0;z<n.length;z++){var u={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
u.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var N=n[z];q.push({t:"Objc",v:u});var b=N.DK.slice(0);I.e.f(b,new aC(1,0,0,1,r.x,r.y),b);var B=N.lf;
for(var F=0;F<B.length;F+=3){var h=B[F+1];B[F+1]=B[F+2];B[F+2]=h}W.push({lf:B,DK:b,AS:b,mc:b,eU:[],mz:[],yu:[],PV:null,N:[],tg:[],tB:[],dP:[]})}if(L){var A=l.KI.Sv(L,[]),e=W[0];
for(var F=0;F<A.length;F++){var c=A[F];for(var a=0;a<c.N.length;a++)e.N.push((e.yu.length>>>1)+c.N[a]);
for(var a=0;a<c.eU.length;a++){var $=c.eU[a]*2,G=c.DK[$]-c.mz[a*2],o=c.DK[$+1]-c.mz[a*2+1];l.KI.Iet(e,G,o,c.yu[a*2],c.yu[a*2+1],c.dP[a])}}}l.KI.ImU(W,g,Q);
return Q};l.KI.Sv=function(m,g){function L(o){var H=[];for(var B=0;B<o.length;B++)H.push(o[B].v);return H}var K=m.puppetShapeList.v,r=[];
for(var R=0;R<K.length;R++){var Q=K[R].v;g[0]=Q.meshRigidity.v-1;g[1]=Q.meshQuality.v-1;g[2]=Q.meshExpansion.v;
var F=Q.pinVertexIndices.v.length,q=Q.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;q.v=[];
var n=new Uint32Array(new Uint8Array(Q.indexArray.v).buffer),W=new Float32Array(new Uint8Array(Q.originalVertexArray.v).buffer),z=new Float32Array(new Uint8Array(Q.deformedVertexArray.v).buffer),u=[],N=[],b=[];
for(var B=0;B<n.length;B++)u.push(n[B]);for(var B=0;B<W.length;B++){N.push(W[B]);b.push(z[B])}var h=L(Q.pinVertexIndices.v),A=L(Q.pinOffsets.v),e=L(Q.posFinalPins.v),c=L(Q.PnRt.v),a=L(Q.PnOv.v),$=L(Q.PnDp.v),G=L(Q.selectedPin.v);
r.push({lf:u,DK:N,AS:b.slice(0),mc:b,eU:h,mz:A,yu:e,PV:null,tg:c,tB:a,dP:$,N:G})}return r};l.KI.ImU=function(m,g,L){function K(N,b){var B=[];
for(var W=0;W<N.length;W++)B.push({t:b,v:N[W]});return B}function r(N,b,B){var h=new(B?Uint32Array:Float32Array)(N),A=new Uint8Array(h.buffer);
for(var W=0;W<A.length;W++)b[W]=A[W]}var R=L.puppetShapeList.v;for(var Q=0;Q<R.length;Q++){var F=m[Q],q=R[Q].v;
q.meshRigidity.v=g[0]+1;q.meshQuality.v=g[1]+1;q.meshExpansion.v=g[2];r(F.lf,q.indexArray.v,!0);r(F.DK,q.originalVertexArray.v);
r(F.mc,q.deformedVertexArray.v);var n=[];for(var W=0;W<F.eU.length;W++){var z=F.eU[W]*2,u=W*2;n[u]=F.DK[z]-F.mz[u];
n[u+1]=F.DK[z+1]-F.mz[u+1]}q.PinP.v=K(n,"doub");q.pinVertexIndices.v=K(F.eU,"long");q.pinOffsets.v=K(F.mz,"doub");
q.posFinalPins.v=K(F.yu,"doub");q.PnRt.v=K(F.tg,"long");q.PnOv.v=K(F.tB,"bool");q.PnDp.v=K(F.dP,"doub");
q.selectedPin.v=K(F.N,"long")}};l.Dg=function(m,g,L){l.$B.call(this,m?m:[10,40],g?g:l.FN,L?L:"tools/slice");
this.TA=null;this.Tu=null;this.MQ=null;this.IQg=null;this.RR=null;this.Nt=null};l.Dg.prototype=new l.$B;
l.Dg.wF=function(m,g){var L=-1;for(var K=0;K<m.length;K++){var r=l.Dg.DJ(m,K);if(r[0]<=g.x&&g.x<=r[2]&&r[1]<=g.y&&g.y<=r[3]){L=K;
break}}return L};l.Dg.prototype.VH=function(m,g,L,K,r){this.zw(L);L.qo[L.$u[0]].v=m;L.Oi=!0;this.nj(L)};
l.Dg.prototype.enable=function(m,g,L,K,r,R){l.$B.prototype.enable.call(this,m,g,L,K,r,R);if(!L.dA.qo){var Q=new Y(p.E.V,!0);
Q.data={P:p.o.VP,Su:am.Hh};g.g(Q)}};l.Dg.prototype.disable=function(){this.TA=null;this.Tu=null};l.Dg.prototype.fE=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y),Q=l.Dg.wF(m.qo,R);
if(Q==-1)return;this.TA=m;this.Tu=g;m.$u=[Q];m.Oi=!0;if(this.Nt==null){this.Nt=new mx([{name:[5,4]},{name:[8,11,1],lh:!0}]);
this.Nt.v("select",this.Tj,this)}var F=this.Nt;F.parent=g;F.b();F.update(m,L);var q=new Y(p.E.V,!0);
q.data={P:p.o.xW,Mt:F,x:r.zv+2,y:r.hp+1};g.g(q)};l.Dg.prototype.Tj=function(m){var g=this.Nt.EH()[0],L=this.TA;
if(g==0){this.zw(L);L.qo.splice(L.$u[0],1);L.$u=[];L.Oi=!0;this.nj(L)}if(g==1){var K=new Y(p.E.V,!0);
K.data={P:p.o.My,OT:"soptions",U:L.qo[L.$u[0]].v};this.Tu.g(K)}};l.Dg.prototype.Mc=function(m,g,L,K,r){if(m==null)return;
this.zw(m);var R=m.L.TV(r.x,r.y);R=l.Bc.BO(m,R,L,[!0,null,!1]);R.x=Math.round(R.x);R.y=Math.round(R.y);
this.RR=R;m.qo.unshift(l.Dg.IRp());m.$u=[0];l.Dg.zo(m.qo,0,[R.x,R.y,R.x+20,R.y+20]);m.Oi=!0};l.Dg.prototype.NB=function(m,g,L,K,r){if(this.MQ==null)return;
var R=m.L.TV(r.x,r.y),Q=this.RR;R=l.Bc.BO(m,R,L,[!0,null,!1]);R.x=Math.round(R.x);R.y=Math.round(R.y);
var F=[Q.x,Q.y,R.x,R.y];l.Dg.Ikc(F);l.Dg.zo(m.qo,0,F);m.Oi=!0};l.Dg.prototype.RK=function(m,g,L,K,r){this.nj(m);
this.RR=null};l.Dg.prototype.zw=function(m){this.MQ=JSON.stringify(m.qo);this.IQg=JSON.stringify(m.$u)};
l.Dg.prototype.nj=function(m){var g=JSON.stringify(m.qo);if(g!=this.MQ){var L=new aP(this.name,this);
L.data={HM:this.MQ,ex:g,IVU:this.IQg,IVI:JSON.stringify(m.$u)};m.wM(L)}this.MQ=null};l.Dg.prototype.Kq=function(m,g){g.qo=JSON.parse(m.HM);
g.$u=JSON.parse(m.IVU);g.Oi=!0};l.Dg.prototype.ao=function(m,g){g.qo=JSON.parse(m.ex);g.$u=JSON.parse(m.IVI);
g.Oi=!0};l.Dg.prototype.AC=function(m,g){return g!=null&&g.$u.length!=0&&(m==C.sY||m==C.Wg)};l.Dg.prototype.KK=function(m,g,L,K){if(m==null)return;
this.zw(m);var r=K.vQ();if(r.x!=0||r.y!=0)l.Dg.WI(m,r);if(K.a(C.sY)||K.a(C.Wg)){var R=m.qo.slice(0);
for(var Q=0;Q<m.$u.length;Q++)m.qo.splice(m.qo.indexOf(R[m.$u[Q]]),1);m.$u=[]}this.nj(m)};l.Dg.prototype.lr=function(m,g,L,K,r){if(L==null||L.$u.length==0)return;
this.zw(L);var R=L.qo,Q=L.$u;Q.sort(function(b,B){return b-B});console.log(Q);var F=R.slice(0),q=[],n=[];
for(var W=0;W<Q.length;W++){var z=Q[W],u=R[z];n.push(u);F.splice(F.indexOf(u),1)}var N=Math.max(0,Math.min(F.length,Q[0]-m.dir));
for(var W=0;W<n.length;W++){F.splice(N+W,0,n[W]);q.push(N+W)}L.qo=F;L.$u=q;this.nj(L)};l.Dg.IaK=function(m,g,L,K){var r=new jf(-g.x,-g.y),R=g.j/L.j,Q=g.F/L.F,F=[0,0,g.j,g.F];
for(var q=0;q<m.length;q++){var n=l.Dg.DJ(m,q);if(K){n[0]=Math.round(n[0]*R);n[1]=Math.round(n[1]*Q);
n[2]=Math.round(n[2]*R);n[3]=Math.round(n[3]*Q)}else{l.Dg.SV(n,r);l.Dg.IaH(n,F)}if(n[0]>=n[2]||n[1]>=n[3]){m.splice(q,1);
q--;continue}l.Dg.zo(m,q,n)}};l.Dg.WI=function(m,g){var L=m.qo;for(var K=0;K<m.$u.length;K++){var r=l.Dg.DJ(L,m.$u[K]);
l.Dg.SV(r,g);l.Dg.zo(L,m.$u[K],r)}};l.Dg.IaH=function(m,g){if(m[0]<g[0])m[0]=g[0];if(m[1]<g[1])m[1]=g[1];
if(g[2]<m[2])m[2]=g[2];if(g[3]<m[3])m[3]=g[3]};l.Dg.SV=function(m,g){m[0]=Math.round(m[0]+g.x);m[2]=Math.round(m[2]+g.x);
m[1]=Math.round(m[1]+g.y);m[3]=Math.round(m[3]+g.y)};l.Dg.zo=function(m,g,L){var K=m[g].v.bounds.v;K.Left.v=L[0];
K.Top.v=L[1];K.Rght.v=L[2];K.Btom.v=L[3]};l.Dg.DJ=function(m,g){var L=m[g].v.bounds.v;return[L.Left.v,L.Top.v,L.Rght.v,L.Btom.v,g]};
l.Dg.Ikc=function(m){if(m[2]<m[0]){var g=m[0];m[0]=m[2];m[2]=g}if(m[2]==m[0])m[2]++;if(m[3]<m[1]){var g=m[1];
m[1]=m[3];m[3]=g}if(m[3]==m[1])m[3]++};l.Dg.Pt=function(m,g){var L=1e9,K=-1e9,r=1e9,R=-1e9;for(var Q=0;
Q<g.length;Q++){var F=l.Dg.DJ(m,g[Q]);L=Math.min(L,F[0]);r=Math.min(r,F[1]);K=Math.max(K,F[2]);R=Math.max(R,F[3])}return[L,r,K,R]};
l.Dg.IRp=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
l.CY=function(){l.Dg.call(this,[10,41],l.om,"tools/sselect");this.RR=null;this.Hw=null;this._h=null;
this.jf=null;this.cl=!1};l.CY.prototype=new l.Dg;l.CY.prototype.Mc=function(m,g,L,K,r){if(m==null)return;
var R=m.L.TV(r.x,r.y),Q=l.CY.Imv(R,4/m.L.T,m.qo,m.$u);Q.pop();if(Q.length!=0){this.RR=R;this._h=Q;this.zw(m);
return}var F=m.qo,q=l.Dg.wF(F,R);if(q==-1)m.$u=[];else{var n=m.$u.indexOf(q);if(K.a(C.jU)){if(n==-1)m.$u.push(q);
else m.$u.splice(n,1)}else{m.$u.sort(function(h,A){return h-A});if(n==-1)m.$u=[q];this.RR=R;this.zw(m);
this.Hw=l.Dg.Pt(F,m.$u);this.jf=[];for(var W=0;W<m.$u.length;W++)this.jf.push(l.Dg.DJ(F,m.$u[W]));if(K.a(C.qk)){var z=F.slice(0),u=m.$u,N=[];
for(var W=0;W<u.length;W++){var q=u[W],b=z[q],B=F.indexOf(b);N.push(B);F.splice(B,0,JSON.parse(JSON.stringify(b)))}m.$u=N}}}m.Oi=!0};
l.CY.prototype.NB=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y);if(this.RR==null){var Q=l.CY.Imv(R,4/m.L.T,m.qo,m.$u),F=Q.pop(),q=Q.length==0?"default":["ew","nwse","ns","nesw"][F]+"-resize",n=new Y(p.E.V,!0);
n.data={P:p.o.cM,_q:q};g.g(n);return}if(!this.cl&&R.TB(this.RR))return;this.cl=!0;var W=m.qo,Q=this._h;
if(Q){R=l.Bc.BO(m,R,L,[!0,null,!1]);var z=Math.round(R.x),u=Math.round(R.y);for(var N=0;N<Q.length;N+=2){var b=l.Dg.DJ(W,Q[N]),B=Q[N+1];
b[B]=(B&1)==0?z:u;l.Dg.Ikc(b);l.Dg.zo(W,Q[N],b)}}else{var h=R.wV(this.RR),A=this.Hw.slice(0);l.Dg.SV(A,h);
var e=new v(A[0],A[1],A[2]-A[0],A[3]-A[1]),c=l.Bc.ZK(m,e,L,[!0,null,!1],!0);l.Bc.ZF(m,e,c);h.x+=c[0];
h.y+=c[1];for(var N=0;N<m.$u.length;N++)l.Dg.zo(W,m.$u[N],this.jf[N]);l.Dg.WI(m,h)}m.Oi=!0};l.CY.prototype.RK=function(m,g,L,K,r){if(this.RR==null)return;
this.nj(m);m.J.Sp=null;m.Oi=!0;this.RR=null;this._h=null;this.jf=null;this.cl=!1};l.CY.Imv=function(m,g,L,K){var r=m.x,R=m.y,Q=[],F=-1,q=[];
for(var n=0;n<K.length;n++){var W=K[n],z=l.Dg.DJ(L,W),u=z[0],N=z[1],b=z[2],B=z[3];if(r<u-g||b+g<r||R<N-g||B+g<R)continue;
var h=[r<u+g,R<N+g,b-g<r,B-g<R],A=-1;for(var e=0;e<4;e++){if(h[e]&&h[e+1&3])A=1+2*(e&1);if(h[e])Q.push(W,e)}if(A==-1){if(h[0]||h[2])A=0;
if(h[1]||h[3])A=2}if(A!=-1){F=A;q.push(W)}}var c=Q.length;for(var n=0;n<c;n+=2){var W=Q[n],a=Q[n+1],$=l.Dg.DJ(L,W)[a];
for(var e=0;e<K.length;e++){var G=K[e];if(q.indexOf(G)!=-1)continue;var z=l.Dg.DJ(L,G);if(z[a&1]==$)Q.push(G,a&1);
if(z[2+(a&1)]==$)Q.push(G,2+(a&1))}}Q.push(F);return Q};l.Ib=function(){l.Lk.call(this,[10,44],l.I$Q,"tools/oselect");
this.po="crosshair";this.IjU=0};l.Ib.prototype=new l.Lk;l.Ib.prototype.cX=function(m,g,L,K){if(Math.random()<1/(1+this.IjU)){alert("The cross should be fully inside the object.",3500);
this.IjU++}};l.Ib.prototype.Fg=function(m,g,L,K){l.TY.IwC(m,l.Lk.Kx,this.Tu);if(!K.Tb||!this.Qn)return;
var r=this.ZM(m,L,!1),R=r.j,Q=r.F,F=r.x,q=r.y,n=r.x+R,W=r.y+Q,z=F+R/2,u=q+Q/2,N=l.Ib.IiO;m.J.eT={D:[F,q,n,q,n,W,F,W,z-R*N,u,z+R*N,u,z,u-Q*N,z,u+Q*N],O:"M L L L Z M L M L".split(" ")};
m.Oi=!0};l.Ib.IiO=.12;l.Ib.prototype.Cs=function(m,g,L,K){m.J.eT=null;m.Oi=!0;this.finish(m,g,L,K)};
l.Ib.prototype.getSelection=function(m,g,L,K){if(this.cK.TB(this.Ms)||!this.Qn)return null;var r=this.ZM(m,L,!1),R=m._[m.N[0]];
if(r.L_()||!r.tY(R.rect))return null;return l.Lk.o_("ObSl",r)};l.TY=function(){l.jx.call(this,[10,37],l.fB,"tools/qselect");
this._Z="qselect"};l.TY.prototype=new l.jx;l.TY.prototype.Mc=function(m,g,L,K,r){this.vM(m,L,K,r,1);
if(this.xG==null)return;this.tQ(m)};l.TY.prototype.NB=function(m,g,L,K,r){this.vE(m,g,L);l.TY.IwC(m,l.Lk.Kx,g);
if(this.nR)this.CP(m,L,r);if(this.xG==null)return;if(!r.Tb)return;var R=this.na(m,L,K,r);if(R!=1)this.tQ(m)};
l.TY.IwC=function(m,g,L){if(m&&g.key!=l.TY.Sy(m)){g.key=l.TY.Sy(m);var K=m._[m.N[0]].rect.c(),R="Image Analysis ...";
if(K==0)return;var r=K>1e6,Q=new Y(p.E.V,!0);Q.data={P:p.o.vl,VC:R};if(r)L.g(Q);setTimeout(function(){var F=l.TY.IGa(m);
for(var q in F)g[q]=F[q];var Q=new Y(p.E.V,!0);Q.data={P:p.o.ve,VC:R};if(r)L.g(Q)},30)}};l.TY.Sy=function(m){var g=m.N[0],L=m._[g],K=L.rect,r=K.j,R=K.F,Q=r*R,F=L.buffer;
return[g,K.x,K.y,r,R,F[0],F[1],F[2],F[3]].join(",")};l.TY.IGa=function(m){var g=m.N[0],L=m._[g],K=L.rect,r=K.j,R=K.F,Q=r*R,F=L.buffer,q=Date.now(),n=I.m(Q);
n.fill(128);var W=I.$_.JF(F,r,R);console.log(Date.now()-q);var z={key:l.TY.Sy(m),cS:F,rect:K.clone(),uP:r,PC:R,Xt:12,IjI:!1,EG:n,ce:W,I:I.m(Q),Zv:null,tP:null,fj:null};
l.TY.Al(z);return z};l.TY.Al=function(m,g){var L=m.uP,K=m.PC,r=0,R=0,Q=Date.now(),F=m.Zv!=null&&I.$_.ICq(m.ce.lf,m.Zv.lf,m.Zv.ez,m.EG);
r=Date.now()-Q;Q=Date.now();if(!F&&!m.IjI){m.Zv=I.$_.Lf(m.ce,L,K,m.EG,m.Xt);if(!I.$_.ICq(m.ce.lf,m.Zv.lf,m.Zv.ez,m.EG)){m.IjI=!0;
console.log("conflict")}m.tP=I.$_.IZC(m.cS,L,K,m.Zv.lf,m.Zv.ez);m.fj=[m.tP[0].slice(0),[]];R=Date.now()-Q;
Q=Date.now()}var Q=Date.now();if(g){m.fj[0].set(m.tP[0]);var q=m.tP[1],n=m.fj[1];for(var W=0;W<q.length;
W++)n[W]=q[W].slice(0);I.$_.IZv(m.Zv.lf,L,K,m.Zv.ez,m.EG,m.I,m.fj)}};function Ri(m,g,L,K,r,R,Q){this.sq=null;
this.VS=m?m.slice(0):null;this.GH=4;this.Ms=null;this.cn=null;this.fa=null;this.fR=-1;this.T_=null;this.Ijo=!1;
this.Ijv=[];for(var F=0;F<8;F++)this.Ijv.push(ax.IaQ(0,PIMG.rotate,-.5,-.5,-45-F*45));this.IjZ=g;this.IVQ=L;
this.IVJ=K;this.IVl=r;this.Ijf=R;this.BM=Q}Ri.prototype.IIV=function(){return this.fR!=-1};Ri.prototype.rR=function(){return this.VS.slice(0)};
Ri.prototype.St=function(m){this.VS=m};Ri.prototype.Iat=function(){return this.tf(this.VS)};Ri.prototype.IRm=function(){return this.GH};
Ri.prototype.IRT=function(m){this.GH=m};Ri.prototype.CN=function(m){if(m==null)m=this.VS;if(this.GH==9)return this.Ms;
else return this.tf(m)[this.GH]};Ri.prototype.IRE=function(m){if(this.GH==9)this.Ms=m.clone();else{var g=this.CN(),L=new aC(1,0,0,1,m.x-g.x,m.y-g.y);
I.e.f(this.VS,L,this.VS)}};Ri.prototype.nm=function(m,g,L){var K=this.mS(m,g),r;if(K==9)return"default";
if(K==10){if(L)return null;return!this.IjZ?"move":null}if(K==-1||K==4)return null;if(K==11){var R=this.CN().wV(m);
r=90-Math.atan2(R.y,R.x)*180/Math.PI;var Q=Math.round(8*(r/360));Q=(Q+8)%8;return this.Ijv[Q]}else{var F=this.np(m,this.VS);
r=[135,90,45,180,0,0,225,270,315][K];var q=I.i.Eq(this.VS);r+=Math.atan2(-q[3],q[0])*180/Math.PI;var n="ew nesw ns nwse ew nesw ns nwse".split(" "),Q=Math.round(8*(r/360));
Q=(Q+8)%8;return n[Q]+"-resize"}};Ri.prototype.np=function(m,g){var L=I.i.eb(I.i.Eq(g)),K=new Float64Array(2);
I.i.wk(m.x,m.y,L,K);return new jf(K[0],K[1])};Ri.prototype.Rt=function(m){var g=this.np(m,this.VS);return 0<=g.x&&g.x<=1&&0<=g.y&&g.y<=1};
Ri.prototype.Mc=function(m,g,L,K,r,R){this.Ijo=R;this.T_=K;var Q=m.L.T,F;if(this.VS==null)K=l.Bc.BO(m,K,g);
this.fa=K.clone();if(this.VS==null){this.fa.offset(1,1);var q=r==null?1:1/r;this.VS=[K.x,K.y,K.x+1,K.y,K.x+1,K.y+q,K.x,K.y+q];
F=8}else{F=this.mS(K,Q);if(0<=F&&F<=8)this.fa=this.tf(this.VS)[F]}this.sq=this.VS.slice(0);this.fR=F;
this.WJ(m,g);this.cn=this.CN();return F!=-1};Ri.prototype.mS=function(m,g){var L=-1,K=this.tf(),r=6*p.M()/g;
if(L==-1)if(jf.hQ(this.CN(),m)<r)L=9;if(L==-1)for(var R=0;R<K.length;R++)if(R!=4&&jf.hQ(K[R],m)<r)L=R;
if(L==-1){if(this.Rt(m)){if(this.IjZ)L=10}else{var Q=this.np(m,this.VS),F=new v(0,0,1,1);F.XH(.2,.2);
L=F.Rn(Q)?11:10}}return L};Ri.prototype.NB=function(m,g,L,K){if(this.fR==-1)return;this.T_=K;var r=L.a(C.jU),R=L.a(C.qk),Q=L.a(C.EZ),F=m.L.T,q=this.fa,n=this.fR,W=this.tf(),z=l.Bc.BO(m,q,g),u=l.Bc.BO(m,K,g),N,b;
if(n==9){var W=this.tf(),B=-1;for(var h=0;h<W.length;h++)if(jf.hQ(W[h],u)*F<10)B=h;this.GH=B==-1?9:B;
this.Ms=r?l.Ep.IJ(z,u):u.clone()}else if(n==10){b=I.e.Pt(this.sq);var A=b.x,e=b.y;b.offset(K.x-q.x,K.y-q.y);
if(this.IQP()){b.x=Math.round(b.x);b.y=Math.round(b.y)}N=l.Bc.ZK(m,b,g);var c=new aC(1,0,0,1,b.x-A+N[0],b.y-e+N[1]);
I.e.f(this.sq,c,this.VS)}else if(n==11){var a=this.CN(this.sq),$=a.wV(K),G=a.wV(q),o=Math.atan2($.y,$.x),H=Math.atan2(G.y,G.x),c=new aC(1,0,0,1,-a.x,-a.y),f=Math.PI/12;
if(r)c.rotate(Math.round((H-o)/f)*f);else c.rotate(H-o);c.translate(a.x,a.y);I.e.f(this.sq,c,this.VS)}else{var E,S=this.sq,V=n==0||n==2||n==6||n==8;
if(this.BM==1){if(V)r=R=Q=!0}else if(this.BM==2&&V&&this.Ijo!=!0)Q=!0;if(this.IVJ&&V&&Q){var h=[0,0,2,0,0,0,6,0,4,0][n],J=-1,U=u.x,j=u.y;
if(r){var i=h+6&7,k=h+10&7,P=Ri.Iqr(S[h],S[h+1],S[i],S[i+1],u.x,u.y),w=Ri.Iqr(S[h],S[h+1],S[k],S[k+1],u.x,u.y),d=P[2]<w[2]?P:w;
U=d[0];j=d[1];if(R)J=P[2]<w[2]?i:k}else if(R)J=h+4&7;E=S.slice(0);if(J!=-1){var T=S[J],y=S[J+1],D=(S[h]+T)/2,s=(S[h+1]+y)/2;
E[J]=D-(U-D);E[J+1]=s-(j-s)}E[h]=U;E[h+1]=j}else if(V&&R){var a=this.cn,Z=a.x,aQ=a.y,aI=z.x-Z,aq=z.y-aQ,aa=1,aD=1;
if(Math.abs(aI)>=1)aa=(u.x-Z)/aI;if(Math.abs(aq)>=1)aD=(u.y-aQ)/aq;if(r)aa=aD=(aa+aD)/2;var _=new aC;
_.translate(-Z,-aQ);_.scale(aa,aD);_.translate(Z,aQ);E=S.slice(0);I.e.f(E,_,E)}else{if(this.IQP()){u.x=Math.round(u.x);
u.y=Math.round(u.y)}var M=[0,1,2,5,8,7,6,3],jt=M[(M.indexOf(n)+4)%8],aR=[];for(var h=0;h<3;h++)for(var J=0;
J<3;J++)aR.push(new jf(J/2,h/2));var a=this.cn,aL=this.np(u,S),aw=this.np(q,S),ap=R&&(this.GH==4||this.GH==9)?this.np(a,S):aR[jt],al=new aC,ak=new aC,aa=(aL.x-ap.x)/(aw.x-ap.x);
if(aa==0)aa=1e-4;var aD=(aL.y-ap.y)/(aw.y-ap.y);if(aD==0)aD=1e-4;if(this.IVl){aa=Math.max(aa,0);aD=Math.max(aD,0)}if(n==0||n==2||n==6||n==8){if(r||this.Ijf)al.scale(aa,aa);
else al.scale(aa,aD)}if(n==1||n==3||n==5||n==7){var ao=this.Ijf;if(n==1||n==7)al.scale(ao?aD:1,aD);else al.scale(aa,ao?aa:1);
if(this.IVQ&&Q){if(n==1||n==7)ak.OS=(aL.x-ap.x)/(aL.y-ap.y);else ak.R=(aL.y-ap.y)/(aL.x-ap.x)}}var _=new aC;
_.translate(-ap.x,-ap.y);_.concat(al);_.concat(ak);_.translate(ap.x,ap.y);E=[0,0,1,0,1,1,0,1];I.e.f(E,_,E);
var d=I.i.Eq(S);I.i.apply(d,E)}if(Ri.Sf(E))this.VS=E}this.WJ(m,g);if(N)l.Bc.ZF(m,b,N)};Ri.Iqr=function(m,g,L,K,r,R){var Q=L-m,F=K-g,q=r-m,n=R-g,W=Q*Q+F*F,z=q*Q+n*F,N=z/W,b=m+N*Q,B=g+N*F,h=r-b,A=R-B;
return[b,B,Math.sqrt(h*h+A*A)]};Ri.prototype.IQP=function(){var m=this.VS;return Math.abs(m[1]-m[3])<1e-6&&Math.abs(m[2]-m[4])<1e-6||Math.abs(m[0]-m[2])<1e-6&&Math.abs(m[3]-m[5])<1e-6};
Ri.Sf=function(m){return I.e.fb(m)||I.e.fb([m[6],m[7],m[4],m[5],m[2],m[3],m[0],m[1]])};Ri.prototype.RK=function(m,g,L,K){this.fR=-1;
this.T_=null;m.J.Sp=null;m.J.To=[];m.Oi=!0};Ri.prototype.KK=function(m,g,L){var K=L.vQ();if(K.x||K.y){var r=new aC(1,0,0,1,K.x,K.y);
I.e.f(this.VS,r,this.VS);this.WJ(m,g);return!0}return!1};Ri.prototype.tf=function(m){if(m==null)m=this.VS;
var g=m[6]-m[0],L=m[7]-m[1],K=m[4]-m[2],r=m[5]-m[3],R=[m[0],m[1],m[2],m[3],m[0]+g/2,m[1]+L/2,m[2]+K/2,m[3]+r/2,m[6],m[7],m[4],m[5]],Q=[];
for(var F=0;F<3;F++){var q=F*4,n=R[q+0],W=R[q+1],z=R[q+2],u=R[q+3];Q.push(new jf(n,W));Q.push(new jf(n+(z-n)/2,W+(u-W)/2));
Q.push(new jf(z,u))}return Q};Ri.prototype.WJ=function(m,g,L){if(L==null)L=!1;var K=this.tf(),r=K[0],R=K[2],Q=K[6],F=K[8];
m.J.eT={O:[],D:[]};m.J.eT.O.push("M","L","L","L","Z");m.J.eT.D.push(r.x,r.y,R.x,R.y,F.x,F.y,Q.x,Q.y);
if(this.BM==2){var q=R.wV(r),n=Q.wV(r),W=F.wV(R),z=F.wV(Q);for(var u=0;u<3;u++){m.J.eT.O.push("M","L","M","L");
var N=(u+1)*.25;m.J.eT.D.push(r.x+q.x*N,r.y+q.y*N,Q.x+z.x*N,Q.y+z.y*N);m.J.eT.D.push(r.x+n.x*N,r.y+n.y*N,R.x+W.x*N,R.y+W.y*N)}}m.L.zz=new v(0,0,jf.hQ(K[0],K[2]),jf.hQ(K[0],K[6]));
if(this.fR!=-1&&this.fR<9&&this.T_){var b=m.L.nt(this.T_.x,this.T_.y);l.$B.am(b.x+10,b.y-10,m.L.zz,m,g)}if(!L){m.J.Vq=[];
for(var u=0;u<K.length;u++)if(u!=4)m.J.Vq.push(K[u].x,K[u].y);var B=this.CN();m.J.Vq.push(B.x,B.y)}m.Oi=!0};
Ri.prototype.clear=function(m){m.L.zz=null;m.J.Sp=null;m.J.eT=null;m.J.Vq=[];m.Oi=!0};function jY(m,g){this.QM=null;
this.fR=-1;this.IkS(m)}jY.prototype.iU=function(){return JSON.parse(JSON.stringify(this.QM))};jY.prototype.IkS=function(m){this.QM=JSON.parse(JSON.stringify(m))};
jY.prototype.Rt=function(m){return!0};jY.prototype.nm=function(m,g){var L=this.mS(m,g);if(L==-1)return"default";
return"pointer"};jY.prototype.Mc=function(m,g,L,K){this.fR=this.mS(K,m.L.T);return this.fR!=-1};jY.prototype.mS=function(m,g){var L=-1,K=20*p.M(),r=this.IeS();
for(var R=0;R<r.length;R++)if(jf.hQ(r[R],m)*g<K)L=R;return L};jY.prototype.NB=function(m,g,L,K){if(this.fR==-1)return;
var r=m.L.T,R=this.fR,Q=I.QM.Xd(this.QM);Q[R*2]=K.x;Q[R*2+1]=K.y;I.QM.RB(Q,this.QM)};jY.prototype.RK=function(m,g,L,K){this.fR=-1;
m.Oi=!0};jY.prototype.KK=function(m,g,L){var K=L.vQ();if(K.x||K.y){var r=new aC(1,0,0,1,K.x,K.y);I.e.f(this.VS,r,this.VS);
this.WJ(m)}};jY.prototype.IeS=function(m){var g=I.QM.Xd(this.QM),L=[];for(var K=0;K<g.length;K+=2)L.push(new jf(g[K],g[K+1]));
return L};jY.prototype.WJ=function(m){var g=this.IeS();m.J.eT={O:[],D:[]};m.J.eT.O.push("M","C","C","C","C");
var L=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var K=0;K<L.length;K++)m.J.eT.D.push(g[L[K]].x,g[L[K]].y);
m.J.eT.O.push("M","L","L","M","L","L","M","L","L","M","L","L");L=[4,0,1,2,3,7,11,15,14,13,12,8];for(var K=0;
K<L.length;K++)m.J.eT.D.push(g[L[K]].x,g[L[K]].y);m.J.Vq=[];for(var K=0;K<g.length;K++)m.J.Vq.push(g[K].x,g[K].y);
m.Oi=!0};jY.prototype.clear=function(m){m.J.eT=null;m.J.Vq=[];m.Oi=!0};var aJ={};aJ.de=function(m){this.id=m;
this.Tu=null};aJ.de.prototype.VH=function(m,g,L,K,r){};aJ.de.prototype.ao=function(m,g){};aJ.de.prototype.Kq=function(m,g){};
aJ.de.prototype.track=function(m){var g=new Y(p.E.VG,!0);g.data=m;m.iM=!0;this.Tu.g(g)};aJ.History=function(){aJ.de.call(this,l.AV);
this.cg=!0;this.IaZ=0};aJ.History.prototype=new aJ.de;aJ.History.prototype.VH=function(m,g,L,K){if(m.P=="h_itemchange"){if(m.index<L.CR)for(var r=L.CR;
r>m.index;r--)this.iI(L);if(m.index>L.CR)for(var r=L.CR;r<m.index;r++)this.ia(L)}if(m.P=="h_stepfwd")this.ia(L);
if(m.P=="h_stepbck")this.iI(L);if(m.P=="h_undoredo"){var R=this.cg||this.IaZ!=L.CR;if(R){this.iI(L);
R=!1}else{this.ia(L);R=!0}this.cg=R;this.IaZ=L.CR}else this.cg=!0};aJ.History.prototype.iI=function(m){if(m.CR==0)return;
var g=m.history[m.CR];g.K.Kq(g.data,m);m.CR--};aJ.History.prototype.ia=function(m){if(m.CR==m.history.length-1)return;
var g=m.history[m.CR+1];g.K.ao(g.data,m);m.CR++};aJ._I=function(){aJ.de.call(this,l.pW);this.Tu=null};
aJ._I.prototype=new aJ.de;aJ._I.prototype.VH=function(m,g,L,K,r){this.Tu=g;var R=m.P,Q=m.A!=null?m.A:L.N.length!=0?L.N[0]:L._.length-1,F=L._[Q];
if(R==x.QV&&L.I==null)R=x.vs;if(R==x.qP){var q=new aP([6,33],this),n=F.EY()?["pass"].concat(ad.go):ad.go,W=m.A!=null?[m.A]:L.N,z=JSON.stringify(W),u=[];
for(var N=0;N<W.length;N++)u.push(L._[W[N]].TZ);q.data={P:R,gK:z,Pf:u,cC:n[m.cC]};L.wM(q);this.ao(q.data,L);
this.track(RL.kS("Md",{t:"enum",v:{BlnM:ad.kP[m.cC]}}))}if(R==x.QS){var q,b=L.oC(),W=m.A!=null?[m.A]:L.N,z=JSON.stringify(W);
if(b&&b.data&&b.data.P==R&&b.data.gK==z)q=b;else{var B=RL.kS("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(B);var u=[];for(var N=0;N<W.length;N++)u.push(L._[W[N]].opacity);q=new aP([6,32],this);q.data={P:R,gK:z,Pf:u,cC:m.cC,cW:B.XX};
L.wM(q)}q.data.cC=m.cC;q.data.cW.T.v.Opct.v.val=Math.round(m.cC*100/255);this.ao(q.data,L)}if(R==x.xi){if(F.add.iOpa==null)F.add.iOpa=255;
var q,b=L.oC();if(b&&b.data&&b.data.P==R&&b.data.A==Q)q=b;else{q=new aP("Fill Opacity Change",this);
q.data={P:R,A:Q,Pf:F.add.iOpa,cC:m.cC};L.wM(q)}q.data.cC=m.cC;this.ao(q.data,L)}if(R==x.Xb){if(F.add.lspf==null)F.add.lspf=0;
var u=F.add.lspf,h=u,A=m.cC,q;for(var N=0;N<A[0].length;N++){var e=A[1][N],c=1<<e;if((h&c)==0&&A[0][N])h^=c;
else if((h&c)!=0&&!A[0][N])h^=c}var b=L.oC();if(b&&b.data&&b.data.P==R&&b.data.A==Q)q=b;else{var q=new aP([6,57,1],this);
q.data={P:R,A:Q,Pf:u,cC:h};L.wM(q)}q.data.cC=h;this.ao(q.data,L)}if(R==x.ds){var a="----",$=m.fD,h=null;
for(var N=0;N<IX.LO.LZ.length;N++)if(F.add[IX.LO.LZ[N]])a=IX.LO.LZ[N];var G=F.add[a];if($=="TySh")h=aj.nS(50,50,r.XT);
var q=new aP("Layer Type",this);q.data={P:R,A:Q,IRq:[a,G],fD:[$,h]};L.wM(q);this.ao(q.data,L)}if(R==x.ZU){var o=[];
if(K.a(C.qk)){var H=L.oC(),f=H?H.data:null;if(H!=null&&H.K==this&&f.P==x.ZU&&f.gK.length!=1){var E=new Y(p.E.B);
E.K=l.AV;E.data={P:"h_stepbck"};g.g(E);if(f.A==Q)return}var S=L.root.dr(Q),V=L.ul(null,Q);while(S.parent!=L.root){V.push(S.parent.index);
S=S.parent}for(var N=0;N<L._.length;N++){var J=L._[N],U=J.WP(),j=V.indexOf(N)!=-1;if(!j&&U)o.push(N);
if(N==Q&&!U)o.push(N)}}else{o.push(Q);var U=L._[Q].WP(),B={Qm:U?"hide":"show",XX:{classID:U?"Hd":"Shw",null:{t:"VlLs",v:[RL.c$("Lyr",!0)]}}};
this.track(B)}var q=new aP("Layer visibility",this,!0);q.data={P:R,gK:o,A:Q};L.wM(q);this.ao(q.data,L)}if(R==x.Qe){var B={Qm:"select",XX:{classID:"null",MkVs:{t:"bool",v:!1}}},i,escape=!1;
if(L.L.WY.join("")!="111"){L.L.WY=[1,1,1];L.Oi=!0}if(K.a(C.EZ)||m.IpM==0){var k=L.N.indexOf(Q);if(k==-1)L.N.push(Q);
else if(L.N.length>1)L.N.splice(k,1);L.N.sort(function(q,RK){return q-RK});B.XX.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
i=Q}else if(K.a(C.jU)&&!K.a(C.qk)&&m.je>0){R=m.je==1?x.qS:m.je==2?x.XL:x.xR;escape=!0}else if((K.a(C.jU)||m.IpM==1)&&L.N.length>0){var P=Math.min(Q,L.N[0]),w=Math.max(Q,L.N[L.N.length-1]);
L.N=[];for(var N=P;N<=w;N++)if(L._[N].add.lsct!=Ra.vc)L.N.push(N);B.XX.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
i=Q}else{i=Q;var J=L._[Q];if(J.EY()&&m.IVO)J.add.lsct=Ra.lG;else if(L.N.length==1&&L.N[0]==Q&&m.je==J.eF){return}L.N=[Q];
L.MJ()}if(i!=null){B.XX.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:L._[i].getName()}}]},this.track(B)}if(!escape){if(L.N.length==1){var d=L.N[0];
for(var N=0;N<L._.length;N++){if(N==d)continue;var T=L._[N];T.eF=0;T.Gu=!1}var F=L._[d];if(m.je==2)F.Gu=!F.Gu;
else{F.eF=m.je<=0?0:m.je;if(m.je==1||m.je==3){var y=m.je==3?F.lI(L).s:F.WN();y.vu=!1}}}else for(var N=0;
N<L._.length;N++){var T=L._[N];T.eF=0;T.Gu=!1}L.Sg=null;L.qb=!0}}if(R==x.qS||R==x.xR){var D=R==x.qS,y=D?F.WN():F.lI(L).s;
if(y==null)return;var q=new aP(y.isEnabled?D?[6,15]:[6,42]:D?[6,14]:[6,41],this);q.data={P:R,A:Q};L.wM(q);
this.ao(q.data,L)}if(R==x.XL){var y=F.add.vmsk;if(y==null)return;var q=new aP(y.isEnabled?[6,17]:[6,16],this);
q.data={P:R,A:Q};L.wM(q);this.ao(q.data,L)}if(R==x.Ixc){if(F.add.lsct==Ra.lG)F.add.lsct=Ra.Ha;else F.add.lsct=Ra.lG;
L.qb=!0}if(R==x.QB){if(!L.WX(Q))return;var q=new aP(F.OG?[6,19]:[6,18],this);q.data={P:R,A:Q};L.wM(q);
if(m.cC==null||m.cC!=F.OG)this.ao(q.data,L);this.track({Qm:"groupEvent",XX:{classID:"GrpL",null:{t:"obj ",v:[RL.c$("Lyr",!0)]}}})}if(R==x.IwJ){if(F.DW())F.$J-=32;
else F.$J+=32;L.qb=!0}if(R==x.xC||R==x.wJ){var q;if(R==x.xC)q=new aP(F.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(R==x.wJ)q=new aP(F.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);q.data={P:R,A:Q};L.wM(q);this.ao(q.data,L)}if(R==x.xY||R==x.wO){var d=m.index,q;
if(R==x.xY)q=new aP(F.add.lmfx[aU.JS[d[0]]].v[d[1]].v.enab.v?[6,30]:[6,29],this);if(R==x.wO)q=new aP(F.add.SoLd.filterFX.v.filterFXList.v[d].v.enab.v?[6,44]:[6,43],this);
q.data={P:R,A:Q,index:m.index};L.wM(q);this.ao(q.data,L)}if(R==x.WR){if(m.src==m.Ho)return;var s=L._[m.src],Z=L._[m.Ho],aQ=s.add.lmfx?JSON.stringify(s.add.lmfx):"",aI=Z.add.lmfx?JSON.stringify(Z.add.lmfx):"";
if(Z.add.lmfx==null){Z.add.lmfx=JSON.parse(aU.default);for(var N=0;N<aU.order.length;N++)Z.add.lmfx[aU.JS[N]]={t:"VlLs",v:[]}}if(m.qF==null){Z.add.lmfx=JSON.parse(aQ);
if(!m.rA)delete s.add.lmfx}else{var aq=m.qF[0],aa=aU.JS[aq];if(aU.IwY.indexOf(aU.order[aq])==-1)Z.add.lmfx[aa].v=[];
Z.add.lmfx[aa].v.push(s.add.lmfx[aa].v[m.qF[1]]);if(!m.rA)s.add.lmfx[aa].v.splice(m.qF[1],1)}var aD=s.add.lmfx?JSON.stringify(s.add.lmfx):"",_=Z.add.lmfx?JSON.stringify(Z.add.lmfx):"";
if(!Z.DW())Z.$J+=32;var q=new aP("Move Layer Styles",this);q.data={P:R,IpC:m.src,Ipv:m.Ho,IVM:aQ,IV_:aI,IVv:aD,IVH:_};
L.wM(q);this.ao(q.data,L)}if(R==x.Iid){var T=L._[m.src],M=JSON.stringify(T.add.SoLd),jt=JSON.parse(M),aR=jt.filterFX.v.filterFXList.v;
aR.splice(m.qF,1);var q=new aP([6,53],this);q.data={P:x.wE,wt:[{Jx:m.src,$Q:[M,JSON.stringify(jt)]}]};
L.wM(q);this.ao(q.data,L)}if(R==x.IJm){var s=L._[m.src],Z=L._[m.Ho],aL=[];if(s!=Z&&Z.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(s==Z&&!m.rA&&(m.qF==m.fL||m.qF==-1))return;var aw=s.lI(L),M=JSON.stringify(s.add.SoLd),jt=JSON.parse(M),aR=jt.filterFX.v.filterFXList.v;
if(s==Z){aR.splice(m.fL,0,aR[m.qF]);if(!m.rA)aR.splice(m.qF+(m.qF<m.fL?0:1),1);aL.push({Jx:m.src,$Q:[M,JSON.stringify(jt)]})}else if(m.qF==-1){var ap=jt.filterFX;
if(!m.rA){delete jt.filterFX;aL.push({Jx:m.src,$Q:[M,JSON.stringify(jt)],kK:[aw,null]})}var al=Z.zp()?Z.lI(L):null,ak=aH.InW(aw),ao=JSON.stringify(Z.add.SoLd),aZ=JSON.parse(ao);
aZ.placed.v=ak.id;aZ.filterFX=ap;aL.push({Jx:m.Ho,$Q:[ao,JSON.stringify(aZ)],kK:[al,ak]})}else{var aS=aR[m.qF];
if(!m.rA){aR.splice(m.qF,1);aL.push({Jx:m.src,$Q:[M,JSON.stringify(jt)]})}var ao=JSON.stringify(Z.add.SoLd),aZ=JSON.parse(ao);
if(aZ.filterFX==null)aZ.filterFX=aN.uK();var an=aZ.filterFX.v.filterFXList.v;an.splice(m.fL,0,aS);var IU={Jx:m.Ho,$Q:[ao,JSON.stringify(aZ)]};
if(!Z.zp()){var ak=aH.ImV(Z.add.SoLd.placed.v);IU.kK=[null,ak]}aL.push(IU)}var q=new aP([6,52],this);
q.data={P:x.wE,wt:aL};L.wM(q);this.ao(q.data,L)}if(R==x.xD){var y=F.WN(),q=new aP(y._m?[6,26]:[6,25],this);
q.data={P:R,A:Q};L.wM(q);this.ao(q.data,L);this.track({Qm:"set",XX:{classID:"setd",null:{t:"obj ",v:[RL.c$("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:y._m}}}}})}if(R==x.dB){var y=F.add.vmsk,q=new aP(y._m?[6,28]:[6,27],this);
q.data={P:R,A:Q};L.wM(q);this.ao(q.data,L)}if(R==x.dF){var a_=[],q;for(var N=0;N<L.N.length;N++){var aG=L.N[N],J=L._[aG];
if(J.add.vogk)a_.push(aG,JSON.stringify(J.add.vogk))}for(var N=0;N<L.Xv.length;N++){var aG=L.Xv[N],J=L.pc[aG];
if(J.add.vogk)a_.push(-1-aG,JSON.stringify(J.add.vogk))}I.xV.IMP(L,m.Fi,m.IVc);var aM=[];for(var N=0;
N<L.N.length;N++){var aG=L.N[N],J=L._[aG];if(J.add.vogk)aM.push(aG,JSON.stringify(J.add.vogk))}for(var N=0;
N<L.Xv.length;N++){var aG=L.Xv[N],J=L.pc[aG];if(J.add.vogk)aM.push(-1-aG,JSON.stringify(J.add.vogk))}var b=L.oC();
if(b&&b.data&&b.data.P==R){var av=!0;for(var N=0;N<a_.length;N+=2)if(a_[N]!=b.data.fC[N])av=!1;if(av){q=b;
q.data.px=aM}}if(q==null){var q=new aP([12,91,1],this);q.data={P:R,fC:a_,px:aM};L.wM(q)}this.ao(q.data,L)}if(R==x.dW){var q,b=L.oC();
if(b&&b.data&&b.data.P==R&&b.data.A==Q){q=b;q.data.Mj=JSON.stringify(m.Mj)}if(q==null){var q=new aP("Editing Artboard",this);
q.data={P:R,A:Q,IVN:JSON.stringify(F.add.artb),Mj:JSON.stringify(m.Mj)};L.wM(q)}this.ao(q.data,L)}if(R==x.qg){var aM=L.Qj.slice(0),aA=L.gW.slice(0),IL=L.I,aB=L.I;
if(m.Jj=="fromAction"){var aV=m.U.Qm,Ia=m.U.XX;if(aV=="make"||aV=="duplicate"){var aK=aM.length,Ij=!1,as=!1;
if(L.li())aK--;var aE=new x.Ed;aE.name="Alpha "+(aK+1);if(aV=="make"){var IQ=Ia.Nw.v;aE.color=255;aA=[aK];
aE.vu=!0;aE.SB=IQ.Opct.v;if(IQ.Nm)aE.name=IQ.Nm.v;if(IQ.classID=="SCch"){Ij=!0;aB=null;aE.RJ=1}}else{var Ih=Ia.null.v[0].v;
if(Ih.keyID=="fsel")Ij=!0;else{var Rp=l.Lk.IIZ(L);aB=l.Lk.Iie(L,Rp);aE.color=0;aE.rect=aB.rect;aE.channel=aB.channel}}if(Ij){aE.color=0;
if(L.I){aE.rect=L.I.rect.clone();aE.channel=L.I.channel.slice(0)}if(as){aE.color=255-aE.color;I.eb(aE.channel)}}aM.splice(aK,0,aE)}else if(aV=="delete"){var V=L.gW;
V.sort(function(q,RK){return RK-q});if(V.length==0)return;for(var N=0;N<V.length;N++)aM.splice(V[N],1);
aA=[]}else if(aV=="hide"){aM[aA[0]]=aM[aA[0]].clone();aM[aA[0]].vu=!1}}if(m.Jj=="rnm"){aM[m.Bj]=aM[m.Bj].clone();
aM[m.Bj].name=m.name}var q=new aP("Channel Edit",this);q.data={P:R,fC:L.Qj.slice(0),uC:L.gW.slice(0),px:aM,uE:aA,CG:IL,XB:aB};
this.ao(q.data,L);L.wM(q)}if(R==x.ZN){var q=new aP(m.Is,this);q.data={P:x.ZN,$e:L._.slice(0),lx:m.lx,qy:L.N.slice(0),QK:m.XB};
L.wM(q);this.ao(q.data,L)}if(R==x.vf){var ag=L.ul(null,m.A),ae=1e10;if(ag.length==0)return;if(L._.length==ag.length){alert("Project must have at least 1 layer");
return}var IE=[];for(var N=0;N<L._.length;N++)if(ag.indexOf(N)==-1)IE.push(L._[N]);for(var N=0;N<ag.length;
N++)ae=Math.min(ae,ag[N]);ae=Math.max(ae-1,0);while(IE[ae].name=="</Layer group>")ae++;this.track({Qm:"delete",XX:{classID:"Dlt",null:RL.c$("Lyr",!0)}});
var q=new aP([6,31],this);q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:[ae]};L.wM(q);this.ao(q.data,L)}if(R==x.XD){var V=m.IxT?m.IxT:L.N,Rj=0,RM=!1;
if(V.length==0)return;if(V.length==1&&L._[V[0]].Id==0){alert(aT.get([15,7,5]));return}var RQ=[];for(var N=0;
N<L._.length;N++){var ab=L._[N].Id;RQ.push(ab);Rj=Math.max(Rj,ab)}var Rx=-1,Iw=-1;for(var N=0;N<V.length;
N++){var ab=L._[V[N]].Id;if(ab==0)RM=!0;else if(Rx==-1||Rx==ab)Rx=ab;else Iw=ab}if(!RM)for(var N=0;N<V.length;
N++)L._[V[N]].Id=0;else if(Rx!=-1&&Iw==-1)for(var N=0;N<V.length;N++)L._[V[N]].Id=Rx;else for(var N=0;
N<V.length;N++)L._[V[N]].Id=Rj+1;var qX=[];for(var N=0;N<L._.length;N++){var ab=L._[N].Id;if(qX[ab]==null)qX[ab]=0;
qX[ab]++}for(var N=0;N<L._.length;N++){var ab=L._[N].Id;if(qX[ab]==1)L._[N].Id=0}var RC=RQ;RQ=[];for(var N=0;
N<L._.length;N++){var ab=L._[N].Id;RQ.push(ab);Rj=Math.max(Rj,ab)}var q=new aP(RM?[6,54,0]:[6,54,1],this);
q.data={P:x.XD,IVP:RC,IVs:RQ};L.wM(q);this.ao(q.data,L)}if(R==x.vs&&(m.A!=null||L.N.length!=0)||R==x.Or){var Rd=L.wW(R==x.vs?m.A:Q,null,m.IBs);
if(R==x.Or){var T=Rd[0],aV=T.add.SoLd.Idnt.v,Ip=L.ZX(aV).clone();T.add.SoLd.Idnt.v=Ip.aP=aH.lk()+aV.slice(8);
L.add.lnk2.push(Ip)}if(R==x.vs){var ID={Qm:"duplicate",XX:{classID:"null",null:RL.c$("Lyr",!0)}};if(m.jP){Rd[0].vZ(m.jP);
ID.Nm={t:"TEXT",v:m.jP}}this.track(ID);m.ILx=m.A}R=x.xN;m._=Rd;m.Jc=L;m.fZ=L}if(R==x.xN){var qB,Ii,Ro=m.Jc,IG=m.fZ;
if(Ro!=IG){console.log("ADDLAYERS different projs");var qB=new v(0,0,Ro.j,Ro.F),Ii=new v(0,0,IG.j,IG.F),qk=[],qI=[];
for(var N=0;N<m._.length;N++){var T=m._[N];if(T.add.SoLd==null)continue;var aV=T.add.SoLd.Idnt.v;if(qk.indexOf(aV)==-1){qk.push(aV);
qI.push(aH.lk()+aV.slice(8))}T.add.SoLd.Idnt.v=qI[qk.indexOf(aV)];var aw=T.lI(Ro);if(aw){Ro.Mq(aw);IG.QA(aw)}}if(qk.length>0){if(IG.add.lnk2==null)IG.add.lnk2=[];
for(var N=0;N<qk.length;N++){var mp=Ro.ZX(qk[N]),Ip=mp.clone();Ip.aP=qI[N];IG.add.lnk2.push(Ip)}}}var IL=IG.N.slice(0);
IL.sort(function(q,RK){return q-RK});var IE=IG._.slice(0),aB=[],ay=-1;for(var N=0;N<IL.length;N++)ay=Math.max(ay,IL[N]);
if(m.ILx!=null)ay=m.ILx;ay++;for(var N=0;N<m._.length;N++){var J=m._[N];IE.splice(ay,0,J);aB.push(ay);
ay++}if(m._[m._.length-1].EY())aB=[ay-1];var q=new aP([6,0],this);q.data={P:x.ZN,$e:IG._.slice(0),lx:IE,qy:IL,QK:aB};
IG.wM(q);this.ao(q.data,IG)}if(R==x.Ivh){var at=m.A!=null?[m.A]:L.ul(),IE=L._.slice(0);for(var N=0;N<at.length;
N++){var J=L._[at[N]].clone();J.IiX(L);IE.splice(at[N],1,J)}var q=new aP([6,8],this);q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:L.N.slice(0)};
L.wM(q);this.ao(q.data,L)}if(R==x.IIX){var IE=L._.slice(0),J=IE[L.N[0]]=IE[L.N[0]].clone(),Ru=J.add.lmfx,IM=0;
delete J.add.lmfx;var Qi=I.m(J.rect.c());I.Vl(J.buffer,Qi,3);var DR=ai.MO(Ru,null,Qi,J.rect,L,J.rect).type;
for(var N=0;N<aU.order.length;N++){var Rc=aU.order[N],RO=DR[Rc],QK=N>7;for(var qm=0;qm<RO.length;qm++){var QL=RO[qm],W=L.Co();
W.TZ=QL.od;W.opacity=Math.round(255*QL.BF);W.OG=!QK;W.buffer=QL.qT;W.rect=QL.jC;W.rect.offset(J.rect.x,J.rect.y);
W.vZ(J.getName()+"'s "+aT.get(aU.names[N]));IE.splice(L.N[0]+(QK?0:1),0,W);if(QK)IM++}}var q=new aP("Styles to Layers",this);
q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:[L.N[0]+IM]};L.wM(q);this.ao(q.data,L)}if(R==x.OF){var at=L.ul(),IE=L._.slice(0),Re=new v(0,0,L.j,L.F);
for(var N=0;N<at.length;N++){var IF=L._[at[N]],Qv=IF.WP();IF.Vd(!0);var Rf=L.root.dr(at[N]);if(IF.EY())continue;
if(Rf==null)continue;var J=IF.clone();J.IiX(L);var RE=Rf.ZM(L,!0),Rg=L._;L.rZ([IF]);L.X();L.cG();J.buffer=I.m(RE.c()*4);
I.pq(L.os(),Re,J.buffer,RE);J.rect=RE;J.opacity=255;J.add.iOpa=255;J.TZ="norm";J.X();J.t.pS=!0;L.rZ(Rg);
if(J.add.lmfx)delete J.add.lmfx;J.s=J.Th=null;IE.splice(at[N],1,J);J.Vd(Qv);IF.Vd(Qv)}var q=new aP([6,34],this);
q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:L.N.slice(0)};L.wM(q);this.ao(q.data,L)}if(R==x.Iwb){var at=L.ul(),IE=L._.slice(0);
for(var N=0;N<at.length;N++){var J=L._[at[N]],mL=J.add.TySh;if(mL==null)continue;var T=new RI(mL.m_,r.dd),mC=I.e.LL(QE.YM(T,mL));
for(var Rv in mC){var RP=mC[Rv],Rm=J.clone();delete Rm.add.TySh;Rm.$J=Rm.$J|1<<4;Rm.add.SoCo=JSON.parse(JSON.stringify(aU.Qs[0]));
var Iq=Rm.add.SoCo.Clr.v;Iq.Rd.v=parseInt(Rv.slice(1,3),16);Iq.Grn.v=parseInt(Rv.slice(3,5),16);Iq.Bl.v=parseInt(Rv.slice(5,7),16);
var ml=new x.Lb;ml.W=I.e.Nk(RP,!1);if(Rm.add.vmsk!=null){Rm.add.vmsk.Ilr();ml.concat(Rm.add.vmsk)}Rm.add.vmsk=ml;
Rm.add.vstk=JSON.parse(JSON.stringify(aU.WL.default));Rm.js();Rm.Zh(L);IE.splice(IE.indexOf(J),0,Rm)}IE.splice(IE.indexOf(J),1)}var aB=L.N.slice(0);
for(var N=aB.length-1;N>=0;N--)if(aB[N]>=IE.length)aB.splice(N,1);var q=new aP([6,40],this);q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:aB};
L.wM(q);this.ao(q.data,L)}if(R==x.ILv){var QD=L.N.length;if(QD<2)return;if(!L.WH())return;var Rm=L._[L.N[0]].clone(),IE=[];
for(var N=0;N<L._.length;N++)if(L.N.indexOf(N)==-1)IE.push(L._[N]);IE.splice(L.N[0],0,Rm);for(var N=1;
N<QD;N++){var J=L._[L.N[N]],qD=J.rect.clone();qD.XH(1,1);var RK=I.m(qD.c()*4);I.pq(J.buffer,J.rect,RK,qD);
Rm.extend(qD);var pe=I.m(qD.c()*4);I.pq(Rm.buffer,Rm.rect,pe,qD);var q=I.m(qD.c());I.Vl(RK,q,3);I.round(q,200);
I.eX(q,RK,3);I.h.dq("norm",RK,qD,pe,qD,qD,1);I.hA.I_(pe,q,qD);I.pq(pe,qD,Rm.buffer,Rm.rect)}var q=new aP([2,10],this);
q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:[L.N[0]]};L.wM(q);this.ao(q.data,L)}if(R==x.Od){var IE=L._.slice(0),aA=L.N.slice(0);
for(var N=0;N<IE.length;N++){var J=IE[N],IW=J.add.vmsk;if(J.lo()&&IW&&J.add.vstk.strokeEnabled.v&&!J.add.vstk.fillEnabled.v){var qR=IW.W,QF=0,pT=-1;
for(var qm=0;qm<qR.length;qm++){if((qR[qm].type==0||qR[qm].type==3)&&qR[qm].au!=-1){QF++;if(qR[qm].type==3&&pT==-1){qR[qm].OC=qR[qm].au=1;
pT=qm}}}if(QF>1&&pT!=-1){console.log("separating an open path into a new layer");J=J.clone();IW=J.add.vmsk;
qR=IW.W;var W=qR[pT].length,Qj=J.clone();Qj.add.lyid=L.WF();IW.W=qR.slice(0,2).concat(qR.slice(pT,pT+W+1));
IW.N=[];J.Zh(L);J.X();var QZ=Qj.add.vmsk.W;Qj.add.vmsk.W=QZ.slice(0,pT).concat(QZ.slice(pT+W+1,QZ.length));
Qj.add.vmsk.N=[];Qj.Zh(L);IE[N]=J;IE.splice(N+1,0,Qj);for(var qm=0;qm<aA.length;qm++)if(aA[qm]>N)aA[qm]++;
var mf=aA.indexOf(N);if(mf!=-1){aA.splice(mf+1,0,N+1)}}}}if(IE.length!=L._.length){var q=new aP("Splitting open paths",this);
q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:aA};L.wM(q);this.ao(q.data,L)}}if(R==x.IxK){this.VH({P:x.Od},g,L,K,r);
var IL=L.N.slice(0),Rg=L._.slice(0),at=L.ul();if(at.length==0)return;L.IDy(at);var q=new aP([6,36,0],this);
q.data={P:x.ZN,$e:Rg,lx:L._.slice(),qy:IL,QK:L.N.slice(0)};L.wM(q);this.ao(q.data,L)}if(R==x.DN){var mp=m.$X.ZX(m.id),Ip=mp.clone();
Ip.raw=m.data;Ip.AZ="8BIM";Ip.co="8BPB";Ip.w_=Ip.w_+".psd";Ip.os(!1);mp.os(!1);var q=new aP([6,36,1],this);
q.data={P:x.DN,id:m.id,fA:mp,fH:Ip};m.$X.wM(q);this.ao(q.data,m.$X)}if(R==x.IxY){var Rr,pa;if(m.dt){Rr=m.$X;
pa=m.dt}else{m.$X.ZB();m.$X.cv();m.$X.X();m.$X.cG();m.$X.os();Rr=ax.PSD.Cf(m.$X,0,0,[!0,!0]);pa=m.$X.name}if(!(Rr instanceof ArrayBuffer))throw"e";
Rr=new Uint8Array(Rr);var k=m.pY!=null?m.pY:L.N[L.N.length-1]+1,ji=L.Qb(Rr,pa,0,0,!0),IE=L._.slice(0);
IE.splice(k,0,ji);var q=new aP([6,36,2],this);q.data={P:x.ZN,$e:L._.slice(),lx:IE,qy:L.N.slice(0),QK:[IE.indexOf(ji)]};
L.wM(q);this.ao(q.data,L)}if(R==x.ImC){var pS=[],mZ=[],QR=0;for(var N=0;N<L.N.length;N++){var aG=L.N[N],J=L._[aG];
if(J.EY()&&pS.indexOf(aG)==-1){pS.push(aG);mZ.push(J.getName())}}if(pS.length!=2){pS=[];mZ=[];for(var N=0;
N<L._.length;N++){var aG=N,J=L._[aG];if(J.EY()&&pS.indexOf(aG)==-1){pS.push(aG);mZ.push(J.getName())}}}if(pS.length<2){alert("We need at least two folders of layers");
return}var RO=[];for(var Rn=0;Rn<pS.length;Rn++){var S=L.root.dr(pS[Rn]),IU=[[],[],0,Rn];RO.push(IU);
if(S.children.length==0){alert("There is a folder \""+S.A.getName()+"\" without any layers.");return}for(var N=0;
N<S.children.length;N++){var aG=S.children[N].index,J=S.children[N].A,aE=J.getName(),Ry=20;if(!aE.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var mh=aE.split(",");if(mh.length>1){var jM=parseInt(mh.pop());if(!isNaN(jM)&&jM!=0)Ry=jM}IU[0].push(J);
IU[1].push(Ry);IU[2]+=Ry}}RO.sort(function(q,RK){return RK[2]-q[2]});var qJ=RO[0],qn=qJ[2];for(var qG=1;
qG<RO.length;qG++){var IU=RO[qG],mV=1,mg=IU[1].slice(0),QB=0;while((mV+1)*IU[2]<=qJ[2]){mV++;mg=mg.concat(IU[1])}IU[1]=mg;
IU[2]*=mV;var pK=qJ[2]/IU[2];for(var N=0;N<IU[1].length;N++){var Iv=Math.floor(IU[1][N]*pK);IU[1][N]=Iv;
QB+=Iv}while(QB<qn){QB++;IU[1][IU[1].length-1]++}IU[2]=QB}var jR=[],af=[],Iv=[];for(var N=0;N<RO.length;
N++){jR.push(0);af.push(0)}while(QR<qn){var Iy=1e9,aK=-1;for(var N=0;N<RO.length;N++){var pY=RO[N][1],Qm=jR[N];
if(Qm!=pY.length&&af[N]+pY[Qm]<QR+Iy){aK=N;Iy=af[N]+pY[Qm]-QR}}af[aK]+=RO[aK][1][jR[aK]];jR[aK]++;if(Iy!=0){Iv.push(Iy);
QR+=Iy}}for(var N=0;N<Iv.length;N++){var Qh=Iv[N],qu=Qh>>>1;if(Qh<17){var aG=Iv.length-1;if(N==0)Iv[1]+=Qh;
else if(N==Iv.length-1)Iv[aG-1]+=Qh;else{Iv[N-1]+=qu;Iv[N+1]+=Qh-qu}Iv.splice(N,1);N--}}var jj=L.N.slice(0);
L.N=pS;var ag=L.ul();ag.sort(function(q,RK){return q-RK});var IE=[];for(var N=0;N<L._.length;N++){if(ag.indexOf(N)==-1)IE.push(L._[N])}RO.sort(function(q,RK){return q[3]-RK[3]});
function jF(pY,Dk){var N=0,DO=0;while(DO+pY[N]<=Dk){DO+=pY[N];N++}return N}QR=0;IE.splice(ag[0],0,L.ua());
for(var qz=0;qz<Iv.length;qz++){var o=[],mO=new v;for(var N=0;N<RO.length;N++){var Qm=jF(RO[N][1],QR)%RO[N][0].length,J=RO[N][0][Qm];
o.push(J);mO=mO.uM(J.rect)}var J=L.Co();J.rect=mO;J.buffer=I.m(mO.c()*4);for(var N=0;N<RO.length;N++){var Dd=o[N],pI=Dd.opacity/255*(L._[pS[N]].opacity/255);
I.h.dq("norm",Dd.buffer,Dd.rect,J.buffer,mO,mO,pI)}J.Vd(qz==0);J.vZ("_a_frm"+qz+","+Iv[qz]);IE.splice(ag[0]+1+qz,0,J);
QR+=Iv[qz]}var J=L.Co();J.vZ(mZ.join(" + "));J.TZ="pass";J.add.lsct=Ra.Ha;J.$J=24;IE.splice(ag[0]+1+Iv.length,0,J);
var q=new aP([6,12,0],this);q.data={P:x.ZN,$e:L._,lx:IE,qy:jj,QK:[ag[0]+1+Iv.length]};L.wM(q);this.ao(q.data,L)}if(R==x.If||R==x.Db||R==x.Dz){var Rg=L._.slice(0),IL=L.N.slice(0),jS=!0,ji,aB;
if(R==x.If)L.N=[L.N[0],L.N[0]-1];if(R==x.Dz){L.N=[];for(var N=0;N<L._.length;N++)if(L._[N].WP())L.N.push(N)}var at=L.ul();
at.sort(function(q,RK){return q-RK});var Qq=new v,Re=new v(0,0,L.j,L.F);for(var N=0;N<at.length;N++){var aG=at[N],J=L._[aG];
jS=jS&&J.lo()&&J.add.vmsk!=null;Qq=Qq.uM(L.root.dr(aG).ZM(L,!0))}if(jS){ji=L._[at[0]].clone();var IW=ji.add.vmsk;
for(var N=1;N<at.length;N++){var W=L._[at[N]],QZ=x.Lb.QT(W.add.vmsk.W);IW.W=IW.W.concat(QZ.slice(2));
ji.add.vogk=ji.add.vogk.concat(JSON.parse(JSON.stringify(W.add.vogk)))}ji.add.vmsk.gg=!0;ji.Zh(L)}else if(Re.Vp(Qq)){ji=L.Co();
ji.vZ(L._[at[at.length-1]].getName());ji.rect=Qq;ji.buffer=I.m(Qq.c()*4);var qv=L.os(at);I.pq(qv,Re,ji.buffer,Qq);
ji.X()}else{L.IDy(at,!0);ji=L._[L.N[0]];L._.splice(L.N[0],1);var pP=L.ZX(ji.add.SoLd.Idnt.v);L.add.lnk2.splice(L.add.lnk2.indexOf(pP),1);
delete ji.add.SoLd}var mk=K.a(C.qk),mK=-1;if(m.XX&&m.XX.Dplc&&m.XX.Dplc.v)mk=!0;if(mk&&R==x.Dz&&L._[IL[0]].vo()&&L._[IL[0]].rect.L_()){mK=IL[0];
ji.vZ(L._[mK].getName())}var IE=[];for(var N=0;N<L._.length;N++)if(mk||at.indexOf(N)==-1)if(N!=mK)IE.push(L._[N]);
var Qn=at[at.length-1],pm=Qn==L._.length-1?null:L._[Qn+1],Qx=pm?IE.indexOf(pm):IE.length;IE.splice(Qx,0,ji);
aB=[Qx];var q=new aP([6,12,0],this);q.data={P:x.ZN,$e:Rg,lx:IE,qy:IL,QK:aB};L.wM(q);this.ao(q.data,L)}if(R==x.Og){var Rm=L.Co();
Rm.rect=new v(0,0,L.j,L.F);Rm.buffer=I.m(Rm.rect.c()*4);I._U(Rm.buffer,4294967295);I.h.dq("norm",L.os(),Rm.rect,Rm.buffer,Rm.rect,Rm.rect,1);
Rm.vZ("Background");Rm.add.lspf=1<<2;var q=new aP([6,12,1],this);q.data={P:x.ZN,$e:L._.slice(),lx:[Rm],qy:L.N.slice(0),QK:[0]};
L.wM(q);this.ao(q.data,L)}if(R==x.ZD||R==x.xb||R==x.ZO||R==x.xP||R==x.QV){var J=R==x.QV?L._[L.N[0]].clone():L.Co(),qK=aT.get([0,3]),qo=m.jP,pF=!1,QJ,md;
if(R==x.ZO)qK=aT.get([12,76,1]);if(R==x.QV){var IF=L._[L.N[0]],jN=IF.IQC(L,L.I);if(jN==null){alert("Copied area is empty");
return}J.rect=jN.rect,J.buffer=jN.$O}if(R==x.xP){J.rect=aJ._I.Imm(m.qY,L);J.buffer=I.clone(m.qY.buffer)}if(R==x.ZD){this.track({Qm:"make",XX:{classID:"Mk",null:RL.c$("Lyr")}})}if(R==x.xb){J.$J|=16;
var mn=m.XX.Usng.v,mW=mn.Type.v,pl=qE.un[mW.classID];qK=aT.get(qE.names[pl]);if(mn.Nm)qo=mn.Nm.v;J.add[pl]=aN.Rw(pl);
for(var mE in mW)J.add[pl][mE]=JSON.parse(JSON.stringify(mW[mE]));J.s=aJ._I.IJM(L)}if(R==x.ZO){J.$J|=16;
var Ia=m.XX,mn=Ia.Usng.v,pL=mn.Type.v,jg=mn.Shp;if(jg==null)J.s=aJ._I.IJM(L);else{console.log(mn);J.add.vmsk=new x.Lb;
J.add.vstk=JSON.parse(JSON.stringify(mn.strokeStyle?mn.strokeStyle.v:aU.WL.default));J.add.vogk=[];if(jg){var Dq=I.xV.fc(jg);
if(Dq){J.add.vogk=[Dq];J.add.vmsk.W.push({type:0,au:1,length:0});I.xV.hw(J.add.vogk,J.add.vmsk)}else{jg=jg.v;
var IB=jg.classID;if(IB=="Plgn"){var Ir=jg.Cntr.v,Ic=jg.corner.v;Ir=new jf(Ir.Hrzn.v.val,Ir.Vrtc.v.val);
Ic=new jf(Ic.Hrzn.v.val,Ic.Vrtc.v.val);J.add.vmsk.W=I.q.RD.JU(Ir.x,Ir.y,Math.sqrt(Ic.x*Ic.x+Ic.y*Ic.y),Math.atan2(Ic.y,Ic.x),jg.sides.v,0)}else if(IB=="customShape"){var Qb=I.xV.LU(jg),pD=Qb[2]-Qb[0],mH=Qb[3]-Qb[1],m$=r.ON,jy,pq;
for(var N=0;N<m$.length;N++)if(m$[N].BE==jg.Nm.v)jy=m$[N];if(jy){pq=x.Lb.QT(jy.W);I.q._R(pq,new aC(pD,0,0,mH,Qb[0],Qb[1]))}else pq=I.q.RD.Rect(Qb[0],Qb[1],pD,mH,0);
J.add.vmsk.W=pq}J.js()}}}var mP={solidColorLayer:0,gradientLayer:1,patternLayer:2}[pL.classID],qd=["SoCo","GdFl","PtFl"][mP];
J.add[qd]=JSON.parse(JSON.stringify(aU.Qs[mP]));aJ._I.mi(pL,J.add[qd],mP);if(jg==null)qK=aT.get([6,48,0,mP]);
if(qd=="PtFl")L.Zn(ai.rP(J.add[qd].Ptrn.v,r.Rr));J.Zh(L)}var QD=aJ._I.IkC(L,qK+" ");J.vZ(qK+" "+(QD+1));
if(qo)J.vZ(qo);var QA=L.N.length==0?L._.length-1:L.N[L.N.length-1],mM=L._[QA];if(R==x.ZO&&mM.vo()&&mM.rect.L_()){pF=!0;
J.vZ(mM.getName());QJ=QA}else{QJ=QA+1;if(mM.add.lsct==Ra.lG)QJ--}var IE=L._.slice(0);IE.splice(QJ,pF?1:0,J);
var Is=[5,2];if(R==x.ZD)Is=[6,13];if(R==x.xb)Is=[6,1];if(R==x.ZO){Is=[6,48,1];var jg=m.XX.Usng.v.Shp;
if(jg){var qA={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[jg.v.classID];
if(qA)Is=qA}}if(R==x.QV){Is=[6,49]}if(R==x.QV||R==x.ZO||R==x.xP)if(L.I)md=[L.I,null];var q=new aP(Is,this);
q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:[QJ],lj:md};L.wM(q);this.ao(q.data,L);if(R==x.ZO&&jg==null&&mP!=0||R==x.xb){var pR=new Y(p.E.V);
pR.data={P:p.o.VV,OT:ar.ba.bD};g.g(pR)}}if(R==x.dz){var J=L.Co();J.vZ(aT.get([0,4])+" "+L._.length);
J.TZ="pass";J.add.lsct=Ra.lG;J.$J=24;var pG=L.ua(),QA=Q,QJ=QA+1,IE=L._.slice(0);IE.splice(QJ,0,pG,J);
var q=new aP([6,20],this);q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:[QJ+1]};L.wM(q);this.ao(q.data,L)}if(R==x.BR||R==x.QZ){var mF=R==x.BR?m.source:L.N[0],qb,qj,pN=L.N.indexOf(mF)!=-1,ms=K.a(C.qk)|m.IVz,RF;
if(pN)RF=L.ul();else RF=L.wc(mF);RF.sort(function(q,RK){return q-RK});if(R==x.BR){qb=m.target;qj=m.cc>.5}else if(m.target!=null){qb=m.target;
qj=!0;L.ur=!0}else{var pv=m.Jj;qj=pv>1;if(pv==0){qb=L._.length-1}if(pv==1){qb=RF[RF.length-1]+1;var W=L.wc(qb);
if(W.indexOf(mF)==-1)qb+=W.length-1}if(pv==2){qb=RF[0]-1;var W=L.wc(qb);if(W.indexOf(mF)==-1)qb-=W.length-1}if(pv==3){qb=0}if(qb<0||qb>L._.length-1)return;
L.ur=!0}if(RF.indexOf(qb)!=-1)return;var pX=L._[qb],IE=[];if(ms)IE=L._.slice(0);else for(var N=0;N<L._.length;
N++)if(RF.indexOf(N)==-1)IE.push(L._[N]);var pu=IE.indexOf(pX);if(R==x.BR&&pX.EY()&&pX.add.lsct==Ra.Ha&&m.cc>.8)pu-=L.wc(qb).length-1;
var qc=[],mz=ms?L.wW(pN?null:mF):null;for(var N=0;N<RF.length;N++){var mY=pu+(qj?0:1)+N,T=ms?mz[N]:L._[RF[N]];
IE.splice(mY,0,T);qc.push(mY)}var q=new aP(ms?[6,0]:[6,35],this);q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:qc};
L.wM(q);this.ao(q.data,L);var Ia={classID:"move",null:RL.c$("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:pu+(qj?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:ms}};
this.track({Qm:"move",XX:Ia})}if(R==x.wa){var J=L.Co(),pZ=aT.get([0,4])+" ";J.vZ(pZ+(aJ._I.IkC(L,pZ)+1));
J.TZ="pass";if(m.jP)J.vZ(m.jP);J.add.lsct=L.N.length==1?Ra.lG:Ra.Ha;J.$J=24;var pG=L.ua(),RF=L.ul();
if(RF.length==0)return;RF.sort(function(q,RK){return q-RK});var IE=[];for(var N=0;N<L._.length;N++)if(RF.indexOf(N)==-1)IE.push(L._[N]);
var QA=L.N[L.N.length-1]-RF.length;IE.splice(QA+1,0,pG);for(var N=0;N<RF.length;N++)IE.splice(QA+2+N,0,L._[RF[N]]);
IE.splice(QA+2+RF.length,0,J);var q=new aP([6,9],this);q.data={P:x.ZN,$e:L._.slice(0),lx:IE,qy:L.N.slice(0),QK:[IE.indexOf(J)]};
L.wM(q);this.ao(q.data,L);var B={Qm:"make",iM:!0};B.XX={classID:"Mk",null:RL.c$("layerSection"),From:RL.c$("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:J.getName()}}}};
this.track(B)}if(R==x.Ixp){if(L.N.length!=1)return;var k=L.N[0],pB=K.a(C.qk);if(L._[k].WN()==null){R=x.lp;
m.BM=L.I?!pB?"RvlS":"HdSl":!pB?"RvlA":"HdAl"}else R=x.qn}if(R==x.lp){if(L.N.length!=1)return;var k=L.N[0],J=L._[k],pd=J.WN();
if(pd==null||m.IVf){var q=new aP([6,21],this),qQ=new x.Ed,px=m.BM,Dp=px=="RvlS"||px=="HdSl";if(px=="RvlS"||px=="HdAl"||px=="Trns")qQ.color=0;
if(Dp){qQ.channel=I.clone(L.I.channel);qQ.rect=L.I.rect.clone();if(px=="HdSl")I.eb(qQ.channel)}if(px=="Trns"){qQ.rect=J.rect.clone();
qQ.channel=I.m(J.rect.c());I.Vl(J.buffer,qQ.channel,3)}q.data={P:R,A:k,s:qQ,cy:pd,lj:Dp?[L.I,null]:null};
L.wM(q);this.ao(q.data,L);L._[k].eF=1;this.track({Qm:"make",XX:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:px}}}})}}else if(R==x.dG){var s=L._[m.src],Z=L._[m.Ho];
if(Z.WN())return;var q=new aP([6,21],this),qQ=s.WN();if(m.rA){q.data={P:x.lp,A:m.Ho,s:qQ.clone()}}else{q.data={P:R,src:m.src,Ho:m.Ho,s:qQ}}L.wM(q);
this.ao(q.data,L)}if(R==x.XJ){if(L.N.length!=1)return;var k=Q;if(L._[k].WN()!=null){var q=new aP([6,22],this);
q.data={P:R,A:k,s:L._[k].WN()};L.wM(q);this.ao(q.data,L)}}if(R==x.OA){var Rg=L._.slice(0),Rm=F.clone(),DD=Rm.WN();
I.lD(DD.vy(Rm.rect),Rm.rect,Rm.buffer,Rm.rect);aJ._I.nD(L,Rm);L._[L.N[0]]=Rm;var q=new aP([5,8],this);
q.data={P:x.ZN,$e:Rg,lx:L._.slice(),qy:L.N.slice(0),QK:L.N.slice(0)};L.wM(q);this.ao(q.data,L)}if(R==x.Wl){if(L.N.length!=1)return;
var k=L.N[0];if(L._[k].lI(L).s==null){var q=new aP([6,45],this);q.data={P:R,A:k,s:new x.Ed};L.wM(q);
this.ao(q.data,L)}}if(R==x.WS){if(L.N.length!=1)return;var k=L.N[0];if(L._[k].lI(L).s!=null){var q=new aP([6,46],this);
q.data={P:R,A:k,s:L._[k].lI(L).s};L.wM(q);this.ao(q.data,L)}}if(R==x.Ou){if(m.A==null&&L.N.length!=1)return;
if(L._[Q].zp()){var q=new aP([6,47],this),M=JSON.stringify(L._[Q].add.SoLd),jt=JSON.parse(M);delete jt.filterFX;
q.data={P:x.wE,wt:[{Jx:Q,$Q:[M,JSON.stringify(jt)],kK:[L._[Q].lI(L),null]}]};L.wM(q);this.ao(q.data,L)}}if(R==x.qn){if(L.N.length!=1)return;
if(F.add.vmsk==null){var q=new aP([6,23],this),qQ=new x.Lb;qQ.W[1].all=m.ILR?0:1;q.data={P:R,A:Q,cs:!0,s:qQ,xV:"[]",WL:null};
if(F.lo()){q.data.WL=JSON.stringify(aU.WL.default)}L.wM(q);this.ao(q.data,L)}}if(R==x.dT){var s=L._[m.src],Z=L._[m.Ho];
if(Z.add.vmsk)return;var q=new aP([6,23],this),IW=s.add.vmsk;q.data={A:m.Ho,cs:s.Gu,s:IW.clone(),xV:JSON.stringify(s.add.vogk),WL:s.add.vstk?JSON.stringify(s.add.vstk):null};
if(m.rA){q.data.P=x.qn}else{q.data.P=R;q.data.src=m.src;q.data.Ho=m.Ho}L.wM(q);this.ao(q.data,L)}if(R==x.Xi){if(L.N.length!=1)return;
var J=L._[Q],IW=J.add.vmsk;if(IW!=null){var q=new aP([6,24],this);q.data={P:R,A:Q,cs:J.Gu,s:IW,xV:JSON.stringify(J.add.vogk),WL:J.add.vstk?JSON.stringify(J.add.vstk):null};
L.wM(q);this.ao(q.data,L)}}if(R==x.Wm){var q=new aP("Metadata",this);q.data={P:R,HM:JSON.stringify(L.Io),ex:JSON.stringify(m.ex)};
L.wM(q);this.ao(q.data,L)}if(R==x.wm){var pb=m.Ho?m.Ho:L,DI=pb.name,qo=m.U+".psd";if(DI==qo)return;var q=new aP([6,37],this);
q.data={P:R,cz:DI,jP:qo};if(m.I$a!=!0)pb.wM(q);this.ao(q.data,pb)}if(R==x.BH){var DI=F.getName(),qo=m.name.substring(0,255);
if(DI==qo)return;var q=new aP([6,37],this);q.data={P:R,A:Q,cz:DI,jP:qo,IJS:F.add.lnsr,IJi:null};L.wM(q);
this.ao(q.data,L);this.track(RL.kS("Nm",{t:"TEXT",v:qo}))}if(R==x.BP){var pz=L.ul(),py=[],Iz=[];for(var N=0;
N<pz.length;N++){py.push(L._[pz[N]].add.lclr);Iz.push(m.IJn)}var q=new aP([6,38],this);q.data={P:R,_:pz,I$R:py,I$w:Iz};
L.wM(q);this.ao(q.data,L)}if(R==x.WO){var q=L.history[L.CR];if(q!=null&&q.K==this&&q.data.P==R&&q.data.A==m.ct&&q.data.cC.WD==m.HG.WD)q.data.cC=m.HG;
else{q=new aP("Mask Density / Feather",this);q.data={P:R,A:m.ct,rW:L._[m.ct].IqF(m.HG.WD),cC:m.HG};L.wM(q)}this.ao(q.data,L)}if(R==x.hr){var DG=JSON.stringify(m.U),jP=JSON.parse(DG),q=L.history[L.CR];
if(q!=null&&q.K==this&&q.data.P==R&&q.data.Xl==m.Xl&&q.data.gK.join(",")==m.gK.join(",")){for(var N=0;
N<m.gK.length;N++)q.data.YU[N]=jP;if(q.data.XX&&jP.co!=0)aJ._I.mi(jP.jl,q.data.XX.T.v,jP.co-1)}else{q=new aP([11,6],this);
q.data={P:R,gK:m.gK,Xl:m.Xl,IJh:[],YU:[]};var pJ=!1;for(var N=0;N<m.gK.length;N++){var aG=m.gK[N],J=L._[aG],DQ=m.Xl?l.Wc.T$(L,aG):JSON.parse(JSON.stringify(J.add.vstk));
q.data.IJh.push(DQ);q.data.YU.push(jP);if(JSON.stringify(DQ)!=DG)pJ=!0}if(!pJ)return;L.wM(q);if(m.Xl&&jP.co>0){var Ia=q.data.XX={classID:"setd",null:RL.c$("contentLayer",!0),T:{t:"Objc",v:{}}},qd=["SoCo","GdFl","PtFl"][jP.co-1];
aJ._I.mi(jP.jl,Ia.T.v,jP.co-1);this.track({Qm:"set",XX:Ia})}}if(m.Xl&&jP.co==3)L.Zn(ai.rP(jP.jl.Ptrn.v,r.Rr));
if(!m.Xl){var DJ=jP.strokeStyleContent.v;if(DJ.classID==aU.WL.yN[2])L.Zn(ai.rP(DJ.Ptrn.v,r.Rr))}this.ao(q.data,L)}};
aJ._I.mi=function(m,g,L){var K=[aU.av,aU.rn,aU.r$][L];if(g.classID==null)g.classID=["solidColorLayer","gradientLayer","patternLayer"][L];
for(var r=0;r<K.length;r++)if(m[K[r]])g[K[r]]=JSON.parse(JSON.stringify(m[K[r]]))};aJ._I.IJM=function(m){var g=new x.Ed;
if(m.I!=null){g.color=0;g.channel=I.clone(m.I.channel);g.rect=m.I.rect.clone()}return g};aJ._I.IJf=function(m,g,L,K){var r=K.j/L.j,R=K.F/L.F,Q=K.j/2,F=K.F/2,q=I.e.Gl(K).D;
for(var n=0;n<m._.length;n++){var W=m._[n],z=W.add.SoLd;if(z==null||z.Idnt.v!=g)continue;if(r!=1||R!=1){var u=l.k.yb(z.nonAffineTransform),N=I.i.Eq(u,K),b=new aC;
b.translate(-Q,-F);b.scale(r,R);b.translate(Q,F);var B=I.i.kB(N,I.i.Gj(b)),h=q.slice(0);I.i.apply(B,h);
z.Trnf=l.k.gf(h);z.nonAffineTransform=l.k.gf(h)}W.lQ(m)}m.X()};aJ._I.IXs=function(m,g,L){g.color=255-g.color;
I.eb(g.channel);g.gg=!0;m.Zh(L);L.X()};aJ._I.prototype.Kq=function(m,g){var L=m.P,K=g._[m.A];if(L==x.DN){g.add.lnk2.splice(g.add.lnk2.indexOf(m.fH),1,m.fA);
aJ._I.IJf(g,m.id,m.fH.E_[1],m.fA.E_[1])}if(L==x.qP){var r=JSON.parse(m.gK);for(var R=0;R<r.length;R++)g._[r[R]].TZ=m.Pf[R];
g.X()}if(L==x.QS){var r=JSON.parse(m.gK);for(var R=0;R<r.length;R++)g._[r[R]].opacity=m.Pf[R];g.X()}if(L==x.Xb){K.add.lspf=m.Pf}if(L==x.ds){var Q=m.fD,F=m.IRq;
delete K.add[Q[0]];if(F[0]!="----")K.add[F[0]]=F[1]}if(L==x.xi){K.add.iOpa=m.Pf;g.X()}if(L==x.ZU){for(var R=0;
R<m.gK.length;R++){var q=g._[m.gK[R]];q.Vd(!q.WP())}g.X()}if(L==x.qS){var n=K.WN();n.isEnabled=!n.isEnabled;
K.Zh(g);g.X()}if(L==x.xR){var n=K.lI(g).s;n.isEnabled=!n.isEnabled;K.X();g.X()}if(L==x.XL){var n=K.add.vmsk;
n.isEnabled=!n.isEnabled;if(!n.isEnabled){if(K.Th){K.s=K.Th;K.Th=null}else K.s=null}else if(K.s){K.Th=K.s;
K.s=null}K.Zh(g);g.X()}if(L==x.QB){K.OG=!K.OG;g.X()}if(L==x.xC){K.add.lmfx.masterFXSwitch.v=!K.add.lmfx.masterFXSwitch.v;
K.t.pS=!0;g.X()}if(L==x.wJ){K.add.SoLd.filterFX.v.enab.v=!K.add.SoLd.filterFX.v.enab.v;K.Qw(g);g.X()}if(L==x.xY){var W=m.index,z=K.add.lmfx[aU.JS[W[0]]].v[W[1]].v;
z.enab.v=!z.enab.v;K.t.pS=!0;g.X()}if(L==x.WR){var u=g._[m.IpC],N=g._[m.Ipv],b=m.IVM,B=m.IV_;if(b=="")delete u.add.lmfx;
else u.add.lmfx=JSON.parse(b);if(B=="")delete N.add.lmfx;else N.add.lmfx=JSON.parse(B);u.t.pS=!0;N.t.pS=!0;
g.X()}if(L==x.wO){var h=K.add.SoLd.filterFX.v.filterFXList.v[m.index].v;h.enab.v=!h.enab.v;K.Qw(g);g.X()}if(L==x.Ivc){K.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(m.IoF));
K.Qw(g);g.X()}if(L==x.xD){var n=K.WN();n._m=!n._m}if(L==x.dB){var n=K.add.vmsk;n._m=!n._m}if(L==x.dF){var A=m.fC;
for(var R=0;R<A.length;R+=2){var e=A[R],q=e>=0?g._[e]:g.pc[-1-e];q.add.vogk=JSON.parse(A[R+1]);I.xV.hw(q.add.vogk,q.add.vmsk);
if(e>=0)q.Zh(g)}g.X()}if(L==x.dW){K.add.artb=JSON.parse(m.IVN);g.X()}if(L==x.qg){g.I=m.CG;g.Qj=m.fC.slice(0);
g.gW=m.uC.slice(0);g.Oi=g.$F=!0}if(L==x.XD){var c=m.IVP;for(var R=0;R<c.length;R++)g._[R].Id=c[R]}if(L==x.ZN){if(m.qy)g.N=m.qy;
if(m.lj)g.I=m.lj[0];g.Sg=null;g.X();g.rZ(m.$e)}if(L==x.lp){aJ._I.nD(g,K);if(m.cy)aJ._I.me(g,K,m.cy);
if(m.lj){var a=m.lj[0];if(a==null)delete g.I;else g.I=a}}if(L==x.dG){aJ._I.nD(g,g._[m.Ho]);aJ._I.me(g,g._[m.src],m.s)}if(L==x.XJ){aJ._I.me(g,K,m.s)}if(L==x.Wl){K.lI(g).s=null;
K.X();g.X()}if(L==x.WS){K.lI(g).s=m.s;K.X();g.X()}if(L==x.wE){aJ._I.IQh(g,m.wt,0)}if(L==x.qn){aJ._I.AT(g,K,!0)}if(L==x.dT){aJ._I.AT(g,g._[m.Ho],m.s.isEnabled);
aJ._I.Ai(g,g._[m.src],m)}if(L==x.Xi){aJ._I.Ai(g,K,m)}if(L==x.Wm){g.Io=JSON.parse(m.HM)}if(L==x.wm){g.name=m.cz}if(L==x.BH){K.vZ(m.cz);
if(m.IJS)K.add.lnsr=m.IJS;else delete K.add.lnsr}if(L==x.BP){for(var R=0;R<m._.length;R++)g._[m._[R]].add.lclr=m.I$R[R]}if(L==x.hr){var $=m.IJh;
for(var R=0;R<m.gK.length;R++){var q=g._[m.gK[R]],G=$[R];if(!m.Xl)q.add.vstk=JSON.parse(JSON.stringify(G));
else l.Wc.AL(q,JSON.parse(JSON.stringify(G)));q.uH(g)}g.X()}if(L==x.WO){K.IQ_(m.rW);K.Zh(g);g.X()}g.qb=!0};
aJ._I.prototype.ao=function(m,g){var L=m.P,K=g._[m.A];if(L==x.DN){g.add.lnk2.splice(g.add.lnk2.indexOf(m.fA),1,m.fH);
aJ._I.IJf(g,m.id,m.fA.E_[1],m.fH.E_[1])}if(L==x.qP){var r=JSON.parse(m.gK);for(var R=0;R<r.length;R++)g._[r[R]].TZ=m.cC;
g.X()}if(L==x.QS){var r=JSON.parse(m.gK);for(var R=0;R<r.length;R++)g._[r[R]].opacity=m.cC;g.X()}if(L==x.Xb){K.add.lspf=m.cC}if(L==x.ds){var Q=m.IRq,F=m.fD;
delete K.add[Q[0]];if(F[0]!="----")K.add[F[0]]=F[1]}if(L==x.xi){K.add.iOpa=m.cC;g.X()}if(L==x.ZU){for(var R=0;
R<m.gK.length;R++){var q=g._[m.gK[R]];q.Vd(!q.WP())}g.X()}if(L==x.qS){var n=K.WN();n.isEnabled=!n.isEnabled;
K.Zh(g);g.X()}if(L==x.xR){var n=K.lI(g).s;n.isEnabled=!n.isEnabled;K.X();g.X()}if(L==x.XL){var n=K.add.vmsk;
n.isEnabled=!n.isEnabled;if(!n.isEnabled){if(K.Th){K.s=K.Th;K.Th=null}else K.s=null}else if(K.s){K.Th=K.s;
K.s=null}K.Zh(g);g.X()}if(L==x.QB){K.OG=!K.OG;g.X()}if(L==x.xC){K.add.lmfx.masterFXSwitch.v=!K.add.lmfx.masterFXSwitch.v;
K.t.pS=!0;g.X()}if(L==x.wJ){K.add.SoLd.filterFX.v.enab.v=!K.add.SoLd.filterFX.v.enab.v;K.Qw(g);g.X()}if(L==x.xY){var W=m.index,z=K.add.lmfx[aU.JS[W[0]]].v[W[1]].v;
z.enab.v=!z.enab.v;K.t.pS=!0;g.X()}if(L==x.WR){var u=g._[m.IpC],N=g._[m.Ipv],b=m.IVv,B=m.IVH;if(b=="")delete u.add.lmfx;
else u.add.lmfx=JSON.parse(b);if(B=="")delete N.add.lmfx;else N.add.lmfx=JSON.parse(B);u.t.pS=!0;N.t.pS=!0;
g.X()}if(L==x.wO){var h=K.add.SoLd.filterFX.v.filterFXList.v[m.index].v;h.enab.v=!h.enab.v;K.Qw(g);g.X()}if(L==x.Ivc){K.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(m.Iog));
K.Qw(g);g.X()}if(L==x.xD){var n=K.WN();n._m=!n._m}if(L==x.dB){var n=K.add.vmsk;n._m=!n._m}if(L==x.dF){var A=m.px;
for(var R=0;R<A.length;R+=2){var e=A[R],q=e>=0?g._[e]:g.pc[-1-e];q.add.vogk=JSON.parse(A[R+1]);I.xV.hw(q.add.vogk,q.add.vmsk);
if(e>=0)q.Zh(g)}g.X()}if(L==x.dW){K.add.artb=JSON.parse(m.Mj);g.X()}if(L==x.qg){g.I=m.XB;g.Qj=m.px.slice(0);
g.gW=m.uE.slice(0);g.Oi=g.$F=!0}if(L==x.XD){var c=m.IVs;for(var R=0;R<c.length;R++)g._[R].Id=c[R]}if(L==x.ZN){var a=m.lx,$=0,G;
for(var R=0;R<a.length;R++){var q=a[R],o=q.add.lsct;if(o==Ra.vc)$++;else if(o==Ra.lG||o==Ra.Ha)$--;if(q.add.artb&&$!=0)G="Artboards can not be inside folders."}if(G){g.history.pop();
g.CR--;alert(G);return}if(m.QK)g.N=m.QK;if(m.lj)g.I=m.lj[1];g.Sg=null;g.X();g.rZ(m.lx)}if(L==x.lp){if(m.cy)aJ._I.nD(g,K);
aJ._I.me(g,K,m.s);if(m.lj){var H=m.lj[1];if(H==null)delete g.I;else g.I=H}}if(L==x.dG){aJ._I.nD(g,g._[m.src]);
aJ._I.me(g,g._[m.Ho],m.s)}if(L==x.XJ){aJ._I.nD(g,K)}if(L==x.Wl){K.lI(g).s=m.s;K.eF=0;K.X();g.X()}if(L==x.WS){K.lI(g).s=null;
K.eF=0;K.X();g.X()}if(L==x.wE){aJ._I.IQh(g,m.wt,1)}if(L==x.qn){aJ._I.Ai(g,K,m)}if(L==x.dT){aJ._I.AT(g,g._[m.src],m.s.isEnabled);
aJ._I.Ai(g,g._[m.Ho],m)}if(L==x.Xi){aJ._I.AT(g,K,m.s.isEnabled)}if(L==x.Wm){g.Io=JSON.parse(m.ex)}if(L==x.wm){g.name=m.jP}if(L==x.BH){K.vZ(m.jP);
if(m.IJi)K.add.lnsr=m.IJi;else delete K.add.lnsr}if(L==x.BP){for(var R=0;R<m._.length;R++)g._[m._[R]].add.lclr=m.I$w[R]}if(L==x.hr){var f=m.YU;
for(var R=0;R<m.gK.length;R++){var q=g._[m.gK[R]],E=f[R];if(!m.Xl)q.add.vstk=JSON.parse(JSON.stringify(E));
else l.Wc.AL(q,JSON.parse(JSON.stringify(E)));q.uH(g)}g.X()}if(L==x.WO){K.IQ_(m.cC);K.Zh(g);g.X()}g.qb=!0};
aJ._I.IkC=function(m,g){var L=0;for(var K=0;K<m._.length;K++){var r=m._[K].getName();if(r.startsWith(g)){var R=r.slice(g.length).trim(),Q=parseInt(R);
if(!isNaN(Q)&&Q+""==R)L=Q}}return L};aJ._I.IQh=function(m,g,L){for(var K=0;K<g.length;K++){var r=g[K],R=m._[r.Jx];
if(r.$Q){R.add.SoLd=JSON.parse(r.$Q[L])}if(r.kK){if(r.kK[1-L]!=null)m.Mq(r.kK[1-L]);if(r.kK[L]!=null)m.QA(r.kK[L]);
else R.eF=0}R.lQ(m)}};aJ._I.Imm=function(m,g){var L=m.D_,K=m.rect.clone();if(L!=null&&(L.x!=g.j||L.y!=g.F)){K.x=Math.floor((g.j-K.j)/2);
K.y=Math.floor((g.F-K.F)/2)}return K};aJ._I.nD=function(m,g){if(g.Th)g.Th=null;else g.s=null;g.Zh(m);
m.X();g.eF=0};aJ._I.me=function(m,g,L){if(g.s)g.Th=L;else g.s=L;g.Zh(m);m.X()};aJ._I.AT=function(m,g,L){if(g.Th&&L){g.s=g.Th;
g.Th=null}else if(g.s&&L){g.s=null}delete g.add.vogk;delete g.add.vstk;delete g.add.vmsk;g.Zh(m);g.Gu=!1;
m.X()};aJ._I.Ai=function(m,g,L){g.add.vogk=JSON.parse(L.xV);if(L.WL)g.add.vstk=JSON.parse(L.WL);else delete g.add.vstk;
g.add.vmsk=L.s.clone();if(g.s&&g.add.vmsk.isEnabled)g.Th=g.s;g.Zh(m);g.Gu=L.cs;m.X()};aJ.dE=function(){aJ.de.call(this,l.CO);
this.RN=null;this.Xe=null;this.lO=null;this.WV=[];this.fu=null};aJ.dE.prototype=new aJ.de;aJ.dE.prototype.VH=function(m,g,L,K,r){var R=L._[m.A],Q=m.Bj,q=null;
if(this.RN==null){this.lO=aJ.dE.q_(L,R);this.RN=JSON.stringify(this.lO);if(R.add.lmfx)this.Xe=JSON.stringify(R.add.lmfx)}if(R.add.lmfx==null){R.add.lmfx=JSON.parse(aU.default);
for(var F=0;F<aU.order.length;F++)R.add.lmfx[aU.JS[F]]={t:"VlLs",v:[]}}if(m.P=="changeprop"){if(Q!=0){var n=this.WV[Q[0]];
if(n==null)n=aU.WV[Q[0]];n=JSON.parse(n);var W=R.add.lmfx[aU.JS[Q[0]]].v;if(W[Q[1]]==null)W[Q[1]]={t:"Objc",v:n};
q=W[Q[1]].v;for(var z in n)if(q[z]==null)q[z]=n[z]}if(m.P=="changeprop"){if(Q==0){this.lO[m.SN].v=m.U;
aJ.dE.mK(L,R,this.lO)}else if(m.SN=="lagl"){if(q.uglg&&q.uglg.v){L.Wu(m.U.val);this.lO.Ilv=L.jq()}else q[m.SN].v=m.U}else if(m.SN=="Lald"){if(q.uglg.v){L.WW(m.U.val);
this.lO.Ily=L.wd()}else q[m.SN].v=m.U}else if((Q[0]==3||Q[0]==8)&&(m.SN=="Clr"||m.SN=="Grad")){if(m.SN=="Clr"){q.Clr={t:"Objc",v:m.U};
delete q.Grad}if(m.SN=="Grad"){q.Grad={t:"Objc",v:m.U};delete q.Clr}}else{q[m.SN].v=m.U}if(Q!=0)this.WV[Q[0]]=JSON.stringify(q)}if(Q!=0)if(q.Ptrn)L.Zn(ai.rP(q.Ptrn.v,r.Rr))}else if(m.P=="setstl"){var u=m.U.Lefx;
if(u)ai.IwN(u,L,r.Rr);ai.IoQ(m.U,R);this.lO=aJ.dE.q_(L,R)}else if(m.P=="st_dupsingle"){var N=R.add.lmfx[aU.JS[m.TP[0]]].v;
if(N[m.TP[1]]==null)return;var b=JSON.parse(JSON.stringify(N[m.TP[1]]));N.splice(m.TP[1],0,b)}else if(m.P=="st_movsingle"){var B=m.TP[1],N=R.add.lmfx[aU.JS[m.TP[0]]].v;
if(N[m.TP[1]]==null)return;var h=Math.max(0,Math.min(N.length-1,B+m.IGl)),A=N[h];N[h]=N[B];N[B]=A}else if(m.P=="cancel"){if(this.Xe==null)delete R.add.lmfx;
else R.add.lmfx=JSON.parse(this.Xe);aJ.dE.mK(L,R,JSON.parse(this.RN));this.RN=null;this.Xe=null}else if(m.P=="confirm"){var e=new aP([11,6],this);
e.data={_:[m.A],YI:[this.Xe],Yq:[JSON.stringify(R.add.lmfx)],Yp:[this.RN],Yx:[JSON.stringify(this.lO)]};
L.wM(e);this.RN=null;this.Xe=null}else if(m.P=="st_copy"){this.fu=[this.RN,this.Xe];this.RN=null;this.Xe=null}else if(m.P=="st_paste"||m.P=="st_clear"){if(m.P=="st_paste"&&this.fu==null)return;
var c=L.N.indexOf(m.A)==-1?[m.A]:L.N.slice(0),a=[],$=[],G=[],o=[];for(var F=0;F<c.length;F++){var R=L._[c[F]],H=aJ.dE.q_(L,R);
a.push(R.add.lmfx?JSON.stringify(R.add.lmfx):null);G.push(JSON.stringify(H));if(m.P=="st_paste"){$.push(this.fu[1]);
o.push(this.fu[0])}else{$.push(null);H.lrMd.v=0;H.Opct.v.val=100;H.iOpa.v.val=100;H.blIf={v:[]};for(var f=0;
f<10;f++)H.blIf.v.push(0,0,255,255);o.push(JSON.stringify(H))}}var e=new aP([11,6],this);e.data={_:c,YI:a,Yq:$,Yp:G,Yx:o};
this.ao(e.data,L);L.wM(e);this.RN=null;this.Xe=null}else{var E=this.lO,S=null;if(m.P=="st_delsingle"){S=JSON.parse(this.Xe);
S[aU.JS[m.TP[0]]].v.splice(m.TP[1],1);S=JSON.stringify(S)}if(S==null)delete R.add.lmfx;else R.add.lmfx=JSON.parse(S);
if(E!=null)aJ.dE.mK(L,R,E);var e=new aP([11,6],this);e.data={_:[m.A],YI:[this.Xe],Yq:[S],Yp:[this.RN],Yx:[JSON.stringify(E)]};
L.wM(e);this.RN=null;this.Xe=null}R.t.pS=!0;L.X()};aJ.dE.q_=function(m,g){if(g.add.iOpa==null)g.add.iOpa=255;
var L=g.EY()?["pass"].concat(ad.go):ad.go;return{lrMd:{v:L.indexOf(g.TZ)},Opct:{v:{type:"#Prc",val:Math.round(g.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(g.add.iOpa*100/255)},t:"UntF"},blIf:{v:g.PT.slice(0)},Ilv:m.jq(),Ily:m.wd(),EY:g.EY()}};
aJ.dE.mK=function(m,g,L){var K=g.EY()?["pass"].concat(ad.go):ad.go;g.TZ=K[L.lrMd.v];g.opacity=Math.round(L.Opct.v.val*255/100);
g.add.iOpa=Math.round(L.iOpa.v.val*255/100);g.PT=L.blIf.v.slice(0);m.Wu(L.Ilv);m.WW(L.Ily)};aJ.dE.prototype.Kq=function(m,g){for(var L=0;
L<m._.length;L++){var K=g._[m._[L]],r=m.YI[L];if(r==null)delete K.add.lmfx;else K.add.lmfx=JSON.parse(r);
aJ.dE.mK(g,K,JSON.parse(m.Yp[L]));K.t.pS=!0}g.X()};aJ.dE.prototype.ao=function(m,g){for(var L=0;L<m._.length;
L++){var K=g._[m._[L]],r=m.Yq[L];if(r==null)delete K.add.lmfx;else K.add.lmfx=JSON.parse(r);aJ.dE.mK(g,K,JSON.parse(m.Yx[L]));
K.t.pS=!0}g.X()};aJ.va=function(){aJ.de.call(this,l.gk)};aJ.va.prototype=new aJ.de;aJ.va.prototype.VH=function(m,g,L,K){var r=JSON.parse(JSON.stringify(L._x)),R=JSON.parse(JSON.stringify(L._x)),Q=null,F=null,q=null,n=-1,W=!1;
if(m.P=="delLC"){var z=aJ.va.AN(L._x,m.Bj),u=L._x.lastAppliedComp?L._x.lastAppliedComp.v:0;R.list.v.splice(z,1);
if(u==m.Bj)delete R.lastAppliedComp;Q="Delete Layer Comp"}if(m.P=="editLC"){var z=aJ.va.AN(L._x,m.Bj),N=R.list.v[z].v;
if(m.jP!=null)N.Nm.v=m.jP;if(m.IGy!=null){var b=m.IGy,B=N.capturedInfo.v,h=B&(1<<b)-1;B=B>>b;if((B&1)==1)B--;
else B++;N.capturedInfo.v=(B<<b)+h}Q="Layer Comp properties"}if(m.P=="setLC"){aJ.va.Ah(L);if(m.Bj==0)delete R.lastAppliedComp;
else R.lastAppliedComp={t:"long",v:m.Bj};Q="Switch Layer Comp";W=!0}if(m.P=="updLC"){aJ.va.Ah(L);F=aJ.va.IRb(L,m.Bj);
q=aJ.va.iR(L,m.Bj);R.lastAppliedComp={t:"long",v:m.Bj};Q="Update Layer Comp";n=m.Bj;W=!0}if(m.P=="addLC"){aJ.va.Ah(L);
var A=1;for(var e=0;e<R.list.v.length;e++)A=Math.max(A,R.list.v[e].v.compID.v)+1;A+=Math.floor(Math.random()*1e4);
var c={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(R.list.v.length+1)},compID:{t:"long",v:A},capturedInfo:{t:"long",v:7}}};
R.list.v.push(c);R.lastAppliedComp={t:"long",v:A};Q="New Layer Comp";var a=aJ.va.iR(L,A);aJ.va.HR(L,a,A)}var $=new aP(Q,this);
$.data={I$L:r,I$J:R,ITf:F,IkR:q,Bj:n,dV:W};this.ao($.data,L);L.wM($)};aJ.va.prototype.ao=function(m,g){g._x=m.I$J;
g.$F=!0;if(m.IkR)aJ.va.HR(g,m.IkR,m.Bj);if(m.dV){var L=g._x.lastAppliedComp?g._x.lastAppliedComp.v:0,K=aJ.va.AN(g._x,L),r=K==-1?null:g._x.list.v[K].v,R=r?r.capturedInfo.v:7;
aJ.va.Ay(g,L,R);g.X()}};aJ.va.prototype.Kq=function(m,g){g._x=m.I$L;g.$F=!0;if(m.ITf)aJ.va.HR(g,m.ITf,m.Bj);
if(m.dV){var L=g._x.lastAppliedComp?g._x.lastAppliedComp.v:0,K=aJ.va.AN(g._x,L),r=K==-1?null:g._x.list.v[K].v,R=r?r.capturedInfo.v:7;
aJ.va.Ay(g,L,R);g.X()}};aJ.va.Ah=function(m){if(m._x.lastAppliedComp!=null||!m.Yw)return;var g=aJ.va.iR(m,0);
aJ.va.HR(m,g,0);m.Yw=!1};aJ.va.AH=function(m,g,L){m.v.Hrzn.v+=g;m.v.Vrtc.v+=L};aJ.va.AN=function(m,g){var L=m.list.v;
for(var K=0;K<L.length;K++)if(L[K].v.compID.v==g)return K;return-1};aJ.va.IRN=function(m){var g=m.layerSettings.v,r=null;
if(g.length==0)return;var L="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),K=g[0].v;
if(K.enab==null)K.enab={t:"bool",v:!0};if(K.Ofst==null)K.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var R=0;R<g.length;R++){var Q=g[R].v;if(r==null)r=JSON.parse(JSON.stringify(Q));else for(var F=0;
F<L.length;F++){var q=L[F];if(Q[q])r[q]=JSON.parse(JSON.stringify(Q[q]))}g[R].v=JSON.parse(JSON.stringify(r))}};
aJ.va.Iis=function(m,g){var L=m.add.shmd.cmls,K=L.layerSettings.v;for(var r=0;r<K.length;r++){var R=K[r].v,Q=R.compList.v[0].v;
if(Q==g)return r}return-1};aJ.va.IMy=function(m,g){var L=aJ.va.Iis(m,g);return L==-1?null:m.add.shmd.cmls.layerSettings.v[L].v};
aJ.va.Ay=function(m,g,L){for(var K=0;K<m._.length;K++){var r=m._[K],R=r.add.shmd.cmls;if(R==null)continue;
var Q=R.layerSettings.v,F=aJ.va.IMy(r,g);if(F==null){r.Vd(!1);continue}if((L&1)!=0){if(F.enab)r.Vd(F.enab.v);
else r.Vd(!0)}if((L&2)!=0){if(F.Ofst){var q=F.Ofst.v,n=r.vk(m),W=Math.round(q.Hrzn.v-n.x),z=Math.round(q.Vrtc.v-n.y);
if(W!=0||z!=0)l.Bc.AQ(m,[K],null,W,z)}}if((L&4)!=0){if(F.Lefx){var u=JSON.parse(JSON.stringify(F.Lefx.v));
mj.$V(u);if(JSON.stringify(u)!=JSON.stringify(r.add.lmfx)){r.add.lmfx=u;r.t.pS=!0}}else delete r.add.lmfx;
if(F.blendOptions){var N=F.blendOptions.v;if(N.Opct)r.opacity=Math.round(255*N.Opct.v.val/100);if(N.Md)r.TZ=r.add.lsct==Ra.vc?"norm":ad._D(N.Md.v.BlnM)}else{r.opacity=255;
r.TZ=r.EY()?"pass":"norm"}}}};aJ.va.IRb=function(m,g){var L={};for(var K=0;K<m._.length;K++){var r=m._[K];
if(r.add.shmd==null||r.add.shmd.cmls==null)continue;L["l"+r.add.lyid]=JSON.parse(JSON.stringify(aJ.va.IMy(r,g)))}return L};
aJ.va.iR=function(m,g){var L={};for(var K=0;K<m._.length;K++){var r=m._[K],R=r.add.lyid;L["l"+R]=aJ.va.IUe(m,r,g)}return L};
aJ.va.IUe=function(m,g,L){var K=g.add.shmd?g.add.shmd.cmls:null,r={classID:"null"},R=g.vk(m),Q={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:R.x},Vrtc:{t:"long",v:R.y}}};
r.compList={t:"VlLs",v:[{t:"long",v:L}]};r.enab={t:"bool",v:g.WP()};r.Ofst=JSON.parse(JSON.stringify(Q));
r.FXRefPoint=JSON.parse(JSON.stringify(K&&K.origFXRefPoint?K.origFXRefPoint:Q));r.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:ad.EE(g.TZ)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*g.opacity/255}}}};
if(g.add.vmsk){r.vectorMask={t:"Objc",v:{classID:"null"}};r.vectorMask.v.Ofst=JSON.parse(JSON.stringify(Q))}if(g.add.lmfx){r.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(g.add.lmfx))};
mj.J$(r.Lefx.v)}return r};aJ.va.ImR=function(m,g){var L=g.add.lyid;if(g.add.shmd==null)g.add.shmd={};
if(g.add.shmd.cmls==null){g.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:L},layerSettings:{t:"VlLs",v:[{t:"Objc",v:aJ.va.IUe(m,g,0)}]}}}};
aJ.va.HR=function(m,g,L){for(var K=0;K<m._.length;K++){var r=m._[K],R=r.add.lyid;aJ.va.ImR(m,r);var Q=r.add.shmd.cmls,F=Q.layerSettings.v,q=g["l"+R];
if(q!=null)q={t:"Objc",v:JSON.parse(JSON.stringify(q))};var n=aJ.va.Iis(r,L);if(n==-1){if(q==null)continue;
else F.push(q)}else{if(q==null)F.splice(n,1);else F[n]=q}}};aJ.va.im=function(m,g){for(var L=0;L<m._.length;
L++){var K=m._[L],r=K.add.lyid;if(K.add.shmd==null||K.add.shmd.cmls==null)continue;var R=K.vk(m),Q=Math.round(R.x),F=Math.round(R.y);
if(!g){Q=-Q;F=-F}var q=K.add.shmd.cmls,n=q.layerSettings.v;if(q.origFXRefPoint)aJ.va.AH(q.origFXRefPoint,-Q,-F);
for(var W=0;W<n.length;W++){var z=n[W].v;aJ.va.AH(z.Ofst,Q,F);var u=z.imageMask,N=z.vectorMask;if(u&&u.v.Ofst)aJ.va.AH(u.v.Ofst,Q,F);
if(N&&N.v.Ofst)aJ.va.AH(N.v.Ofst,Q,F)}}};aJ.gL=function(){aJ.de.call(this,l.fy);this.ex=null;this.$c=null};
aJ.gL.prototype=new aJ.de;aJ.gL.Hi=function(m,g,L,K){if(K)g/=4;var r=0,R=0,Q=255,F=0,q=0,n=255;while(R+m[r]<g){R+=m[r];
r++}while(F+m[Q]<g){F+=m[Q];Q--}if(K){r-=Math.round(m[r]/(L/32));Q+=Math.round(m[Q]/(L/32));if(r<0)q=Math.round(-r*255/(Q-r));
if(Q>255)n=255-Math.round((Q-255)*255/(Q-r))}return[Math.max(r,0),Math.min(Q,255),q,n,100]};aJ.gL.prototype.VH=function(m,g,L,K,r){var R=m.P;
if(R=="auto"){var Q=m.YL,F=aJ.gL.getData(L);for(var q=0;q<F.length;q++){var n=F[q],W;if(Q<3){}else{var z=aN.Rw("hue2");
In.dI(z,0,[0,-100,0]);W=qE.Ik("hue2",z)}qE.qK(W,n.$O,n.lY,n.l)}aJ.gL.iG(L,F);aJ.gL.iw(L,F,Q<3?[4,16,Q]:[19,7,0],this);
L.X()}if(R=="edit_layer")this.Img(m,g,L,K);if(R=="edit"||R=="confirm"||R=="cancel")this.ix(m,g,L,r,!0);
if(R=="start"){if(L.N.length==0)return;var u=L._[L.N[0]];if(u.add.SoLd&&u.eF<=0){var N=new Y(p.E.B,!0);
N.K=l.VJ;N.data={P:"start",le:m.q$};g.g(N);return}if(!L.WH())return;if(O[m.q$]&&m.nw==null){if(L.N.length!=1)alert("Will be applied to "+L.N.length+" layers.");
var N=new Y(p.E.V,!0);N.data={P:p.o.My,OT:"afw_"+m.q$};g.g(N)}else{this.ix({P:"edit",nw:m.nw,le:m.q$},g,L,r);
this.ix({P:"confirm",le:m.q$},g,L,r)}}};aJ.gL.prototype.Img=function(m,g,L,K){var r=m.P,R=L.N[0],Q=L._[R],F=L.history[L.CR],q;
if(F&&F.K==this&&F.data.rW!=null&&F.data.A==R)q=F;else{var n=new Y(p.E.VG,!0),W={classID:"setd",null:RL.c$("AdjL",!0),T:{t:"Objc",v:m.U}};
n.data={iM:!0,Qm:"set",XX:W};g.g(n);var q=new aP([6,39],this),z=qE.get(Q.add);q.data={A:R,rW:Q.add[z],cC:m.U,cW:W};
L.wM(q)}q.data.cC=m.U;q.data.cW.T.v=m.U;this.ao(q.data,L)};aJ.gL.getData=function(m,g,L){var K=[],r=new v(0,0,m.j,m.F),R=m.gW.length!=0?[-1-m.gW[0]]:m.N;
for(var Q=0;Q<R.length;Q++){var F=R[Q],q=F<0?null:m._[F],n={A:F,$y:F<0?1:q.eF};K.push(n);var W=m.Qj[-1-F];
if(0<=F)W=q.eF<=0?null:q.eF==1?q.WN():q.lI(m).s;var z=W?W.rect:q.rect;if(m.I)n.l=W!=null?m.I.rect.my(r):m.I.rect.my(z);
else n.l=g||W!=null?z.uM(r):z.clone();if(L)n.l=L[Q].l.clone();var u=n.l.c();n.$O=I.m(u*4);if(W)l.jx.PW(W.channel,W.rect,W.color,n.$O,n.l);
else I.pq(q.buffer,z,n.$O,n.l);n.lY=n.$O.slice(0);if(m.I){n.WG=I.m(u);I.Cp(m.I.channel,m.I.rect,n.WG,n.l)}}return K};
aJ.gL.ImK=function(m,g,L){if(g==null)return g;var K=qE.k_(m,g),R;if(K==-1)return g;var r=L.length>>>2,Q=I.Oh(L),F=.001*r;
if(K==0||K==2)R=[[0,255,0,255,100],aJ.gL.Hi(Q[1],F,r,K==2),aJ.gL.Hi(Q[2],F,r,K==2),aJ.gL.Hi(Q[3],F,r,K==2)];
if(K==1)R=[aJ.gL.Hi(Q[0],F*.33,r,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var q=aN.Rw("levl");
for(var n=0;n<4;n++)qC.dI(q,n,R[n]);return q};aJ.gL.prototype.ix=function(m,g,L,K){if(this.ex==null)this.ex=aJ.gL.getData(L,null,m.le=="fade"?L.oC().data:null);
if(m.P=="edit"){this.$c=[m.le,m.nw];var r=this.ex[0],R=aJ.gL.ImK(m.le,m.nw,r.$O),Q=qE.Ik(m.le,R);if(m.le=="fade")Q=m.nw;
if(Q!=null){for(var F=0;F<this.ex.length;F++){var q=this.ex[F];if(m.Wi)I.jR(q.$O,q.lY);else if(m.le=="fade"){var n=ad._D(m.nw.Md.v.BlnM),W=m.nw.Opct.v.val/100,z=L.oC().data[F];
I.jR(z.$O,q.lY);if(n=="norm")I.h.oH(q.$O,q.l,q.lY,q.l,null,null,null,q.l,W);else{var u=ai.hb();u.XA=!0;
for(var F=0;F<z.$O.length;F+=4)if(z.$O[F+3]!=q.$O[F+3]){u=null;break}I.h.dq(n,q.$O,q.l,q.lY,q.l,q.l,W,u)}}else qE.qK(Q,q.$O,q.lY,q.l)}aJ.gL.iG(L,this.ex)}}if(m.P=="cancel"){aJ.gL.IkZ(L,this.ex);
this.ex=null}if(m.P=="confirm"){var N=m.le=="fade"?[2,11]:qE.names[m.le],b=qE.k_(m.le,this.$c[1]);if(b!=-1)N=[4,16,b];
aJ.gL.iw(L,this.ex,N,this);this.ex=null;if(b==-1)aJ.gL.IwK(g,this.$c)}L.X()};aJ.gL.IwK=function(m,g){var L=g[0],K=g[1],r,R;
if(qE.wZ[L]){r=qE.wZ[L];if(O[L])R=K}if(aN.wZ[L]){r=aN.wZ[L];if(O[L])R=K}if(r==null)return;var Q=new Y(p.E.VG,!0);
Q.data={iM:!0,Qm:r};if(R){R=JSON.parse(JSON.stringify(R));R.classID="null";delete R.__name;Q.data.XX=R}m.g(Q)};
aJ.gL.IkZ=function(m,g){aJ.gL.nx(m,g)};aJ.gL.iw=function(m,g,L,K){for(var r=0;r<g.length;r++){var R=g[r],Q=m._[R.A],F=R.A<0?m.Qj[-1-R.A]:R.$y<=0?null:R.$y==1?Q.WN():Q.lI(m).s;
if(F){F.qV();F.gg=!0;if(Q)Q.Zh(m)}else{Q.qV();Q.X()}delete R.lY;delete R.WG}var q=new aP(L,K);q.data=g;
m.wM(q)};aJ.gL.iG=function(m,g,L){for(var K=0;K<g.length;K++){var r=g[K],R=m._[r.A],Q=L?r.$O:r.lY,F=r.l;
if(r.$y==0){R.extend(F);if(r.WG){I.pq(r.$O,F,R.buffer,R.rect);I.h.oH(Q,F,R.buffer,R.rect,r.WG,F,0,F,1)}else I.pq(Q,F,R.buffer,R.rect)}else{var q=r.A<0?m.Qj[-1-r.A]:r.$y==1?R.WN():R.lI(m).s;
q.extend(F);if(r.WG){var n=I.m(F.c()*4);I.jR(r.$O,n);I.h.oH(Q,F,n,F,r.WG,F,0,F,1);l.jx.gs(n,F,q)}else l.jx.gs(Q,F,q);
q.gg=!0;if(R)R.Zh(m)}if(R)R.X()}if(!L)aJ.gL.Imi(m,g)};aJ.gL.nx=function(m,g){for(var L=0;L<g.length;
L++){var K=g[L],r=m._[K.A],R=K.l,Q=I.m(R.c()*4);if(K.$y==0){I.pq(r.buffer,r.rect,Q,R);r.extend(R);I.pq(K.$O,R,r.buffer,r.rect);
r.qV()}else{var F=K.A<0?m.Qj[-1-K.A]:K.$y==1?r.WN():r.lI(m).s;l.jx.PW(F.channel,F.rect,F.color,Q,R);
F.extend(R);l.jx.gs(K.$O,R,F);F.qV();F.gg=!0;if(r)r.Zh(m)}K.$O=Q;if(r)r.X()}};aJ.gL.Imi=function(m,g){var L=aJ.gL.IJd(m),K=~L;
if(L==16777215)return;for(var r=0;r<g.length;r++){var R=g[r],Q=m._[R.A],F=R.l;if(R.$y!=0)continue;Q.extend(F);
var q=F.x-Q.rect.x,n=F.y-Q.rect.y,W=Q.rect.j,z=new Uint32Array(R.$O.buffer),u=new Uint32Array(Q.buffer.buffer);
for(var N=0;N<F.F;N++)for(var b=0;b<F.j;b++){var B=N*F.j+b,h=(N+n)*W+(b+q);u[h]=u[h]&L|z[B]&K}Q.qV();
Q.X()}m.X()};aJ.gL.IJd=function(m){var g=m.L.WY;return g[2]*16711680|g[1]*65280|g[0]*255};aJ.gL.prototype.Kq=function(m,g){var L=g._[m.A];
if(m.rW!=null)L.add[qE.get(L.add)]=m.rW;else aJ.gL.nx(g,m);g.X()};aJ.gL.prototype.ao=function(m,g){var L=g._[m.A];
if(m.rW!=null)L.add[qE.get(L.add)]=m.cC;else aJ.gL.nx(g,m);g.X()};aJ.Ds=function(){aJ.de.call(this,l.VJ);
this.ex=null;this.IU=null;this.P=null;this.$c=null};aJ.Ds.prototype=new aJ.de;aJ.Ds.prototype.VH=function(m,g,L,K,r){if(m.P=="start"){if(L.N.length==0)return;
var R=L._[L.N[0]];if(R.add.SoLd&&R.eF<=0){}else if(!L.WH())return;var Q=m.le;if((O[Q]||aN.Bl[Q])&&m.nw==null){if(L.N.length!=1)alert("Will be applied to "+L.N.length+" layers.");
var F=new Y(p.E.V,!0);F.data=aJ.Ds.ITm(Q,this.in(L,Q));g.g(F)}else{var q={P:"edit",le:Q,nw:m.nw,Tk:this.in(L)};
this.VH(q,g,L,K,r);q.P="confirm";delete q.nw;this.VH(q,g,L,K,r)}}if(m.P=="edit"||m.P=="cancel"||m.P=="confirm"){if(m.P=="edit")this.$c=[m.le,m.nw];
if(m.Tk)this.ImA(m,L,r);else this.ImH(m,g,L,r)}if(m.P=="applylast"&&this.$c!=null){var q={P:"edit",le:this.$c[0],nw:this.$c[1],Tk:this.in(L)};
this.VH(q,g,L,K,r);q.P="confirm";delete q.nw;this.VH(q,g,L,K,r)}};aJ.Ds.ITm=function(m,g){var L=aN.Bl[m];
if(L)return{P:p.o.RI,K:L,ky:{Tk:g}};else return{P:p.o.My,OT:"afw_"+m,Tk:g}};aJ.Ds.prototype.in=function(m,g){var L=m._[m.N[0]],K;
if(L.add.SoLd&&L.eF<=0){K={A:m.N[0],index:0};if(L.add.SoLd.filterFX!=null){var r=L.add.SoLd.filterFX.v.filterFXList.v;
K.index=r.length;for(var R=0;R<r.length;R++)if(X.$f(r[R].v.filterID.v)==g&&aN.Bl[g])K.index=R}}return K};
aJ.Ds.prototype.ImA=function(m,g,L){var K=g._[m.Tk.A],r=m.le;if(m.P=="edit"){if(this.P==null){var R=aN.names[r];
if(R==null)R=qE.names[r];this.P=new aP(R,this);this.P.data={Tk:m.Tk,I$G:JSON.parse(JSON.stringify(K.add.SoLd))}}if(!K.zp()){K.add.SoLd.filterFX=aN.uK();
this.P.data.kK=aH.ImV(K.add.SoLd.placed.v);g.QA(this.P.data.kK);K.lQ(g)}var Q=K.add.SoLd.filterFX.v.filterFXList.v;
if(Q[m.Tk.index]==null){Q.push(aN.Ee(r,L))}if(m.nw){Q[m.Tk.index].v.enab.v=m.Wi!=!0;Q[m.Tk.index].v.Fltr.v=m.nw}this.P.data.I$o=JSON.parse(JSON.stringify(K.add.SoLd));
this.ao(this.P.data,g)}if(m.P=="cancel"){if(this.P)this.Kq(this.P.data,g);this.P=null}if(m.P=="confirm"){if(this.P)g.wM(this.P);
this.P=null}};aJ.Ds.prototype.nk=function(m){return{u:m>>>16,S:m>>>8&255,R:m&255}};aJ.Ds.prototype.ImH=function(m,g,L,K){if(this.ex==null){var r=aN.IRn(m.le,m.nw);
this.ex=aJ.gL.getData(L,r.x!=0||r.y!=0)}if(m.P=="edit"){var R=JSON.stringify(m.nw);if((m.nw==null||R!=this.IU)&&m.Wi!=!0)for(var Q=0;
Q<this.ex.length;Q++){var F=this.ex[Q],q={rect:F.l,buffer:F.$O},n={rect:F.l,buffer:F.lY};aN.qK(m.le,q,m.nw,this.nk(K.$q),this.nk(K._Q),n,[L.add.lnk2?L.add.lnk2:[],L._[L.N[0]].WN(),L.Qj]);
this.IU=R}aJ.gL.iG(L,this.ex,m.Wi)}if(m.P=="cancel"){aJ.gL.IkZ(L,this.ex);this.ex=null;this.IU=null}if(m.P=="confirm"){aJ.gL.iw(L,this.ex,aN.names[m.le],this);
this.ex=null;this.IU=null;aJ.gL.IwK(g,this.$c)}L.X()};aJ.Ds.prototype.Kq=function(m,g){if(m.Tk){var L=g._[m.Tk.A];
if(m.kK)g.Mq(m.kK);L.add.SoLd=JSON.parse(JSON.stringify(m.I$G));if(L.zp())L.Qw(g);else{L.lQ(g);L.eF=0}}else aJ.gL.nx(g,m);
g.X()};aJ.Ds.prototype.ao=function(m,g){if(m.Tk){var L=g._[m.Tk.A];if(m.kK)g.QA(m.kK);L.add.SoLd=JSON.parse(JSON.stringify(m.I$o));
if(L.zp())L.Qw(g);else L.lQ(g);if(!L.DW())L.$J+=32}else aJ.gL.nx(g,m);g.X()};var am={VA:"0",FE:"1",nV:"2",mW:"3",eg:"4",fT:"5",Ip:"6",nA:"7",B:"8",Wb:"8.5",Ix:"8.8",nb:"9",Iw:"10",mP:"11",Ej:"12",mf:"13",qv:"14",pD:"15",Tc:"21",He:"22",Il:"23",pL:"23.0",pG:"23.1",Hv:"23.2",ED:"23.3",iH:"23.4",Hh:"23.5",Hr:"23.6",IeG:"30",p_:"31",Hg:"40",pr:"41",pg:"42"};
am.KU={};am.KU[am.FE]=["abr","brushes",mQ,[9,3]];am.KU[am.nV]=["grd","gradients",mt,[12,37]];am.KU[am.mW]=["shc","contours",xR,[12,21]];
am.KU[am.eg]=["asl","styles",ps,[12,22]];am.KU[am.fT]=["pat","patterns",QX,[12,62]];am.KU[am.Ip]=["csh","shapes",qs,[12,77]];
am.KU[am.nA]=["aco","swatches",q$,[9,8]];am.KU[am.B]=["atn","actions",qT,[9,9]];am.KU[am.Wb]=["tpl","tpresets",DW,[9,12]];
am.KU[am.Ix]=["icc","profiles",qh,"ICCs"];function C(){this.GO={};this.Iq=0}C.prototype.reset=function(){this.GO={};
this.Iq=0};C.prototype.IpU=function(m){this.Iq++;this.GO[m]=!0};C.prototype.IpI=function(m){this.Iq--;
delete this.GO[m];if(this.Iq<=0||C.Bf(m,C.Ixq))this.reset()};C.prototype.a=function(m){for(var g=0;g<m.Qv.length;
g++)if(this.GO[m.Qv[g]])return!0;return!1};C.prototype.vQ=function(){var m=this,g=m.a(C.jU)?10:1,L=0,K=0;
if(m.a(C.Iwo))L=-g;if(m.a(C.ITt))L=g;if(m.a(C.pA))K=-g;if(m.a(C.py))K=g;return new jf(L,K)};C.prototype.km=function(){var m=this,g=C.uG;
for(var L=0;L<10;L++)if(m.a(g[L]))return L;return-1};C.Bf=function(m,g){return g.Qv.indexOf(m)!=-1};
C.IVh=function(m){var g=m.code,r=!1;if(g=="")return!1;var L=C.Bf,K=C.uG.concat([C.Dw,C.Hz,C.uR,C.ko]);
for(var R=0;R<K.length;R++)if(L(g,K[R]))r=!0;if(m.altKey&&!m.shiftKey&&!m.ctrlKey&&r)return!1;return C.IRS.indexOf(g)==-1||m.shiftKey&&(g=="F5"||g=="F6")};
C.IBQ=function(m){var g=m.code;return g!=""&&(C.IRS.indexOf(g)==-1||m.shiftKey&&(g=="F5"||g=="F6"))};
C.Ipm=function(m){if(m==null)return"";var g=[];for(var L=0;L<m.length;L++)g.push(m[L].RZ);return g.join(" + ")};
C.IRS="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
C.IpW=function(m){var g={"+":"NumpadAdd","-":"NumpadSubtract"},L=m.code,K=m.key.toLowerCase(),r=K.charCodeAt(0);
if(K.length==1){if(97<=r&&r<=122&&L.startsWith("Key")&&L.toLowerCase().charCodeAt(3)!=r){var R="Key"+K.toUpperCase();
L=R}else if(g[K])L=g[K]}return L};C.xI={RZ:"Enter",Qv:["Enter","NumpadEnter"]};C.jU={RZ:"Shift",Qv:["ShiftLeft","ShiftRight"]};
C.Ixq={RZ:"Meta",Qv:["MetaLeft","MetaRight","OSLeft","OSRight"]};C.EZ={RZ:"Ctrl",Qv:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
C.qk={RZ:"Alt",Qv:["AltLeft","AltRight"]};C.IpX={RZ:"CtrlOrAlt",Qv:C.EZ.Qv.concat(C.qk.Qv)};C.rw={RZ:"Escape",Qv:["Escape"]};
C.vD={RZ:"Space",Qv:["Space"]};C.HN={RZ:"Tab",Qv:["Tab"]};C.Iph={RZ:"Home",Qv:["Home"]};C.IpH={RZ:"End",Qv:["End"]};
C.Iwo={RZ:"Left",Qv:["ArrowLeft"]};C.pA={RZ:"Up",Qv:["ArrowUp"]};C.ITt={RZ:"Right",Qv:["ArrowRight"]};
C.py={RZ:"Down",Qv:["ArrowDown"]};C.Dw={RZ:"+",Qv:["NumpadAdd","Equal"]};C.Hz={RZ:"-",Qv:["NumpadSubtract","Minus","Slash"]};
C.IpN={RZ:";",Qv:["Semicolon"]};C.IBa={RZ:"Dead",Qv:["Dead"]};C.IpP={RZ:"=",Qv:["Equal"]};C.Wg={RZ:"Backspace",Qv:["Backspace"]};
C.sY={RZ:"Delete",Qv:["Delete"]};C.Ipy={RZ:"Backslash",Qv:["Backslash","IntlBackslash"]};C.IDa={RZ:"Backquote",Qv:["Backquote"]};
C.uR={RZ:"[",Qv:["BracketLeft"]};C.ko={RZ:"]",Qv:["BracketRight"]};C.IxU={RZ:".",Qv:["Period"]};C.IxI={RZ:",",Qv:["Comma"]};
C.IxV={RZ:"'",Qv:["Quote"]};C.o={RZ:"A",Qv:["KeyA"]};C.Ivv={RZ:"B",Qv:["KeyB"]};C.nk={RZ:"C",Qv:["KeyC"]};
C.MN={RZ:"D",Qv:["KeyD"]};C.E={RZ:"E",Qv:["KeyE"]};C.l$={RZ:"F",Qv:["KeyF"]};C.IIl={RZ:"G",Qv:["KeyG"]};
C.IjB={RZ:"H",Qv:["KeyH"]};C.kT={RZ:"I",Qv:["KeyI"]};C.IaW={RZ:"J",Qv:["KeyJ"]};C.ez={RZ:"K",Qv:["KeyK"]};
C.dU={RZ:"L",Qv:["KeyL"]};C.Cg={RZ:"M",Qv:["KeyM"]};C.rk={RZ:"N",Qv:["KeyN"]};C.IRP={RZ:"O",Qv:["KeyO"]};
C.EO={RZ:"P",Qv:["KeyP"]};C.Ixr={RZ:"Q",Qv:["KeyQ"]};C.ba={RZ:"R",Qv:["KeyR"]};C.IlN={RZ:"S",Qv:["KeyS"]};
C.t={RZ:"T",Qv:["KeyT"]};C.qx={RZ:"U",Qv:["KeyU"]};C.IIP={RZ:"V",Qv:["KeyV"]};C.IaR={RZ:"W",Qv:["KeyW"]};
C.um={RZ:"X",Qv:["KeyX"]};C.IxN={RZ:"Y",Qv:["KeyY"]};C.up={RZ:"Z",Qv:["KeyZ"]};C.Iey={RZ:"0",Qv:["Numpad0","Digit0"]};
C.IDg={RZ:"1",Qv:["Numpad1","Digit1"]};C.Ixz={RZ:"2",Qv:["Numpad2","Digit2"]};C.Iw_={RZ:"3",Qv:["Numpad3","Digit3"]};
C.Iwr={RZ:"4",Qv:["Numpad4","Digit4"]};C.IwH={RZ:"5",Qv:["Numpad5","Digit5"]};C.IwP={RZ:"6",Qv:["Numpad6","Digit6"]};
C.Iwy={RZ:"7",Qv:["Numpad7","Digit7"]};C.ILQ={RZ:"8",Qv:["Numpad8","Digit8"]};C.ILl={RZ:"9",Qv:["Numpad9","Digit9"]};
C.uG=[C.Iey,C.IDg,C.Ixz,C.Iw_,C.Iwr,C.IwH,C.IwP,C.Iwy,C.ILQ,C.ILl];C.IBP={RZ:"F1",Qv:["F1"]};C.IBz={RZ:"F2",Qv:["F2"]};
C.IBt={RZ:"F3",Qv:["F3"]};C.IBf={RZ:"FF",Qv:["F4"]};C.ILO={RZ:"F5",Qv:["F5"]};C.IL_={RZ:"F6",Qv:["F6"]};
C.Ihx={RZ:"F7",Qv:["F7"]};C.IhS={RZ:"F8",Qv:["F8"]};C.Ihe={RZ:"F9",Qv:["F9"]};C.Ihv={RZ:"F10",Qv:["F10"]};
C.IhZ={RZ:"F11",Qv:["F11"]};C.IhE={RZ:"F12",Qv:["F12"]};function aP(m,g,L){if(L==null)L=!1;this.name=m;
this.K=g;this.YJ=L;this.data=null}var RL={};RL.c$=function(m,g){var L={t:"Clss",v:{classID:m}};if(g)L={t:"Enmr",v:{classID:m,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[L]}};RL.kS=function(m,g){var L={classID:"Lyr"};L[m]=g;return{Qm:"set",XX:{classID:"null",null:RL.c$("Lyr",!0),T:{t:"Objc",v:L}}}};
RL.ILd=function(m,g,L,K,r){var R=new Y(p.E.VG,!0),Q=[],F=0,q=RL.IJx(g,L,K,Q);while(Q.length!=0){var n=Q.pop();
F++;if(!n.$)continue;if(n.Qm=="conditional"){var W=m._[m.N[0]],z=n.XX.null.v.Cndt,u=!1;if(z=="Bckg")u=!1;
else if(z=="Pxel"&&m.kn(!1))u=!0;else if(z=="Adjs"&&qE.get(W.add))u=!0;else if(z=="Shp"&&W.add.vogk)u=!0;
else if(z=="Grup"&&W.EY())u=!0;var N=n.XX.then.v;if(u)RL.IJx(g,N[0].v.val,N[1].v.val,Q)}else if(n.Qm=="stop"){alert(n.XX.Msge.v);
break}else{R.data={Qm:n.Qm,XX:n.XX};r.g(R)}}};RL.IJx=function(m,g,L,K){var r;for(var R=0;R<m.length;
R++){if(m[R].Is!=L)continue;var Q=m[R].r;for(var F=0;F<Q.length;F++){if(Q[F].Is!=g)continue;r=Q[F].r}}var q=r.length;
for(var R=0;R<q;R++)K.push(r[q-1-R])};RL.IJ_=function(m){var g=m.Qm,L=m.XX,K,Q,F,q,n,W;if(L&&L.null)K=L.null.v[0];
if(L&&K==null&&L.At)K=L.At.v[0];if(K&&K.t=="obj ")K=K.v[0];var r=K?K.v.classID:null,R=["purge"];if(R.indexOf(g)!=-1)return g[0].toUpperCase()+g.slice(1);
W=qE.wZ;for(Q in W)if(W[Q]==g)F=Q;W=aN.wZ;for(Q in W)if(W[Q]==g)q=Q;W=IR.wZ;for(Q in W)if(W[Q]==g)n=Q;
if(F){var z=qE.k_(F,L);if(z!=-1)return[4,16,z];return qE.names[F]}if(q)return aN.names[q];if(n)return IR.names[n];
var u=RL.IkO;if(g=="make"){if(K){if(r=="AdjL")return[6,1];else if(r=="layerSection")return[6,9];else if(r=="Lyr")return[6,13];
else if(r=="Chnl"&&K.v.enum=="Msk")return[6,2];else if(r=="contentLayer")return[6,48,1];else if(r=="BckL")return"Make Background Layer";
else if(r=="Path")return"Make Path"}if(L.Nw){r=L.Nw.v.classID;if(r=="Dcmn")return[11,7];else if(r=="Chnl"||r=="SCch")return"New Channel"}}else if(g=="select"){if(r=="Chnl")return"Select "+(K.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(r=="Mn")return"Select Panel \""+K.v.enum+"\"";else if(r=="Lyr")return"Select Layer \""+K.v.val+"\""}else if(u[g]&&r=="Chnl"){var N=K.v.keyID=="fsel";
return u[g]+" "+(N?"Selection":"Channel")}else if(g=="set"){if(r=="Lyr")return"Set Current Layer";else if(r=="AdjL")return[6,39];
else if(r=="contentLayer")return[6,48,2];else if(r=="Prpr")return[11,6];else if(r=="Clr")return"Set "+(K.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(r)}else if(g=="move"){if(r=="Lyr")return"Move Layer"}else if(g=="show"||g=="hide"){var b="";
if(r=="Lyr")+"Layer";if(r=="Chnl")+"Channel";return(g=="show"?"Show":"Hide")+" "+b}else if(g=="reset"){if(r=="Clr")return"Reset Colors"}else if(g=="exchange"){if(r=="Clr")return[22,7,0]}else if(g=="rotateEventEnum")return[2,5];
else if(g=="flip"){var B=L.Axis.v.Ornt=="Hrzn";return[2,6,[22,4,B?2:3]]}if(r=="Chnl"){if(g=="duplicate"){if(K.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(g=="delete")return"Delete Channel"}var h={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:L?[6,31]:[2,2],align:[20,4,0],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},A=h[g];
if(A==null)A=RL.IiC[g];if(A)return A;console.log(g,L);return g};RL.IiC={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
RL.IkO={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
RL.IJe=function(m,g,L,K){var r=m.Qm,R=m.XX,Q=new Y(p.E.B,!0),n,W,z,u,N,A;Q.K=l.pW;var F=new Y(p.E.V,!0),q=["purge","updatePlacedLayer"];
if(q.indexOf(r)!=-1)return;N=qE.wZ;for(n in N)if(N[n]==r)W=n;N=aN.wZ;for(n in N)if(N[n]==r)z=n;N=IR.wZ;
for(n in N)if(N[n]==r)u=n;if(W){Q.K=l.fy;Q.data={P:"start",q$:W,nw:R}}else if(z){Q.K=l.VJ;Q.data={P:"start",le:z,nw:R}}else if(u){Q.K=l.VJ;
Q.data={P:"start",le:"GEfc",nw:R}}else if(r=="imageSize"||r=="canvasSize"||r=="revealAll"||r=="trim"){Q.K=l.Zw;
Q.data={P:"fromAction",HX:m}}else if(r=="fill"||r=="delete"&&R==null){Q.K=l.FE;Q.data={P:"fromAction",HX:m}}else if(r=="colorRange"){var b=R.Mnm.v,B=R.Mxm.v;
Q.K=l.eS;Q.data={P:"crange",mv:{dU:b.Lmnc.v,Wh:b.A.v,R:b.B.v},mV:{dU:B.Lmnc.v,Wh:B.A.v,R:B.B.v},Xt:R.Fzns.v/200}}else if(RL.IiC[r]||RL.IkO[r]&&(!1||R.With&&R.With.v[0].v.keyID=="fsel"||R.From&&R.From.v[0].v.keyID=="fsel"||R.null&&R.null.v[0].v.keyID=="fsel"||R.T.v[0]&&R.T.v[0].v.keyID=="fsel")){Q.K=l.eS;
Q.data={P:"fromAction",HX:m}}var h={copyToLayer:x.QV,mergeLayersNew:K&&K.N.length==1?x.If:x.Db,rasterizeLayer:x.Ivh,mergeVisible:x.Dz,flattenImage:x.Og,newPlacedLayer:x.IxK};
if(h[r])Q.data={P:h[r],XX:R};if(Q.data){g.g(Q);return}if(r=="desaturate"){Q.K=l.fy;Q.data={P:"auto",YL:3};
g.g(Q);return}if(r=="close"){if(R.Svng.v.YsN=="Ys"){F.data={P:p.o.ap};g.g(F)}F.data={P:p.o.vC,XE:K};
g.g(F);return}var h={placedLayerEditContents:p.o.ILS,copyEvent:p.o.aM,paste:p.o.Vh};if(h[r])F.data={P:h[r]};
if(F.data){g.g(F);return}if(R.null||R.At)A=(R.null?R.null:R.At).v;else A=[{t:"----",v:R}];if(A[0].t=="obj "){if(A.length!=1)throw"e";
A=A[0].v}for(var e=0;e<A.length;e++){var c=A[e],a=c.v.classID;Q.data=null;if(r=="make"){if(R.null==null&&R.Nw)a=R.Nw.v.classID;
if(a=="AdjL"){Q.data={P:x.xb,XX:R}}else if(a=="layerSection"){Q.data={P:x.wa};if(R.Usng)Q.data.jP=R.Usng.v.Nm.v}else if(a=="Lyr"){if(R.Usng&&R.Usng.v.length==2)Q.data={P:x.IIX};
else{Q.data={P:x.ZD};if(R.Usng)Q.data.jP=R.Usng.v.Nm.v}}else if(a=="Chnl"&&c.v.enum=="Msk"){Q.data={P:x.lp,BM:R.Usng.v.UsrM}}else if(a=="Chnl"||a=="SCch"){Q.data={P:x.qg,Jj:"fromAction",U:m}}else if(a=="contentLayer"){Q.data={P:x.ZO,XX:R}}else if(a=="BckL"){K._[K.N[0]].Ilp();
continue}else if(a=="Dcmn"){var $=R.Nw.v;F.data={P:p.o.ES,$X:aH.IGk($,L)}}else if(a=="Ptrn")F.data={P:p.o.Jq,Su:0};
else if(a=="Path"){Q.K=l.fF;Q.data={P:"pathedit",Jj:"fromsel"}}else{console.log(r,R);throw"e"}}else if(r=="select"){if(a=="Lyr"){var G=R.selectionModifier,o=G?G.v.selectionModifierType:null,H=RL.qW(K,c);
Q.data={P:x.Qe,A:H,IpM:o?["addToSelection","addToSelectionContinuous"].indexOf(o):null,je:0,IVO:!0}}else if(a=="Chnl"){Q.data={P:x.Qe,A:H,je:1}}}else if((r=="set"||r=="reset"||r=="exchange")&&a=="Clr"){F.data={P:p.o.VP,Su:am.Tc,Jj:r=="reset"?3:2};
if(r=="set"){F.data.Jj=c.v.keyID=="FrgC"?0:1;var f=I.G.EX(R.T.v);F.data.U=f.u<<16|f.S<<8|f.R}}else if(r=="set"){if(a=="AdjL"){var E=R.T.v.classID;
E=qE.un[E];Q.K=l.fy;if(E)Q.data={P:"edit_layer",U:R.T.v}}else if(a=="Lyr"){var S=R.T.v,H=RL.qW(K,c);
if(S.Nm)Q.data={P:x.BH,name:S.Nm.v};else if(S.Opct)Q.data={P:x.QS,cC:Math.round(S.Opct.v.val*255/100)};
else if(S.fillOpacity)Q.data={P:x.xi,cC:Math.round(S.fillOpacity.v.val*255/100)};else if(S.Md)Q.data={P:x.qP,cC:ad.kP.indexOf(S.Md.v.BlnM)};
else if(S.Usrs)Q.data={P:x.xD,A:H};else if(S.Blnd){Q.K=l.CO;Q.data={P:"setstl",A:H,U:{blendOptions:{t:"objc",v:S}}};
g.g(Q);Q.data={P:"confirm",A:H}}else if(S.Clr){var J={Ylw:3}[S.Clr.v.Clr];if(J==null)throw"e";Q.data={P:x.BP,IJn:J}}else if(A[0].t=="prop")continue;
else{console.log(R);throw"e"}var U=K._[H];U.IlM()}else if(a=="Prpr"){var S=JSON.parse(JSON.stringify(R.T.v));
if(c.v.keyID=="TxtS"){var H=RL.qW(K,R.null.v[1]),U=K._[H],j=U.add.TySh,i=JSON.parse(JSON.stringify(j.m_)),k=aj.tq(i),P=aj.qh(i,0,k.length-2);
if(S.Undl&&S.Undl.v.Undl=="underlineOnLeftInVertical")P.dh.Underline=!0;aj.cr(i,0,k.length-1,P);Q.K=l._T;
Q.data={P:"newED",wS:H,uI:i};e=1e9}else{for(var w in S)if(S[w].v){if(w=="Scl")S[w].v.val=100;if(S[w].v.TrnS&&S[w].v.TrnS.v.Crv==null){S[w].v.TrnS=JSON.parse(aU.WV[9]).TrnS}}mj.$V(S);
if(S.masterFXSwitch==null)S.masterFXSwitch={t:"bool",v:!0};var H=RL.qW(K,R.null.v[1]);Q.K=l.CO;Q.data={P:"setstl",A:H,U:{Lefx:{t:"objc",v:S}}};
g.g(Q);Q.data={P:"confirm",A:H}}}else if(a=="contentLayer"){var H=RL.qW(K,c),S=R.T.v;if(S.classID=="shapeStyle")S=S.FlCn.v;
var d={solidColorLayer:0,gradientLayer:1,patternLayer:2}[S.classID],z=JSON.parse(JSON.stringify(aU.Qs[d]));
aJ._I.mi(S,z,d);Q.data={P:x.hr,gK:[H],Xl:!0,U:{co:d+1,jl:z}}}else{console.log(c,R);throw a}}else if(r=="move"){if(a=="Lyr"){var S=R.T.v;
if(S.classID=="Ofst"){Q.data={P:"trsl",IEK:S.Hrzn.v.val,IXY:S.Vrtc.v.val};Q.K=l.Kb}else{var T,y;if(S[0].t=="Enmr"){if(S[0].v.enum=="Frnt")y=0;
else if(S[0].v.enum=="Prvs")y=2;else if(S[0].v.enum=="Back")y=3;else throw"e"}else T=S[0].v.val;Q.data={P:x.QZ,target:T,Jj:y,IVz:R.Dplc?R.Dplc.v:!1}}}}else if(r=="groupEvent")Q.data={P:x.QB};
else if(r=="show"||r=="hide"){if(a=="Lyr"){var H=RL.qW(K,c);if(H==-1)continue;var D=K._[H].WP();if(r=="show"&&D||r=="hide"&&!D)continue;
Q.data={P:x.ZU,A:H}}else if(a=="Chnl"){Q.data={P:x.qg,Jj:"fromAction",U:m}}}else if(r=="rotateEventEnum"){Q.K=l.Zw;
var s=R.Angl.v.val;Q.data={P:"rot",Is:[2,5],U:-s*Math.PI/180}}else if(r=="flip"){Q.K=l.Zw;var Z=R.Axis.v.Ornt=="Hrzn",aQ=Z?new jf(-1,1):new jf(1,-1);
Q.data={P:"scl",Is:[2,6,[22,4,Z?2:3]],U:aQ}}else if(r=="transform"){var aI=1,aq=1,aa=0,_=0,M=0,jt=0,aR=0;
if(R.Wdth)aI=R.Wdth.v.val/100;if(R.Hght)aq=R.Hght.v.val/100;if(R.Skew){var aL=R.Skew.v;aa=aL.Hrzn.v.val;
_=aL.Vrtc.v.val}if(R.Ofst){var aw=R.Ofst.v;jt=aw.Hrzn.v.val;aR=aw.Vrtc.v.val}if(R.Angl)M=R.Angl.v.val;
var ap=new aC;ap.concat(new aC(aI,aI*Math.tan(_*Math.PI/180),aq*Math.tan(aa*Math.PI/180),aq,0,0));ap.rotate(-M*Math.PI/180);
ap.translate(jt,aR);var al={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[R.FTcs.v.QCSt];
if(al==null)throw R.FTcs.v.QCSt;var H=R.null?RL.qW(K,c):null;Q.K=l.Zo;Q.data={P:"mat",Eo:al,U:ap,A:H}}else if(a=="Chnl"){Q.data={P:x.qg,Jj:"fromAction",U:m}}else if(r=="duplicate")Q.data={P:x.vs,jP:R.Nm?R.Nm.v:null};
else if(r=="delete")Q.data={P:x.vf};else if(r=="align"){Q.K=l.Kb;var W={AdLf:0}[R.Usng.v.ADSt];if(W==null)throw"e";
Q.data={P:"algn",U:W}}if(Q.data)g.g(Q);else if(F.data)g.g(F);else{console.log(m);alert("Unknown action \""+r+"\"");
throw"e"}}};RL.qW=function(m,g){var L=g.t,K=-1;if(L=="name"){var r=g.v.val,K=-1;for(var R=0;R<m._.length;
R++)if(m._[R].getName()==r){K=R;break}}if(L=="Enmr"&&m.N.length!=0)K=m.N[0];if(L=="Enmr"&&g.v.enum=="Frwr")K=m.N[0]-1;
if(L=="prop"){if(g.v.keyID=="Bckg")K=0}return K};var qE={};qE.get=function(m){for(var g in qE.names)if(m[g]!=null)return g;
return null};qE.Ik=function(m,g){var L=qE.kh,K;if(m=="brit"){var r=g.Brgh?g.Brgh.v:0,R=g.Cntr?g.Cntr.v:0,Q=g.useLegacy?g.useLegacy.v:!1;
if(Q){var F=r/255,q=1+R/100;if(q>1)q=1+Math.tan(Math.PI/2*R/101);var n=(1-q)/2,W=I.za.I$(F,F,F),z=[q,0,0,n,0,q,0,n,0,0,q,n,0,0,0,1],u=I.za.multiply(W,z),N=new I.ha(256);
for(var b=0;b<256;b++)N.u[b]=b;I.za.transform(N,N,u);K={type:L.IE,x$:N.u,sP:N.u,od:N.u,eD:!1,Zq:!1}}else{var B=1024,h=-30+60*(R+100)/200,A=[];
for(var b=0;b<4;b++)A.push(I.Kz.uz(b/3*255,b/3*255,!0));A[1].v.Hrzn.v=64;A[1].v.Vrtc.v=64-h;A[2].v.Hrzn.v=128+64;
A[2].v.Vrtc.v=128+64+h;A.sort(function(ml,QD){return ml.v.Hrzn.v-QD.v.Hrzn.v});var e=I.Kz.qQ(A,B);function c(ml,B){var A=[],QD=3;
for(var b=0;b<QD+1;b++)A.push(I.Kz.uz(b/QD*255,b/QD*255,!0));A[1].v.Hrzn.v=130-ml*26;A[1].v.Vrtc.v=130+ml*51;
A[2].v.Hrzn.v=233-ml*48;A[2].v.Vrtc.v=233+ml*10;return I.Kz.qQ(A,B)}var a=c(Math.abs(r)/100,B);if(r<0){var $=[],G=1/B;
for(var b=0;b<B;b++){var o=b*G,H=b;while(a[H]>o&&H>1)H--;$[b]=H*G}a=$}var f=new Uint8Array(B);for(var b=0;
b<B;b++){var E=Math.round((B-1)*a[b]);f[b]=Math.round(255*e[E])}K={type:L.IE,x$:f,sP:f,od:f,eD:!1,Zq:!1}}}if(m=="levl"){var S=[],V,J,W,U,j,i;
for(var b=0;b<4;b++)S.push(qC.dM(g,b));V=-S[0][0]/255;J=1/(S[0][1]/255-S[0][0]/255);W=I.za.multiply(I.za.Ir(J,J,J),I.za.I$(V,V,V));
U=I.za.Ir(1/(S[1][1]/255-S[1][0]/255),1/(S[2][1]/255-S[2][0]/255),1/(S[3][1]/255-S[3][0]/255));j=I.za.I$(-S[1][0]/255,-S[2][0]/255,-S[3][0]/255);
i=I.za.multiply(U,j);var f=new I.ha(256);for(var b=0;b<256;b++)f.u[b]=f.S[b]=f.R[b]=b;var k=1/(S[0][4]/100),P=1/(S[1][4]/100),w=1/(S[2][4]/100),d=1/(S[3][4]/100);
I.za.transform(f,f,i);for(var b=0;b<256;b++){f.u[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.u[b]/255,P))));
f.S[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.S[b]/255,w))));f.R[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.R[b]/255,d))))}I.za.transform(f,f,W);
for(var b=0;b<256;b++){f.u[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.u[b]/255,k))));f.S[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.S[b]/255,k))));
f.R[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.R[b]/255,k))))}V=S[0][2]/255;J=S[0][3]/255-S[0][2]/255;
W=I.za.multiply(I.za.I$(V,V,V),I.za.Ir(J,J,J));U=I.za.Ir(S[1][3]/255-S[1][2]/255,S[2][3]/255-S[2][2]/255,S[3][3]/255-S[3][2]/255);
j=I.za.I$(S[1][2]/255,S[2][2]/255,S[3][2]/255);i=I.za.multiply(j,U);I.za.transform(f,f,I.za.multiply(W,i));
K={type:L.IE,x$:f.u,sP:f.S,od:f.R,eD:!1,Zq:!1}}if(m=="curv"){var T=jW.dM(g,0).length==256?1:0,y=[];if(T==0){var D=I.Kz.ea(jW.dM(g,0),256);
for(var b=1;b<4;b++){var s=I.Kz.ea(jW.dM(g,b),256);y.push(I.Kz.QL(s,D))}}else{var Z=[];for(var b=0;b<4;
b++){var aQ=new Uint8Array(256);Z.push(aQ);var aI=jW.dM(g,b);for(var H=0;H<256;H++)aQ[H]=aI[H]}for(var b=1;
b<4;b++)y.push(I.Kz.QL(Z[b],Z[0]))}K={type:L.IE,x$:y[0],sP:y[1],od:y[2],eD:!1,Zq:!1}}if(m=="expA"){var aq=g.Exps.v,aa=g.Ofst.v,aD=g.gammaCorrection.v,f=new Uint8Array(256);
for(var b=0;b<256;b++){var g=b/255,_=Math.pow(Math.abs(aa),1/(Math.PI/2));if(aa>0){g=Math.max(aa/Math.E,g);
g=g*Math.exp(aa/1.75+aq/Math.PI);g=(1-_)*g+_*1}else{g=g*Math.exp(-aa*1.75+aq/Math.PI);g=g+-_*1.14}g=Math.pow(g,1/aD);
g=Math.max(0,Math.min(1,g));f[b]=Math.round(g*255)}K={type:L.IE,x$:f,sP:f,od:f,eD:!1,Zq:!1}}if(m=="vibA"){K={type:L.kt,Su:[g.vibrance?g.vibrance.v:0,g.Strt?g.Strt.v:0]}}if(m=="hue2"){var M=[],jt=[],aR=[],aL=g.Clrz?g.Clrz.v:!1;
for(var b=0;b<256;b++){M[b]=b/255;jt[b]=0;aR[b]=0}var aw=In.dM(g,0),ap=qE.Om(aw[1]/100);if(aL){var al=aw[0]/360;
for(var b=0;b<256;b++){M[b]=al;jt[b]=ap}}else{for(var b=0;b<256;b++){var ak=M[b],ao=jt[b];M[b]+=aw[0]/360;
for(var H=0;H<6;H++){var aZ=In.dM(g,H+1),aS=aZ.Hl,an=aZ.Zj,_=0;for(var IU=1;IU<4;IU++)if(an[IU]<an[0])an[IU]+=360;
var a_=an[0],aG=an[1],aM=an[2],av=an[3],aA=ak*360;if(aA<an[0])aA+=360;var IL=(aA-a_)/(aG-a_),aB=(aA-aM)/(av-aM);
if(IL<0)_=0;else if(IL<1)_=IL;else if(aB<0)_=1;else if(aB<1)_=1-aB;else _=0;var q=qE.Om(aS[1]/100);M[b]+=_*aS[0]/360;
jt[b]+=_*q;aR[b]+=_*aS[2]/100}}for(var b=0;b<256;b++){jt[b]=(1+jt[b])*(1+ap)-1;aR[b]=Math.max(-1,Math.min(1,aR[b]))}}var aV=new Uint8Array(256),Ia=new Uint8Array(256),aK=new Uint8Array(256);
for(var b=0;b<256;b++){var aE=M[b],Ij=jt[b],as=aR[b];if(aE>1)aE--;if(aE<0)aE++;Ij=qE.IJV(Ij);Ij=(1+Ij)*.5;
as=(1+as)*.5;aV[b]=Math.round(255*aE);Ia[b]=Math.round(255*Ij);aK[b]=Math.round(255*as)}var IQ=aw[2]/100,Ih=IQ<0?-IQ:IQ,Rp=IQ<0?0:1;
K={type:L.kz,Ins:aV,AR:Ia,IBY:aK,I$O:Ih*Rp,AK:1-Ih,ITw:aw[2]/100,I$v:aL?1:0}}if(m=="nvrt"){var f=new Uint8Array(256);
for(var b=0;b<256;b++)f[b]=255-b;K={type:L.IE,x$:f,sP:f,od:f,eD:!1,Zq:!1}}if(m=="post"){var ag=g.Lvls.v,f=new Uint8Array(256),_=ag/255.001,IE=255/(ag-1);
for(var b=0;b<256;b++)f[b]=Math.floor(b*_)*IE;K={type:L.IE,x$:f,sP:f,od:f,eD:!1,Zq:!1}}if(m=="grdm"){var ae=g.Grad.v,Rj=g.Rvrs,RQ=I.G.Bb(ae.Clrs.v,0,0),B=1024,ab=I.G.fS(ae,RQ,B,Rj?Rj.v:!1),RM=I.m(B),Rx=I.m(B),Iw=I.m(B);
I.Vl(ab,RM,0);I.Vl(ab,Rx,1);I.Vl(ab,Iw,2);K={type:L.IE,x$:RM,sP:Rx,od:Iw,eD:!0,Zq:!1}}if(m=="selc"){var qX=new Float32Array(9*3*2),RC=g.AO,Rd=g.Mthd?g.Mthd.v.CrcM=="Absl":!1;
for(var H=0;H<9;H++){var Ip=H*6,ID=Rb.dM(g,H),qB=ID[0]/100,Ii=ID[1]/100,Ro=ID[2]/100,IG=ID[3]/100;if(Rd){qX[Ip]=qX[Ip+1]=qX[Ip+2]=1;
qX[Ip+3]=qB*(1+IG)+IG;qX[Ip+4]=Ii*(1+IG)+IG;qX[Ip+5]=Ro*(1+IG)+IG}else{qX[Ip+0]=(1+qB)*(1+IG);qX[Ip+1]=(1+Ii)*(1+IG);
qX[Ip+2]=(1+Ro)*(1+IG)}}K={type:L.kf,Ma:qX}}if(m=="blwh"){var qk="Rd Yllw Grn Cyn Bl Mgnt".split(" "),K=[],Ru=0,Qi=0;
for(var b=0;b<6;b++)K.push(g[qk[b]].v);K.push(g.useTint.v,g.tintColor.v);var qI=[];for(var b=0;b<6;b++)qI.push((K[b]-50)/50);
var mp=I.G.EX(K[7]);mp.u/=255;mp.S/=255;mp.R/=255;var ay=I.MW(mp.u,mp.S,mp.R),as=I.xM(I.FU(ay.PC,1,.5)),at=ay.Gr*ay.nw;
if(as==.5)Ru=Qi=.5;else{Ru=at*(.5-as)/(.5/as-1);Qi=1-at*(.5-as)-1/(2*(1-as));Qi/=1-1/(2*(1-as))}K={type:L.OQ,Iak:qI,Ph:K[6]?1:0,IIf:ay.PC,xM:as,IjV:at,Ta:Ru,Ijr:Qi}}if(m=="blnc"){var S=[],DR=["ShdL","MdtL","HghL"];
for(var b=0;b<3;b++){var ag=g[DR[b]].v,IM=ag[0].v/100,Rc=ag[1].v/100,RO=ag[2].v/100,QK=g.PrsL.v?QK=(Math.min(IM,Rc,RO)+Math.max(IM,Rc,RO))/2:0;
S[b]=[IM-QK,Rc-QK,RO-QK]}var y=[I.m(256),I.m(256),I.m(256)];for(var H=0;H<3;H++)for(var b=0;b<256;b++){var o=b*(1/255),qm=0,h=0,QL=0;
h=S[2][H];QL=Math.abs(h);if(h<0)qm=Math.pow(o,Math.SQRT2);else qm=1.63*(Math.pow(o+.04,.5)-.2);o=QL*qm+(1-QL)*o;
h=S[1][H];QL=Math.abs(h);if(h<0)qm=Math.pow(o,2);else qm=Math.min(2.35*(Math.pow(o+.09,.5)-.3),Math.pow(o,1/2));
o=QL*qm+(1-QL)*o;h=S[0][H];QL=Math.abs(h);if(h<0)qm=o<.4?0:Math.pow((o-.4)/.6,Math.SQRT2);else qm=Math.pow(o,Math.SQRT2/2);
o=QL*qm+(1-QL)*o;o=Math.max(0,Math.min(1,o));y[H][b]=Math.round(o*255)}K={type:L.IE,x$:y[0],sP:y[1],od:y[2],eD:!1,Zq:!1}}if(m=="phfl"){var Re=I.G.EX(g.Clr.v),IF=[Re.u/255,Re.S/255,Re.R/255],Qv=g.Dnst.v/100,y=[I.m(256),I.m(256),I.m(256)];
for(var H=0;H<3;H++)for(var b=0;b<256;b++){var o=b*(1/255),Rf=o*IF[H];Rf=Math.max(0,Math.min(1,Rf));
o=Qv*Rf+(1-Qv)*o;y[H][b]=Math.round(o*255)}K={type:L.IE,x$:y[0],sP:y[1],od:y[2],eD:!1,Zq:g.PrsL.v}}if(m=="thrs"){var f=I.m(256);
for(var b=g.Lvl.v;b<256;b++)f[b]=255;K={type:L.IE,x$:f,sP:f,od:f,eD:!0,Zq:!1}}if(m=="mixr"){var RE=qE.u$(g),u=[];
for(var b=0;b<RE.U.length;b++)if(b%5!=3)u.push(RE.U[b]/100);if(RE.ZV){for(var Rg=1;Rg<3;Rg++)for(var o=0;
o<4;o++)u[Rg*4+o]=u[o]}K={type:L.Oj,za:u}}if(m=="rplc"){var QI=g.Mnm.v,mL=g.Mxm.v;K={type:L.OR,mv:[QI.Lmnc.v,QI.A.v,QI.B.v],mV:[mL.Lmnc.v,mL.A.v,mL.B.v],shift:[g.H.v/360,g.Strt.v/100,g.Lght.v/100],Xt:g.Fzns.v/200}}if(m=="clrL"&&g.profile){var mC=new Uint8Array(g.profile.v),Rv=ICC.R(mC.buffer),RP=[],Rm=0,Iq=Rv.tags.A2B0;
Rm=Iq&&Iq.gpnum?Iq.gpnum[0]:0;Rm=Rm>8?Rm:17;var RP=ICC.U.sampleLUT(Rv,Rm);K={type:L.uk,$O:ICC.U.rgba8LUT(RP,Rm),I$i:RP,rk:Rm}}return K};
qE.k_=function(m,g){var L=-1;if(m!="levl"||g==null)L=-1;else if(g.Auto)L=0;else if(g.AuCo)L=1;else if(g.autoBlackWhite)L=2;
return L};qE.kh={IE:0,kz:1,kt:2,kf:3,OQ:4,Oj:5,OR:6,uk:7};qE.Om=function(m){if(m<0)return m;return Math.pow(Math.tan(Math.PI/2*m),1.3)};
qE.IJV=function(m){if(m<0)return m;m=Math.pow(m,1/1.3);return Math.atan2(m,1)/(Math.PI/2)};qE.qK=function(m,g,L,K){var r=qE.kh,R=Date.now();
if(t.be&&K.c()>300*300&&m.type!=r.IE&&m.type!=r.uk){K=K.clone();K.x=K.y=0;var Q=t.es(0,K.j,K.F);Q.set(g);
t.$a(Q,K);Q.o$(K);qE.Kk(m,Q.vB,K);Q.get(L);return}if(m.type==r.uk){var F=m.I$i,q=m.rk,u=3;function n(ag,IE,aD,ae,Rj,RQ){var ab=1-ae;
RQ[Rj+0]=ab*aD[ag]+ae*aD[IE];RQ[Rj+1]=ab*aD[ag+1]+ae*aD[IE+1];RQ[Rj+2]=ab*aD[ag+2]+ae*aD[IE+2]}var W=[0,0,0,0,0,0,0,0,0,0,0,0],z=(q-1.000001)/255;
for(var N=0;N<g.length;N+=4){var K=z*g[N],b=z*g[N+1],B=z*g[N+2],h=~~K,A=~~b,e=~~B;n(u*(e+q*A+q*q*h),u*(e+1+q*A+q*q*h),F,B-e,0,W);
n(u*(e+q*(A+1)+q*q*h),u*(e+1+q*(A+1)+q*q*h),F,B-e,3,W);n(0,3,W,b-A,6,W);n(u*(e+q*A+q*q*(h+1)),u*(e+1+q*A+q*q*(h+1)),F,B-e,0,W);
n(u*(e+q*(A+1)+q*q*(h+1)),u*(e+1+q*(A+1)+q*q*(h+1)),F,B-e,3,W);n(0,3,W,b-A,9,W);n(6,9,W,K-h,0,W);L[N]=~~(.5+W[0]*255);
L[N+1]=~~(.5+W[1]*255);L[N+2]=~~(.5+W[2]*255)}}if(m.type==r.Oj)I.za.wK(g,L,m.za);if(m.type==r.OQ){var c=m.IjV,a=m.xM,$=m.Ta,G=m.Ijr,o=g.length;
for(var N=0;N<o;N+=4){var K=g[N]*(1/255),b=g[N+1]*(1/255),B=g[N+2]*(1/255),H=I.aO(K,b,B),f=0;for(var E=0;
E<6;E++)f+=Math.min(1,1.7*(1-H.lS))*H.Gr*m.Iak[E]*qE.IkM(H.PC,E*(1/6));var S=Math.max(0,Math.min(1,H.lS*(1+f)));
if(m.Ph==1){var V=0;if(S<$)V=S*(.5/a);else if(S<G)V=S+c*(.5-a);else V=1-(1-S)*.5/(1-a);H.PC=m.IIf;H.Gr=Math.min(1,c+3*c*Math.abs(S-.5*($+G)));
H.lS=V}else{H.PC=0;H.Gr=0;H.lS=S}var J=I.FU(H.PC,H.Gr,H.lS);L[N]=Math.round(J.u*255);L[N+1]=Math.round(J.S*255);
L[N+2]=Math.round(J.R*255)}}if(m.type==r.kf){var U=m.Ma,o=g.length,j=1/255;for(var N=0;N<o;N+=4){var K=g[N]*j,b=g[N+1]*j,B=g[N+2]*j,H=I.aO(K,b,B),i=Math.max(K,Math.max(b,B)),k=Math.min(K,Math.min(b,B)),P=1-K,w=1-b,d=1-B,T=0,y=0,D=0;
for(var E=0;E<9;E++){var s=E*6,aq=0;if(U[s]==1&&U[s+1]==1&&U[s+2]==1&&U[s+3]==0&&U[s+4]==0&&U[s+5]==0)continue;
var Z=P*U[s]+U[s+3],aQ=w*U[s+1]+U[s+4],aI=d*U[s+2]+U[s+5];if(E<6)aq=qE.IkM(H.PC,E*(1/6))*H.Gr*2*Math.min(H.lS,1-H.lS);
else if(E==6)aq=Math.max(0,k-.5)*2;else if(E==7)aq=1-(Math.abs(i-.5)+Math.abs(k-.5));else aq=Math.max(0,.5-i)*2;
T+=(Math.max(0,Math.min(1,Z))-P)*aq;y+=(Math.max(0,Math.min(1,aQ))-w)*aq;D+=(Math.max(0,Math.min(1,aI))-d)*aq}P=Math.max(0,Math.min(1,P+T));
w=Math.max(0,Math.min(1,w+y));d=Math.max(0,Math.min(1,d+D));K=1-P;b=1-w;B=1-d;L[N]=Math.round(K*255);
L[N+1]=Math.round(b*255);L[N+2]=Math.round(B*255)}}if(m.type==r.IE){I.IxG(g,L,m.x$,m.sP,m.od,m.eD,m.Zq)}if(m.type==r.kz){var aa=new Uint32Array(g.buffer),aD=new Uint32Array(L.buffer),o=aa.length;
if(qE.Yl==null){qE.Yl=new Float64Array(256);for(var N=0;N<256;N++)qE.Yl[N]=qE.Om(-1+2*N/255)}var _=qE.Yl;
for(var N=0;N<o;N++){var M=aa[N],K=(M&255)*(1/255),b=(M>>>8&255)*(1/255),B=(M>>>16&255)*(1/255),jt=M>>>24,aR=Math.min(K,b,B),aL=Math.max(K,b,B),aw=0,ap=0,al=0;
if(aL!=aR){var ak=aL-aR;switch(aL){case K:aw=(b-B)/ak+(b<B?6:0);break;case b:aw=(B-K)/ak+2;break;case B:aw=(K-b)/ak+4;
break}aw=aw*(1/6)}var ao=~~(aw*255+.5),aZ=m.Ins[ao]*(1/255),aS=m.AR[ao]*(1/255)*2-1,an=m.IBY[ao]*(1/255)*2-1,f=-an,IU=aR;
if(0<an){f=an;IU=aL}var a_=m.I$O+m.AK*f*IU,aG=m.AK*(1-f);K=a_+aG*K;b=a_+aG*b;B=a_+aG*B;aL=Math.max(K,b,B);
aR=Math.min(K,b,B);al=(aL+aR)*.5;if(aL!=aR){var ak=aL-aR;ap=al>.5?ak/(2-(aL+aR)):ak/(aL+aR)}var aM=aS;
if(m.I$v==0){aS=_[Math.floor((1+aS)*127.5)];aM=Math.min(ap*(1+aS),1)}aw=aZ;ap=aM;if(ap==0)K=b=B=al;else{var av=al<.5?al*(1+ap):al+ap-al*ap,aA=2*al-av;
K=I.FJ(aA,av,aw+1/3);b=I.FJ(aA,av,aw);B=I.FJ(aA,av,aw-1/3)}aD[N]=jt<<24|B*255<<16|b*255<<8|K*255}}if(m.type==r.OR){I.jR(g,L);
var aa=new Uint32Array(g.buffer),aD=new Uint32Array(L.buffer),o=aa.length,IL=m.Xt,aB=1/IL,aV={dU:m.mv[0],Wh:m.mv[1],R:m.mv[2]},Ia={dU:m.mV[0],Wh:m.mV[1],R:m.mV[2]};
for(var N=0;N<o;N++){var M=aa[N],h=M&255,A=M>>>8&255,e=M>>>16&255,K=h*(1/255),b=A*(1/255),B=e*(1/255),jt=M>>>24,aK=I.Kf(h,A,e),aE=I.tL(aK,aV,Ia,IL,aB);
if(aE==0)continue;var H=I.aO(K,b,B),aZ=2+H.PC+aE*m.shift[0];H.PC=aZ-~~aZ;H.Gr=Math.max(0,Math.min(1,H.Gr+aE*m.shift[1]));
H.lS=Math.max(0,Math.min(1,H.lS+aE*m.shift[2]));var J=I.FU(H.PC,H.Gr,H.lS);K=J.u;b=J.S;B=J.R;aD[N]=jt<<24|B*255<<16|b*255<<8|K*255}}if(m.type==r.kt){var aa=new Uint32Array(g.buffer),aD=new Uint32Array(L.buffer),o=aa.length,Ij=m.Su[0]/100,as=m.Su[1]/100;
for(var N=0;N<o;N++){var M=aa[N],K=(M&255)*(1/255),b=(M>>>8&255)*(1/255),B=(M>>>16&255)*(1/255),jt=M>>>24,H=I.MW(K,b,B),aw=H.PC,ap=H.Gr,al=H.nw,IQ=0,Ih=45/360,Rp=aw<Ih?Math.cos(Math.PI/2*(aw-Ih/2)/(Ih/2)):0;
ap=ap+.2*(1-.4*Rp)*Ij*Math.max(0,Math.sin(ap*Math.PI));ap=ap*(1+as);ap=Math.max(0,Math.min(1,ap));var J=I.ww(aw,ap,al);
K=J.u;b=J.S;B=J.R;aD[N]=jt<<24|B*255<<16|b*255<<8|K*255}}};qE.Kk=function(m,g,L){t.q$.Kk(m,g)};qE.IkM=function(m,g){var L=I.Eg(g,m)*6;
return Math.max(0,Math.min(1,L<0?1+L:1-L))};qE.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
qE.Ieo=["expA","clrL","selc"];qE.Ox=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];qE.IJ$=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
qE.uZ=[[13,1,1],[13,1,4],[13,1,5]];qE.Iv={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
qE.un=function(){var m=JSON.parse(JSON.stringify(qE.Iv));delete m["\0\0\0\xDE"];delete m["\0\0\0\xDD"];
delete m.GrMp;m.vibrance="vibA";m.photoFilter="phfl";m.GdMp="grdm";return m}();qE.wZ={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
qE.keys={levl:[C.EZ,C.dU],curv:[C.EZ,C.Cg],hue2:[C.EZ,C.qx],nvrt:[C.EZ,C.kT],blnc:[C.EZ,C.Ivv]};qE.Iq$=function(m){var g=aN.Rw("mixr");
g.Mnch={t:"bool",v:m.ZV};function L(K,r){var R={classID:"ChMx"},Q={Rd:0,Grn:1,Bl:2,Cnst:4};for(var F in Q)R[F]={t:"UntF",v:{type:"#Prc",val:K[r+Q[F]]}};
return{t:"Objc",v:R}}if(m.ZV)g.Gry=L(m.U,0);else{g.Rd=L(m.U,0);g.Grn=L(m.U,5);g.Bl=L(m.U,10)}return g};
qE.u$=function(m){function g(K,r,R){var Q={Rd:0,Grn:1,Bl:2,Cnst:4};for(var F in Q)if(K[F])r[R+Q[F]]=K[F].v.val}var L={ZV:!1,U:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(m.Mnch&&m.Mnch.v)L.ZV=!0;if(L.ZV)g(m.Gry.v,L.U,0);else{g(m.Rd.v,L.U,0);g(m.Grn.v,L.U,5);g(m.Bl.v,L.U,10)}return L};
var aN={};aN.IB=[{jl:"GEfc"},{jl:"LnCr"},{jl:"LqFy",Oo:!0},{Kg:"3D",rC:["\0\0\x03^"]},{Kg:[24,2],rC:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,Bokh,MtnB,RdlB,\0\0\x02\xB5".split(",")},{Kg:[24,4],rC:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{Kg:[24,6],rC:["AdNs","DstS","Mdn "]},{Kg:[24,8],rC:["ClrH","Crst","Mztn","Msc ","Pntl"]},{Kg:[24,10],rC:["Clds","DfrC","LnsF"]},{Kg:[24,12],rC:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{Kg:[24,14],rC:["FndE","\0\0\x03\xFD"]},{Kg:[24,16],rC:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{Kg:"Fourier",rC:["dDFT","iDFT"]}];
aN.wZ={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur","\0\0\x03^":"lightFilterGradient",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges","\0\0\x03\xFD":"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
aN.Bl={"\0\0\x03\x82":l.oi};aN.names={"\0\0\x03^":"Normal Map","\0\0\x03\x82":[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],"\0\0\x03\xFD":[24,15,4],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
aN.Rw=function(m){var g=null;if(m=="GEfc")g={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:IR.Rw("GlwE")}]}};
if(m=="LqFy"){var L={uP:50,PC:50,map:new Float32Array(50*50*2)},K=new Uint8Array(Dj.Sk(L)),r=[];for(var R=0;
R<K.length;R++)r.push(K[R]);g={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:r}}}if(m=="\0\0\x03\x82"){g={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(m=="LnCr")g={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(m=="\0\0\x03\xFD")g={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(m=="\0\0\x03^")g={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(m=="\0\0\x02\xB1")g={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(m=="GsnB")g={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(m=="Bokh")g={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(m=="MtnB")g={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(m=="RdlB")g={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(m=="\0\0\x02\xB5")g={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(m=="Dspl")g={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(m=="Pnch")g={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(m=="Plr ")g={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(m=="Rple")g={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(m=="Shr ")g={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(m=="Sphr")g={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(m=="Twrl")g={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(m=="Wave")g={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(m=="AdNs")g={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(m=="DstS")g={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(m=="Mdn ")g={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(m=="ClrH")g={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(m=="Crst")g={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(m=="Mztn")g={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(m=="Msc ")g={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(m=="Pntl")g={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(m=="LnsF")g={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(m=="\0\0\x03\xE8")g={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(m=="UnsM")g={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(m=="HghP")g={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(m=="Mxm ")g={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(m=="Mnm ")g={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(m=="Ofst")g={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(m=="Rept")g={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(m=="brit")g={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(m=="levl")g={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(m=="curv")g={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(m=="expA")g={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(m=="vibA")g={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(m=="hue2")g={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(m=="blnc")g={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(m=="blwh")g={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(m=="phfl")g={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(m=="grdm")g={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(aU.WV[6]).Grad};
if(m=="selc")g={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(m=="thrs")g={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(m=="mixr")g={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(m=="clrL")g={__name:"Color Lookup",classID:"colorLookup"};if(m=="nvrt")g={};if(m=="post")g={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(m=="rplc")g={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(m=="fade")g={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return g};aN.IJK=function(m){var g=new jf(0,0);if(m.enab.v==!1)return g;var L=m.filterFXList.v;for(var K=0;
K<L.length;K++){var r=L[K].v;if(r.enab.v==!1)continue;var R=X.$f(r.filterID.v),Q=aN.IRn(R,r.Fltr?r.Fltr.v:null);
if(Q.x>g.x)g.x=Q.x;if(Q.y>g.y)g.y=Q.y}return g};aN.IRn=function(m,g){var L=0,K=0;if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(m)!=-1){var r=g.Rds.v.val;
L=K=r*2.57}if(m=="MtnB")L=K=g.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,\0\0\x03^,\0\0\x03\x82".split(",").indexOf(m)!=-1){L=K=1e4}if(m=="GEfc")L=K=1e4;
return new jf(Math.ceil(L),Math.ceil(K))};aN.uK=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
aN.Ee=function(m,g){var L={u:g.$q>>16,S:g.$q>>8&255,R:g.$q&255},K={u:g._Q>>16,S:g._Q>>8&255,R:g._Q&255},r=aN.names[m];
if(r==null)r=qE.names[m];var R=m;for(var Q in qE.Iv)if(qE.Iv[Q]==m)R=Q;var F={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:aT.get(r)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:I.G.h$(L)},BckC:{t:"Objc",v:I.G.h$(K)},filterID:{t:"long",v:X.IOt(R)}}},q=aN.Rw(m);
if(q)F.v.Fltr={t:"Objc",v:q};return F};aN.Ixb=function(m,g,L,K){var r=I.m(m.length);I.ll.Au(m,g,L,K,[-1,0,1,-2,0,2,-1,0,1],0,!0);
I.ll.Au(m,r,L,K,[1,2,1,0,0,0,-1,-2,-1],0,!0);for(var R=0;R<r.length;R+=4){var Q=g[R],F=g[R+1],q=g[R+2],n=g[R+3],W=r[R],z=r[R+1],u=r[R+2],N=r[R+3];
g[R]=255-Math.max(0,Math.min(255,Math.sqrt(Q*Q+W*W)));g[R+1]=255-Math.max(0,Math.min(255,Math.sqrt(F*F+z*z)));
g[R+2]=255-Math.max(0,Math.min(255,Math.sqrt(q*q+u*u)))}};aN.En=function(m,g,L,K,r,R,Q,F){var q=L*K*4;
I.ll.ISN(m,g,L,K,r,R,Q)};aN.uA=function(m,g,L,K){I.fn(L);if(m<1){var r=Math.round(m*5),R=[1,2,1,2,[40,26,13,6,4,2][r],2,1,2,1];
R=I.ll.MC(R);var Q=L.slice(0);I.ll.Au(Q,L,K.j,K.F,R,255)}else g(L,K,m);I.ft(L)};aN.IJu=function(m,g,L,K){for(var r=0;
r<m.length;r++){L[r]=m[r]*(1/255);K[r]=0}FFT.fft2d(L,K);var R=g>>>1,Q=16384,F=128,n=100;while(F<g){F<<=1;
Q<<=2}var q=255/Math.log(Q),W=-100;for(var z=0;z<g;z++)for(var u=0;u<R;u++){var N=g+R+z&g-1,b=L[N*g+u],B=K[N*g+u],h=Math.sqrt(b*b+B*B),A=Math.atan2(B,b);
m[z*g+u]=Math.round(q*Math.log(h+1));m[z*g+R+u]=Math.round((Math.PI+A)*(255*.5/Math.PI))}};aN.IJs=function(m,g,L,K){L.fill(0);
K.fill(0);var r=g>>>1,R=16384,Q=128;while(Q<g){Q<<=1;R<<=2}var F=255/Math.log(R),q=[],n=[],W=[];for(var z=0;
z<256;z++){q[z]=Math.exp(z/F)-1;var u=z*(2*Math.PI/255)-Math.PI;n[z]=Math.sin(u);W[z]=Math.cos(u)}for(var N=0;
N<g;N++)for(var b=0;b<r;b++){var B=g+r+N&g-1,h=q[m[N*g+b]],u=m[N*g+r+b],A=h*W[u],e=h*n[u];L[B*g+b]=A;
K[B*g+b]=e;if(b!=0){var c=B==0?B*g+g-b:(g-B)*g+(g-b);L[c]=A;K[c]=-e}}FFT.ifft2d(L,K);for(var z=0;z<m.length;
z++){m[z]=Math.max(0,Math.min(255,~~(.5+255*L[z])))}};aN.IwR=new ArrayBuffer(512);aN.IJt=function(m){var g=aN.IwR,L=m.length;
if(g.byteLength<L)aN.IwR=g=new ArrayBuffer(L);var K=new Uint8Array(g);for(var r=0;r<L;r+=4){K[r]=m[r];
K[r+1]=m[r+1];K[r+2]=m[r+2];K[r+3]=m[r+3]}return g};aN.qK=function(m,g,L,K,r,R,Q){if(R==null)R={buffer:I.m(g.buffer.length),rect:g.rect.clone()};
I.jR(g.buffer,R.buffer);if(m=="GEfc"){var F=[];if(L.GEfs){var q=L.GEfs.v;for(var n=0;n<q.length;n++){var W=q[n].v;
if(W.GELv&&W.GELv.v==!1)continue;F.push(W)}}else F=[L];for(var n=0;n<F.length;n++){var z;if(n==0)IR.qK(m,g,F[n],K,r,R,Q);
else{if(z==null)z={buffer:I.m(g.buffer.length),rect:g.rect.clone()};I.jR(R.buffer,z.buffer);IR.qK(m,z,F[n],K,r,R,Q)}}}if(m=="Bokh"){var u=g.rect,N=u.j,b=u.F,B=N*b,h=B*4,A=g.buffer.slice(0),e=L.BkDp.v/255,c=57*(.3+.7*((N+b)/2)/1750)*(L.BkIb.v/100)*(1+.2*Math.pow(e,.1)),a=parseInt(L.BkIs.v.BtIs.slice(3)),$=-L.BkIr.v*Math.PI/180,G=[];
for(var n=0;n<8;n++){var o=$+n*(Math.PI*2/a),H=$+(n+1)*(Math.PI*2/a),f=Math.cos(o),E=Math.sin(o),S=Math.cos(H),V=Math.sin(H),J=[0,0,0];
I.Kz.yI.IF([[f,E,1,0],[S,V,1,0],[1,1,1,1]],J);if(J[2]>0){J[0]*=-1;J[1]*=-1;J[2]*=-1}G.push(J[0],J[1],J[2],0)}var U=L.BkDi.v.BtDi,j=L.BkDc;
if(U=="BeIn"){I._U(A,0,16777215);e=1}else if(U=="BeIt"&&j.v.BtDc=="BeCt"){}else{var i;if(U=="BeIt"&&j.v.BtDc=="BeCm")i=Q[1];
else if(U=="BeIa")i=Q[2][j.v];if(i==null){I._U(A,0,16777215)}else{var k;if(i.rect.TB(u))k=i.channel;
else k=i.vy(u);I.eX(k,A,3)}}if(t.be){var P=t.es(0,N,b);P.set(A);t.$a(P,u);P.o$(u);t.filter.Kk({type:t.filter.Tv,XR:new Float32Array([1/N,1/b]),InX:e,InB:c,InH:new Float32Array([L.BkSb.v/100,L.BkSt.v/255]),Ind:new Float32Array([L.BkNa.v/100,L.BkNt.v.BtNt=="BeNu"?0:1,L.BkNm.v?1:0]),InN:new Float32Array(G.slice(0,16)),IEq:new Float32Array(G.slice(16))},P.vB);
P.get(R.buffer);for(var n=0;n<h;n+=4)R.buffer[n+3]=g.buffer[n+3];return R}}if(m=="\0\0\x03\x82"){var w=Date.now(),d=aN.IJt,T=g.buffer.slice(0),aI=0,aq=0;
I.fn(T);I._U(R.buffer,0);var N=g.rect.j,b=g.rect.F,y=L.puppetShapeList.v,D=[],s=[],Z=[],aQ=[];for(var aa=0;
aa<y.length;aa++){var aD=y[aa].v,_=aI*2,M=aq*3,jt=aD.originalVertexArray.v.length>>>2,aR=aD.indexArray.v.length>>>2,aL=new Float32Array(d(aD.originalVertexArray.v));
for(var n=0;n<jt;n++)D[_+n]=aL[n];var aw=new Float32Array(d(aD.deformedVertexArray.v));for(var n=0;n<jt;
n++)s[_+n]=aw[n];var ap=new Uint32Array(d(aD.indexArray.v));for(var n=0;n<aR;n++)Z[M+n]=aI+ap[n];var al=[],ak=[],ao=aD.PnDp.v;
for(var n=0;n<ao.length;n++){al.push(aD.pinVertexIndices.v[n].v);ak.push(ao[n].v)}var aZ=I.e$.IJv(aL,ap,al,ak);
for(var n=0;n<aZ.length;n++)aQ[aI+n]=aZ[n];aI+=jt>>>1;aq+=~~(aR/3)}I.e$.Wa(T,R.buffer,g.rect,D,s,aQ,Z);
I.ft(R.buffer)}if(m=="\0\0\x03^"){function aS(Rx){var DC=1/Math.sqrt(Rx[0]*Rx[0]+Rx[1]*Rx[1]+Rx[2]*Rx[2]);
Rx[0]*=DC;Rx[1]*=DC;Rx[2]*=DC}var N=g.rect.j,b=g.rect.F,B=N*b,w=Date.now(),an=I.m(B),IQ=.3,Ih=.7;I.Wt(R.buffer,an);
var IU=I.m(B);I.blur.Nl(an,IU,R.rect,16);var a_=I.m(B);I.blur.Nl(an,a_,R.rect,8);var aG=an,aM=new Float32Array(B),av=L.Dtl.v,aA=av[2].v,IL=av[1].v,aB=av[0].v,aV=L.Scl.v*40*L.textureScale.v/(aA+IL+aB);
aA*=aV;IL*=aV;aB*=aV;for(var n=0;n<B;n++){var Ia=IU[n]*(1/255),aK=a_[n]*(1/255),aE=aG[n]*(1/255);aE=aE*aE;
aM[n]=aA*Ia+IL*aK+aB*aE}var Ij=L.blur.v;if(Ij!=0){var as=aM.slice(0);I.blur.AE(as,aM,R.rect,Ij)}var Rp=N-1,ag=b-1;
for(var IE=1;IE<ag;IE++)for(var ae=1;ae<Rp;ae++){var n=IE*N+ae,Rj=n*4,RQ=aM[n],ab=IQ*(aM[n+1]-RQ)+Ih*(RQ-aM[n-1]),RM=IQ*(aM[n+N]-RQ)+Ih*(RQ-aM[n-N]),Rx=[1,0,ab],Iw=[0,1,RM];
aS(Rx);aS(Iw);var H=Rx[0],qX=Rx[2],RC=Iw[1],Rd=Iw[2],Ip=-qX*RC,ID=-H*Rd,qB=H*RC;R.buffer[Rj]=~~(127.5+Ip*127.5);
R.buffer[Rj+1]=~~(127.5+ID*127.5);R.buffer[Rj+2]=~~(127.5+qB*127.5)}}if(m=="dDFT"||m=="iDFT"){function Ii(a){if(a==0)return 1;
a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;return a+1}var N=g.rect.j,b=g.rect.F,Ro=Ii(Math.max(N,b)),IG=Ro>>>1,qk=new v(0,0,Ro,Ro),qI=new v(0,0,N,b);
qI.y=Ro-b>>>1;var mp=N>>>1,ay=new v(0,qI.y,mp,b),at=new I.ha(N*b);I.cd(g.buffer,at);var Ru=new Float64Array(Ro*Ro),Qi=new Float64Array(Ro*Ro),k=I.m(Ro*Ro);
FFT.init(Ro);var DR=[at.u,at.S,at.R];for(var n=0;n<3;n++){var IM=DR[n];k.fill(0);if(m=="dDFT"){I.Cp(IM,qI,k,qk);
aN.IJu(k,Ro,Ru,Qi);I.Cp(k,qk,IM,qI,ay);ay.x+=mp;qk.x-=IG-mp;I.Cp(k,qk,IM,qI,ay);ay.x-=mp;qk.x+=IG-mp}else{I.Cp(IM,qI,k,qk,ay);
ay.x+=IG;qI.x+=IG-mp;I.Cp(IM,qI,k,qk,ay);ay.x-=IG;qI.x-=IG-mp;aN.IJs(k,Ro,Ru,Qi);I.Cp(k,qk,IM,qI)}}I.JL(at,R.buffer)}if(m=="Avrg"){var Rc=0,RO=0,QK=0,qm=0,QL=1;
for(var n=0;n<g.buffer.length;n+=4){var Re=g.buffer[n+3];QK+=g.buffer[n]*Re;RO+=g.buffer[n+1]*Re;Rc+=g.buffer[n+2]*Re;
qm+=Re}var IF=1/qm;Rc=Math.round(QL*(Rc*IF)+(1-QL)*255);RO=Math.round(QL*(RO*IF)+(1-QL)*255);QK=Math.round(QL*(QK*IF)+(1-QL)*255);
I._U(R.buffer,Rc<<16|RO<<8|QK,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(m)!=-1){var Qv=L.Rds.v.val,Rf=m=="\0\0\x02\xB1"?I.blur.tF:I.blur.Ilo;
aN.uA(Qv,Rf,R.buffer,R.rect);if(m=="UnsM"||m=="\0\0\x03\xE8"){var RE=L.Amnt.v.val/100,Rg=0;if(m=="UnsM")Rg=L.Thsh.v;
else RE*=.75;for(var n=0;n<g.buffer.length;n++){if((n&3)==3){R.buffer[n]=g.buffer[n];continue}var QI=g.buffer[n],mL=R.buffer[n],mC=RE*(QI-mL);
if(mC>0)mC=Math.max(0,mC-Rg);else mC=Math.min(0,mC+Rg);R.buffer[n]=Math.max(0,Math.min(255,QI+mC))}}if(m=="HghP")for(var n=0;
n<g.buffer.length;n++){if((n&3)==3){R.buffer[n]=g.buffer[n];continue}var QI=g.buffer[n],mL=R.buffer[n];
R.buffer[n]=Math.max(0,Math.min(255,128+QI-mL))}}if(m=="\0\0\x02\xB5"){var Rv=L.Rds.v.val,RP=L.Thsh.v,N=g.rect.j,b=g.rect.F;
aN.En(g.buffer,R.buffer,N,b,Rv,I.ll.fI,[RP],2)}if(m=="AdNs"){var Rm=new Uint8ClampedArray(R.buffer.buffer),Iq=255*L.Nose.v.val/100,ml;
if(L.Dstr.v.Dstr=="Gsn")ml=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else ml=function(){return Math.random()*2-1};for(var n=0;n<Rm.length;n+=4){var Rv=Rm[n],QD=Rm[n+1],qD=Rm[n+2],RK,pe,IW;
if(L.Mnch.v){RK=pe=IW=ml()}else{RK=ml();pe=ml();IW=ml()}Rv+=Iq*RK;QD+=Iq*pe;qD+=Iq*IW;Rm[n]=Rv;Rm[n+1]=QD;
Rm[n+2]=qD}}if(m=="Mdn "||m=="DstS"||m=="Mxm "||m=="Mnm "){var Rv=0;if(m=="Mdn "||m=="Mxm "||m=="Mnm ")Rv=L.Rds.v.val;
if(m=="DstS")Rv=L.Rds.v;I.ll.IG=.5;var Rf=I.ll.wT;if(m=="Mxm ")Rf=I.ll.wL;if(m=="Mnm ")Rf=I.ll.wG;var N=g.rect.j,b=g.rect.F,qR={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[m];
aN.En(g.buffer,R.buffer,N,b,Rv,Rf,[],qR);if(m=="DstS"){var RP=L.Thsh.v;for(var n=0;n<N*b*4;n++){var mi=Math.abs(g.buffer[n]-R.buffer[n]);
if(mi<=RP)R.buffer[n]=g.buffer[n]}}}if(m=="ClrH"){var ay=g.rect.clone();ay.x=ay.y=0;var Rv=L.Rds.v;Rv=Math.round(Rv*Math.sqrt(2));
var N=ay.j,b=ay.F,at=new I.ha(N*b);I.cd(g.buffer,at);I.eb(at.u);I.eb(at.S);I.eb(at.R);var QF=p.Y("canvas","");
QF.width=N;QF.height=b;var pT=QF.getContext("2d"),Qj=I.m(N*b*4);for(var QZ=0;QZ<3;QZ++){var k=QZ==0?at.u:QZ==1?at.S:at.R,mf=Math.PI*L["Ang"+(QZ+1)].v/180,Rr=new aC(1/Rv,0,0,1/Rv,0,0);
Rr.rotate(mf);I.eX(k,Qj,3);var pa=l.k.eB([Qj,ay],Rr,!0),qI=pa.rect;pT.clearRect(0,0,N,b);var ji=Math.sin(mf),pS=Math.cos(mf);
for(var n=0;n<qI.F;n++)for(var mZ=0;mZ<qI.j;mZ++){var ae=(mZ+qI.x+.5)*Rv,IE=(n+qI.y+.5)*Rv,Rn=ae,Ry=IE;
ae=pS*Rn-ji*Ry;IE=ji*Rn+pS*Ry;var B=pa.buffer[(n*qI.j+mZ<<2)+3]*(1/255),Qv=Rv*Math.sqrt(B*(1/Math.PI));
pT.beginPath();pT.arc(ae,IE,Qv,0,2*Math.PI);pT.fill()}var mh=pT.getImageData(0,0,N,b);I.Vl(mh.data,k,3)}I.eb(at.u);
I.eb(at.S);I.eb(at.R);I.JL(at,R.buffer)}if(m=="Crst"||m=="Pntl"){var N=g.rect.j,b=g.rect.F,Rf=m=="Crst"?I.EW.IlD:I.EW.IJY;
Rf(g.buffer,N,b,R.buffer,L.ClSz.v,[Math.round(r.u),Math.round(r.S),Math.round(r.R)])}if(m=="Mztn"){var N=g.rect.j,b=g.rect.F,B=N*b,at=new I.ha(B),jM=[at.u,at.S,at.R];
I.cd(g.buffer,at);var qJ=L.MztT.v.MztT,qn={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[qJ],w=Date.now(),qG=[];
for(var n=0;n<B;n++){qG[n]=Math.random()}var B=N*b,mV=Math.round(B*qn[0]),mg=B-N-1;for(var n=0;n<mV;
n++){var pK=Math.random(),QB=1;if(pK<.5){QB=N;pK*=2}else pK=2*(pK-.5);var Iv=Math.floor(pK*mg),QR=Iv+QB;
qG[Iv]=qG[QR]}var jR=Math.round(N*qn[1]);for(var IE=0;IE<b;IE++)for(var n=0;n<jR;n++){var pK=I.h.NI(IE*B+n),Iv=IE*N+Math.floor(pK*(N-1));
qG[Iv]=qG[Iv+1]}var af=new Float64Array(256);for(var n=0;n<256;n++){var Iy=n/255,pY=2*(Iy<.5?Iy:1-Iy);
pY=qn[2]+Math.pow(pY,qn[3])*(1-qn[2]);Iy=Iy<.5?pY*.5:1-pY*.5;af[n]=Iy}for(var Qm=0;Qm<3;Qm++){var k=jM[Qm];
for(var IE=0;IE<b;IE++){for(var ae=0;ae<N;ae++){var n=IE*N+ae,Qh=k[n],Iy=af[Qh],pK=qG[n];k[n]=pK>Iy?0:255}}}I.JL(at,R.buffer)}if(m=="Msc "){var qu=L.ClSz.v.val,N=g.rect.j,b=g.rect.F,jj=Math.ceil(N/qu),jF=Math.ceil(b/qu),qz=I.m(jj*jF*4);
I.scale._f(g.buffer,N,b,qz,jj,jF,1/qu);I.scale._f(qz,jj,jF,R.buffer,N,b,qu)}if(m=="Clds"||m=="DfrC"){if(m=="Clds")I._U(R.buffer,4278190080);
var mO=I.m(256*4);for(var n=0;n<256;n++){var Rj=n<<2,Dd=n/255,ap=1-Dd;mO[Rj]=Math.round(Dd*K.u+ap*r.u);
mO[Rj+1]=Math.round(Dd*K.S+ap*r.S);mO[Rj+2]=Math.round(Dd*K.R+ap*r.R)}var N=R.rect.j,b=R.rect.F,B=N*b,pI=I.m(B);
noise.seed(Math.random());for(var IE=0;IE<b;IE++)for(var ae=0;ae<N;ae++){var aV=0,jS=1,Qq=1;for(var n=0;
n<8;n++){var qv=Qq*(1/170);aV+=noise.perlin2(ae*qv,IE*qv)*jS;jS*=.5;Qq=Qq<<1}pI[IE*N+ae]=Math.round(Math.max(0,255*Math.min(1,.5+.7*aV*.5)))}var pP=R.buffer;
for(var n=0;n<B;n++){var Rj=n<<2,Qm=pI[n]<<2,Rv=mO[Qm],QD=mO[Qm+1],qD=mO[Qm+2];if(m=="Clds"){pP[Rj]=Rv;
pP[Rj+1]=QD;pP[Rj+2]=qD}else{pP[Rj]=Math.abs(pP[4*n]-Rv);pP[Rj+1]=Math.abs(pP[4*n+1]-QD);pP[Rj+2]=Math.abs(pP[4*n+2]-qD)}}}if(m=="LnsF"){var N=g.rect.j,b=g.rect.F,qJ=["Zm","Nkn","Nkn1","PnVs"].indexOf(L.Lns.v.Lns),mk=L.FlrC.v,mK=[Math.min(qJ,2),L.Brgh.v/100,mk.Hrzn.v,mk.Vrtc.v],w=Date.now();
I.IMD(g.buffer,N,b,R.buffer,mK)}if(m=="Blr "||m=="BlrM"||m=="Shrp"||m=="ShrM"){var N=g.rect.j,b=g.rect.F,Qn;
if(m=="Blr ")Qn=[1,2,1,2,16,2,1,2,1];else if(m=="BlrM")Qn=[1,2,1,2,4,2,1,2,1];else if(m=="Shrp")Qn=[0,-1,0,-1,8,-1,0,-1,0];
else Qn=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];Qn=I.ll.MC(Qn);var pm=g.buffer.slice(0);I.fn(pm);I.ll.Au(pm,R.buffer,N,b,Qn,m=="Shrp"||m=="ShrM"?0:255);
if(m=="Shrp"||m=="ShrM")I.tv(R.buffer);I.ft(R.buffer)}if(m=="MtnB"){var Qx=-L.Angl.v*Math.PI/180,qK=L.Dstn.v.val/2,w=Date.now(),N=g.rect.j,b=g.rect.F,u=g.rect.clone();
u.x=u.y=0;if(t.be){var w=Date.now(),qo=R.buffer;qo.set(g.buffer);I.fn(qo);var jN=t.es(0,N,b);jN.set(qo);
var mn=I.m(4);mn[0]=Math.round(128+127*Math.cos(Qx));mn[1]=Math.round(128+127*Math.sin(Qx));new Uint32Array(qo.buffer).fill(new Uint32Array(mn.buffer)[0]);
var mW=t.es(1,N,b);mW.set(qo);t.$a(jN,u);jN.o$(u);t.filter.Kk({type:t.filter.qH,Ao:mW.Iu,XR:new Float32Array([1/N,1/b]),IMe:qK/2,IMY:1},jN.vB);
jN.get(qo);I.ft(qo)}else{var Rr=new aC;Rr.rotate(Qx);var pa=l.k.eB([g.buffer,g.rect],Rr,!1,null,!0);
aN.uA(qK,I.blur.tA,pa.buffer,pa.rect);Rr.eb();pa=l.k.eB([pa.buffer,pa.rect],Rr,!1,R.buffer.buffer,!0,R.rect)}console.log(Date.now()-w)}if(m=="RdlB"){var N=g.rect.j,b=g.rect.F,RE=L.Amnt.v,pl=L.BlrM.v.BlrM=="Zm",QZ=L.Cntr.v,mE=QZ.Hrzn.v,pL=QZ.Vrtc.v,ab=Math.max(mE,1-mE)*N,RM=Math.max(pL,1-pL)*b,Qv=Math.sqrt(ab*ab+RM*RM),jg=2*Math.PI*Qv*1.5,Dq=Math.round(jg),IB=Math.round(Qv),ay=new v(0,0,Dq,IB),Ir=I.m(Dq*IB*4),Ic=pl?4:1,Qb=pl?.6:8*((N+b)/2)/1400,pD=.1,qv=1,mH=1;
I.i.fJ(g.buffer,N,b,Ir,Dq,IB,mE,pL,Ic,pD,qv,mH);var m$=pl?I.m(Dq*IB*4):null;if(pl){I.i.GL(Ir,m$,Dq,IB);
var jy=m$;m$=Ir;Ir=jy;ay.j=IB;ay.F=Dq}aN.uA(Qb*RE,I.blur.tA,Ir,ay);if(pl){I.i.GL(Ir,m$,IB,Dq);var jy=m$;
m$=Ir;Ir=jy;ay.j=Dq;ay.F=IB}I.i.fl(Ir,Dq,IB,R.buffer,N,b,mE,pL,Ic,pD,qv,mH)}if(m=="Plr "){var N=g.rect.j,b=g.rect.F;
if(L.Cnvr.v.Cnvr=="RctP")I.i.fl(g.buffer,N,b,R.buffer,N,b,.5,.5,1,0,2,N/b);else I.i.fJ(g.buffer,N,b,R.buffer,N,b,.5,.5,1,0,2,N/b)}if(m=="FndE"){var N=g.rect.j,b=g.rect.F;
aN.Ixb(g.buffer,R.buffer,N,b)}if(m=="\0\0\x03\xFD"){var mf=L.LghD.v*Math.PI/180,pq=[Math.cos(mf),Math.sin(mf),.001],mP=[L.stylization.v,L.cleanliness.v,L.brushScale.v,L.microBrush.v,L.lightingOn.v,L.specularity.v,pq];
I.W$.filter(g.buffer,g.rect,R.buffer,mP)}if(m=="Ofst"){var N=g.rect.j,b=g.rect.F,qd=new Uint32Array(g.buffer.buffer),QA=new Uint32Array(R.buffer.buffer),Rn=L.Hrzn.v,Ry=L.Vrtc.v,mM=L.Fl.v.FlMd;
I._U(QA,0);if(mM=="Bckg"||mM=="Rpt"){var ay=g.rect.clone();ay.offset(Rn,Ry);I.pq(qd,ay,QA,R.rect)}if(mM=="Rpt"){var f,E,S,V,pE;
Rn=Math.max(-N,Math.min(N,Rn));Ry=Math.max(-b,Math.min(b,Ry));f=Rn>0?Rn:0;S=Rn>0?N:N+Rn;E=Ry>0?0:Ry+b;
V=Ry>0?Ry:b;pE=Ry>0?0:N*(b-1);for(var IE=E;IE<V;IE++)for(var ae=f;ae<S;ae++)QA[IE*N+ae]=qd[pE+ae-Rn];
f=Rn>0?0:N+Rn;S=Rn>0?Rn:N;E=Ry>0?Ry:0;V=Ry>0?b:b+Ry;pE=Rn>0?0:N-1;for(var IE=E;IE<V;IE++)for(var ae=f;
ae<S;ae++)QA[IE*N+ae]=qd[pE+N*(IE-Ry)];if(Rn>=0&&Ry>=0){f=0;S=Rn;E=0;V=Ry;pE=0}if(Rn>=0&&Ry<0){f=0;S=Rn;
E=b+Ry;V=b;pE=N*(b-1)}if(Rn<0&&Ry>=0){f=N+Rn;S=N;E=0;V=Ry;pE=N-1}if(Rn<0&&Ry<0){f=N+Rn;S=N;E=b+Ry;V=b;
pE=N*b-1}for(var IE=E;IE<V;IE++)for(var ae=f;ae<S;ae++)QA[IE*N+ae]=qd[pE]}if(mM=="Wrp"){Rn=(Rn+100*N)%N;
Ry=(Ry+100*b)%b;var ay=new v(Rn-N,Ry-b,N,b);I.pq(qd,ay,QA,R.rect);ay.offset(N,0);I.pq(qd,ay,QA,R.rect);
ay.offset(0,b);I.pq(qd,ay,QA,R.rect);ay.offset(-N,0);I.pq(qd,ay,QA,R.rect)}}if(m=="Rept"){var pF=L.Rsft.v.val/100,QJ=L.SpcX.v.val/100;
QJ=Math.max(QJ,-.99);var Is=L.SpcY.v.val/100;Is=Math.max(Is,-.99);var qv=L.Scl.v.val/100,Rr=new aC;Rr.rotate(L.Angl.v*Math.PI/180);
Rr.scale(qv,qv);var md={buffer:g.buffer,rect:g.rect};I.Xo(md);if(md.rect.L_()){md.buffer=g.buffer;md.rect=g.rect}var pP=md.buffer,ay=md.rect,qA=I.xn(pP,ay,0),pR=new Uint32Array(pP.buffer)[0];
if(!qA.L_()&&!qA.TB(ay)){var pG=I.m(qA.c()*4);I.pq(pP,ay,pG,qA);pP=pG;ay=qA}ay.x=ay.y=0;pR=QJ==0&&Is==0||L.SpcC.v?pR:0;
function mF(ae){return ae<0?Math.ceil(ae):Math.floor(ae)}var qb=Rr.SW(new jf(ay.j,0));qb.x=mF(qb.x);
qb.y=mF(qb.y);var qj=Rr.SW(new jf(0,ay.F));qj.x=mF(qj.x);qj.y=mF(qj.y);var pa=l.k.eB([pP,ay],Rr,!1),qI=pa.rect,pN=pa.buffer,ms=Math.round(qI.x),RF=Math.round(qI.y),pf=Math.max(R.rect.j,R.rect.F)/Math.min(ay.j*qv*(1+QJ),ay.F*qv*(1+Is));
pf=Math.ceil(pf*1.7);I._U(R.buffer,pR);for(var IE=-pf;IE<pf;IE++){for(var ae=-pf;ae<pf;ae++){var pX=(ae+IE*pF)*(1+QJ),pu=IE*(1+Is);
qI.x=ms+Math.round(pX*qb.x+pu*qj.x);qI.y=RF+Math.round(pX*qb.y+pu*qj.y);if(qI.tY(R.rect))I.h.dq("norm",pN,qI,R.buffer,R.rect,qI,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(m)!=-1){var qc=Q[0],N=g.rect.j,b=g.rect.F,af,mz=0;
if(m=="LqFy")af=Dj.GT(new Uint8Array(L.LqMe.v).buffer);else{var mY=m=="Dspl"?1:3;af={uP:Math.floor(N/mY),PC:Math.floor(b/mY)};
af.map=new Float32Array(af.uP*af.PC*2);if(m=="LnCr"){var mE=.5*(af.uP-1),pL=.5*(af.PC-1),pZ=Math.max(Math.abs(0-mE),Math.abs(1-mE)),pB=Math.max(Math.abs(0-pL),Math.abs(1-pL)),pd=Math.sqrt(pZ*pZ+pB*pB),qQ=0,px=0,Dp=-1,DD=2,qv=L.LnSi.v/100,pl=1/qv,pb=L.LnIa.v/100,DI=pb==0?1e-6:pb*4.6,pz=pl/pd;
for(var IE=0;IE<af.PC;IE++){for(var ae=0;ae<af.uP;ae++){var ab=(ae-mE)*pz,RM=(IE-pL)*pz,Rv=Math.sqrt(ab*ab+RM*RM)*DI,py=Math.atan(Rv),Iz=pb>0?py/Rv:Rv/py,mH=mE+pd*Iz*ab,DG=pL+pd*Iz*RM,n=IE*af.uP+ae<<1;
af.map[n]=mH-ae;af.map[n+1]=DG-IE}}}else if(m=="Dspl"&&qc.length!=0){mz=L.UndA.v.UndA=="WrpA"?2:1;var jP=L.DspF.v.pth,pJ;
for(var n=0;n<qc.length;n++)if(qc[n].aP==jP)pJ=qc[n];if(pJ==null)pJ=qc[0];pJ.os();var DQ=pJ.E_[1],DJ=I.m(DQ.c());
I.Wt(pJ.E_[0],DJ);var Dk=DQ.j,DO=2*L.HrzS.v/mY,DM=2*L.VrtS.v/mY;for(var IE=0;IE<af.PC;IE++){for(var ae=0;
ae<af.uP;ae++){var pZ=Math.floor(DQ.j*ae/af.uP),pB=Math.floor(DQ.F*IE/af.PC),ab=RM=-.5+DJ[pB*Dk+pZ]/255,n=IE*af.uP+ae<<1;
af.map[n]=ab*DO;af.map[n+1]=RM*DM}}}else if(m=="Pnch"||m=="Twrl"||m=="Sphr"){var RE=1,Qx=Math.PI,D_=0,QZ=3,qu=1.53,Iz=1;
if(m=="Pnch"||m=="Sphr")RE=L.Amnt.v/100;if(m=="Twrl")Qx=L.Angl.v*Math.PI/180;if(m=="Sphr")D_=["Nrml","HrzO","VrtO"].indexOf(L.SphM.v.SphM);
function Rf(ae){ae=Math.pow(ae,1-ae*.3-ae*ae*(ae*ae)*.5);return-.225*Math.sin(ae*Math.PI)}function De(b,DC,Rv,f,E,S,V,Iz){var ab=S-f,RM=V-E,Qa=f-b,xm=E-DC,Dd=ab*ab+RM*RM,qD=2*(ab*Qa+RM*xm),QZ=Qa*Qa+xm*xm-Rv*Rv,xp=Math.sqrt(qD*qD-4*Dd*QZ),xD=Iz/(2*Dd),xx=(-qD+xp)*xD,xw=(-qD-xp)*xD;
return Iz*Math.min(xx,xw)}var jj=af.uP,jF=af.PC,Di=af.uP/2,ag=af.PC/2,Dv=1/Di,Rv=Math.sqrt(QZ*QZ+1)/QZ,IM=QZ+Math.sqrt(1/(QZ*QZ));
if(RE<0){QZ=1.72;Rv=1;IM=QZ;qu=-1;Iz=-1}for(var IE=0;IE<jF;IE++){var RM=(IE-ag)/ag;for(var ae=0;ae<jj;
ae++){var ab=(ae-Di)*Dv;if(D_==1)RM=0;else if(D_==2)ab=0;var p$=Math.sqrt(ab*ab+RM*RM);if(p$<1&&p$!=0){var n=IE*af.uP+ae<<1;
if(m=="Pnch"){var Dn=-RE*Rf(p$)/p$;af.map[n]=ab*Dn*Di;af.map[n+1]=RM*Dn*ag}else if(m=="Sphr"){var jy=De(0,IM,Rv,0,0,p$,QZ,Iz),DE=qu*RE*(jy-1);
af.map[n]=ab*DE*Di;af.map[n+1]=RM*DE*ag}else if(m=="Twrl"){var mf=Math.atan2(RM,ab)-Qx*(1-p$)*(1-p$),DX=Math.cos(mf),DB=Math.sin(mf);
af.map[n]=(p$*DX-ab)*Di;af.map[n+1]=(p$*DB-RM)*ag}}}}}else if(m=="Shr "){var Dh=JSON.parse(JSON.stringify(L.ShrP.v));
I.Kz.f(Dh,new aC(0,255/127,255/127,0,-2,0));var DV=I.Kz.qQ(Dh,af.PC,!0);mz=L.UndA.v.UndA=="WrpA"?2:1;
for(var IE=0;IE<af.PC;IE++){var ab=-DV[IE]*af.uP;for(var ae=0;ae<af.uP;ae++){var n=IE*af.uP+ae<<1;af.map[n]=ab}}}else if(m=="Wave"){var D$=L.NmbG.v,Dr=L.WLMn.v,DF=L.WLMx.v,Dg=L.AmMn.v*(Math.PI/4),DK=L.AmMx.v*(Math.PI/4),DA=L.SclH.v/100,DH=L.SclV.v/100,qJ=L.Wvtp.v.Wvtp,Du=Math.sin;
if(qJ=="WvTr")Du=function(ae){ae*=2/Math.PI;return-.5+Math.abs(ae%2-1)};if(qJ=="WvSq")Du=function(ae){ae*=2/Math.PI;
return 1+2*Math.floor(ae%2-1)};var qa=[],Da=new I.h.xK(L.RndS.v);for(var n=0;n<D$;n++){qa.push(Da.get()*10);
qa.push(Math.PI*mY/(Dr+Da.get()*(DF-Dr)));qa.push(DA*(Dg+Da.get()*(DK-Dg))/mY);qa.push(Da.get()*10);
qa.push(Math.PI*mY/(Dr+Da.get()*(DF-Dr)));qa.push(DH*(Dg+Da.get()*(DK-Dg))/mY)}var Dc=[],DY=[],DN=Math.max(af.uP,af.PC);
for(var n=0;n<DN;n++){var ab=0,RM=0;for(var mZ=0;mZ<D$;mZ++){var DL=mZ*6;ab+=qa[DL+2]*Du(qa[DL]+n*qa[DL+1]);
RM+=qa[DL+5]*Du(qa[DL+3]+n*qa[DL+4])}Dc[n]=RM;DY[n]=ab}for(var IE=0;IE<af.PC;IE++){for(var ae=0;ae<af.uP;
ae++){var n=IE*af.uP+ae<<1;af.map[n]=DY[IE];af.map[n+1]=Dc[ae]}}mz=L.UndA.v.UndA=="WrpA"?2:1}else if(m=="Rple"){mz=1;
var RE=L.Amnt.v/100,DP=4,Dy=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],Ds=1,Dz=1,Qa=0,Df=["Sml","Mdm","Lrg"].indexOf(L.RplS.v.RplS);
if(Df==0){Ds=1;Dz=.2;Qa=3}if(Df==2){Ds=1;Dz=2;Qa=-1;Dy=Dy.reverse()}var xU=function(ae,IE){var QZ=Math.cos,aV=0;
for(var n=0;n<DP;n++)for(var mZ=0;mZ<DP;mZ++)aV+=Dy[n*DP+mZ]*QZ(ae*(n+Qa)-IE*(mZ+Qa));return aV},my=Math.floor(50/mY),xq=new Float32Array(my*my*2),xQ=Dz*RE*.5/mY;
for(var IE=0;IE<my;IE++)for(var ae=0;ae<my;ae++){var mE=Ds*ae*2*Math.PI/my,pL=Ds*IE*2*Math.PI/my,xj=xU(mE,pL),ab=(xU(mE+.01,pL)-xj)*100,RM=(xU(mE,pL+.01)-xj)*100,n=(IE*my+ae)*2;
xq[n]=ab*xQ;xq[n+1]=RM*xQ}for(var IE=0;IE<af.PC;IE++)for(var ae=0;ae<af.uP;ae++){var DB=IE%my,DX=ae%my,n=IE*af.uP+ae<<1,xa=DB*my+DX<<1;
af.map[n]=xq[xa];af.map[n+1]=xq[xa+1]}}}I.l_.wg(g.buffer,R.buffer,N,b,null,af.map,af.uP,af.PC,mz)}return R};
var IR={};IR.IUt="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");IR.Ow="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
IR.O_=["ScrC","ScrD","ScrL"];IR.OZ=["SDRD","SDHz","SDLD","SDVt"];IR.wZ={PntD:"paintDaubs"};IR.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
IR.Rw=function(m){var g;if(m=="PntD")g={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(m=="Spt")g={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(m=="SprS")g={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(m=="BsRl")g={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(m=="HlfS")g={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(m=="GlwE")g={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(m=="StnG")g={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
g.__name="Filter Gallery";g.classID="GEfc";g.GEfk={t:"enum",v:{GEft:m}};g.GELv={t:"bool",v:!0};return g};
IR.qK=function(m,g,L,K,r,R,Q){m=L.GEfk.v.GEft;var F=g.rect.j,q=g.rect.F;if(m=="Spt"||m=="SprS"){var F=g.rect.j,q=g.rect.F,n,W=1,z=1;
n={uP:Math.floor(F/z),PC:Math.floor(q/z)};n.map=new Float32Array(n.uP*n.PC*2);var u=new I.h.xK(L.FlRs.v),N=new Float32Array(8192),b=L.SprR.v,B=b<20?.018*b:.36+(b-20)*.128;
if(m=="SprS"){B=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][b]}for(var h=0;
h<8192;h++)N[h]=(-1+2*u.get())*B*70;for(var A=0;A<q;A++)for(var e=0;e<F;e++){var c=A*F+e<<1;n.map[c]=N[c%7919];
n.map[c+1]=N[(c+1)%7919]}var a=n.map.slice(0),$=m=="Spt"?L.Smth.v-1:1;if(m=="Spt"&&$!=0){IR.IRi(n.map,a,F,q,$);
IR.IDt(a,n.map,F,q,$)}if(m=="SprS"){var G=L.StrL.v>>>1,o=G==0?2:1;IR.IRi(n.map,a,F,q,o);IR.IDt(a,n.map,F,q,o);
if(G!=0){var H=IR.OZ.indexOf(L.SDir.v.StrD),f=[1,1,1,0][H],E=[-1,0,1,1][H],S=2*G+1,V=1/S;for(var A=0;
A<q;A++)for(var e=0;e<F;e++){var c=A*F+e<<1,J=0,U=0;for(var h=0;h<S;h++){var j=Math.max(0,Math.min(F-1,e-(G+h)*f)),i=Math.max(0,Math.min(q-1,A-(G+h)*E)),k=i*F+j<<1;
J+=n.map[k];U+=n.map[k+1]}a[c]=J*V;a[c+1]=U*V}n.map=a}}I.l_.wg(g.buffer,R.buffer,F,q,null,n.map,n.uP,n.PC,W)}if(m=="BsRl"){var P=g.rect.c(),w=I.m(P),d=w.slice(0);
I.Wt(g.buffer,w);var T=L.Dtl.v,y=L.Smth.v;if(T!=15){I.blur.Nl(w,d,g.rect,Math.round((15-T)*.5));I.jR(d,w)}var D=2/F,s=2/q,Z=(2+IR.Ow.indexOf(L.LghD.v.LghD))*Math.PI*.25,J=Math.cos(Z);
if(Math.abs(J)<.1)J=0;J=Math.sign(J);var U=Math.sin(Z);if(Math.abs(U)<.1)U=0;U=Math.sign(U);var aQ=1/(J*J+U*U);
for(var A=0;A<q;A++)for(var e=0;e<F;e++){var h=A*F+e,f=e==F-1?w[h]-w[h-1]:w[h+1]-w[h],E=A==q-1?w[h]-w[h-F]:w[h+F]-w[h],aI=e*D-1,aq=A*s-1,aa=f==0?aI:f*.4;
aa=Math.max(-1,Math.min(1,J*aa));var aD=E==0?aq:E*.4;aD=Math.max(-1,Math.min(1,U*aD));d[h]=128+127*(aa+aD)*aQ}if(y!=1){I.blur.Nl(d,w,g.rect,Math.round((y-1)*.5));
I.jR(w,d)}I.xk(d,R.buffer)}if(m=="PlsW__"){var P=g.rect.c(),w=I.m(P),d=w.slice(0);I.Wt(g.buffer,w);var T=L.Dtl.v,y=L.Smth.v;
if(T!=15){I.blur.Nl(w,d,g.rect,Math.round((15-T)*.5));I.jR(d,w)}for(var A=0;A<q;A++)for(var e=0;e<F;
e++){var h=A*F+e,f=e==F-1?w[h]-w[h-1]:w[h+1]-w[h],E=A==q-1?w[h]-w[h-F]:w[h+F]-w[h],_=f*f+E*E;d[h]=Math.max(0,255-_*190)}var M=new Float32Array(P);
for(var h=0;h<P;h++)M[h]=d[h];if(y!=1){I.blur.AE(M.slice(0),M,g.rect,Math.round((y-1)*.2))}for(var A=0;
A<q;A++)for(var e=0;e<F;e++){var h=A*F+e,jt=h<<2,aR=M[h],aL=R.buffer[jt],aw=R.buffer[jt+1],ap=R.buffer[jt+2],f=e==F-1?aR-M[h-1]:M[h+1]-aR,E=A==q-1?aR-M[h-F]:M[h+F]-aR,al=-1,ak=1,ao=0,aZ=f,aS=0,an=1,IU=E,IL=1;
f=ao*IU-aZ*an;E=aZ*aS-ak*IU;al=ak*an-ao*aS;var a_=1/Math.sqrt(f*f+E*E+al*al);f*=a_;E*=a_;al*=a_;var aG=e-F/2,aM=A-q/2,av=F*.3,a_=1/Math.sqrt(aG*aG+aM*aM+av*av);
aG*=a_;aM*=a_;av*=a_;var aA=Math.max(0,aG*f+aM*E+av*al);if(aA>1)throw aA;var aB=aA*255;R.buffer[jt]=IL*aB+(1-IL)*aL;
R.buffer[jt+1]=IL*aB+(1-IL)*aw;R.buffer[jt+2]=IL*aB+(1-IL)*ap}}if(m=="PntD"){var aV=L.Shrp.v*.4,Ia=L.BrsT.v.BrsT,aK={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[Ia],aE=Math.round(L.Sz.v*.5);
I.ll.IG=aK[0];var Ij=I.ll.wT;aN.En(g.buffer,R.buffer,F,q,aE,Ij,[],0);var as=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
as=I.ll.MC(as);var IQ=R.buffer.slice(0);I.ll.Au(IQ,R.buffer,F,q,as,0);for(var h=0;h<g.buffer.length;
h++){var Ih=R.buffer[h]-IQ[h];R.buffer[h]=Math.max(0,Math.min(255,IQ[h]+aV*Ih))}}if(m=="GlwE"){var Rp=R.buffer.slice(0);
I.ll.IG=.5;var Ij=I.ll.wT;aN.En(g.buffer,Rp,F,q,L.Smth.v>>>1,Ij,[],0);aN.Ixb(Rp,R.buffer,F,q);I.jR(R.buffer,Rp);
I.eb(Rp);I._U(Rp,4278190080,16777215);aN.En(Rp,R.buffer,F,q,L.EdgW.v>>>1,I.ll.wL,[],0);var IL=L.EdgB.v/10;
for(var h=0;h<Rp.length;h++){if((h&3)==3)continue;var ag=R.buffer[h];R.buffer[h]=Math.max(0,Math.min(255,ag*IL))}}if(m=="StnG"){var F=g.rect.j,q=g.rect.F;
I.EW.Ilx(g.buffer,F,q,R.buffer,L.ClSz.v,[Math.round(K.u),Math.round(K.S),Math.round(K.R)],L.BrdT.v)}if(m=="HlfS"){var IE=L.HlSz.v,ae=IE*2+1,Rj=L.Cntr.v,RQ=IR.O_.indexOf(L.ScrT.v.ScrT),P=F*q,ab=P*4,RM=I.m(P),Rx=g.buffer,ID=0,qB=0;
for(var h=0;h<ab;h+=4)RM[h>>>2]=~~(.5+(Rx[h]+Rx[h+1]+Rx[h+2])*(1/3));var Iw=RM.slice(0);I.blur.t$(Iw,RM,g.rect,IE);
var qX=Math.PI/ae,RC=new Float64Array(F),J=new Float64Array(F),Rd=new Float64Array(2*F);for(var e=0;
e<F;e++){var Ip=(e-(F>>>1))*qX;RC[e]=Ip*Ip;J[e]=Math.cos(Ip);var f=e<<1;Rd[f]=Math.sin(f*(1/4.5));Rd[f+1]=Math.sin((f+1)*(1/4.5))}for(var A=0;
A<q;A++){var Ii=(A-(q>>>1))*qX,U=Math.cos(Ii),Ro=Ii*Ii;for(var e=0;e<F;e++){var IG=U;if(RQ==0){var qk=.5+Math.sqrt(RC[e]+Ro)*4.5;
IG=Rd[~~qk]}else if(RQ==1){IG=J[e]*U}var h=A*F+e,aB=RM[h]*(.75+.25*IG),qI=Rx[(h<<2)+3]*(1/255),mp=Math.max(0,Math.min(255,~~aB));
ID+=mp*qI,qB+=qI;RM[h]=mp}}ID/=qB;var ay=128+1.26*(ID-128),IL=.08+.25*Math.abs((128-ID)/128),at=1+IL*Rj;
for(var h=0;h<P;h++){var aB=ay+(RM[h]-ay)*at;RM[h]=Math.max(0,Math.min(255,~~aB))}if(Rj>46)I.round(RM);
I.xk(RM,R.buffer)}for(var h=0;h<g.buffer.length;h+=4)R.buffer[h+3]=g.buffer[h+3]};IR.IjO=function(m){var g=[0,0,0,0,0,0,0,0,0,0,0,0,0],L=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][m];
for(var K=0;K<13;K++){var r=K-6;g[K]=1/(L*Math.sqrt(2*Math.PI))*Math.exp(-.5*(r/L)*(r/L))}return g};
IR.IRi=function(m,g,L,K,r){var R=IR.IjO(r),Q=6,F=13;for(var q=0;q<K;q++)for(var n=0;n<L;n++){var W=q*L+n<<1,z=0,u=0;
for(var N=0;N<F;N++){var b=n+N-Q,B=b<0?0:b>=L?L-1:b,h=(q*L+B)*2,A=R[N];z+=A*m[h];u+=A*m[h+1]}g[W]=z;
g[W+1]=u}};IR.IDt=function(m,g,L,K,r){var R=IR.IjO(r),Q=6,F=13;for(var q=0;q<K;q++)for(var n=0;n<L;n++){var W=q*L+n<<1,z=0,u=0;
for(var N=0;N<F;N++){var b=q+N-Q,B=b<0?0:b>=K?K-1:b,h=(B*L+n)*2,A=R[N];z+=A*m[h];u+=A*m[h+1]}g[W]=z;
g[W+1]=u}};function ad(){}ad.Cb=[2,5,5,7,4,4];ad.go="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
ad.kP="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
ad.VT=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
ad.ILT=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
ad._D=function(m){if(m=="passThrough")return"pass";return ad.go[ad.kP.indexOf(m)]};ad.EE=function(m){if(m=="pass")return"passThrough";
return ad.kP[ad.go.indexOf(m)]};ad.getName=function(m){return ad.VT[ad.go.indexOf(m)]};function x(){this.rect=null;
this.TZ="norm";this.opacity=255;this.OG=!1;this.$J=0;this.Id=0;this.PT=[];for(var m=0;m<10;m++)this.PT.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.So=null;this.Az=null;this.s=null;this.Th=null;this.IkA=30;
this.XV=x.Ct();this.IkH=x.Ct();this.IOS=x.Ct();this.IOi=x.Ct();this.eF=0;this.Gu=!1;this.OJ=null;this.t=new x.On}x.Ct=function(){var m=p.Y("canvas");
m.width=m.height=30;return m.getContext("2d")};x.On=function(){this.Wo=!0;this.pS=!0;this.YT=I.m(0);
this.IMG=I.m(0);this.HC=null;this.Jg={};this.IMW=null;this.YS=null;this.Ia=null;this.XF=null;this.Gq=null;
this.RP=null;this.rc=null;this.xl=null;this.mZ=null;this.IR=null;this.Wk=null;this.Yk=null;this.GQ=!1};
x.On.prototype.ILZ=function(){this.Wo=!1;this.pS=!1;this.HC=null;this.GQ=t.be};x.On.prototype.Ilq=function(){ai.Iwp(this.Jg);
this.YT=I.m(0);this.IMG=I.m(0);if(this.XF)this.XF.delete();if(this.Gq)this.Gq.delete();this.XF=null;
this.Gq=null;var m=[this.RP,this.rc,this.xl,this.mZ,this.IR,this.Wk];for(var g=0;g<6;g++)if(m[g]!=null&&m[g]instanceof t.ha)m[g].delete();
this.RP=null;this.rc=null;this.xl=null;this.mZ=null;this.IR=null;this.Wk=null};x.prototype.X=function(m){if(m==null)m=this.rect.clone();
if(this.t.HC==null)this.t.HC=m;else this.t.HC=this.t.HC.uM(m)};x.prototype.EY=function(){return this.add.lsct==Ra.lG||this.add.lsct==Ra.Ha};
x.prototype.lo=function(){var m=this.add;return m.SoCo!=null||m.GdFl!=null||m.PtFl!=null};x.prototype.ILV=function(){var m=this.add.lmfx;
if(m==null)return;var g=["GrFl","patternFill"];for(var L=0;L<g.length;L++){var K=aU.JS[aU.order.indexOf(g[L])],r=m[K].v;
if(r.length==0)continue;for(var R=0;R<r.length;R++){var Q=r[R].v;if(Q.enab.v&&(Q.Algn==null||!Q.Algn.v))this.t.pS=!0}}};
x.prototype.Ilt=function(){var m=this.s;if(this.lo())m=this.WN();if(!t.be)return m.Xj();if(this.t.Gq==null||this.t.Wo||t.be!=this.t.GQ){if(this.t.Gq)this.t.Gq.delete();
this.t.Gq=new t.CJ(m.ZM().j,m.ZM().F);this.t.Gq.set(m.Xj())}return this.t.Gq};x.prototype.IG_=function(m){var g=this.rect,L=this.buffer;
if(!t.be){var K=this.OE(m,L,g);if(K){L=K.qT;g=K.rect}return L}if(this.t.HC!=null||t.be!=this.t.GQ){var K=this.OE(m,L,g);
if(K){L=K.qT;g=K.rect}var r=g;if(t.be!=this.t.GQ||this.t.XF==null||this.t.XF.j!=r.j||this.t.XF.F!=r.F){if(this.t.XF)this.t.XF.delete();
this.t.XF=new t.ha(r.j,r.F);this.t.XF.set(L)}else{var R=this.t.HC.clone();R.offset(-g.x,-g.y);this.t.XF.set(L,R)}}return this.t.XF};
x.prototype.wP=function(){var m=this.s;if(this.lo())m=this.WN();return m!=null&&m.isEnabled&&(m.EX()==0||m.EX()!=0&&!m.rect.L_())};
x.prototype.OE=function(m,g,L){if(this.zp()){var K=this.lI(m);if(K.s&&K.s.isEnabled&&(!K.s.rect.L_()||K.s.color==0)){var r=this.add.SoLd.filterFX.v;
K.s.kc=r.filterMaskDensity?r.filterMaskDensity.v:255;K.s.JE=r.filterMaskFeather?r.filterMaskFeather.v:0;
var R=K.buffer,Q=K.s.vy(L);I.eb(Q);g=I.clone(g);I.h.oH(R,K.rect,g,L,Q,L,0,L,1);return{qT:g,rect:L}}}};
x.prototype.Ila=function(){var m={WM:!1,W_:!1,Y_:0,Ye:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)m.W_=!0;
if(this.WN()&&this.WN().isEnabled)m.WM=!0;if(m.WM&&m.W_){m.Y_=this.WN().rect.x-this.add.vmsk.WN().rect.x;
m.Ye=this.WN().rect.y-this.add.vmsk.WN().rect.y}return m};x.prototype.Zh=function(m){if(this.add.lsct==Ra.vc)return;
var g=this,L=this.WN()!=null&&this.WN().gg,K=this.add.vmsk!=null&&this.add.vmsk.gg,r=this.Ila(),R=JSON.stringify(r)!=this.t.IMW||r.WM&&L||r.W_&&K;
if(R){if(r.W_){var Q=this.add.vmsk.WN();if(r.WM){this.s=this.WN().kB(Q);this.t.YS=new jf(this.s.rect.x-this.WN().rect.x,this.s.rect.y-this.WN().rect.y)}else this.s=Q}if(this.s)this.t.Wo=!0;
if(this.s)this.t.Ia=new jf(this.rect.x-this.s.rect.x,this.rect.y-this.s.rect.y);if(r.WM)this.WN().gg=!1;
if(r.W_)this.add.vmsk.gg=!1;this.X()}else{if(r.WM&&r.W_){this.s.rect.x=this.WN().rect.x+this.t.YS.x;
this.s.rect.y=this.WN().rect.y+this.t.YS.y}}if(g.lo()){this.uH(m)}if(g.vo()){var F;if(this.s)F=new jf(this.rect.x-this.s.rect.x,this.rect.y-this.s.rect.y);
if(this.s&&this.s.isEnabled&&(this.t.Ia==null||!F.TB(this.t.Ia))){this.t.Ia=F;this.X();this.t.Wo=!0}}if(qE.get(g.add)!=null)this.t.Wo=!0;
this.t.IMW=JSON.stringify(r)};x.prototype.uH=function(m){var g=this,L=g.add.vstk,K,r=g.add.vmsk?this.add.vmsk.WN():null,F=!0;
if(r&&r.isEnabled&&r.EX()==0)K=r.ZM().clone();else K=new v(0,0,m.j,m.F);var R=g.WN();if(R&&R.isEnabled&&R.EX()==0)K=K.my(g.s.ZM());
var Q=r&&L;if(L&&(!L.strokeEnabled.v||L.strokeStyleLineWidth.v.val==0))Q=!1;if(L&&!L.fillEnabled.v&&Q)F=!1;
var q=I.m(K.c()*4);if(F){if(g.add.SoCo)ai.FH(q,g.add.SoCo.Clr.v);if(g.add.GdFl)ai.hP(g.add.GdFl,q,K,m,null,r&&r.color==0?r.rect:null);
if(g.add.PtFl)ai.bs(g.add.PtFl,q,K,m,g.add.fxrp)}if(r){var n=r.kc;if(Q)r.kc=255;var W=I.m(K.c());if(r.EX()!=0)I.set(W,Math.round(r.EX()));
if(r&&r.isEnabled){var z=r.ZM(),u=r.Xj();if(z.TB(K))I.jR(u,W);else I.Cp(u,z,W,K)}if(g.add.SoCo&&F){I.eX(W,q,3)}else I.lD(W,K,q,K);
if(Q)r.kc=n}g.buffer=q;g.rect=K;if(Q){var N=aU.WL.ZE.indexOf(L.strokeStyleLineAlignment.v.strokeStyleLineAlignment),b=L.strokeStyleContent.v,B=aU.WL.yN.indexOf(b.classID),h=this.add.vmsk.WN(L);
if(g.rect.TB(new v(0,0,m.j,m.F)))g.rect=g.rect;else if(N!=0){var A=g.rect.uM(h.ZM()),e=I.m(A.c()*4);
I.pq(g.buffer,g.rect,e,A);g.buffer=e;g.rect=A}var n=h.kc;h.kc=255;var c=h.vy(g.rect);h.kc=n;if(h.color==255)I.eb(c);
var a=I.m(g.rect.c()*4);if(B==0)ai.FH(a,b.Clr.v);if(B==1)ai.hP(b,a,g.rect,m,null,r.color==0?r.rect:null);
if(B==2)ai.bs(b,a,g.rect,m,g.add.fxrp);var $=L.strokeStyleOpacity.v.val/100;if($!=1)I.Xw(c,$);I.eX(c,a,3);
if(h.color==255)N=2-N;if(N==0){I.h.dq("norm",a,g.rect,g.buffer,g.rect,g.rect,1);I.lD(W,g.rect,g.buffer,g.rect)}if(N==1){I.h.dq("norm",a,g.rect,g.buffer,g.rect,g.rect,1)}if(N==2){I.eb(W);
I.h.oH(a,g.rect,g.buffer,g.rect,W,K,255,g.rect,1,!1);I.eb(W)}if(h.kc!=255){var G=I.clone(a);I._U(G,4278190080,16777215);
I.h.dq("norm",G,g.rect,g.buffer,g.rect,g.rect,1-h.kc/255)}n=r.kc;r.kc=255;this.IMG=r.vy(g.rect);r.kc=n}this.X()};
x.prototype.lQ=function(m,g){var L=this,K=L.add.SoLd.Idnt.v,r=L.add.SoLd,R=m.Ws(K,r.Crop?r.Crop.v:null);
if(R==null)return;var Q=R.E_;r.Sz.v.Wdth.v=Q[1].j;r.Sz.v.Hght.v=Q[1].F;var F=r.warp.v,q=l.k.yb(r.nonAffineTransform),n=I.i.Eq(q,Q[1]);
if(F&&!I.QM.gN(F)){var W=I.e.Pt(I.QM.Xd(F)),z=W.x,u=W.y,N=1/W.j,b=1/W.F;n=I.i.Eq(q);n=I.i.kB(n,[N,0,-z*N,0,b,-u*b,0,0])}var B=l.k.Cc(Q,g?0:1,n,F,null,null,null,g);
if(B==null){L.buffer=I.m();L.rect=new v}else if(L.zp()){var h=L.lI(m);h.buffer=B.buffer;h.rect=B.rect.clone();
this.Qw(m,g)}else{L.buffer=B.buffer;L.rect=B.rect}L.Zh(m);L.X();m.X()};x.prototype.Qw=function(m,g){if(g==null)g=!1;
var L=this.lI(m),K=this.add.SoLd.filterFX.v,r=aN.IJK(K),R=new v(0,0,m.j,m.F),Q=L.rect.uM(R),F=L.rect.clone();
F.XH(r.x,r.y);var q={buffer:null,rect:Q.my(F)};q.buffer=I.m(q.rect.c()*4);I.pq(L.buffer,L.rect,q.buffer,q.rect);
if(K.enab.v&&g==!1){var n=K.filterFXList.v;for(var W=0;W<n.length;W++){var z=n[W].v;if(z.enab.v==!1)continue;
var u=I.G.EX(z.FrgC.v),N=I.G.EX(z.BckC.v),b=X.$f(z.filterID.v),B=z.Fltr?z.Fltr.v:null;if(qE.Iv[b]!=null){var h=qE.Iv[b],A=qE.Ik(h,B);
if(A)qE.qK(A,q.buffer,q.buffer,q.rect)}else q=aN.qK(b,q,B,u,N,null,[m.add.lnk2?m.add.lnk2:[],this.WN(),m.Qj])}}this.rect=q.rect;
this.buffer=q.buffer;this.qV();this.X();m.X()};x.prototype.OX=function(m,g,L){this.OJ=this.IQz(m,g,L)};
x.prototype.IQC=function(m,g){var L=this.IQz(m,g,!0);if(L==null)return null;var K={je:L.eF,$O:L.Kh,rect:L.gw};
if(K.je==1||K.je==3){var r=K.rect,R=I.m(r.j*r.F*4);I.eX(K.$O,R,0);I.eX(K.$O,R,1);I.eX(K.$O,R,2);I.ti(m.I.channel,m.I.rect,R,r);
K.$O=R}return K};x.prototype.IQz=function(m,g,L){var K,r,R,Q,F,q,n;if(this.eF<=0){var W=I.m(this.rect.c());
I.Vl(this.buffer,W,3);K=I.XK.Ln(g,{channel:W,rect:this.rect},"intersection");if(K==null)return null;
var z=I.YR(K.channel,K.rect);Q=K.rect.clone();F=this.rect.clone();r=I.m(Q.c()*4);I.pq(this.buffer,F,r,Q);
I.eX(K.channel,r,3);R=I.clone(this.buffer);if(!L){var u=I.clone(g.channel);I.eb(u);I.lD(u,g.rect,R,F)}q=I.clone(this.buffer);
n=this.rect.clone()}if(this.eF==1||this.eF==3){var N=this.eF==1?this.WN():this.lI(m).s;Q=g.rect.clone();
F=N.rect.clone();r=N.ImS(Q);var R=I.clone(N.channel);if(!L)I.h.OP(N.color==255?I.xE(Q.c()):I.ae(Q.c()),Q,R,F,g.channel,Q,1);
q=I.clone(N.channel);n=N.rect.clone()}return{eF:this.eF,Kh:r,gw:Q,Fi:R,pu:F,YC:q,YZ:n}};x.prototype.OB=function(m,g){var L=this.OJ;
if(L.eF==0){this.rect=L.YZ;this.buffer=L.YC;this.X()}if(L.eF==1||L.eF==3){var K=L.eF==1?this.WN():this.lI(m).s;
K.channel=L.YC;K.rect=L.YZ;if(this.eF==1){K.gg=!0;this.Zh(m)}if(this.eF==3)this.X()}this.OJ=g};x.prototype.uu=function(m,g){if(this.eF<=0&&g.rect.TB(this.rect)){var L=I.m(this.rect.c());
I.Vl(this.buffer,L,3);if(I.TB(m.I.channel,L)){var K=this.rect,r=this.buffer;this.OJ={eF:this.eF,Kh:r.slice(0),gw:K.clone(),Fi:I.m(0),pu:new v,YC:I.m(0),YZ:new v};
return!0}}var R=this.OJ;if(R==null)return!1;if(R.eF!=this.eF)return!1;if(!g.rect.TB(R.gw))return!1;var Q=R.pu.uM(R.gw);
if(R.eF<=0){if(!Q.TB(this.rect))return!1;var F=I.m(R.Kh.length>>2);I.Vl(R.Kh,F,3);if(!I.TB(g.channel,F))return!1;
var q=I.m(Q.j*Q.F*4);I.pq(R.Fi,R.pu,q,Q);I.h.dq("norm",R.Kh,R.gw,q,Q,Q,1);return I.TB(q,this.buffer)}if(R.eF==1||R.eF==3){var n=R.eF==1?this.WN():this.lI(m).s;
if(!Q.TB(n.rect))return!1;var W=I.m(Q.c());I.set(W,n.color);I.Cp(R.Fi,R.pu,W,Q);I.h.OP(R.Kh,R.gw,W,Q,g.channel,Q,1);
return I.TB(W,n.channel)}};x.prototype.XU=function(m,g,L,K){var r=this.OJ;r.gw.offset(g,L);var R=r.pu.uM(r.gw);
if(r.eF<=0){var Q=I.m(R.c()*4);I.pq(r.Fi,r.pu,Q,R);I.h.dq("norm",r.Kh,r.gw,Q,R,R,1);this.buffer=Q;this.rect=R;
this.X()}else{var F=this.eF==1?this.WN():this.lI(m).s,q=I.m(R.c());I.set(q,F.color);I.Cp(r.Fi,r.pu,q,R);
I.h.OP(r.Kh,r.gw,q,R,K.channel,R,1);F.channel=q;F.rect=R.clone();if(this.eF==1){F.gg=!0;this.Zh(m)}if(this.eF==3)this.X()}};
x.prototype.IJN=function(){var m=[-1,0,1,2];if(this.s)m.push(-2);if(this.Th)m.push(-3);return m};x.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
x.prototype.vZ=function(m){this.add.luni=this.name=m};x.prototype.OV=function(m){var g=this.add.lnsr,L=this.add.TySh;
if(g=="rend"&&L)this.vZ(aj.tq(L.m_).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};x.prototype.WP=function(){return(this.$J&1<<1)==0};
x.prototype.vo=function(){return(this.$J&1<<4)==0};x.prototype.DW=function(){return(this.$J&1<<5)!=0};
x.prototype.Ilp=function(){var m=this;if(m.add.lnsr!="bgnd"){m.add.lnsr="bgnd";m.vZ("Background");m.add.lspf=1<<2}};
x.prototype.IlM=function(){var m=this;if(m.add.lnsr=="bgnd"){delete m.add.lnsr;m.vZ("Layer 0");m.add.lspf=0}};
x.prototype.SO=function(m){var g=this.add.lspf;return g==null?!1:(g>>m&1)!=0};x.prototype.Vd=function(m){if(m&&!this.WP())this.$J-=2;
if(!m&&this.WP())this.$J+=2};x.prototype.uc=function(){var m=this.add.lmfx;if(m==null)return!1;for(var g in m){if(g=="masterFXSwitch")continue;
if(g=="Scl")continue;if(g=="classID")continue;if(m[g].v.length>0)return!0}return!1};x.prototype.zp=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
x.prototype.jL=function(){var m=this.add.lmfx;if(m==null)return!1;if(!m.masterFXSwitch.v)return!1;for(var g in m){if(g=="masterFXSwitch")continue;
if(g=="Scl")continue;if(g=="classID")continue;var L=m[g].v;for(var K=0;K<L.length;K++)if(L[K].v.enab.v)return!0}return!1};
x.prototype.vk=function(m,g,L,K){var r=new v,R=this.us(m,L,K);if(R.indexOf(0)!=-1)r=r.uM(this.rect);
if(R.indexOf(1)!=-1)r=r.uM(this.WN().ZM());if(R.indexOf(2)!=-1){var Q=this.add.vmsk,F;if(g){if(Q.Gm.length>1){var q=I.q.dD(Q.W,null,Q.Gm);
F=I.e.Pt(q)}else F=I.q.Oe(Q.W,Q.N.length!=0?Q.N:null)}else F=I.q.Oe(Q.W);r=r.uM(F)}if(R.indexOf(3)!=-1)r=r.uM(this.lI(m).s.ZM());
if(R.length==0&&this.lo())r=new v(0,0,m.j,m.F);return r};x.prototype.vP=function(){var m=this.add.artb.artboardRect.v,g=m.Btom.v,L=m.Left.v,K=m.Rght.v,top=m.Top.v;
return new v(L,top,K-L,g-top)};x.prototype.IW=function(m){var g=x.IoX(m);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=g};x.IoX=function(m){var g={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
g.Btom.v=m.y+m.F;g.Left.v=m.x;g.Rght.v=m.x+m.j;g.Top.v=m.y;return g};x.prototype.us=function(m,g,L){var K=[],r=this,R=this.Gu;
if(!g&&r.Gu&&L){K.push(2)}else if(r.eF<=0||g){if(r.vo())if(!this.rect.L_())K.push(0);if(r.WN()&&!r.WN().rect.L_())if(r.WN()._m||g)K.push(1);
if(r.add.vmsk)if(r.add.vmsk._m||g)K.push(2);if(r.zp()&&r.lI(m).s&&!r.lI(m).s.rect.L_())K.push(3)}else if(r.eF==1){K.push(1);
if(r.WN()._m&&!r.WN().rect.L_()){if(r.vo())if(!this.rect.L_())K.push(0);if(r.add.vmsk)if(r.add.vmsk._m)K.push(2)}}else if(r.eF==3&&!r.lI(m).s.rect.L_())K.push(3);
if(r.add.artb&&K.indexOf(0)==-1)K.push(0);K.sort();return K};x.prototype.WN=function(){var m=this;return m.Th?m.Th:m.add.vmsk&&m.add.vmsk.isEnabled?null:m.s};
x.prototype.lI=function(m){var g=this.add.SoLd.placed.v,L=m.add.FEid;if(L==null)return null;for(var K=0;
K<L.length;K++)if(L[K].id==g)return L[K];return null};x.prototype.extend=function(m){I.Ixg(this,m)};
x.prototype.ITM=function(m,g,L){var K=m.clone();if(this.jL()){var r=this.add.lmfx,R=g.root.dr(g._.indexOf(this)),Q=r.gradientFillMulti.v,F=!1;
for(var q=0;q<Q.length;q++)if(Q[q].v.enab.v&&Q[q].v.Algn.v)F=!0;if(F)K=K.uM(R.ZM(g,!1));var n=ai.Io_(this,g,L);
K.offset(n.x,n.y);K.j+=n.j;K.F+=n.F}return K};x.prototype.qV=function(){if(this.vo())I.Xo(this);var m=this.WN();
if(m)m.qV()};x.prototype.clone=function(){var m=new x;m.rect=this.rect.clone();m.buffer=I.clone(this.buffer);
m.TZ=this.TZ;m.opacity=this.opacity;m.OG=this.OG;m.$J=this.$J;m.name=this.name;m.PT=this.PT.slice(0);
if(this.s)m.s=this.s.clone();if(this.Th)m.Th=this.Th.clone();for(var g in this.add)m.add[g]=mj.clone(g,this.add[g]);
return m};x.prototype.IiX=function(m){var g=this;if(g.add.TySh)delete g.add.TySh;if(g.add.SoLd){var L=this.OE(m,this.buffer,this.rect);
if(L){this.buffer=L.qT;this.rect=L.rect;this.X()}delete g.add.SoLd}if(g.add.SoCo||g.add.GdFl||g.add.PtFl){if(g.add.vogk)delete g.add.vogk;
if(g.add.SoCo)delete g.add.SoCo;if(g.add.GdFl)delete g.add.GdFl;if(g.add.PtFl)delete g.add.PtFl;if(g.add.vmsk){console.log(g.Th,g.s);
delete g.add.vmsk;if(g.Th==null&&g.s)delete g.s;else if(g.Th!=null&&g.s!=null){g.s=g.Th;delete g.Th}}}if(!g.EY()&&qE.get(g.add)==null&&!this.vo())this.$J-=16};
x.prototype.IqF=function(m){var g=255,L=0;if(m==2){var K=this.add.SoLd.filterFX.v;if(K.filterMaskDensity)g=K.filterMaskDensity.v;
if(K.filterMaskFeather)L=K.filterMaskFeather.v}else{var r=m==0?this.WN():this.add.vmsk;g=r.kc;L=r.JE}return{WD:m,ID:g,IX:L}};
x.prototype.IQ_=function(m){if(m.WD==2){var g=this.add.SoLd.filterFX.v;if(m.ID==255)delete g.filterMaskDensity;
else g.filterMaskDensity={t:"long",v:m.ID};if(m.IX==0)delete g.filterMaskFeather;else g.filterMaskFeather={t:"doub",v:m.IX};
this.X()}else{var L=m.WD==0?this.WN():this.add.vmsk;L.kc=m.ID;L.JE=m.IX;L.gg=!0}};x.prototype.js=function(){var m=this,g=m.add.vmsk;
if(g==null)return;m.add.vogk=x.js(g.W)};x.js=function(m){var g=[],L=I.q.GM(m);for(var K=0;K<L;K++)g.push(I.xV.ae());
return g};var Ra={O$:0,lG:1,Ha:2,vc:3};x.Ed=function(){this.name="Mask";this.vu=!1;this.yK={u:255,S:0,R:0};
this.SB=50;this.RJ=0;this.color=255;this._m=!0;this.isEnabled=!0;this.mH=!1;this.kc=255;this.JE=0;this.rect=new v;
this.channel=I.m(0);this.ITc=null;this.ITY=null;this.gg=!0};x.Ed.prototype.kB=function(m){if(!this.isEnabled)return m;
var g=new x.Ed;g.color=Math.round(this.EX()*m.EX()/255);if(this.EX()==0&&m.EX()==0)g.rect=this.ZM().my(m.ZM());
else if(m.EX()==0)g.rect=m.ZM().clone();else if(this.EX()==0)g.rect=this.ZM().clone();else g.rect=this.ZM().uM(m.ZM());
g.channel=this.vy(g.rect);g.kc=255;g.JE=0;var L=m.vy(g.rect);I.IDz(L,g.rect,g.channel,g.rect);return g};
x.Ed.prototype.ZM=function(){if(this.JE==0)return this.rect;var m=Math.ceil(this.JE*2.2),g=this.rect.clone();
g.XH(m,m);return g};x.Ed.prototype.Xj=function(){if(this.JE==0&&this.kc==255)return this.channel;if(this.JE==0){var m=I.clone(this.channel);
I.eb(m);I.Xw(m,this.kc/255);I.eb(m);return m}var g=this.ZM(),L=this.ImS(g),m=I.m(g.c());I.blur.Nl(L,m,g,this.JE);
if(this.kc!=255){I.eb(m);I.Xw(m,this.kc/255);I.eb(m)}return m};x.Ed.prototype.EX=function(){return Math.round(255-(255-this.color)*(this.kc/255))};
x.Ed.prototype.extend=function(m){I.extend(this,m,this.color)};x.Ed.prototype.qV=function(){if(this.color==255)I.eb(this.channel);
I.qV(this);if(this.color==255)I.eb(this.channel)};x.Ed.prototype.clone=function(){var m=new x.Ed;m.name=this.name;
m.vu=this.vu;m.yK=this.yK;m.SB=this.SB;m.RJ=this.RJ;m.color=this.color;m._m=this._m;m.isEnabled=this.isEnabled;
m.mH=this.mH;m.kc=this.kc;m.JE=this.JE;m.rect=this.rect.clone();m.channel=I.clone(this.channel);return m};
x.Ed.prototype.ImS=function(m,g){if(g==null)g=I.m(m.c());I.set(g,this.color);I.Cp(this.channel,this.rect,g,m);
return g};x.Ed.prototype.vy=function(m,g){var L=this.ZM(),K=this.Xj();if(g==null)g=I.m(m.c());I.set(g,this.EX());
I.Cp(K,L,g,m);return g};x.Lb=function(){this._m=!0;this.isEnabled=!0;this.kc=255;this.JE=0;this.W=[{type:6},{type:8,all:0}];
this.VS=[-3,-3];this.xp=!1;this.Th=null;this.gg=!0;this.N=[];this.Gm=[]};x.Lb.prototype.offset=function(m,g){this.Th=this.WN();
I.q._R(this.W,new aC(1,0,0,1,m,g));this.Th.rect.offset(m,g)};x.Lb.prototype.WN=function(m){if(!this.gg&&this.Th&&m==null){this.Th.isEnabled=this.isEnabled;
return this.Th}var g=I.q.Oe(this.W);if(g.c()>3e4*3e4)g=new v(0,0,100,100);if(m){var L=Math.ceil(m.strokeStyleLineWidth.v.val);
g.XH(L,L)}g=I.e.uV(g);var K=new x.Ed;K.color=I.q.qA(this.W)?0:255;K._m=this._m;K.isEnabled=this.isEnabled;
K.mH=!0;K.rect=g;K.kc=this.kc;K.JE=this.JE;K.channel=I.m(K.rect.c());if(!g.L_())I.q.Ihd(this.W,K.channel,K.rect,m);
if(m==null){this.Th=K;this.gg=!1}return K};x.Lb.prototype.clone=function(){var m=new x.Lb;m._m=this._m;
m.isEnabled=this.isEnabled;m.kc=this.kc;m.JE=this.JE;m.W=x.Lb.QT(this.W);m.VS=this.VS.slice(0);m.xp=this.xp;
m.N=this.N.slice(0);m.Gm=this.Gm.slice(0);return m};x.Lb.prototype.concat=function(m){var g=m.W.slice(2);
if(g.length==0)return;g[0].au=3;this.W=this.W.concat(g)};x.Lb.QT=function(m){var g=[];for(var L=0;L<m.length;
L++){var K=m[L];if(K.type>5||K.type==0||K.type==3)g.push(JSON.parse(JSON.stringify(K)));else g.push({type:K.type,QR:K.QR.clone(),Z:K.Z.clone(),LM:K.LM.clone()})}return g};
x.Lb.Il_=function(m,g,L){if(m.length!=g.length)return!1;for(var K=2;K<m.length;K++){var r=m[K],R=g[K];
if(r.type!=R.type)return!1;if(r.type==0||r.type==3){if(r.length!=R.length||!L&&r.au!=R.au)return!1}else if(!r.QR.TB(R.QR)||!r.Z.TB(R.Z)||!r.LM.TB(R.LM))return!1}return!0};
x.Lb.prototype.Ilr=function(){var m=this.W;for(var g=3;g<m.length;g++)if(m[g].type==0||m[g].type==3)m[g].au=-1};
x.DY=function(){this.type=null;this.Ts=2;this.aP=null;this.w_="";this.co="";this.AZ="";this.open=0;this.raw=null;
this.E_=null};x.DY.prototype.clone=function(){var m=new x.DY;m.type=this.type;m.Ts=this.Ts;m.aP=this.aP;
m.w_=this.w_;m.co=this.co;m.AZ=this.AZ;m.open=this.open;m.raw=new Uint8Array(this.raw.buffer.slice(0));
return m};x.DY.prototype.os=function(m){var g=this;if(g.E_)return;var L=ax.xo(g.raw.buffer);if(L!="svg"&&L!="pdf")m=0;
if(L==null){alert("Unsupported format: "+X.dn(g.raw,0,4));return null}var K=ax.EU(L);if(K.$v){var r=new aH(name+(L=="psd"?"":"-"+L)+".psd");
K.X_(g.raw.buffer,r);for(var R=0;R<r._.length;R++)if(r._[R].lo())r._[R].Zh(r);r.ZB();r.X();r.cG();g.E_=[r.os(),new v(0,0,r.j,r.F)]}else if(K){var Q=K.X_(g.raw.buffer)[0];
g.E_=[new Uint8Array(Q.data),Q.wh]}if(g.E_){if(m==1){var F=g.E_[0],q=g.E_[1],n=I.m(q.c());I.Vl(F,n,3);
var W=I.YR(n,q),z=I.m(W.c()*4);I.pq(F,q,z,W);g.E_=[z,W]}I.Ez(g.E_)}};x.vs="0";x.vf="2";x.XD="2.5";x.IxK="3";
x.DN="4";x.IxY="5";x.Or="5.5";x.Ivh="6";x.OF="7";x.IIX="7.5";x.If="8";x.Db="9";x.Dz="9.3";x.Og="9.5";
x.ImC="9.6";x.qS="10";x.XL="11";x.xR="12";x.XJ="13";x.dG="13.5";x.OA="13.7";x.Xi="14";x.dT="14.5";x.lp="15";
x.qn="16";x.xD="17";x.dB="18";x.Ixp="19";x.dF="19.5";x.qg="19.6";x.dW="19.7";x.qP="20";x.QS="21";x.Xb="21.5";
x.xi="22";x.ds="22.5";x.ZU="23";x.IhH="24";x.Qe="25";x.Ixc="26";x.IwJ="27";x.xC="28";x.xY="29";x.xN="30";
x.QB="31";x.ZD="32";x.dz="33";x.xb="34";x.xP="35";x.BR="36";x.WR="36.5";x.wa="37";x.QZ="37.5";x.Ihu="37.6";
x.BH="38";x.wm="38.5";x.Wm="38.6";x.ZN="39";x.BP="40";x.Iwb="41";x.ILv="42";x.wJ="50";x.wO="51";x.Wl="52";
x.WS="53";x.Ou="54";x.IJm="54.5";x.Iid="54.6";x.Ivc="54.7";x.wE="54.8";x.hr="55";x.ZO="56";x.QV="57";
x.WO="58";x.Od="59";function ju(){this.depth=0;this.index=-1;this.A=null;this.I$M=null;this.Yn=-1;this.children=null;
this.parent=null;this.YE=null}ju.prototype.Ilg=function(){var m=0;if(this.A.EY()){for(var g=0;g<this.children.length;
g++)m+=this.children[g].Ilg()}else if(this.A.buffer)m+=this.A.buffer.length;return m};ju.prototype.dr=function(m){var g=this.YE[m];
return this.YE[m]};ju.prototype.IVg=function(m,g){var L=this.A;if(!L.WP()||L.SO(2)||L.SO(31))return null;
if(L.wP()){var K=L.s.rect.tY(m);if(!K&&L.s.color==0)return}if(L.EY()){for(var r=0;r<this.children.length;
r++){var R=this.children[r];R.IVg(m,g)}}else if(L.rect.tY(m))g.push(this.index)};ju.prototype.wF=function(m,g){var L=this.A;
if(!L.WP()||L.SO(2)||L.SO(31))return null;if(L.wP()){if(L.s.rect.Rn(m)){if(!I.wF(m,L.s.channel,L.s.rect))return null}else if(L.s.color==0)return null}if(L.EY()){for(var K=this.children.length-1;
K>=0;K--){var r=this.children[K],R=r.wF(m,g);if(R&&g==null)return R}return null}else if(L.add.TySh&&L.rect.Rn(m)||I.IwI(m,L.buffer,L.rect)){if(g==null)return this;
else g.push(this.index)}return null};ju.prototype.IlK=function(m){var g=this.A;if(!g.WP()||g.SO(2)||g.SO(31))return null;
var L=g.add.vmsk;if(L&&L.isEnabled){var K=I.q.wF(L.W,m).Bj;if(K!=-1)return{ITy:this,ITs:K}}if(g.EY()){for(var r=this.children.length-1;
r>=0;r--){var R=this.children[r],Q=R.IlK(m);if(Q)return Q}return null}return null};ju.prototype.IQk=function(m,g){m.push(this.index);
if(this.A.EY()){m.push(this.Yn);if(g)if(this.A.eF==1&&this.A.WN()._m==!1)return;for(var L=0;L<this.children.length;
L++)this.children[L].IQk(m)}};ju.prototype.yP=function(m,g,L){var K=this.A,r,R;if(K.EY()&&K.add.artb!=null)g=K.vP();
if(g.j>g.F){r=L;R=Math.floor(L*(g.F/g.j))}else{r=Math.floor(L*(g.j/g.F));R=L}if(K.lo()&&K.add.vmsk==null||K.add.TySh)r=R=Math.max(R,16);
var Q=R,F=K.lo()&&K.add.vmsk;if(F){var q=K.rect.clone(),z,u;if(q.L_())q=new v(0,0,20,20);var n=q.j,W=q.F;
if(n>W){z=L;u=Math.floor(L*(W/n))}else{z=Math.floor(L*(n/W));u=L}if(z*u==0)z=u=16;I.QI.ql(K.XV,z,u,q,K.buffer,K.rect,!1);
I.QI.IEs(K.XV,z,u);Q=u}else if(K.add.TySh){I.QI.IXB(K.XV,Q,Q,K.add.TySh)}else if(K.add.SoCo){Q=Math.max(16,Math.min(r,R));
I.QI.IXn(K.XV,Q,Q,K.add.SoCo)}else if(K.add.GdFl){I.QI.IXP(K.XV,Q,Q,K.add.GdFl)}else if(K.add.PtFl){I.QI.IXy(K.XV,Q,Q,K.add.PtFl,m)}else if(qE.get(K.add)!=null){I.QI.IXc(K.XV,Q,Q,K.add)}else if(K.add.SoLd){I.QI.ql(K.XV,r,R,g,K.buffer,K.rect,!1);
I.QI.IEy(K.XV,r,R,K.add.SoLd)}else if(K.EY()){Q=16}else{if(K.vo())I.QI.ql(K.XV,r,R,g,K.buffer,K.rect,!1);
else{I.QI.IXH(K.XV,Q,Q)}}var N=K.WN();if(N)I.QI.qR(K.IkH,r,R,g,N);if(K.zp()&&K.lI(m)&&K.lI(m).s){var b=K.lI(m).s;
I.QI.qR(K.IOi,r,R,g,b)}if(!F&&K.add.vmsk){I.QI.qR(K.IOS,r,R,g,K.add.vmsk.WN(),!0)}if(K.add.vmsk||N)Q=Math.max(Q,R);
K.IkA=Math.max(Q,16);if(K.EY()&&K.add.lsct==Ra.lG)for(var B=0;B<this.children.length;B++)this.children[B].yP(m,g,L)};
ju.prototype.IDN=function(m,g,L,K){this.depth=L;var r=m[g];if(K==null)K=[];this.YE=K;if(r.add.lsct==Ra.vc){this.I$M=r;
this.Yn=g-1;this.children=[];var R=g+1;while(!0){var Q=m[R];if(Q==null)console.log(R,m.length);if(Q.add.lsct==Ra.lG||Q.add.lsct==Ra.Ha){if(r.add.lyid==Q.add.lyid)r.add.lyid+=16777215;
this.A=Q;this.index=R-1;K[this.index]=this;K[g-1]=this;break}var F=new ju;F.parent=this;R=F.IDN(m,R,L+1,K);
this.children.push(F)}return R+1}else{this.A=r;this.index=g-1;K[this.index]=this;return g+1}};ju.prototype.OW=function(m,g,L,K){var r=this.dr(L),R=m;
while(r.parent!=null){R=r.A.ITM(R,g,K);r=r.parent}return R};ju.prototype.ZM=function(m,g){var L=this.A,K=new v;
if(!L.WP())return K;var r=L.WN();if(L.EY())for(var R=0;R<this.children.length;R++){var Q=this.children[R].ZM(m,!0);
K=K.uM(Q)}else if(qE.get(L.add)!=null)K=L.wP()&&L.s.color==0?L.s.ZM().clone():new v(0,0,m.j,m.F);else if(L.lo()&&L.add.vmsk&&L.add.vmsk.isEnabled&&L.add.vstk){K=L.rect.clone()}else if(L.lo()&&r&&r.isEnabled&&r.EX()!=0)K=new v(0,0,m.j,m.F);
else{K=L.vk(m,!1,!0);if(L.add.vmsk)K=I.e.uV(K)}return g?L.ITM(K,m):K};ju.prototype.Ixv=function(m,g,L,K,r){var R=this.A,Q=ai.q_(R);
if(!R.WP())return;if(R.opacity==255){this.IGw(m,g,L,K,r);return}var F=I.clone(m);this.IGw(F,g,L,K,r);
I.h.oH(F,g,m,g,null,null,0,L,R.opacity/255,R.TZ=="diss")};ju.prototype.IGw=function(m,g,L,K,r){var R=this.A,Q=ai.q_(R),F=qE.get(R.add)!=null,z,b;
if(R.EY()&&R.TZ=="pass"&&!R.wP()&&!(r.length>0||Q.fill!=1||R.jL())){this.Wv(m,g,L,K);return}var q=R.EY()&&R.TZ=="pass"&&(r.length>0||Q.fill!=1||R.jL()),n=R.rect,W=R.buffer;
if(R.EY()){n=this.ZM(K,!1);var u=I.m(n.c()*4);z=I.m(n.c());this.Wv(u,n,L,K);I.Vl(u,z,3)}else if(F){n=g.clone();
z=I.m(n.c());I.set(z,255)}else{n=R.rect;z=I.m(n.c());I.Vl(W,z,3)}if(R.wP()){var N=R.s.vy(n);I.XG(N,z)}if(R.jL())b=ai.MO(R.add.lmfx,R.add.fxrp,z,n,K);
if(R.jL())ai.ILg(R.add.lmfx,b,n,m,g,L);if(R.EY()){W=I.m(n.c()*4);if(R.TZ=="pass")I.pq(m,g,W,n);if(q){var u=I.m(n.c()*4);
this.Wv(u,n,L,K);var B=I.m(n.c());I.Vl(u,B,3);I.lD(B,n,W,n)}this.Wv(W,n,L,K)}if(F){W=I.clone(m);I._U(W,4278190080,16777215);
var h=qE.get(R.add),A=qE.Ik(h,R.add[h]);qE.qK(A,W,W,n)}var e=I.clone(W);I._U(e,4278190080,16777215);
for(var c=0;c<r.length;c++)r[c].Ixv(e,n,L,K,[]);var a=I.m(n.c()*4);I.pq(m,g,a,n);if(F)Q.XA=!0;I.h.dq(R.TZ=="pass"?"norm":R.TZ,e,n,a,n,L,1,Q);
if(R.jL()){var $=R.t.Jg.type.FrFX,G=null;if($.length!=0){G=$[0];for(var c=0;c<$.length;c++)if($[c].Vc.j>G.Vc.j)G=$[c];
var o=I.m(G.Vc.j*G.Vc.F*4);I.pq(m,g,o,G.Vc)}ai.ILA(R.add.lmfx,b,n,m,g,L,a,o,G?G.Vc:null)}I.h.oH(a,n,m,g,z,n,0,L,1,R.TZ=="diss")};
ju.prototype.Wv=function(m,g,L,K){var r=this.children;for(var R=0;R<r.length;R++){var Q=[];for(var F=R+1;
F<r.length;F++)if(r[F].A.OG)Q.push(r[F]);else break;r[R].Ixv(m,g,L,K,Q);R+=Q.length}};ju.qx={delete:function(m){if(m&&m.j)m.delete()},m:function(m,g){return t.be?new t.ha(m,g):I.m(m*g*4)},lL:function(m,g,L){if(t.be){if(m==null||m.j!=g||m.F!=L){ju.qx.delete(m);
return new t.ha(g,L)}}else{if(m==null||!(m instanceof Uint8Array)||m.length!=g*L*4){ju.qx.delete(m);
return I.m(g*L*4)}}return m},Cp:function(m,g,L,K,r){(t.be?t.xv:I.pq)(m,g,L,K,r)},oH:function(m,g,L,K,r,R,Q,F,q,n){(t.be?t.h.Vt:I.h.oH)(m,g,L,K,r,R,Q,F,q,n)},dq:function(m,g,L,K,r,R,Q,F){if(t.be)t.h.Tt(m,g,L,K,r,R,Q,F);
else I.h.dq(m,g,L,K,r,R,Q,F)},_U:function(m,g,L){if(t.be){t.$a(m);t.Ol(g,L)}else I._U(m,g,L)},IlH:function(m,g,L,K,r){if(t.be){t.h.Vt(null,null,K,r,m,g,L,r,1,!1)}else{if(L==255)I.lD(m,g,K,r);
else{var R=I.m(g.c());I.xe(K,r,R,g);I.XG(m,R);I._U(K,0,16777215);I.ti(R,g,K,r)}}},xZ:function(m,g,L,K){if(t.be)t.h.Vt(null,null,L,K,m,g,0,K,1,!1);
else I.xZ(m,g,L,K)}};ju.prototype.Oc=function(m,g,L,K,r,R){var Q=typeof R=="number";if(!this.A.EY()&&(Q&&this.index>R||!Q&&R.indexOf(this.index)==-1)){return}var F=this.A,q=ai.q_(F),n=ju.qx,W=F.lo()?F.WN():F.s;
if(!F.WP())return;if(F.wP()&&W.rect.L_()){return}if(F.add.vstk==null&&this.ZM(K,!1).L_()&&F.add.artb==null){return}var z=this.ZM(K,!0).my(L);
if(!g.TB(L)&&!L.tY(z)&&F.add.artb==null)return;if(F.EY()&&F.add.artb){var u=F.vP(),b=0;L=L.my(u);var N=F.add.artb.artboardBackgroundType.v;
if(N==1)b=4294967295;else if(N==2)b=4278190080;else if(N==3)b=0;else if(N==4){b=F.add.artb.Clr.v;b=255<<24|b.Bl.v<<16|b.Grn.v<<8|b.Rd.v}else throw N;
if(t.be){t.$a(m,L);t.Ol(b)}else I.IpE(m,g,L,b)}var B=ju.IGH(F,r);if(!B){this.ICn(m,g,L,K,r,R);return}F.t.RP=n.lL(F.t.RP,z.j,z.F);
n.Cp(m,g,F.t.RP,z,L);this.ICn(F.t.RP,z,L,K,r,R);n.oH(F.t.RP,z,m,g,null,null,0,L,F.opacity/255,F.TZ=="diss")};
ju.IGH=function(m,g){return m.opacity!=255&&(g.length!=0||m.EY()||m.jL())};ju.IlW={t:{}};ju.prototype.ICn=function(m,g,L,K,r,R){var Q=this.A,F=ai.q_(Q),q=qE.get(Q.add)!=null,n=ju.qx,W=ju.IGH(Q,r),z=W?1:Q.opacity/255,u=Q.lo()?Q.WN():Q.s,N=Q.EY()&&Q.TZ=="pass"&&!(r.length>0||F.fill!=1||Q.jL()),b=!Q.EY()&&!q&&!Q.jL()&&r.length==0,B=q&&!Q.jL()&&r.length==0,$=null,G=null,o=null,S;
if(N||b||B){var h=m,A=g;if(Q.wP()){A=this.ZM(K,!1);h=Q.t.mZ=n.lL(Q.t.mZ,A.j,A.F);n.Cp(m,g,Q.t.mZ,A)}if(N)this.Os(h,A,L,K,R);
if(b)n.dq(Q.TZ,Q.IG_(K),Q.rect,h,A,L,z,F);if(B){var e=Q.wP()&&u.EX()==0?u.ZM().clone():A.clone(),c=Q.t;
if(e.TB(new v(0,0,K.j,K.F)))c=ju.IlW;c.xl=this.IIo(h,A,c.xl,e,Q.add);F.XA=!0;n.dq(Q.TZ,c.xl,e,h,A,L,z,F)}if(Q.wP())n.oH(h,A,m,g,Q.Ilt(),u.ZM(),u.EX(),L,1,Q.TZ=="diss");
Q.t.ILZ();return}var a=Q.EY()&&Q.TZ=="pass"&&(r.length>0||F.fill!=1||Q.jL()),e=Q.rect;if(Q.EY()){e=this.ZM(K,!1);
o=Q.t.xl=n.lL(Q.t.xl,e.j,e.F);n._U(o,0);this.Os(o,e,e,K,R);G=n.lL(Q.t.rc,e.j,e.F);n.Cp(o,e,G,e)}else if(q){e=Q.wP()&&u.EX()==0?u.ZM().clone():g.clone();
G=n.lL(Q.t.rc,e.j,e.F);n._U(G,4294967295)}else{e=Q.rect;$=Q.IG_(K);G=n.lL(Q.t.rc,e.j,e.F);n.Cp($,e,G,e)}Q.t.rc=G;
if(Q.wP())n.IlH(Q.Ilt(),u.ZM(),u.EX(),G,e);if(Q.jL())if(Q.t.HC||Q.t.pS||Q.t.GQ!=t.be||Q.t.Wo||Q.EY()){var H=I.m(e.j*e.F);
if(t.be){if(!Q.EY()&&Q.WN()==null&&Q.rect.TB(e))I.Vl(Q.buffer,H,3);else{var f=I.m(e.j*e.F*4);G.get(f);
I.Vl(f,H,3)}}else I.Vl(G,H,3);if(Q.t.pS||Q.t.GQ!=t.be||!I.TB(H,Q.t.YT)){var E=null;if(Q.lo()&&Q.add.vmsk&&Q.add.vmsk.isEnabled&&Q.add.vmsk.WN().color==0)E=Q.add.vmsk.WN().rect;
ai.IoB(Q.t.Jg,H,e,Q.add.lmfx,Q.add.fxrp,K,E);Q.t.YT=H}}if(Q.jL())ai.ILg(Q.add.lmfx,Q.t.Jg,e,m,g,L);if(Q.EY()){$=n.lL(Q.t.mZ,e.j,e.F);
n._U($,0);if(Q.TZ=="pass")n.Cp(m,g,$,e);if(a)n.xZ(o,e,$,e);this.Os($,e,L,K,R);Q.t.mZ=$}if(q){$=Q.t.mZ=this.IIo(m,g,Q.t.mZ,e,Q.add)}if(Q.EY()||q)S=$;
else{S=n.lL(Q.t.mZ,e.j,e.F);n.Cp($,e,S,e,L);Q.t.mZ=S}n._U(S,4278190080,16777215);for(var V=0;V<r.length;
V++)r[V].Oc(S,e,L,K,[],R);var J=Q.t.IR=n.lL(Q.t.IR,e.j,e.F);n.Cp(m,g,J,e,L);if(q)F.XA=!0;n.dq(Q.TZ=="pass"?"norm":Q.TZ,S,e,J,e,L,1,F);
if(Q.jL()){var U=Q.t.Jg.type.FrFX,j=null;if(U.length!=0){j=U[0];for(var V=0;V<U.length;V++)if(U[V].Vc.j>j.Vc.j)j=U[V];
Q.t.Wk=n.lL(Q.t.Wk,j.Vc.j,j.Vc.F);n.Cp(m,g,Q.t.Wk,j.Vc,L);Q.t.Yk=n.lL(Q.t.Yk,j.Vc.j,j.Vc.F)}ai.ILA(Q.add.lmfx,Q.t.Jg,e,m,g,L,J,Q.t.Wk,Q.t.Yk,j?j.Vc:null)}if(!t.be){var i=I.m(e.c());
I.Vl(G,i,3);G=i}n.oH(J,e,m,g,G,e,0,L,1,Q.TZ=="diss");Q.t.ILZ()};ju.prototype.IIo=function(m,g,L,K,r){var R=qE.get(r),Q;
if(R)Q=qE.Ik(R,r[R]);var F=ju.qx;L=F.lL(L,K.j,K.F);if(!(t.be&&g.TB(K)))F.Cp(m,g,L,K);if(Q){if(t.be){var q=K.clone();
q.x=q.y=0;if(g.TB(K)){t.$a(L,q);qE.Kk(Q,m.Iu,q)}else{t.$a(L,K);L.o$(K);qE.Kk(Q,L.vB,q)}}else qE.qK(Q,L,L,K)}return L};
ju.prototype.Os=function(m,g,L,K,r){var R=this.children;for(var Q=0;Q<R.length;Q++){var F=[];for(var q=Q+1;
q<R.length;q++)if(R[q].A.OG)F.push(R[q]);else break;R[Q].Oc(m,g,L,K,F,r);Q+=F.length}};function aH(m){this.name=m;
this.Sn=-1;this.VK=null;this.$x=null;this.XN=null;this.hI=null;this.j=0;this.F=0;this._=[];this.ng={};
this.add={};this.buffer=null;this.SK=4;this.yp=null;this.Jt=72;this.Io={};this.N=[];this.TW=[[],[]];
this.qo=[];this.$u=[];this.pc=[aH.Qr("Work Path")];this.Xv=[];this.Sg=null;this._x={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.kb=null;this.pR=!1;this.IMt=!1;this.Yw=!1;this.qL=!1;this.Oi=!1;this.qb=!1;this.$F=!1;
this.zd=!1;this.ur=!1;this.HC=null;this.YX=null;this.OJ={};this.I=null;this.Qj=[];this.gW=[];this.J={dJ:{},Vq:[],I$e:[],rg:[],MI:[],eT:null,pw:null,Sp:null,nO:null,H_:[],To:[]};
this.history=[new aP([1,0],null)];this.CR=0;this.MR=0;this.L=new Dx(this)}aH.prototype.li=function(){var m=this.Qj,g=this.Qj.length;
if(g!=0&&m[g-1].name=="Quick Mask")return m[g-1]};aH.prototype.Iqe=function(){var m=this.name;return m.slice(0,m.length-4).endsWith("-sketch")};
aH.prototype.wr=function(m){this.add.artd={classID:"null",Cnt:{t:"long",v:m},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
aH.prototype.QA=function(m){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(m)==-1)this.add.FEid.push(m)};
aH.prototype.Mq=function(m){var g=this.add.FEid.indexOf(m);this.add.FEid.splice(g,1);if(this.add.FEid.length==0)delete this.add.FEid};
aH.prototype.X=function(m){if(m==null)m=new v(0,0,this.j,this.F);if(this.HC==null)this.HC=m;else this.HC=this.HC.uM(m)};
aH.prototype.Ilb=function(m){return this.HC!=null};aH.prototype.WX=function(m){var g=this._[m],L=this.root.dr(m);
if(L==null)return!1;if(g.EY()||L.parent.children.indexOf(L)==0)return!1;return!0};aH.IGL=function(m){if(m.add.lnk2)for(var g=0;
g<m.add.lnk2.length;g++){var L=m.add.lnk2[g].aP;m.add.lnk2[g].aP=aH.lk()+L.slice(8);for(var K=0;K<m._.length;
K++){var r=m._[K].add.SoLd;if(r&&r.Idnt.v==L)r.Idnt.v=m.add.lnk2[g].aP}}};aH.prototype.IQI=function(m,g,L){m.sort(function(u,N){return u-N});
var top=m[m.length-1],K=this._.slice(0),r=this.N.slice(0),R=[],Q=[];for(var F=0;F<this._.length;F++){if(m.indexOf(F)!=-1)Q.push(this._[F]);
else R.push(this._[F])}this.rZ(Q);this.N=[];var q=this.root.ZM(this,!0);if(g)q=q.my(g);if(L)q=q.uM(L);
if(q.L_())q=new v(0,0,100,100);var n=new v(-q.x,-q.y,this.j,this.F),W=new Uint8Array(ax.PSD.Cf(this,0,0,[!0,!1]));
this.rZ(K);this.N=r;var z=new aH(this._[top].getName());ax.PSD.X_(W.buffer,z);delete z.add.artd;z.TW=[[],[]];
z.qo=[];z.rZ(z._);aH.IGL(z);l.ma.ad(z,q);z.X();z.cG();z.os();return[z,q,R,top]};aH.prototype.IDy=function(m,g){var L=this.IQI(m),K=L[0],r=L[1],R=L[2],top=L[3],Q=new Uint8Array(ax.PSD.Cf(K));
if(g)R=this._.slice(0);var F=this.Qb(Q,K.name,r.x,r.y);if(top==this._.length-1)R.push(F);else R.splice(g?top+1:top-m.length+1,0,F);
this.rZ(R);this.N=[R.indexOf(F)]};aH.lk=function(){var m="";for(var g=0;g<8;g++)m+=Math.floor(Math.random()*16).toString(16);
return m};aH.prototype.Zn=function(m){if(m==null)return;if(this.add.Patt==null)this.add.Patt=[];var g=this.add.Patt;
for(var L=0;L<g.length;L++)if(g[L].id==m.id)return;g.push(m)};aH.prototype.Qb=function(m,g,L,K,r){if(this.add.lnk2==null)this.add.lnk2=[];
var R=null,u=!1;for(var Q=0;Q<this.add.lnk2.length;Q++)if(I.TB(m,this.add.lnk2[Q].raw)){R=this.add.lnk2[Q].aP;
break}if(R==null){var F=ax.xo(m.buffer);R=aH.lk()+"-d71c-11e5-b1ae-a548a96e5f9f";var q=new x.DY;q.aP=R;
q.AZ=F=="psd"?"8BIM":"    ";q.w_=g+"."+F;q.co=F=="psd"?"8BPB":"    ";q.open=0;q.raw=m;q.type="liFD";
q.Ts=2;this.add.lnk2.push(q)}var n=this.Ws(R),W=aH.lk()+"-d71c-11e5-b1ae-a548a96e5f9f",z=this.Co();z.vZ(g);
if(n!=null){var N=z.rect=n.E_[1].clone();z.rect.offset(L,K);var b=Math.max(N.j/this.j,N.F/this.F),u=r&&b>1.0001;
if(u){N.j=Math.round(N.j/b);N.F=Math.round(N.F/b);N.x=Math.round((this.j-N.j)/2);N.y=Math.round((this.F-N.F)/2)}z.buffer=I.m(z.rect.c()*4);
if(!u)I.jR(n.E_[0],z.buffer)}z.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:R},placed:{t:"TEXT",v:W},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:I.QM.m(z.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:z.rect.j},Hght:{t:"doub",v:z.rect.F}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var B=I.e.Gl(z.rect).D;z.add.SoLd.Trnf=l.k.gf(B);z.add.SoLd.nonAffineTransform=l.k.gf(B);if(u)z.lQ(this,!1);
return z};aH.prototype.os=function(m){if(m!=null){this.X();this.cG(m);var g=this.buffer;if(t.be)this.kb.get(g);
else g=g.slice(0);this.X();this.cG();return g}if(this.HC){this.cG();this.HC=null}if(t.be&&this.YX){this.kb.get(this.buffer);
this.YX=null;this.qb=!0}return this.buffer};aH.prototype.Iwj=function(){for(var m=0;m<this._.length;
m++)this._[m].ILV();this.X()};aH.prototype.ILn=function(){for(var m=0;m<this._.length;m++)if(this._[m].add.lmfx)this._[m].t.pS=!0};
aH.prototype.WF=function(){var m=this.ng.r1044;if(m==null){m=this.ng.r1044=new Uint8Array(4);var g=0;
for(var L=0;L<this._.length;L++)g=Math.max(g,this._[L].add.lyid);X.ME(m,0,g)}var K=X.d(m,0);X.ME(m,0,K+1);
return K+1};aH.prototype.kn=function(m,g){if(m==null)m=!0;var L=this;if(L.gW.length!=0)return!0;if(L.N.length!=1){if(m)alert(L.N.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.WH(m,g)};aH.prototype.WH=function(m,g){if(m==null)m=!0;if(g==null)g=!1;var L=this;
if(L.gW.length!=0)return!0;for(var K=0;K<L.N.length;K++){var r=L._[L.N[K]],R=g||r.eF<=0;if(r.add.lsct!=null&&r.add.lsct!=Ra.O$&&r.eF!=1){if(m)alert(aT.get([15,7,2]));
return!1}if(R&&!r.vo()){if(m)alert(aT.get([15,7,2]));return!1}if(R&&r.add.TySh){if(m)alert(aT.get([15,7,3]));
return!1}if(R&&r.add.SoLd){if(m)alert(aT.get([15,7,4]));return!1}if(r.SO(1)||r.SO(31)){if(m)alert(aT.get([6,57,0]));
return!1}}return!0};aH.prototype.IJB=function(m){var g=this.root.dr(m);if(g.parent)return g.A.WP()&&this.IJB(g.parent.index);
else return g.A.WP()};aH.prototype.Ilu=function(m){var g=this.root.dr(m);if(g==null)return null;var L=g.A;
if(L.add.artb)return L.vP();if(g.parent)return this.Ilu(g.parent.index);return null};aH.prototype.ICr=function(){var m=this._[this.N[0]];
if(m.eF<=0&&!m.rect.tY(this.I.rect)){alert("Selected area is empty.");return!1}if(this.N.length==1&&this.I){var g=I.m(this.I.channel.length);
I.xe(m.buffer,m.rect,g,this.I.rect);I.XG(this.I.channel,g);if(I.Xx(g,0)){alert("Selected area is empty.");
return!1}}return!0};aH.prototype.jq=function(){if(this.ng["r"+1037]==null)this.Wu(30);return X.dS(this.ng["r"+1037],0)};
aH.prototype.Wu=function(m){if(this.ng["r"+1037]==null)this.ng["r"+1037]=new Uint8Array(4);if(X.dS(this.ng["r"+1037],0)==m)return;
X.KB(this.ng["r"+1037],0,m);this.ILn()};aH.prototype.wd=function(){if(this.ng["r"+1049]==null)this.WW(30);
return X.dS(this.ng["r"+1049],0)};aH.prototype.WW=function(m){if(this.ng["r"+1049]==null)this.ng["r"+1049]=new Uint8Array(4);
if(X.dS(this.ng["r"+1049],0)==m)return;X.KB(this.ng["r"+1049],0,m);this.ILn()};aH.prototype.ZX=function(m){if(this.add.lnk2==null)return null;
for(var g=0;g<this.add.lnk2.length;g++)if(this.add.lnk2[g].aP==m)return this.add.lnk2[g];return null};
aH.prototype.IGo=function(m){var g=this.ZX(m);if(g==null)return!1;var L=ax.xo(g.raw.buffer);if(L==null)return!1;
if(ax.EU(L)!=null||L=="psd")return!0;return!1};aH.prototype.Ws=function(m,g){var L=this.ZX(m);if(L==null)return null;
L.os(g);if(L.E_)return L};aH.prototype.cG=function(m){if(m==null)m=1e9;var g=this.j,L=this.F,K=new v(0,0,g,L),r=K.my(this.HC);
if(t.be&&this.kb==null)this.kb=new t.ha(g,L,!0);if(this.buffer==null||this.buffer.length!=g*L*4||t.be&&(this.kb.j!=g||this.kb.F!=L)){this.buffer=I.m(g*L*4);
if(this.kb)this.kb.delete();if(t.be)this.kb=new t.ha(g,L,!0)}if(r.L_())return;if(!r.TB(K)){if(!t.be){var R=I.ae(r.c()*4);
I.pq(R,r,this.buffer,K)}if(t.be){t.$a(this.kb,r);t.Ol(0)}}else{if(t.be){this.kb.set(null)}else{I.set(this.buffer,0)}}var Q=Date.now(),F=t.be?this.kb:this.buffer;
this.root.Oc(F,K,r,this,[],m);this.YX=this.HC.clone()};aH.prototype.Co=function(m){var g=new x;g.rect=new v(0,0,0,0);
g.buffer=I.m(1);g.add.luni=new jf(0,0);if(m!=!0)g.add.lyid=this.WF();g.add.lsct=Ra.O$;g.add.lclr=0;g.add.fxrp=new jf(0,0);
return g};aH.prototype.ua=function(m){var g=this.Co(m);g.vZ("</Layer group>");g.add.lsct=Ra.vc;g.$J=24;
return g};aH.prototype.Wf=function(){return this.CR!=this.MR};aH.prototype.wM=function(m){while(this.history.length>this.CR+1)this.history.pop();
if(this.MR>this.CR)this.MR=-1;if(m.K.id!=l.gk){this.Yw=!0;if(this._x.lastAppliedComp){delete this._x.lastAppliedComp;
this.$F=!0}}this.history.push(m);this.CR++;this.qb=!0;var g=ah.MS()?60:30,L=0;for(var K=this.history.length-1;
K>=0;K--){var r=this.history[K];if(r.YJ)continue;L++;if(L==g){this.CR-=K;this.history=this.history.slice(K);
break}}};aH.prototype.oC=function(){if(this.CR!=this.history.length-1)return null;return this.history[this.history.length-1]};
aH.prototype.ul=function(m,g,L,K){if(m==null)m=!1;var r=g!=null?[g]:this.N.slice(0);if(K){var R=[];for(var Q=0;
Q<r.length;Q++){var F=this._[r[Q]].Id;if(F!=0&&R.indexOf(F)==-1)R.push(F)}for(var Q=0;Q<this._.length;
Q++){var F=this._[Q].Id;if(F!=0&&R.indexOf(F)!=-1&&r.indexOf(Q)==-1)r.push(Q)}}var q=[];for(var Q=0;
Q<r.length;Q++){var n=this.wc(r[Q],m);for(var W=0;W<n.length;W++)if(q.indexOf(n[W])==-1)q.push(n[W]);
if(L){var z=this.root.dr(r[Q]);while(z.parent!=null&&z.parent.parent!=null){z=z.parent;if(q.indexOf(z.index)==-1){q.push(z.index,z.Yn)}}}}return q};
aH.prototype.wW=function(m,g,L){var K=this,r=K.ul(!1,m,null,L);r.sort(function(e,c){return e-c});var R={};
for(var Q=0;Q<K._.length;Q++){var F=K._[Q].getName();R[F]=!0}var q=[];for(var n=0;n<r.length;n++){var W=K._[r[n]].clone(),h,A;
W.add.lyid=K.WF();W.add.lspf=0;if(W.zp()){var z=W.lI(K),u=aH.InW(z);K.QA(u);W.add.SoLd.placed.v=u.id}W.Zh(K);
var N=W.getName(),b=N.length;while(48<=N.charCodeAt(b-1)&&N.charCodeAt(b-1)<=57)b--;var B=parseInt(N.slice(b));
if(isNaN(B)){if(N.endsWith(" copy")){B=1;h=N.slice(0,N.length-5)}else{B=0;h=N}}else if(N.slice(0,b).endsWith(" copy ")){B=B;
h=N.slice(0,b-6)}else{B=0;h=N}B++;while(!0){A=h+" copy"+(B==1?"":" "+B);if(R[A]==null)break;B++}if(N=="Background"&&R["Layer 1"]==null)A="Layer 1";
if(g!=!0)W.vZ(A);R[A]=!0;q.push(W)}return q};aH.InW=function(m){return{id:aH.lk()+m.id.slice(8),buffer:I.clone(m.buffer),rect:m.rect.clone(),s:m.s?m.s.clone():null}};
aH.ImV=function(m){return{id:m,rect:new v,buffer:I.m(1),s:new x.Ed}};aH.Qr=function(m,g){if(g==null)g={vmsk:new x.Lb};
if(g.vogk==null){g.vogk=[];var L=I.q.GM(g.vmsk.W);for(var K=0;K<L;K++)g.vogk.push(I.xV.ae())}return{name:m,Bj:0,add:g}};
aH.prototype.zA=function(m){var g=[],L=[],K=this,Q=0;for(var r=1;r<K.pc.length;r++){var R=K.pc[r];R.Bj=-1-r;
g.push(R);if(K.Xv.indexOf(r)!=-1)L.push(g.length-1)}if(K.pc[0].add.vmsk.W.length>2){var R=K.pc[0];R.Bj=-1;
g.push(R);if(K.Xv.indexOf(0)!=-1)L.push(g.length-1)}var F=K.Sg==null;if(F)K.Sg=[];for(var r=K.N.length-1;
r>=0;r--){var q=K._[K.N[r]],n=q.add.TySh;if(q.add.vmsk!=null&&(q.Gu||q.lo())){var R=aH.Qr("\""+q.getName()+"\" Shape Path",q.add);
R.Bj=K.N[r];g.push(R);if(F)K.Sg.push(Q);if(K.Sg.indexOf(Q)!=-1)L.push(g.length-1);Q++}if(m!=!0&&n&&n.add&&I.QM.gN(n.nY)){var R=aH.Qr("\""+q.getName().slice(0,10)+"..\" Text Path",n.add);
R.Bj=1e6+K.N[r];g.push(R);L.push(g.length-1);Q++}}if(L.length==0&&m){K.pc[0].Bj=-1;K.Xv=[0];L.push(g.length);
g.push(K.pc[0])}return[g,L]};aH.prototype.wc=function(m,g){var L=[],K=this.root.dr(m);if(K)K.IQk(L,g);
return L};aH.prototype.cv=function(){this.root.yP(this,new v(0,0,this.j,this.F),32)};aH.prototype.rZ=function(m){for(var g=0;
g<this._.length;g++){var L=this._[g];if(m.indexOf(L)==-1){L.t.Ilq();L.X()}}this._=m.slice(0);this.ZB()};
aH.prototype.ZB=function(){var m=this._,g=m.length;this.root=new ju;var L=this.Co(!0);L.TZ="pass";L.add.lsct=Ra.lG;
var K=this.ua(!0),r=[K];for(var R=0;R<g;R++)r.push(m[R]);r.push(L);this.root.IDN(r,0,0);if(this.N.length==0)this.N=[g-1]};
aH.prototype.MJ=function(){if(this.N.length!=1)return;var m=this.root.dr(this.N[0]);while(m.parent!=null){var g=m.parent.A;
g.add.lsct=Ra.lG;m=m.parent}this.Oi=this.ISm=!0};aH.Ml=function(m,g,L,K,r){var R={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:K},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:m}},Hght:{t:"UntF",v:{type:"#Rlt",val:g}},Rslt:{t:"UntF",v:{type:"#Rsl",val:L}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:r}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{Qm:"make",XX:R}};aH.IGk=function(m,g){var L=0,K=0,r=72,R=g.I_U,Q=m.preset&&m.preset.v=="Clipboard";
if(Q){L=R.j;K=R.F}else{L=m.Wdth.v.val;K=m.Hght.v.val;r=m.Rslt.v.val}var F=new aH((m.Nm?m.Nm.v:aT.get([11,7]))+".psd");
F.j=L;F.F=K;F.Jt=r;var q=F.Co();q.vZ("Background");F.rZ([q]);q.add.lspf=1<<2;var n=m.Fl?m.Fl.v.Fl:"Wht";
if(n!="Trns"){var W=g._Q;W=(W&255)<<16|(W>>>8&255)<<8|W>>>16;q.rect=new v(0,0,L,K);q.buffer=I.m(L*K*4);
I._U(q.buffer,{Wht:4294967295,BckC:255<<24|W}[n])}F.buffer=I.m(L*K*4);return F};function Dx(m){this.$X=m;
this.T=0;this.H=new jf(0,0);this.WY=[1,1,1];this.r=new v(0,0,1,1);this.YB=new v(0,0,m.j,m.F);this.zz=null;
this.eq=null;this.rb=new Uint32Array(0);this.Ku=null;this.oL=null;this.xB=I.m(0);this.VM=null;this.Mm=null}Dx.prototype.TV=function(m,g){var L=Math.round((this.r.j-this.$X.j*this.T)/2+this.H.x),K=Math.round((this.r.F-this.$X.F*this.T)/2+this.H.y),r=(m-L)/this.T,R=(g-K)/this.T;
return new jf(r,R)};Dx.prototype.nt=function(m,g){var L=Math.round((this.r.j-this.$X.j*this.T)/2+this.H.x),K=Math.round((this.r.F-this.$X.F*this.T)/2+this.H.y),r=m*this.T+L,R=g*this.T+K;
return new jf(r,R)};Dx.prototype.hc=function(){var m=this.$X,g=this.T,L=this.r.j,K=this.r.F,r=Math.floor(m.j*g),R=Math.floor(m.F*g);
if(g<.99){var Q=I.tl(null,new v(0,0,m.j,m.F),g).rect;r=Q.j;R=Q.F}return new v(Math.round((L-r)/2+this.H.x),Math.round((K-R)/2+this.H.y),r,R)};
Dx.prototype.cV=function(){var m=this.$X,g=this,L=1/g.T,K=this.hc();return new v(Math.floor((g.r.x-K.x)*L),Math.floor((g.r.y-K.y)*L),Math.ceil(g.r.j*L)+1,Math.ceil(g.r.F*L)+1)};
function aU(){}aU.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");aU.JS="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
aU.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];aU.IwY=["DrSh","IrSh","SoFi","GrFl","FrFX"];
aU.av=["Clr"];aU.rn="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");aU.r$=["Ptrn","Scl","Algn","phase"];
aU.cT={ZG:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",Ikv:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",IUQ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",cF:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
aU.cT.ZG="\"Clr\": "+aU.cT.ZG;aU.cT.G="\"Grad\":"+aU.cT.Ikv+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
aU.cT.cF="\"Ptrn\":"+aU.cT.cF+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
aU.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
aU.WV=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+aU.cT.ZG+","+aU.cT.G+","+aU.cT.cF+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aU.cT.ZG+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aU.cT.G+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aU.cT.cF+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
aU.G={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
aU.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],MT:["SClr","GrFl","Ptrn"],IGB:[[13,0],[12,37],[12,62]]};
aU.hY={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],Ijy:["SrcC","SrcE"],IGV:[[19,5,1],[12,69]]};aU.ja={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],Ial:["SfBL","PrBL","Slmt"],Ioi:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
aU.WL={Zi:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],ZE:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],yN:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+aU.cT.ZG+"}")},strokeStyleResolution:{t:"doub",v:72}}};
aU.Qs=[{classID:"null",Clr:JSON.parse(aU.WV[5]).Clr},{classID:"null",Grad:JSON.parse(aU.WV[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(aU.WV[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var ai={};ai.IVq=function(m,g,L){if(m.L_())return;var K=I.q.ISG(m.W);K.x=Math.floor(K.x*g);K.j=Math.ceil(K.j*g);
K.y=Math.floor(K.y*L);K.F=Math.ceil(K.F*L);m.rect=K;m.channel=I.m(K.c());I.ZQ.width=K.j;I.ZQ.height=K.F;
var r=I.r;r.fillStyle="#ffffff";I.q.ISo(r,m.W,g,L,-K.x,-K.y);r.fill();var R=r.getImageData(0,0,K.j,K.F).data;
I.Vl(R,m.channel,3)};ai.Mk=function(m,g){function L(m,N){if(m==null)return null;var b=m[N].v,B;if(b.length!=0){B=b[0].v;
if(!B.enab.v)B=null}return B}var K=g.SoCo,r=g.GdFl,R=L(m,"solidFillMulti"),Q=L(m,"gradientFillMulti");
if(R==null&&Q==null)return[K,r];var F=ai.IoM;if(K&&R&&Q==null){var q=JSON.parse(JSON.stringify(K));q.Clr.v=F(R.Clr.v,K.Clr.v,R);
return[q,null]}if(r&&R&&Q==null){var n=JSON.parse(JSON.stringify(r)),W=n.Grad.v.Clrs.v;for(var z=0;z<W.length;
z++){var u=W[z].v.Clr;u.v=F(R.Clr.v,u.v,R)}return[null,n]}if(K&&Q){var n=JSON.parse(JSON.stringify(Q)),W=n.Grad.v.Clrs.v;
for(var z=0;z<W.length;z++){var u=W[z].v.Clr;u.v=F(u.v,K.Clr.v,Q)}return[null,n]}return[R,Q]};ai.Iok={wb:I.m(4),ZP:I.m(4),u:new v(0,0,1,1)};
ai.IoM=function(m,g,L){var K=ad._D(L.Md.v.BlnM),r=L.Opct.v.val/100,R=ai.Iok;m=I.G.EX(m);g=I.G.EX(g);
R.wb[0]=m.u;R.wb[1]=m.S;R.wb[2]=m.R;R.wb[3]=255;R.ZP[0]=g.u;R.ZP[1]=g.S;R.ZP[2]=g.R;R.ZP[3]=255;I.h.dq(K,R.wb,R.u,R.ZP,R.u,R.u,r);
return{classID:"RGBC",Rd:{t:"doub",v:R.ZP[0]},Grn:{t:"doub",v:R.ZP[1]},Bl:{t:"doub",v:R.ZP[2]}}};ai.IRs=function(m,g,L){var K=m;
m=m.slice(0);var r=ad.go[ad.kP.indexOf(g.Md.v.BlnM)],R=I.G.EX(g.Clr.v),Q=4278190080|Math.round(R.R)<<16|Math.round(R.S)<<8|Math.round(R.u),F=I.m(L.c()*4);
I._U(F,Q);I.h.dq(r,F,L,m,L,L,g.Opct.v.val/100);for(var q=0;q<m.length;q+=4)m[q+3]=K[q+3];return m};ai.ImN=function(m,g){var L=["Sz","blur","Sftn","Dstn"];
for(var K=0;K<aU.order.length;K++){var r=aU.order[K],R=m[aU.JS[K]].v;for(var Q=0;Q<R.length;Q++){var F=R[Q].v;
for(var q=0;q<L.length;q++){var n=F[L[q]];if(n){var W=n.v.val,z=W;z=Math.max(W==0?0:1,z*g);if(r=="ChFX")z=Math.min(z,250);
if(r=="ebbl"){if(L[q]=="blur")z=Math.min(z,250);if(L[q]=="Sftn")z=Math.min(z,16)}n.v.val=Math.round(z)}}if(r=="ebbl"||r=="patternFill"||r=="FrFX")if(F.Ptrn&&F.Scl)F.Scl.v.val=Math.max(1,Math.min(1e3,F.Scl.v.val*g))}}};
ai.Io_=function(m,g,L){var K=new v(-.5,-.5,1,1),r=m.add.lmfx;for(var R=0;R<aU.order.length;R++){var Q=aU.order[R],F=r[aU.JS[R]].v;
for(var q=0;q<F.length;q++){var n=F[q].v,N;if(!n.enab.v)continue;var W=n.blur?n.blur.v.val+1:0,z=n.Ckmt?n.Ckmt.v.val/100:0,u=Math.round(W*z);
if(Q=="DrSh"||Q=="IrSh"&&L){N=new v(-.5,-.5,1,1);N.XH(W,W);ai.jJ(N,n,g,0)}if(Q=="OrGl"||Q=="IrGl"&&L){N=new v(-.5,-.5,1,1);
N.XH(W,W)}if(Q=="FrFX"){var b=ai.cA(n),B=b[1];if(L)B=Math.max(b[0],B);N=new v(-.5,-.5,1,1);N.XH(Math.ceil(B),Math.ceil(B))}if(Q=="ebbl"){var W=n.blur.v.val,h=n.bvlS.v.BESl;
if(h=="Embs"||h=="PlEb")W/=2;var A=["OtrB","InrB","Embs","PlEb","strokeEmboss"],e=["SfBL","PrBL","Slmt"],c=["In","Out"],a=n.bvlT.v.bvlT!="SfBL"?W:W*.43,$=Math.round(W);
N=new v(-$-1,-$-1,2*$+2,2*$+2)}if(L&&Q=="ChFX"){N=new v(-.5,-.5,1,1);N.XH(W,W);var G=N.clone();ai.jJ(N,n,g,0);
ai.jJ(G,n,g,Math.PI);N=N.uM(G)}if(N)K=K.uM(N)}}if(K.x!=Math.ceil(K.x)){K.x=Math.ceil(K.x);K.j-=1}if(K.y!=Math.ceil(K.y)){K.y=Math.ceil(K.y);
K.F-=1}return K};ai.cA=function(m){var g=0,L=0,K=m.Styl.v.FStl,r=m.Sz.v.val;if(K=="OutF")L=r;if(K=="InsF")g=r;
if(K=="CtrF")g=L=r/2;return[g,L]};ai.Iwp=function(m){if(m.all==null)return;for(var g=0;g<m.all.length;
g++){var L=m.all[g];if(L.Im)L.Im.delete();if(L.MD)L.MD.delete();if(L.Mx)L.Mx.delete()}};ai.IoB=function(m,g,L,K,r,R,Q){ai.Iwp(m);
var F=ai.MO(K,r,g,L,R,Q);m.type=F.type,m.all=F.all;if(t.be)for(var q=0;q<m.all.length;q++){var n=m.all[q];
n.Im=new t.ha(n.jC.j,n.jC.F);n.Im.set(n.qT);delete n.qT;if(n.MB){n.MD=new t.CJ(n.jC.j,n.jC.F);n.MD.set(n.MB);
delete n.MB}if(n.Mr){n.Mx=new t.CJ(n.jC.j,n.jC.F);n.Mx.set(n.Mr);delete n.Mr}}};ai.MO=function(m,g,L,K,r,R){if(R==null)R=K;
var Q=0,F=0;for(var q=0;q<aU.order.length;q++){var n=aU.order[q],W=aU.JS[q],z=m[W].v;for(var u=0;u<z.length;
u++){var N=z[u].v;if(n=="DrSh"&&N.enab.v&&N.Ckmt.v.val>0&&N.blur.v.val>0)Q=Math.max(Q,Math.ceil(N.Ckmt.v.val*N.blur.v.val/100));
if(n=="OrGl"&&N.enab.v&&N.Ckmt.v.val>0&&N.blur.v.val>0&&N.GlwT.v.BETE=="SfBL")Q=Math.max(Q,Math.ceil(N.Ckmt.v.val*N.blur.v.val/100));
if(n=="OrGl"&&N.enab.v&&N.blur.v.val>0&&N.GlwT.v.BETE=="PrBL")Q=Math.max(Q,N.blur.v.val);if(n=="FrFX"&&N.enab.v&&N.Sz.v.val>0){if(N.Styl.v.FStl=="OutF")Q=Math.max(Q,N.Sz.v.val);
if(N.Styl.v.FStl=="CtrF")Q=Math.max(Q,Math.ceil(N.Sz.v.val/2));F=Math.max(F,ai.cA(N)[1])}}}var b=new ai.Zg(L,K,Q),B={type:{},all:[]};
for(var h=0;h<aU.order.length;h++){var n=aU.order[h],W=aU.JS[h];B.type[n]=[];for(var A=m[W].v.length-1;
A>=0;A--){var e=m[W].v[A].v;if(!e.enab.v)continue;var c=e.blur?e.blur.v.val:0,a=e.Ckmt?e.Ckmt.v.val/100:0,$=c*a;
if(n=="DrSh"){var G=b.hs($,c-$,!0),o=G.dk,H=G.l;H.offset(-b.rect().x-1,-b.rect().y-1);ai.hy(o,e,!1);
ai.jJ(H,e,r,0);var f=I.m(H.c()*4);ai.FH(f,e.Clr.v);I.eX(o,f,3);var E={qT:f,jC:H,od:ad._D(e.Md.v.BlnM),BF:e.Opct.v.val/100,I_J:e.layerConceals.v};
B.type[n].push(E);B.all.push(E)}if(n=="IrSh"){var G=b.hs($,c-$,!1);ai.jJ(G.l,e,r,0);var H=b.rect().clone(),o=I.m(H.c());
I.set(o,255);I.Cp(G.dk,G.l,o,H);ai.hy(o,e,!0);var f=I.m(H.c()*4);ai.FH(f,e.Clr.v);I.eX(o,f,3);H.offset(-b.rect().x-1,-b.rect().y-1);
var E={qT:f,jC:H,od:ad._D(e.Md.v.BlnM),BF:e.Opct.v.val/100};B.type[n].push(E);B.all.push(E)}if(n=="GrFl"){var f=I.m(b.rect().c()*4);
ai.hP(e,f,b.rect(),r,null,R);var H=b.rect().clone();H.offset(-b.rect().x-1,-b.rect().y-1);var E={qT:f,jC:H,od:ad._D(e.Md.v.BlnM),BF:e.Opct.v.val/100};
B.type[n].push(E);B.all.push(E)}if(n=="SoFi"){var f=I.m(b.dk().length*4);ai.FH(f,e.Clr.v);var H=b.rect().clone();
H.offset(-b.rect().x-1,-b.rect().y-1);var E={qT:f,jC:H,od:ad._D(e.Md.v.BlnM),BF:e.Opct.v.val/100};B.type[n].push(E);
B.all.push(E)}if(n=="ebbl"){var S=!1;if(S)console.log(e);var V=Date.now(),J=e.bvlS.v.BESl;if(J=="strokeEmboss"){var U=m.frameFXMulti.v;
if(U.length==0)continue;U=U[0].v;if(!U.enab.v)continue;var j=U.Styl.v.FStl;if(j=="OutF")J="OtrB";if(j=="CtrF")J="Embs";
if(j=="InsF")J="InrB"}var c=e.blur.v.val;if(c==0)c=.7;if(J=="Embs"||J=="PlEb")c/=2;var i=["OtrB","InrB","Embs","PlEb","strokeEmboss"],k=["SfBL","PrBL","Slmt"],P=["In","Out"],w=e.bvlT.v.bvlT!="SfBL"?c:c*.45,d=Math.round(c),T=b.rect().clone(),y=T.clone();
y.XH(d,d);var D=y.j,s=y.F,Z=D*s,aQ=I.m(Z);I.Cp(b.dk(),T,aQ,y);var aI=new Float64Array(Z),aq=new Float64Array(Z);
I.style.ep(aQ,aI,D,s);I.eb(aQ);I.style.ep(aQ,aq,D,s);if(S)console.log("distTransform computed",Date.now()-V);
for(var q=0;q<Z;q++)aq[q]=aq[q]-aI[q];for(var q=0;q<Z;q++){var aa=aq[q];if(aa<-w)aq[q]=-w;else if(aa>w)aq[q]=w}if(S)console.log("summing + cropping",Date.now()-V);
if(e.bvlT.v.bvlT=="SfBL"){var aD=Math.pow(c*.21,1.22);if(!0)aD=Math.max(aD,2);var _=I.blur.BL(aD,2);
I.blur.Ij(aq,aI,y,_[0]>>>1);I.blur.Ij(aI,aq,y,_[1]>>>1)}if(S)console.log("blurring",Date.now()-V);var M=aq,jt=M.slice(0);
if(e.useShape.v){var aR=Math.min(100,e.Inpr.v.val+1)/100;if(J!="OtrB"&&J!="InrB")aR=1;var aL=I.Kz.qQ(e.MpgS.v.Crv.v,2e3),aw=Math.round(2e3/aR);
aL=I.Kz.IEQ(aL,aw,J=="InrB");var ap=.5/w;for(var q=0;q<Z;q++){var al=M[q],ak=.99999*(al+w)*ap;M[q]=-w+2*w*aL[~~(ak*(aw-1))]}if(S)console.log("applying shape",Date.now()-V)}if(e.useTexture.v){var ao=I.m(D*s*4);
ai.bs(e,ao,y,r,g);var aZ=I.m(D*s);I.Wt(ao,aZ);var aS=I.m(D*s);I.blur.t$(aZ,aS,y,1);aZ=aS;var an=c*e.textureDepth.v.val*(1/100)*(1/255);
if(e.InvT.v)an=-an;for(var q=0;q<Z;q++)M[q]+=-an*aZ[q];if(S)console.log("applying texture",Date.now()-V)}var IU=(e.bvlT.v.bvlT=="SfBL"?1:.5)*(e.bvlD.v.BESs=="In"?1:-1)*e.srgR.v.val/100;
for(var q=0;q<Z;q++)M[q]*=IU;if(S)console.log("scaling",Date.now()-V);var a_=e.uglg&&e.uglg.v?r.jq():e.lagl.v.val;
a_=a_*(Math.PI/180);var aG=e.uglg&&e.uglg.v?r.wd():e.Lald.v.val;aG=aG*(Math.PI/180);var aM=Math.cos(a_)*Math.cos(aG),av=-Math.sin(a_)*Math.cos(aG),aA=Math.sin(aG),IL=new Float64Array(Z),aB=new Float64Array(Z),aV=J=="PlEb";
for(var Ia=0;Ia<s;Ia++)for(var aK=0;aK<D;aK++){var q=Ia*D+aK,aE=0,Ij=0,as=1;if(Ia!=0&&Ia!=s-1&&aK!=0&&aK!=D-1){var IQ=M[q-D-1],Ih=M[q-D+1],Rp=M[q+D-1],ag=M[q+D+1];
aE=-.125*(Ih+2*M[q+1]+ag-(IQ+2*M[q-1]+Rp));Ij=-.125*(Rp+2*M[q+D]+ag-(IQ+2*M[q-D]+Ih))}else{var IE=M[q];
Ij=-(Ia==0?M[q+D]-IE:Ia==s-1?IE-M[q-D]:.5*(M[q+D]-M[q-D]));aE=-(aK==0?M[q+1]-IE:aK==D-1?IE-M[q-1]:.5*(M[q+1]-M[q-1]))}var ae=1/Math.sqrt(aE*aE+Ij*Ij+1);
aE*=ae;Ij*=ae;as*=ae;var Rj=aE*aM+Ij*av+as*aA,RQ=Rj;if(aV)RQ=-aE*aM-Ij*av+as*aA;if(Rj>0)IL[q]=Rj;if(RQ>0)aB[q]=RQ}if(S)console.log("raycasting",Date.now()-V);
if(e.Sftn.v.val!=0){I.blur.AE(IL,aI,y,e.Sftn.v.val*.43);var ab=aI,aI=IL,IL=ab;if(aV){I.blur.AE(aB,aI,y,e.Sftn.v.val*.43);
var ab=aI,aI=aB,aB=ab}else I.jR(IL,aB)}if(S)console.log("softening",Date.now()-V);var aL=I.Kz.qQ(e.TrnS.v.Crv.v,1024);
for(var q=0;q<Z;q++){IL[q]=aL[~~(IL[q]*1024)];aB[q]=aL[~~(aB[q]*1024)]}if(S)console.log("contour remap",Date.now()-V);
D=Math.round(D);s=Math.round(s);var RM=I.m(D*s*4);ai.FH(RM,e.hglC.v);var Rx=I.m(D*s*4);ai.FH(Rx,e.sdwC.v);
var Iw=I.m(D*s*4);ai.FH(Iw,e.hglC.v);var qX=I.m(D*s*4);ai.FH(qX,e.sdwC.v);var RC=1/aA,Rd=1/(1-aA),ap=1/w,Ip=new Float64Array(1e3);
for(var q=0;q<1e3;q++)Ip[q]=Math.pow(q*.001,.2);for(var Ia=0;Ia<s;Ia++)for(var aK=0;aK<D;aK++){var q=Ia*D+aK,ID=4*q+3,qB=0,Ii=0;
qB=IL[q];Ii=aB[q];var Ro=Math.max(0,Math.min(.9999,(jt[q]+w*.993)*ap));Ro=Ip[Math.floor(Ro*1e3)];var IG=Ro*(1-Math.min(1,qB*RC)),qk=Ro*(1-Math.min(1,(1-qB)*Rd)),qI=Ro*(1-Math.min(1,Ii*RC)),mp=Ro*(1-Math.min(1,(1-Ii)*Rd));
Rx[ID]=Math.round(255*IG);RM[ID]=Math.round(255*qk);qX[ID]=Math.round(255*qI);Iw[ID]=Math.round(255*mp)}if(S)console.log("baking textures",Date.now()-V);
y=b.rect().clone();y.XH(d,d);y.offset(-b.rect().x-1,-b.rect().y-1);var ay={I$C:e.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(J)!=-1){ay.MA={qT:RM,jC:y,od:ad._D(e.hglM.v.BlnM),BF:e.hglO.v.val/100};
ay.MH={qT:Rx,jC:y,od:ad._D(e.sdwM.v.BlnM),BF:e.sdwO.v.val/100};B.all.push(ay.MA,ay.MH)}if(["OtrB","Embs","PlEb"].indexOf(J)!=-1){ay.Mu={qT:Iw,jC:y,od:ad._D(e.hglM.v.BlnM),BF:e.hglO.v.val/100};
ay.Md={qT:qX,jC:y,od:ad._D(e.sdwM.v.BlnM),BF:e.sdwO.v.val/100};B.all.push(ay.Mu,ay.Md)}if(S)console.log(Date.now()-V);
B.type[n].push(ay)}if(n=="patternFill"){var at=b.rect(),f=I.m(at.c()*4);ai.bs(e,f,at,r,g);var H=at.clone();
H.offset(-at.x-1,-at.y-1);var E={qT:f,jC:H,od:ad._D(e.Md.v.BlnM),BF:e.Opct.v.val/100};B.type[n].push(E);
B.all.push(E)}if(n=="ChFX"){var f=I.m(b.dk().length*4);ai.FH(f,e.Clr.v);var c=e.blur.v.val,Ru=b.rect().clone();
Ru.XH(c,c);var Qi=I.m(Ru.c()),DR=I.m(Ru.c());I.Cp(b.dk(),b.rect(),DR,Ru);I.blur.Nl(DR,Qi,Ru,c*.43);var IM=I.Kz.ea(e.MpgS.v.Crv.v,256,!0);
I.te(Qi,IM);var Rc=I.m(b.dk().length),RO=I.m(b.dk().length),QK=b.rect().clone();ai.jJ(QK,e,r,0);I.Cp(Qi,Ru,Rc,QK);
QK=b.rect().clone();ai.jJ(QK,e,r,Math.PI);I.Cp(Qi,Ru,RO,QK);var qm=Rc.length;for(var q=0;q<qm;q++)f[4*q+3]=Math.abs(Rc[q]-RO[q]);
if(e.Invr.v)for(var q=0;q<qm;q++)f[4*q+3]=255-f[4*q+3];var H=b.rect().clone();H.offset(-b.rect().x-1,-b.rect().y-1);
var E={qT:f,jC:H,od:ad._D(e.Md.v.BlnM),BF:e.Opct.v.val/100};B.type[n].push(E);B.all.push(E)}if(n=="OrGl"){var G;
if(e.GlwT.v.BETE=="SfBL")G=b.hs($,c-$,!0);else G=b.Ioq(c,a,!0);var o=G.dk,H=G.l,QL=o.slice(0);ai.IJy(o,e);
var f=I.m(H.c()*4);if(e.Grad==null){ai.FH(f,e.Clr.v);ai.hy(o,e,!1)}else{ai.hy(o,e,null);var Re={oU:o,Sd:255,ev:0,kX:H};
ai.hP(e,f,H,r,Re);var IF=e.Nose.v.val/100,Qv=H.j;for(var q=0;q<QL.length;q++){var Rf=255,RE=QL[q];if(RE<32){var Rg=(RE+QL[q-1]+QL[q+1]+QL[q-Qv]+QL[q+Qv])*.2-1;
Rf=Math.min(255,Math.round(Math.max(0,Rg)*8))}o[q]=Rf}ai.Iwg(o,e)}I.eX(o,f,3);H.offset(-b.rect().x-1,-b.rect().y-1);
var E={qT:f,jC:H,od:ad._D(e.Md.v.BlnM),BF:e.Opct.v.val/100};B.type[n].push(E);B.all.push(E)}if(n=="IrGl"){var G;
if(e.GlwT.v.BETE=="SfBL")G=b.hs($,c-$,!1);else G=b.Ioq(c,a,!1);var o=G.dk,H=G.l;ai.IJy(o,e);if(e.glwS.v.IGSr=="SrcC")I.eb(o);
var f=I.m(H.c()*4);if(e.Grad==null){ai.FH(f,e.Clr.v);ai.hy(o,e,!0)}else{ai.hy(o,e,null);var Re={oU:o,Sd:255,ev:0,kX:H};
ai.hP(e,f,H,r,Re);I.set(o,255);ai.Iwg(o,e)}I.eX(o,f,3);H.offset(-b.rect().x-1,-b.rect().y-1);var E={qT:f,jC:H,od:ad._D(e.Md.v.BlnM),BF:e.Opct.v.val/100};
B.type[n].push(E);B.all.push(E)}if(n=="FrFX"){var QI=ai.cA(e),mL=QI[0],mC=QI[1],H=b.rect().clone(),Rv=null,RP=null;
H.XH(Math.ceil(F),Math.ceil(F));if(mC>0){var G=b.hs(mC,0,!0);RP=G.dk;if(RP.length<H.c()){RP=I.m(H.c());
I.Cp(G.dk,G.l,RP,H)}}if(mL>0){var G=b.hs(mL,0,!1);Rv=I.m(H.c());I.set(Rv,255);I.Cp(G.dk,G.l,Rv,H)}H.offset(-b.rect().x-1,-b.rect().y-1);
var f=I.m(H.c()*4),Rm=e.PntT.v.FrFl;if(Rm=="SClr")ai.FH(f,e.Clr.v);if(Rm=="GrFl")ai.hP(e,f,H,r,b.IoN(mL,mC));
if(Rm=="Ptrn")ai.bs(e,f,H,r,g);var E={qT:f,jC:H,od:ad._D(e.Md.v.BlnM),BF:e.Opct.v.val/100,Mr:RP,MB:Rv};
B.type[n].push(E);B.all.push(E)}}}return B};ai.lT=function(m){var g=1/Math.sqrt(m.x*m.x+m.y*m.y+m._d*m._d);
m.x*=g;m.y*=g;m._d*=g};ai.IVA=function(m,g){return{x:m.y*g._d-m._d*g.y,y:m._d*g.x-m.x*g._d,_d:m.x*g.y-m.y*g.x}};
ai.IVY=function(m,g){return m.x*g.x+m.y*g.y+m._d*g._d};ai.Iwg=function(m,g){var L=g.Nose.v.val/100;if(L>0)for(var K=0;
K<m.length;K++){var r=m[K];r=Math.min(510-(1+L)*I.style.NI(K),r);m[K]=r}};ai.q_=function(m){var g=ai.hb(),L=m.PT,K=!1;
for(var r=0;r<32;r+=8)if(L[r]+L[r+1]+L[4]+L[5]!=0||L[r+2]+L[r+3]+L[6]+L[7]!=1020)K=!0;if(K){L=L.slice(0);
for(var r=0;r<40;r+=4){var R=L[r]/255,Q=L[r+1]/255,F=L[r+2]/255,q=L[r+3]/255;L[r]=R-1e-4;L[r+1]=R==Q?1e9:1/(Q-(R-1e-4));
L[r+2]=F==q?-1e9:1/(F-(q+1e-4));L[r+3]=q+1e-4}}var n=m.add.iOpa!=null?m.add.iOpa/255:g.fill,W=m.add.vstk;
if(W&&!W.fillEnabled.v&&(!W.strokeEnabled.v||W.strokeStyleLineWidth.v.val==0))n=0;return{fill:n,XW:K?L:null,I_Z:m.add.brst!=null?m.add.brst:g.I_Z,I_E:m.add.knko!=null?m.add.knko:g.I_E,style:!1,XA:!1}};
ai.hb=function(){return{fill:1,XW:null,I_Z:[1,1,1],I_E:0,style:!1,XA:!1}};ai.rP=function(m,g){if(g==null)return null;
var L=m.Idnt.v,K=null;for(var r=0;r<g.length;r++)if(g[r].id==L)return g[r];return null};ai.IwN=function(m,g,L){var K=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var r=0;r<K.length;r++){var R=m.v[K[r]].v;for(var Q=0;Q<R.length;Q++)if(R[Q].v.Ptrn)g.Zn(ai.rP(R[Q].v.Ptrn.v,L))}};
ai.Io$=function(m,g,L){var K=["patternFillMulti","ebblMulti","frameFXMulti"];for(var r=0;r<K.length;
r++){var R=m.v[K[r]].v;for(var Q=0;Q<R.length;Q++)if(R[Q].v.Ptrn){var F=R[Q].v.Ptrn.v,q=ai.rP(F,L),n=ai.rP(F,g.add.Patt);
if(q==null&&n)L.push(n)}}};ai.bs=function(m,g,L,K,r){var R=ai.rP(m.Ptrn.v,K.add.Patt);if(R!=null&&!L.L_()){var Q=I.scale.bs(R.qT,R.l.j,R.l.F),F=m.Scl.v.val/100,q=-L.x+m.phase.v.Hrzn.v-1,n=-L.y+m.phase.v.Vrtc.v-1;
if(m.Algn!=null&&!m.Algn.v){}else{q+=r.x;n+=r.y}I.scale.IvD(Q,g,L.j,L.F,F,F,q+1,n+1)}};ai.hP=function(m,g,L,K,r,R){if(R==null)R=L;
var Q=m.Type?m.Type.v.GrdT:"shapeburst",F=m.Algn&&m.Algn.v?R:new v(0,0,K.j,K.F),q=m.Angl?I.G.we(m,F):[new jf(0,0),new jf(100,0)],n=q[0].x,W=q[0].y,z=q[1].x-n,u=q[1].y-W,N=Math.sqrt(z*z+u*u);
N=1/(2*N*N);var b=[z*N,u*N,-u*N,z*N],B=m.Rvrs?m.Rvrs.v:!1,h=m.Dthr?m.Dthr.v:!1;I.G.IT(m.Grad.v,g,L,b,n,W,B,aU.G.types.indexOf(Q),0,0,r,h)};
ai.IoY=function(m,g){for(var L=0;L<m.all.length;L++){var K=m.all[L];K.Vc=K.jC.clone();K.Vc.offset(g.x,g.y)}};
ai.ILg=function(m,g,L,K,r,R){var Q=t.be?ai.ILz:ai.ILs;ai.IoY(g,L);var F=g.type.DrSh;for(var q=0;q<F.length;
q++)if(!F[q].I_J)Q(F[q],K,r,R)};ai.ILA=function(m,g,L,K,r,R,Q,F,q,n){var W=L,z=t.be?ai.ILz:ai.ILs,u=t.be?t.h.Vt:I.h.oH,N;
N=g.type.DrSh;for(var b=0;b<N.length;b++)if(N[b].I_J)z(N[b],K,r,R);N=g.type.OrGl;for(var b=0;b<N.length;
b++)z(N[b],K,r,R);var B="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var h=0;h<B.length;h++){var N=g.type[B[h]];
for(var b=0;b<N.length;b++)z(N[b],Q,W,R)}var A=g.type.ebbl[0],e=A!=null&&A.I$C;N=g.type.FrFX;for(var b=0;
b<N.length;b++){var c=N[b];ju.qx.Cp(F,n,q,n,R);z(c,q,n,R);if(e&&b==N.length-1){if(A.Md)z(A.Md,q,n,R);
if(A.Mu)z(A.Mu,q,n,R);if(A.MH)z(A.MH,q,n,R);if(A.MA)z(A.MA,q,n,R)}if(c.MB||c.MD)u(q,n,Q,W,t.be?c.MD:c.MB,c.Vc,0,R,1);
if(c.Mr||c.Mx)u(q,n,K,r,t.be?c.Mx:c.Mr,c.Vc,0,R,1)}if(!e&&A!=null){if(A.Md)z(A.Md,K,r,R);if(A.Mu)z(A.Mu,K,r,R);
if(A.MH)z(A.MH,Q,W,R);if(A.MA)z(A.MA,Q,W,R)}};ai.ILs=function(m,g,L,K){var r=ai.hb();r.fill=m.BF;r.style=!0;
I.h.dq(m.od,m.qT,m.Vc,g,L,K,1,r)};ai.ILz=function(m,g,L,K){var r=ai.hb();r.fill=m.BF;r.style=!0;t.h.Tt(m.od,m.Im,m.Vc,g,L,K,1,r)};
ai.IJy=function(m,g){var L=1-g.Inpr.v.val/100,K=1+Math.tan(L*(Math.PI/2)),r=m.length;for(var R=0;R<r;
R++)m[R]=Math.min(255,Math.round(m[R]*K))};ai.hy=function(m,g,L){var K=g.blur.v.val,r=Math.round(K*(g.Ckmt.v.val/100));
if(K>r){var R=I.Kz.ea(g.TrnS.v.Crv.v,256,!0);I.te(m,R)}if(L!=null&&g.Nose.v.val>0)I.style.Lg(m,g.Nose.v.val/100,L)};
ai.FH=function(m,g,L){if(L==null)L=255;var K=I.G.EX(g),r=L<<24|K.R<<16|K.S<<8|K.u;I._U(m,r)};ai.jJ=function(m,g,L,K){var r=g.uglg&&g.uglg.v?L.jq():g.lagl.v.val;
r=r*Math.PI/180+K;var R=Math.cos(r)*g.Dstn.v.val,Q=Math.sin(r)*g.Dstn.v.val;m.x-=Math.round(R);m.y+=Math.round(Q)};
ai.M_=function(m){if(m==null)return null;var g=m.frameFXMulti.v;if(g.length==0)return null;g=g[0].v;
var L=JSON.parse(JSON.stringify(aU.WL.default));ai.IGd(g,L);return L};ai.IGd=function(m,g){var L=aU.stroke.MT.indexOf(m.PntT.v.FrFl),K=[aU.av,aU.rn,aU.r$][L],r=g.strokeStyleContent.v={classID:aU.WL.yN[L]};
for(var R=0;R<K.length;R++)r[K[R]]=m[K[R]];g.strokeEnabled=m.enab;g.strokeStyleLineWidth=m.Sz;g.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aU.WL.ZE[aU.stroke.types.indexOf(m.Styl.v.FStl)];
g.strokeStyleOpacity=m.Opct;g.strokeStyleBlendMode=m.Md};ai.cH=function(m,g){var L=[];for(var K=0;K<m.length;
K++)L.push({t:"UntF",v:{type:"#Nne",val:Math.round(m[K]*g)}});return L};ai.Zg=function(m,g,L){this.IS=g.clone();
this.IS.XH(1,1);this.I_X=g.clone();this.I_X.XH(L,L);this.I_B=I.m(this.IS.c());I.Cp(m,g,this.I_B,this.IS);
this.MY=null;this.Mz=null;this._l=null};ai.Zg.prototype.dk=function(){return this.I_B};ai.Zg.prototype.rect=function(){return this.IS};
ai.Zg.prototype.cN=function(){return this.I_X};ai.Zg.prototype.Xs=function(){if(this.MY)return this.MY;
this.MY=I.clone(this.dk());I.eb(this.MY);return this.MY};ai.Zg.prototype.cb=function(){if(this.Mz)return this.Mz;
this.Mz=new Float64Array(this.rect().c());I.style.ep(this.Xs(),this.Mz,this.rect().j,this.rect().F);
return this.Mz};ai.Zg.prototype.Me=function(){if(this._l)return this._l;var m=this.cN(),g=I.m(m.c());
I.Cp(this.dk(),this.rect(),g,m);this._l=new Float64Array(m.c());I.style.ep(g,this._l,m.j,m.F);return this._l};
ai.Zg.prototype.IoN=function(m,g){var L={Sd:-g,ev:m,kX:null,oU:null};if(g==0){L.kX=this.rect();L.oU=this.cb();
return L}var K=this.Me().slice(0),r=this.cN();L.kX=r;L.oU=K;for(var R=0;R<K.length;R++)K[R]=-K[R];if(m==0)return L;
var Q=this.cb(),F=this.rect();for(var q=0;q<F.F;q++)for(var n=0;n<F.j;n++){var W=q*F.j+n,z=(q+F.y-r.y)*r.j+n+F.x-r.x;
K[z]+=Q[W]}return L};ai.Zg.prototype.hs=function(m,g,L){var K=Math.ceil(m+g),r={l:this.rect().clone(),dk:null};
r.l.XH(K,K);r.dk=I.m(r.l.c());if(m==0&&g==0)I.jR(L?this.dk():this.Xs(),r.dk);else{var R=I.m(r.l.c());
I.Cp(this.dk(),this.rect(),R,r.l);if(!L)I.eb(R);if(m!=0){if(L)I.style.Lr(R,r.l,this.Me(),this.cN(),m);
else I.style.Lr(R,r.l,this.cb(),this.rect(),m)}if(g!=0)I.blur.Nl(R,r.dk,r.l,Math.max(1,g*.43));else r.dk=R}return r};
ai.Zg.prototype.Ioq=function(m,g,L){var K=m*(g-.5),r={l:this.rect().clone(),dk:null};if(L)r.l.XH(m,m);
r.dk=I.m(r.l.c());var R=r.l.j,Q=r.l.F,F=L?this.Me():this.cb(),q=L?this.cN():this.rect(),n=r.l,W=n.my(q),R=W.j,Q=W.F,z=W.x-n.x,u=W.y-n.y,N=W.x-q.x,b=W.y-q.y,B=1-g*2;
for(var h=0;h<Q;h++)for(var A=0;A<R;A++){var e=F[(h+b)*q.j+A+N],c=e/m;r.dk[(h+u)*n.j+A+z]=Math.max(0,Math.min(255,255-255*((c+B)/(1+B))))}return r};
ai.IoQ=function(m,g,L){var K=m.Lefx,r=m.blendOptions;if(K){var R=g.add.lmfx;if(L==null)L=R?R.Scl.v.val:100;
g.add.lmfx=JSON.parse(JSON.stringify(K.v));ai.ImN(g.add.lmfx,L/g.add.lmfx.Scl.v.val);if(R)g.add.lmfx.Scl.v.val=R.Scl.v.val}else delete g.add.lmfx;
if(r){r=r.v;if(r.Md)g.TZ=ad._D(r.Md.v.BlnM);if(r.Opct)g.opacity=Math.round(r.Opct.v.val*255/100);if(r.fillOpacity)g.add.iOpa=Math.round(r.fillOpacity.v.val*255/100);
if(r.Blnd){var Q=[];for(var F=0;F<10;F++)Q.push(0,0,255,255);var q=r.Blnd.v,n="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var F=0;F<q.length;F++){var W=q[F].v,z=8*["Gry","Rd","Grn","Bl"].indexOf(W.Chnl.v[0].v.enum);for(var u=0;
u<8;u++){Q[z+u]=W[n[u]].v}}g.PT=Q}}};ai.Iow=function(m){var g="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),L=[],K=m.PT;
for(var r=0;r<4;r++){var R=r*8;if(K[R]+K[R+1]+K[R+4]+K[R+5]==0&&K[R+2]+K[R+3]+K[R+6]+K[R+7]==4*255)continue;
var Q={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][r]}}]}}};
L.push(Q);for(var F=0;F<8;F++)Q.v[g[F]]={t:"long",v:K[r*8+F]}}var q={classID:"blendOptions"};if(m.TZ!="norm")q.Md={t:"enum",v:{BlnM:ad.EE(m.TZ)}};
if(m.opacity!=255)q.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(m.opacity*100/255)}};if(m.add.iOpa!=null)q.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(m.add.iOpa*100/255)}};
if(L.length!=0)q.Blnd={t:"VlLs",v:L};var n={nL:{classID:"null",Idnt:{t:"TEXT",v:aH.lk()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},Wx:{classID:"Styl",blendOptions:{t:"Objc",v:q}}},W=m.add.lmfx;
if(W)n.Wx.Lefx={t:"Objc",v:W};return n};function ql(){}ql.jQ=function(m){return JSON.parse(JSON.stringify(m))};
ql.wy=function(m){var g=ql.jQ(ql.Iob),L=g.Brsh.v;if(m!=null){delete L.Hrdn;L.classID="sampledBrush";
L.Nm={t:"TEXT",v:"layer.png"},L.sampledData={t:"TEXT",v:m}}return g};ql.Iob={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
ql.lT={};ql.lT.check=function(m){var g=ql.lT.Mn;for(var L=0;L<g.length;L++)if(m[g[L]]==null)m[g[L]]=JSON.parse(ql.lT.cf[g[L]]);
var K=[];for(var L=0;L<g.length;L++)K.push(g[L]);var r=ql.lT.Iip;for(var L=0;L<r.length;L++){var R=r[L][0],Q=r[L][1],F=!0;
for(var q=0;q<R.length;q++)F=F&&m[R[q]].v==!0;if(F)for(var q=0;q<Q.length;q++){if(m[Q[q]]==null)console.log("Missing conditional parameter "+Q[q]);
else K.push(Q[q])}}for(var n in m)if(K.indexOf(n)==-1)console.log("Extra parameter "+n);m=m.Brsh.v;g=ql.lT.cu.Mn;
for(var L=0;L<g.length;L++)if(m[g[L]]==null)m[g[L]]=JSON.parse(ql.lT.cu.cf[g[L]]);K=[];for(var L=0;L<g.length;
L++)if(m[g[L]])K.push(g[L]);else console.log("Missing default parameter "+g[L]);r=ql.lT.cu.IoP[m.classID];
for(var L=0;L<r.length;L++)if(m[r[L]]==null&&r[L]!="dtipsGridSize"&&r[L]!="dtipsErodibleTipHeightMap"&&m.ISF!=1)console.log("Missing conditional parameter "+r[L]);
else K.push(r[L]);for(var n in m)if(K.indexOf(n)==-1)console.log("Extra parameter "+n)};ql.lT.MZ=function(m){var g=ql.lT.Iip;
for(var L=0;L<g.length;L++){var K=g[L][0],r=g[L][1],R=!0;for(var Q=0;Q<K.length;Q++)R=R&&m[K[Q]]&&m[K[Q]].v==!0;
if(R){for(var Q=0;Q<r.length;Q++)if(m[r[Q]]==null){m[r[Q]]=JSON.parse(ql.lT.cf[r[Q]])}}else for(var Q=0;
Q<r.length;Q++)if(m[r[Q]]!=null){delete m[r[Q]]}}};ql.lT.cu={};ql.lT.cu.Mn="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
ql.lT.cu.cf={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};ql.lT.cu.IoP={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
ql.lT.Iip=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
ql.lT.Mn="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
ql.lT.cf={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function Db(m){this._G=m;this.dir=0}Db.prototype.YQ=function(m,g){if(this.dir==0&&!this._G.TB(m))this.dir=Math.abs(this._G.x-m.x)<Math.abs(this._G.y-m.y)?1:2;
var L=m;if(g.a(C.jU)){if(this.dir==1)L=new jf(this._G.x,m.y);if(this.dir==2)L=new jf(m.x,this._G.y)}return L};
function IT(m,g,L,K,r,R,Q,F){this.Rd=g;this.jg=L;this._Q=R;this.tK=K;if(K.zm==null)K.zm=[!1,!0];this.sr=null;
this.KO=null;this.Ii=0;this.I_z=0;this.Iel=0;this.IM=0;this.pe=0;this.ISd=Q;this.wh=new v;this.IZ=new v;
this.rect=new v;if(F!=null){this.qT=F}else{var q=IT.I_j;if(q.length!=Q.c()*4)q=I.m(Q.c()*4);else q.fill(0);
this.qT=IT.I_j=q}this.rect=Q.clone();this._o=[];this.In=[];this.Ms=null;this.$q=0;this.R=null;this._S="";
this.Go=null;this.IeX(m,r)}IT.I_j=I.m(16);IT.prototype.IeX=function(m,g){this.$q=g;this.R=m;this._S=JSON.stringify(m)+JSON.stringify(this.tK.HH);
this.Go=IT.ITJ(m,this.Rd,this.jg)};IT.prototype.moveTo=function(m,g,L){L=this.IXv(L);this.Ii=L;var K=new jf(m,g),r=this.R.Brsh.v.Dmtr.v.val;
this.sr=K.clone();this.KO=K.clone();this.Ms=K.clone();this._o=[m,g];this.In=[L];var R=this.tK.zm;if(this.tK.HA!=IT.Pj)this.MX(this.Ixx(K,this.IRH()*(R[1]?L:1),this.tK.aC*(R[0]?L*.5:1),new jf(0,0)));
this.IM=K.clone()};IT.prototype.lineTo=function(m,g,L){L=this.IXv(L);var K=this._o,r=K.length,R=K[r-2],Q=K[r-1];
if(m==R&&g==Q)return;var F=this.R.Brsh.v.Dmtr.v.val,q=Math.ceil(F)+1,n=new v(Math.round(R),Math.round(Q),0,0);
n.XH(q,q);var W=new v(Math.round(m),Math.round(g),0,0);W.XH(q,q);this.IJH(n.uM(W));this._o.push(m,g);
this.In.push(L);r+=2;if(r>=6)this.MX(this.IBT(r))};IT.prototype.IXv=function(m){if(m==null)m=1;m=Math.max(.05,Math.min(5,m));
if(isNaN(m)){alert("Pressure is not a number");throw"e"}return m};IT.prototype.MX=function(m){this.wh=m;
this.IZ=this.IZ.uM(m)};IT.prototype.finish=function(){var m=this._o,g=m.length,L;if(g==4)L=this.IQU(m[g-2],m[g-1],this.In[(g>>1)-1],!0);
if(g>4)L=this.IBT(g+2);if(L)this.MX(L)};IT.prototype.IBT=function(m){var g=this._o,L=this.In,K=g[m-6],r=g[m-5],R=g[m-4],Q=g[m-3],F=L[(m>>1)-3],q=L[(m>>1)-2],n=new jf(0,0),W=new jf(0,0);
if(8<=m)n=IT.I$x(g[m-8],g[m-7],K,r,R,Q);if(m<=g.length)W=IT.I$x(g[m-2],g[m-1],R,Q,K,r);var z=K+n.x,u=r+n.y,N=R+W.x,b=Q+W.y,B=new v;
for(var h=0;h<10;h++){var A=(h+1)*.1,e=1-A,c=e*e*e*K+3*A*e*e*z+3*A*A*e*N+A*A*A*R,a=e*e*e*r+3*A*e*e*u+3*A*A*e*b+A*A*A*Q,$=this.IQU(c,a,F+A*(q-F));
B=B.uM($)}return B};IT.I$x=function(m,g,L,K,r,R){var Q=m-L,F=g-K,q=r-L,n=R-K,W=Math.sqrt(Q*Q+F*F),z=Math.sqrt(q*q+n*n),u=Math.acos((Q*q+F*n)/(W*z))/Math.PI,N=.35,b=.1;
u=b+u*(N-b);var B=r-m,h=R-g,A=Math.sqrt(B*B+h*h),e=u*z/A;return new jf(B*e,h*e)};IT.prototype.IQU=function(m,g,L,K){var r=new v,R=this.tK.IBd;
if(R==null)R=0;if(R==0||K){r=this.Iji(m,g,L);return r}var Q=this.Ms,F=m-Q.x,q=g-Q.y,n=Math.sqrt(F*F+q*q);
F/=n;q/=n;if(n>R){var W=Q.x+F*(n-R),z=Q.y+q*(n-R);r=this.Iji(W,z,L);this.Ms.xF(W,z)}return r};IT.prototype.Iji=function(m,g,L){var K=new v,r=new jf(m,g),R=this.R.Brsh.v.Dmtr.v.val,Q=this.tK.HA,F=r.wV(this.KO);
F.normalize(1);var q=jf.hQ(this.KO,r),n=-this.I_z,W=this.KO.clone(),z=this.tK.zm;while(!0){var u=this.Ii+(L-this.Ii)*(Math.max(0,n)/q),N=this.IRH()*(z[1]?u:1),b=this.ITU()*(N+this.Iel)/2;
if(Q==IT.Pj)b=1;if(n+b<q){n+=b;var B=new jf(this.KO.x+F.x*n,this.KO.y+F.y*n),e=1;if(Q==IT.Pj){var h=W.clone();
h.x+=F.x>0?1:-1;var A=W.clone();A.y+=F.y>0?1:-1;if(jf.hQ(h,B)<jf.hQ(A,B))B=h;else B=A;n=jf.hQ(B,this.KO)}if(this.R.useScatter.v==!0){e=this.R.Cnt.v;
var c=this.R.countDynamics.v.jitter.v.val/100,a=c*(-1+2*this.Bz());e+=Math.round(e*a)}for(var $=0;$<e;
$++){var G=this.Ixx(B,N,this.tK.aC*(z[0]?u*.5:1),F);K=K.uM(G)}W=B}else break}this.I_z=q-n;this.KO=r;
this.Ii=L;return K};IT.prototype.ITU=function(){var m=this.R.Brsh.v,g=m.Spcn.v.val,L=Math.max(5,m.Rndn.v.val);
return L/100*(g/100)};IT.prototype.IRH=function(){var m=this.R,g=m.Brsh.v.Dmtr.v.val;if(m.useTipDynamics.v){var L=g*(m.minimumDiameter.v.val/100);
g=L+(g-L)*(1-this.Bz()*(m.szVr.v.jitter.v.val/100))}return g};IT.prototype.Ixx=function(m,g,L,K){L=Math.min(1,L);
var r=this.R,R=this.R.Brsh.v,Q=R.Dmtr.v.val,F=this.tK,q=F.HA,n=F.ISP,W=new aC;W.translate(-this.Go.IV.j/2,-this.Go.IV.F/2);
W.scale(1/this.Go.IvX,1/this.Go.IvX);W.scale(g/Q,g/Q);W.scale(1,Math.max(5,R.Rndn.v.val)/100);if(r.useTipDynamics.v){var z=r.minimumRoundness.v.val/100;
W.scale(1,z+(1-z)*Math.round(100-this.Bz()*r.roundnessDynamics.v.jitter.v.val)/100);W.rotate((-.5+this.Bz())*4*Math.PI*(r.angleDynamics.v.jitter.v.val/100))}W.rotate(R.Angl.v.val*(Math.PI/180));
if(r.useScatter.v){var u=(-1+2*this.Bz())*r.scatterDynamics.v.jitter.v.val/100;W.translate(-u*g*K.y,u*g*K.x)}W.translate(m.x,m.y);
var N=this.ITI(W,m);this.IJH(N.rect);var b=N.rect.clone();if(q==null){var B=this.EX(r);I._U(N.GS,Math.round(B.R*255)<<16|Math.round(B.S*255)<<8|Math.round(B.u*255)<<0,4278190080);
if(this.IZ.L_()&&this.rect.TB(N.rect)&&L==1)this.qT=N.GS.slice(0);else I.h.IwF(N.GS,N.rect,this.qT,this.rect,N.rect,L)}if(q==IT.Pj){var h=new jf(N.rect.x+N.rect.j/2,N.rect.y+N.rect.F/2),A=Math.round(h.x-this.IM.x),e=Math.round(h.y-this.IM.y),c=N.rect.clone();
c.offset(-A,-e);var a=c.my(this.rect);a.offset(A,e);I.pq(this.qT,this.rect,N.GS,c);I.h.tn(N.GS,N.rect,this.qT,this.rect,N.EG,N.rect,L)}if(q==IT.aT||q==IT.an||q==IT.Yo){var $=N.rect.my(this.rect),G;
if($.TB(N.rect))G=N.EG;else{G=I.m($.c());I.Cp(N.EG,N.rect,G,$)}var o=I.m($.c()*4);I.pq(this.qT,this.rect,o,$);
if(q==IT.an){var H=I.clone(o),f=I.ll.MC([-1,-1,-1,-1,25,-1,-1,-1,-1]);I.ll.Au(o,H,$.j,$.F,f,0);I.jR(H,o)}else if(q==IT.Yo){var E=aN.Rw("UnsM");
E.Amnt.v.val=15;E.Thsh.v=0;E.Rds.v.val=5;var H=I.m(o.length);aN.qK("UnsM",{buffer:o,rect:$},E,0,0,{buffer:H,rect:$});
I.jR(H,o)}else{aN.uA(1,I.blur.tF,o,$)}I.h.tn(o,$,this.qT,this.rect,G,$,L)}this.Iel=g;this.IM=h;return b};
IT.prototype.EX=function(m){var g=IT.Iwm(this.$q);if(m.useColorDynamics&&m.useColorDynamics.v){var L=1-this.Bz()*m.clVr.v.jitter.v.val/100,K=IT.Iwm(this._Q);
g.u=L*g.u+(1-L)*K.u;g.S=L*g.S+(1-L)*K.S;g.R=L*g.R+(1-L)*K.R;var r=(-.5+this.Bz())*m.H.v.val/100,R=(-1+2*this.Bz())*m.Strt.v.val/100,Q=(-1+2*this.Bz())*m.Brgh.v.val/100,F=I.MW(g.u,g.S,g.R);
F.PC=(F.PC+r+1)%1;F.Gr=F.Gr+R;if(F.Gr<0)F.Gr=-F.Gr;if(F.Gr>1)F.Gr=1-(F.Gr-1);F.nw=F.nw+Q;if(F.nw<0)F.nw=-F.nw;
if(F.nw>1)F.nw=1-(F.nw-1);g=I.ww(F.PC,F.Gr,F.nw)}return g};IT.prototype.lT=function(m){return Math.max(0,Math.min(1,m))};
IT.prototype.Bz=function(){this.pe++;return IT.hash(this.pe)};IT.Iwm=function(m){return{u:(m>>16&255)/255,S:(m>>8&255)/255,R:(m>>0&255)/255}};
IT.hash=function(m){m=m^61^m>>16;m=m+(m<<3);m=m^m>>4;m=m*668265261;m=m^m>>15;return(m&16777215)/16777215};
IT.vA=[];IT.prototype.ITI=function(m,g){var L=null,Q;for(var K=0;K<IT.vA.length;K++)if(IT.vA[K]._S==this._S){L=IT.vA[K];
IT.vA.splice(K,1)}if(L==null)L={_F:[],_S:this._S,Yr:0};var r=L._F,R=this.tK.HH;if(R){m=m.clone();m.gE=Math.floor(m.gE);
m.Dv=Math.floor(m.Dv)}var F=IT.ILP(m.gE,m.Dv);for(var K=0;K<r.length;K++){var q=r[K];if(!(q.Xy.Wh==m.Wh&&q.Xy.R==m.R&&q.Xy.OS==m.OS&&q.Xy.$Y==m.$Y))continue;
if(IT.ITD(q.BG,F)<.2||q.rect.c()>1e4){Q=q;break}}var n=Math.round(this.R.Brsh.v.Dmtr.v.val);if(Q){Q.rect.x=Math.round(Q.hN.x-Q.Xy.gE+m.gE);
Q.rect.y=Math.round(Q.hN.y-Q.Xy.Dv+m.Dv);if(R){Q.rect.x=Math.round(g.x-n/2);Q.rect.y=Math.round(g.y-n/2)}}else{var W;
if(R&&n<=3){W={buffer:I.m(n*n*4),rect:new v(Math.round(g.x-n/2),Math.round(g.y-n/2),n,n)};I._U(W.buffer,4278190080)}else if(m.Wh==1&&m.R==0&&m.OS==0&&m.$Y==1){W={buffer:this.Go.GS,rect:this.Go.IV.clone()};
W.rect.x=Math.round(m.gE);W.rect.y=Math.round(m.Dv)}else W=l.k.eB([this.Go.GS,this.Go.IV],m);if(R){for(var K=0;
K<W.buffer.length;K++)W.buffer[K]=W.buffer[K]>127?255:0}if(W==null)W={buffer:I.m(0),rect:new v};var z=m.gE-Math.floor(m.gE),u=m.Dv-Math.floor(m.Dv);
Q={GS:W.buffer,EG:I.m(W.rect.c()),rect:W.rect,hN:W.rect.clone(),Xy:m,BG:IT.ILP(m.gE,m.Dv)};I.Vl(Q.GS,Q.EG,3);
r.push(Q);if(r.length>200)r=r.slice(100)}L._F=r;L.Yr=Date.now();IT.vA.push(L);IT.vA.sort(function(N,b){return b.Yr-N.Yr});
while(IT.vA.length>3)IT.vA.pop();return Q};IT.ILP=function(m,g){return new jf(m-Math.floor(m),g-Math.floor(g))};
IT.ITD=function(m,g){var L=g.x,K=g.y,r=Math.abs(L-m.x),R=Math.abs(K-m.y);if(Math.abs(L-1-m.x)<r)L--;
else if(Math.abs(L+1-m.x)<r)L++;if(Math.abs(K-1-m.y)<R)K--;else if(Math.abs(K+1-m.y)<R)K++;r=m.x-L;R=m.y-K;
return Math.sqrt(r*r+R*R)};IT.prototype.IJH=function(m){};IT.ITJ=function(m,g,L){var K,r,R,Q=m.Brsh.v.Dmtr.v.val;
if(m.Brsh.v.classID=="computedBrush"){var F=m.Brsh.v.Hrdn.v.val/100,q=1+.55*(1-F);R=Q<100?1.2:1;var n=Math.round(R*Q*q);
r=new v(0,0,n,n);K=I.m(n*n*4);var W=new Uint32Array(K.buffer),z=n/2,u=q/z,N=Date.now(),b=IT.Aa(F),B=Math.round(8e3/z),g=b[0],h=b[1]-B,A=b[2]+B,e=Math.min(n,(n>>>1)+1);
for(var c=0;c<e;c++){var a=u*(c-z+.25);a*=a;var $=u*(c-z+.75);$*=$;var G=c*n,o=(n-1-c)*n;for(var H=0;
H<e;H++){var f=u*(H-z+.25),E=Math.floor(Math.sqrt(f*f+a)*(4e3/1.55));if(A<E)continue;else if(E<h){var S=4278190080;
while(H<e){var V=n-1-H;W[G+H]=S;W[G+V]=S;W[o+H]=S;W[o+V]=S;H++}break}else{var J=u*(H-z+.75),U=Math.floor(Math.sqrt(J*J+a)*(4e3/1.55)),j=Math.floor(Math.sqrt(f*f+$)*(4e3/1.55)),i=Math.floor(Math.sqrt(J*J+$)*(4e3/1.55)),S=~~(.5+255*.25*(g[E]+g[U]+g[j]+g[i]))<<24,V=n-1-H;
W[G+H]=S;W[G+V]=S;W[o+H]=S;W[o+V]=S}}}}if(m.Brsh.v.classID=="sampledBrush"){var k;for(var c=0;c<g.length;
c++)if(g[c].id==m.Brsh.v.sampledData.v)k=g[c];r=new v(0,0,k.l.j,k.l.F);R=Math.max(r.j,r.F)/Q;K=I.m(r.c()*4);
I.eX(k.channel,K,3)}while(Math.min(r.j,r.F)>Q*2){var P=new v(r.x,r.y,Math.floor(r.j/2),Math.floor(r.F/2)),w=l.k.eB([K,r],new aC(P.j/r.j,0,0,P.F/r.F,0,0));
R*=P.j/r.j;r=w.rect;K=w.buffer}return{IvX:R,IV:r,GS:K}};IT.MV=[];IT.Aa=function(m){if(IT.MV[m])return IT.MV[m];
var g=Math.pow(m,.55),L=new Float64Array(8e3),K=0,r=8e3;for(var R=0;R<8e3;R++){var Q=IT.ITk(R*(1.55/4e3),g);
if(Q>=1)K=R;else if(Q<=0&&r==8e3)r=R;L[R]=Q}var F=[L,K,r];IT.MV[m]=F;return F};IT.ITk=function(m,g){var L=m<g?1:IT.ITe((m-g)/Math.pow(1.001-g,.86));
return L};IT.ITe=function(m){var g=m*.85;return Math.exp(-(g*g)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
IT.prototype.ZM=function(){return this.rect.clone()};IT.prototype.MF=function(){return this.wh.my(this.rect)};
IT.prototype.hz=function(){return this.IZ.my(this.rect)};IT.prototype.jv=function(){return this.qT};
IT.yP=function(m,g,L,K,r,R){var Q=p.Y("canvas",""),F=Q.getContext("2d");Q.width=R!=null?R:K;Q.height=r;
F.fillStyle="#ffffff";F.fillStyle="#000000";F.font=Math.floor(10*p.M())+"px sans-serif";var q=""+m.Brsh.v.Dmtr.v.val,n=F.measureText(q);
F.fillText(q,(K-n.width)/2,r-2);var W=K,z=r-10*p.M(),u=Math.min(W,z),N=m.Brsh.v.Dmtr.v.val,b=m.Brsh.v.classID;
if(b=="computedBrush"){F.translate(W/2,z/2);F.rotate(-m.Brsh.v.Angl.v.val*Math.PI/180);F.scale(1,.1+.9*m.Brsh.v.Rndn.v.val/100);
var B=Math.min(.95*u/2,q/2)+.5,h=.9*m.Brsh.v.Hrdn.v.val/100,A=F.createRadialGradient(0,0,0,0,0,B);A.addColorStop(h,"rgba(0,0,0,1)");
A.addColorStop((.5+h)/1.5,"rgba(0,0,0,.5)");A.addColorStop(1,"rgba(0,0,0,0)");F.fillStyle=A;F.fillRect(-B,-B,2*B,2*B)}else if(b=="sampledBrush"){var e;
for(var c=0;c<g.length;c++)if(g[c].id==m.Brsh.v.sampledData.v)e=g[c];var a=p.Y("canvas",""),$=a.getContext("2d");
a.width=e.l.j;a.height=e.l.F;var G=$.getImageData(0,0,a.width,a.height),o=new I.ha(a.width*a.height);
o.Wh=e.channel;I.JL(o,G.data);$.putImageData(G,0,0);u=Math.min(u,m.Brsh.v.Dmtr.v.val);var H=Math.max(a.width,a.height),f=.85*a.width*u/H,E=.85*a.height*u/H;
F.drawImage(a,(W-f)/2,(z-E)/2,f,E)}else{}return Q.toDataURL()};IT.Mg=function(m,g,L,K){if(L==0)L=1;var r=m.Brsh.v,R=r.Dmtr.v.val,Q=r.Dmtr.v.val=Math.min(K!=null?Math.round(K*2.6):3e3,R*L),F=r.Hrdn?r.Hrdn.v.val/100:1,q=K!=null?K:Math.round(Q*(1+.55*(1-F)))+4,z;
q=Math.max(15,Math.min(q,3e3));var n=new v(0,0,q,q),W=new IT(m,g,null,{aC:1},16711712,0,n);r.Dmtr.v.val=R;
W.moveTo(n.j/2,n.F/2);var u=W.jv(),N=W.ZM();if(n.TB(N))z=u;else{z=I.m(n.c()*4);I.pq(u,N,z,n)}return[z,n,Q]};
IT.MK=function(m,g,L){var K=IT.Mg(m,g,L),r=K[0],R=K[1],Q=K[2],F=R.c(),q=I.m(F);I.Vl(r,q,3);var n=I.m(F);
I.I.Ivt(q,n,R);if(Q<3||I.Xx(n,0)){var W=R.j,z=W>>>1,u=n,N=255;for(var b=0;b<4;b++){u[W*(z-6+b)+z]=N;
u[W*z+z-6+b]=N;u[W*z+z+6-b]=N;u[W*(z+6-b)+z]=N}}var B=[1,2,1,2,8,2,1,2,1];B=I.ll.MC(B);I.ll.ISc(n,q,R.j,R.F,B);
I._U(r,4294967295);I.eX(q,r,3);for(var b=0;b<F;b++)if(n[b]==255){r[b<<2]=r[(b<<2)+1]=r[(b<<2)+2]=0;r[(b<<2)+3]=255}return{qr:r,l:R,mB:new jf(R.j/2,R.F/2)}};
IT.Pj="0";IT.aT="1";IT.an="2";IT.Yo="3";var QE={};QE.Wa=function(m,g){var L=m.MP(),q;if(L.x==Infinity||L.L_())return{qT:I.m(0),l:new v,pI:new v};
var K=m.MP(),r=QE.YM(m,g),R=I.e.Ny(r.D);if(R.L_())return{qT:I.m(0),l:new v,pI:new v};var Q=p.Y("canvas","");
Q.width=R.j;Q.height=R.F;var F=Q.getContext("2d");F.translate(-R.x,-R.y);QE.IT$(r,F);if(m.dh.length!=0){var n=F.getImageData(0,0,R.j,R.F);
q=new Uint8Array(n.data.buffer)}else q=I.m(R.c()*4);return{qT:q,l:R,pI:K}};QE.YM=function(m,g){var L={O:[],D:[]};
QE.ITK(m,L);if(!I.QM.gN(g.nY)){var K=I.e.Pt(L.D);L=I.e.IH(L);L=I.e.Ic(L,Math.min(K.j,K.F)/8);var r=aj.ZM(g,m),R=I.QM.Xd(g.nY,r);
I.pl.apply(R,L.D,r)}var Q=g.f;I.e.f(L.D,Q,L.D);return L};QE.IT$=function(m,g){Typr.U.pathToContext({crds:m.D,cmds:m.O},g)};
QE.Ill=!1;QE.ht=function(m,g){if(RI.IZg==null){if(!QE.Ill){RI.IkL();QE.Ill=!0}return!1}var L=m.m_,K=L.ResourceDict.FontSet,r=L.ResourceDict.StyleSheetSet[0].StyleSheetData,R=L.EngineDict.StyleRun.RunLengthArray,Q=L.EngineDict.StyleRun.RunArray,F=aj.tq(L),q=!0,n={},W=0;
for(var z=0;z<Q.length;z++){var u=Q[z].StyleSheet.StyleSheetData.Font;if(u==null)u=r.Font;for(var N=0;
N<R[z];N++){var b=F.charCodeAt(W+N),B=u+","+(b>128?b:-1);if(n[B]==null){n[B]=1;if(g.Ei(K[u].Name,b)==null)q=!1}}W+=R[z]}return q};
QE.ITK=function(m,g){var L=new aC;for(var K=0;K<m.gV.length;K++)QE.ITA(m.dh,m.gV[K],g,L)};QE.ITA=function(m,g,L,K){K.translate(g.BG.x,g.BG.y);
for(var r=0;r<g._A.length;r++){var R={},Q=g._A[r];if(!Q._i)break;K.translate(Q.BG.x,Q.BG.y);for(var F=Q.start;
F<Q.end;F++)QE.ITu(m,g.$H[F],g,R,L,K);K.translate(-Q.BG.x,-Q.BG.y)}K.translate(-g.BG.x,-g.BG.y)};QE.ITH="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
QE.ITu=function(m,g,L,K,r,R){R.translate(g.BG.x,g.BG.y);for(var Q=g.We;Q<=g.xh;Q++){var F=L.Ve[Q],q=F.l.j,n=m[L.InQ+F.VW];
if(n.pi=="\n")continue;var W=n.Rl.FontSize/n.Iy.head.unitsPerEm,z=aj.EX(n.Rl),u=(Math.round(z.u)<<16)+(Math.round(z.S)<<8)+Math.round(z.R);
r.O.push("#"+I.IA(u));var N=R.clone();N.translate(F.BG.x+F.Y_*W,F.BG.y-F.Ye*W);var b=new aC;b.scale(W,-W);
if(n.ws==1&&QE.ITH.indexOf(n.pi)!=-1)b.concat(new aC(-1,0,0,1,q,0));if(n.Rl.FauxItalic)b.concat(new aC(1,0,-Math.tan(.18),1,0,0));
b.translate(0,n.YF);b.scale(n.scale.x,n.scale.y);if(n.Rl.BaselineShift!=null)b.translate(0,-n.Rl.BaselineShift);
if(F.DI!=0){b.rotate(-F.DI)}b.concat(N);if(F.path.O.length!=0&&n.pi!="\t"){if(n.Rl.FauxBold){var B=n.Rl.FontSize/2048*27*n.scale.x;
b.gE+=B;I.e.concat(r,F.path,b);b.gE-=B+B;I.e.concat(r,F.path,b)}else I.e.concat(r,F.path,b)}if(n.pi!="\n"){if(n.Rl.Underline){if(K.Yg==null)K.Yg=n.Iy.post.underlineThickness;
if(K.InF==null)K.InF=n.Iy.post.underlinePosition;var h=0,A=K.InF-K.Yg/2,e=F.zv*1.05,c=-K.Yg;I.e.concat(r,{O:["M","L","L","L","Z"],D:[h,A,h+e,A,h+e,A+c,h,A+c]},b)}if(n.Rl.Strikethrough){var a=n.Iy["OS/2"].yStrikeoutSize,$=n.Iy["OS/2"].yStrikeoutPosition,h=0,A=$+a/2,e=F.zv*1.05,c=-a;
I.e.concat(r,{O:["M","L","L","L","Z"],D:[h,A,h+e,A,h+e,A+c,h,A+c]},b)}}r.O.push("X")}R.translate(-g.BG.x,-g.BG.y)};
function RI(m,g){var L=aj.SE(m),K,r,R=aj.gj(m),q;if(m.Curve)r=RI.YV(m.Curve);if(L!=0){K=new v(R[0],R[1],R[2],R[3]);
if(L==2){K.j=r[5]-r[4];K.F=9999}}this.gV=[];this.dh=[];this.RJ=L;var Q=aj.tq(m),F=-1;for(var n=0;n<Q.length;
n++){var W=q,z=aj.Ixd(m,n),c=0;if(z!=F){F=z;W=q=aj.Ikr(m,n)}var u={pi:Q.charAt(n),Rl:W,Iy:null,Ig:-1,YF:0,scale:new jf(0,0),GK:0,lineHeight:0,ws:0},N=m.ResourceDict.FontSet[W.Font].Name,b=u.Iy=g.Ei(N,Q.charCodeAt(n));
u.scale.x=W.HorizontalScale==null?1:W.HorizontalScale;u.scale.y=W.VerticalScale==null?1:W.VerticalScale;
var B=b["OS/2"],h=b.hhea;if(W.FontCaps==1&&u.pi!=u.pi.toUpperCase()){var A=B.sxHeight?B.sxHeight/B.sTypoAscender:.76;
u.scale.x*=A;u.scale.y*=A}var e=1/b.head.unitsPerEm*W.FontSize;if(W.FontBaseline==1){var A=m.ResourceDict.SuperscriptSize;
u.scale.x*=A;u.scale.y*=A;u.YF-=m.ResourceDict.SuperscriptPosition*W.FontSize}if(W.FontBaseline==2){var A=m.ResourceDict.SubscriptSize;
u.scale.x*=A;u.scale.y*=A;u.YF+=m.ResourceDict.SubscriptPosition*W.FontSize}if(c==0&&B&&B.sxHeight&&N.toLowerCase().indexOf("capitals")!=-1)c=B.sxHeight;
if(c==0&&B&&B.sCapHeight)c=B.sCapHeight;if(c==0&&B&&B.sTypoAscender)c=B.sTypoAscender;if(c==0)c=h.ascender;
u.GK=c*e;u.lineHeight=W.FontSize*1.2;if(W.AutoLeading==!1)u.lineHeight=W.Leading;this.dh.push(u)}var a=this.gV,$=[0];
for(var n=0;n<m.EngineDict.ParagraphRun.RunLengthArray.length;n++){var G=new RI._M(m,g,this.dh,n,K,$,L==1?r:null);
a.push(G)}if(L==2){var o=m.Curve.Points,H=r[0],f=r[1],E=r[2],S=r[3],V=r[4],J=r[5];for(var n=0;n<a.length;
n++)for(var U=0;U<a[n]._A.length;U++)if(!(n==0&&U==0))a[n]._A[U]._i=!1;var G=a[0],j=G._A[0];G.BG.xF(0,0);
j.BG.xF(0,0);for(var U=j.start;U<j.end;U++){var i=G.$H[U],k=i.BG.x;i.BG.x=0;for(var P=i.We;P<=i.xh;P++){var w=G.Ve[P],d=w.l.j/2;
w.BG.x+=k;var T=RI.ISj(H,(V+w.BG.x+d)%S);w.BG.x=T[0]-d*T[2];w.BG.y=T[1]-d*T[3];w.DI=Math.atan2(T[3],T[2])}}}}RI.prototype.ITb=function(){return!this.ITz(0)};
RI.prototype.ITP=function(){return this.ITz(1)};RI.prototype.ITz=function(m){var g=this.gV,L=!0,K=0;
for(var r=0;r<g.length;r++){var R=g[r]._A,Q=R.length;K+=Q;for(var F=0;F<Q;F++)L&=R[F]._i}return[L,K][m]};
RI.YV=function(m){var g=m.Points,L=g.length,K=L>>>3,r=m.TextOnPathTRange,R=m.Reversed,z=0,u=0;if(R){var Q=g.slice(0);
for(var F=0;F<L;F+=2){Q[F]=g[L-2-F];Q[F+1]=g[L-1-F]}g=Q;r=[K-r[1]%K,K-r[0]%K]}var q=[],n=[0],W=[0];for(var F=0;
F<L;F+=8){var N=g[F+6]-g[F+0],b=g[F+7]-g[F+1],B=Math.round(4*Math.sqrt(N*N+b*b));for(var h=0;h<B;h++){var A=h/B,e=1-A,c=e*e*e*g[F+0]+3*e*e*A*g[F+2]+3*e*A*A*g[F+4]+A*A*A*g[F+6],a=e*e*e*g[F+1]+3*e*e*A*g[F+3]+3*e*A*A*g[F+5]+A*A*A*g[F+7];
q.push(c,a);if(F+h!=0){var N=c-z,b=a-u;W.push(W[W.length-1]+Math.sqrt(N*N+b*b));n.push((F>>>3)+A)}z=c;
u=a}}var $=W.length,G=W[$-1],o=RI.Mb(r[0],n),H=RI.Mb(r[1]%K,n),f=W[o%$],E=W[H%$];if(f>=E)E+=G;return[q,n,W,G,f,E]};
RI.Mb=function(m,g){var L=0;while(g[L]<m)L++;return L};RI.ISj=function(m,g){var L=0,K=0,r,R,Q;while(L<g){r=m[K+2]-m[K];
R=m[K+3]-m[K+1];Q=Math.sqrt(r*r+R*R);L+=Q;K+=2}return[m[K],m[K+1],r/Q,R/Q]};RI.prototype.ISD=function(m){return this.dh[m]};
RI.prototype.ISf=function(m){for(var g=0;g<this.gV.length;g++){var L=this.gV[g];for(var K=0;K<L._A.length;
K++){var r=L._A[K],R=L.$H[r.start].start,Q=L.$H[r.end-1].end;if(R<m&&m<Q)return[R,Q-1]}}return[0,1]};
RI.prototype.IVZ=function(m,g){var L=-1,K=this.gV;if(this.RJ==2){var r=1e9,R=0,Q=K[0],F=Q._A[0];for(var q=F.start;
q<F.end;q++){var n=Q.$H[q];for(var W=n.We;W<=n.xh;W++){var z=Q.Ve[W],u=z.l.j,N=m.x-z.BG.x,b=m.y-z.BG.y,B=N*N+b*b;
if(B<r){r=B;R=z.VW}}}return R}for(var h=0;h<K.length;h++){var Q=K[h];for(var A=0;A<Q._A.length;A++){L++;
var F=Q._A[A],e=Q._A[A+1];if(e==null&&h<K.length-1)e=K[h+1]._A[0];if(g!=null){if(L!=g)continue}else{if(e!=null&&Q.BG.y+F.BG.y<m.y)continue}for(var q=F.start;
q<F.end;q++){var n=Q.$H[q];for(var W=n.We;W<=n.xh;W++){var z=Q.Ve[W],u=z.l.j,c=Q.BG.x+F.BG.x+n.BG.x,a=c+z.BG.x,$=c+(W<n.xh?Q.Ve[W+1].BG.x:z.BG.x+u);
if(m.x<=$||q+1==F.end&&W==n.xh){var G=Q.InQ+z.VW,o=this.dh[G],H=o.ws&1;if(o.pi!="\n"&&(H==0&&m.x>a+u/2||H==1&&m.x<a+u/2))G++;
return G}}}}}};RI.prototype.Y$=function(m){var g={l:new v,zh:0},L=0;for(var K=0;K<this.gV.length;K++){var r=this.gV[K];
for(var R=0;R<r._A.length;R++){var Q=r._A[R];g.zh=L;L++;for(var F=Q.start;F<Q.end;F++){var q=r.$H[F];
for(var n=q.start;n<q.end;n++){if(n==m){var W=this.dh[n],z=W.Ig,u=r.Ve[z].VW,N=1;while(r.Ve[z]!=null&&r.Ve[z].VW==u){var b=r.Ve[z],B=r.BG.x+Q.BG.x+q.BG.x+b.BG.x,h=r.BG.y+Q.BG.y+q.BG.y+b.BG.y;
g.l=g.l.uM(new v(B,h-W.lineHeight,b.l.j,W.lineHeight));g.DI=b.DI;z+=N}return g}}}}}};RI.prototype.MP=function(){var m=Infinity,g=Infinity,L=-Infinity,K=-Infinity;
for(var r=0;r<this.gV.length;r++){var R=this.gV[r];for(var Q=0;Q<R._A.length;Q++){var F=R._A[Q];if(!F._i)break;
for(var q=F.start;q<F.end;q++){var n=R.$H[q];for(var W=n.We;W<=n.xh;W++){var z=R.Ve[W],u=z.l,N=R.BG.x+F.BG.x+n.BG.x+z.BG.x,b=R.BG.y+F.BG.y+n.BG.y+z.BG.y;
m=Math.min(m,N+u.x);g=Math.min(g,b+u.y);L=Math.max(L,N+u.x+u.j);K=Math.max(K,b+u.y+u.F)}}}}return new v(m,g,L-m,K-g)};
RI.Iqj=function(m){return 19968<=m&&m<=40959||12288<=m&&m<=12543};RI.Iix=function(m,g,L,K,r,R,Q){var F=[R],q=0;
for(var n=R;n<Q;n++){if(L[n]==null)console.log(n,R,Q,L);var W=L[n].pi,z=W.charCodeAt(0);if(z==32||z==9){F.push(q,n,1,n+1);
q=0}else if(z==3851){F.push(q+1,n+1);q=0}else if(RI.Iqj(z)){F.push(q,n);q=1}else if(n!=R&&L[n].ws!=L[n-1].ws){F.push(q,n);
q=1}else q++}F.push(q);var u=[];for(var n=0;n<F.length;n+=2){var N=F[n],b=F[n+1];if(b==0)continue;u.push(new RI.Iit(m,g,L,K,r,N,b))}return u};
RI.Iiw=function(m,g,L,K,r,R,Q){var F=[0,g?g.j:1e9],q=[];if(K){var n=m[R].GK,W=r+(r==0?n:m[R].lineHeight),z=W-n*.9,u=I.e.fs(K[0],z),N=u.length,b=I.e.fs(K[0],W),B=b.length;
if(N!=0&&B!=0){var h=0,A=0;F=[];while(h<N&&A<B){var e=Math.max(u[h],b[A]),c=u[h+1],a=b[A+1],$=Math.min(c,a);
if(e<$)F.push(e,$);if(c<a)h+=2;else A+=2}}}for(var G=0;G<F.length;G+=2){var o=F[G+1]-F[G],H=0,f=R,E=g?o-L.StartIndent-L.EndIndent-(R==0?L.FirstLineIndent:0):Infinity;
while(R!=m.length){var S=m[R],V=H==0||(S.rz||S.HJ)||H+S.l.j<E;if(!V)break;H+=S.l.j;R++}q.push(R-f)}Q[0]=q;
Q[1]=F;Q[2]=R};RI.Iiu=function(m,g){var L=m.length,K=new Uint32Array(L),r=new Uint8Array(L),R=0;for(var Q=0;
Q<L;Q++){r[Q]=0;var F=m.charCodeAt(Q);K[Q]=F;if(F>R)R=F}if(R>1424)r=RI.I$r(K,g);return r};RI._M=function(m,g,L,K,r,R,Q){this.$H=[];
this._A=[];this.BG=new jf(0,0);this.Ve=null;this.$H=null;this.Rl=aj.Ikb(m,K);var F=this.Rl,z=0,B="",a=0,$=1,y=0;
if(K!=0){var q=F.SpaceBefore;if(q!=null)R[0]+=q}var n=m.EngineDict.ParagraphRun.RunLengthArray,W=n[K];
for(var u=0;u<K;u++)z+=n[u];var N=F._Direction?F._Direction:0;this.InQ=z;var b=aj.tq(m).slice(z,z+W);
for(var h=0;h<b.length;h++){var A=b.charAt(h);B+=L[z+h].Rl.FontCaps==0?A:A.toUpperCase()}b=B;var e=RI.Iiu(b,N),c=[],G=e[u]&1,o=L[z].Iy;
L[z].ws=e[0];for(var u=1;u<b.length;u++){var A=L[z+u],H=e[u];A.ws=H;if(H!=G||A.Iy!=o){c.push(a,$);a=u;
$=1;G=H;o=A.Iy}else $++}c.push(a,$);var f=this.Ve=[];for(var u=0;u<c.length;u+=2){var E=c[u],S=c[u+1],V=(L[z+E].ws&1)==0,J=b.slice(E,E+S),U=RI.IZg(L[z+E].Iy,J,V),j=[],P=0;
for(var h=0;h<U.length;h++){var i=U[h];j.push({S:i.g,VW:i.cl,zv:i.ax,hp:i.ay,Y_:i.dx,Ye:i.dy})}U=j;var k=U.slice(0);
if(!V)k.reverse();for(var h=0;h<J.length;h++){while(P+1<k.length&&k[P+1].VW<=h){P++}while(P>0&&k[P-1].VW==h)P--;
L[z+E+h].Ig=f.length+(V?P:k.length-P-1)}for(var h=0;h<U.length;h++){f.push(U[h]);U[h].VW+=E;var A=L[z+U[h].VW];
if(A.pi=="\n")U[h].zv=0;if(A.pi=="\t")U[h].zv=A.Iy.head.unitsPerEm*2}}var w=aj.LD(F),d=this.$H=RI.Iix(m,g,L,z,f,z,z+W),T=this._A,D=-1,B=[null,null,0];
while(y<d.length){RI.Iiw(d,r,F,Q,R[0],y,B);D++;var s={start:y,end:0,l:new v,BG:new jf(0,0),_i:!0},al=0,ak=0;
T.push(s);s.end=B[2];var Z=s.end==d.length;function aQ(k,E,aS){var an=aS-E>>>1;for(var u=0;u<an;u++){var IU=k[E+u];
k[E+u]=k[aS-1-u];k[aS-1-u]=IU}}for(var aI=1;aI<5;aI++){var aq=-1;for(var u=s.start;u<s.end;u++){var H=L[d[u].start].ws;
if(aq==-1&&H>=aI)aq=u;else if(aq!=-1&&H<aI){aQ(d,aq,u);aq=-1}}var aa=s.end;if(N==0&&d[aa-1].rz)aa--;
if(aq!=-1)aQ(d,aq,aa)}var aD=B[0],_=B[1],aq=y,M=y;for(var jt=0;jt<aD.length;jt++){var aR=_[jt*2+1]-_[jt*2],aL=0;
aq=M;M+=aD[jt];var aw=this.IiW(aq,M,d,N,r!=null);if(r){if(w==1||Z&&w==4)aL=aw[1]+(aR-aw[0]);if(w==2||Z&&w==5)aL=aw[1]+(aR-aw[0])/2;
if(D==0)aL+=F.FirstLineIndent;aL+=F.StartIndent}else{if(w==0)aL=F.StartIndent+F.FirstLineIndent;if(w==1)aL=-aw[0]-F.EndIndent;
if(w==2)aL=-aw[0]/2}aL+=_[jt*2];if(r&&w>2&&(w==6||!Z))this.IiN(aq,M,d,aR,N,aL);else{var ap=aL;for(var u=aq;
u<M;u++){d[u].BG.x=ap;ap+=d[u].l.j}}}y=s.end;for(var u=s.start;u<s.end;u++){var ao=d[u].l.clone();ao.if(d[u].BG);
s.l=s.l.uM(ao);al=Math.max(al,d[u].GK);ak=Math.max(ak,d[u].lineHeight)}s.BG.y=D==0?0:T[D-1].BG.y+ak;
if(D==0){if(K==0&&r)R[0]+=al;if(K!=0)R[0]+=ak;this.BG.y=R[0]}else R[0]+=ak;if(r)s._i=this.BG.y+s.BG.y<r.y+r.F}var aZ=F.SpaceAfter;
if(aZ!=null)R[0]+=aZ};RI._M.prototype.IiW=function(m,g,L,K,r){var R=0,Q=0;for(var F=m;F<g;F++)R+=L[F].l.j;
if(r){if(K==0)for(var F=g-1;F>=m;F--)if(L[F].rz||L[F].HJ)R-=L[F].l.j;else break;if(K==1)for(var F=m;
F<g;F++)if(L[F].rz||L[F].HJ){var q=L[F].l.j;R-=q;Q-=q}else break}return[R,Q]};RI._M.prototype.IiN=function(m,g,L,K,r,R){var Q=0,F=0,q=0,n=0;
for(var W=m;W<g;W++)if(L[W].rz)q++;else{Q+=L[W].l.j;F++}if(r==0)for(var W=g-1;W>=m;W--)if(L[W].rz||L[W].HJ){if(L[W].rz){q--}}else break;
if(r==1)for(var W=m;W<g;W++)if(L[W].rz||L[W].HJ){if(L[W].rz){q--;n++}}else break;if(F<=1||q==0){if(F==1)L[m].BG.x=R;
return}var z=(K-Q)/q,u=-n*z;for(var W=m;W<g;W++){if(L[W].rz)this.Ve[L[W].We].l.j=L[W].l.j=z;L[W].BG.x=R+u;
u+=L[W].l.j}};RI.Iit=function(m,g,L,K,r,R,Q){this.KW="";for(var F=0;F<Q;F++)this.KW+=L[R+F].pi;this.rz=Q==1&&(L[R].pi==" "||L[R].pi=="\t");
this.HJ=Q==1&&L[R].pi=="\n";this.start=R;this.end=R+Q;this.l=new v;this.BG=new jf(0,0);this.GK=0;this.lineHeight=0;
var q=0,n=0;if(Q==0){this.lineHeight=L[R].lineHeight;this.GK=L[R].GK;this.l=new v(0,-L[R].lineHeight,0,L[R].lineHeight)}var W=L[R].Ig,z=L[R+Q-1].Ig;
if(z<W){var u=W;W=z;z=u}while(z+1<r.length&&r[z].VW==r[z+1].VW){z++}this.We=W;this.xh=z;for(var N=W;
N<=z;N++){var b=r[N],B=L[K+b.VW],h=1/B.Iy.head.unitsPerEm*B.Rl.FontSize,a=0;if(!B.Rl.AutoKerning)q+=B.Rl.Kerning*2*h*B.scale.x;
var A=b.zv*h*B.scale.x;b.BG=new jf(q,0);b.DI=0;b.l=new v(0,-B.lineHeight,A,B.lineHeight);var e=Typr.U.glyphToPath(B.Iy,b.S);
b.path={O:e.cmds,D:e.crds};var c=b.l.clone();c.if(b.BG);if(B.Rl.Tracking!=null)a=B.Rl.Tracking*.001*B.Rl.FontSize;
if(B.Rl.FauxBold==!0)a+=.027*B.Rl.FontSize;q+=A+a;if(Q==1&&(B.pi==" "||B.pi=="\t"))c.j+=2*a;else if(Q==1&&B.pi!=null&&RI.Iqj(B.pi.charCodeAt(0)))c.j+=a;
this.l=this.l.uM(c);this.GK=Math.max(this.GK,B.GK);this.lineHeight=Math.max(this.lineHeight,B.lineHeight)}};
RI.IkL=function(){fetch("code/external/hb.wasm").then(function(m){return m.arrayBuffer()}).then(function(m){return WebAssembly.instantiate(m)}).then(function(m){m.instance.exports.memory.grow(700);
RI.I$K=hbjs(m.instance);RI.IZg=function(){var g=function(L){var K=0;if((L&4294967295-(1<<7)+1)==0){K=1}else if((L&4294967295-(1<<11)+1)==0){K=2}else if((L&4294967295-(1<<16)+1)==0){K=3}else if((L&4294967295-(1<<21)+1)==0){K=4}return K};
return function(L,K,r){var R=RI.I$K,Q=L._data,F=az.kx(L),q=RI.IUq,h=0,A=0;if(RI.IUj!=F){if(q!=null){q[0].free();
q[1].free();q[2].free()}var n=R.createBlob(Q),W=R.createFace(n,0),z=R.createFont(W);RI.IUq=q=[n,W,z];
RI.IUj=F}var z=q[2],u=R.createBuffer(),N=X.j$(K);u.addText(N);u.setDirection(r?"ltr":"rtl");u.guessSegmentProperties();
u.shape(z);var b=u.json(z);u.free();var B=b.slice(0);if(!r)B.reverse();for(var e=1;e<B.length;e++){var c=B[e],a=c.cl;
while(A+g(K.charCodeAt(h))<=a){A+=g(K.charCodeAt(h));h++}c.cl=h}return b}}();fetch("code/external/fribidi.wasm").then(function(g){return g.arrayBuffer()}).then(function(g){return WebAssembly.instantiate(g)}).then(function(m){var g=m.instance.exports,L=g.memory,R=16,Q=256,F=1;
L.grow(400);var K=new Uint8Array(L.buffer),r=new Uint32Array(L.buffer),q=R|Q,n=R|Q|F;RI.I$r=function(z,u){var N=z.length,b=g.calloc(N*4+4+N*4+N*4+N,1),B=b+N*4,h=B+4,A=h+N*4,e=A+N*4;
r.set(z,b>>>2);r[B>>>2]=u==0?q:n;g.fribidi_get_bidi_types(b,N,h);g.fribidi_get_bracket_types(b,N,h,A);
g.fribidi_get_par_embedding_levels_ex(h,A,N,B,e);var c=K.slice(e,e+N);g.free(b);return c};var W=new Y(p.E.V,!0);
W.data={P:p.o.VP,VK:"add",Su:am.Iw,_y:null};az.mJ.g(W)})})};function aj(){}aj.jQ=function(m){return JSON.parse(JSON.stringify(m))};
aj.Lq=function(m,g){for(var L in g)m[L]=g[L]};aj.nS=function(m,g,L){var K=aj.IMI();if(L)aj.cr(K,0,0,L);
var r={f:new aC(1,0,0,1,Math.round(m),Math.round(g)),m_:K};r.no=aj.IlB();r.nY=I.QM.m();r.pI=new v;return r};
aj.ImG=function(m){var g=["CharacterDirection",0];for(var L=0;L<g.length;L+=2){if(m[g[L]]!=null&&m[g[L]]!=g[L+1]){throw"e";
console.log(g[L],m[g[L]])}}if(m instanceof Array)for(var L=0;L<m.length;L++)aj.ImG(m[L]);else if(m instanceof Object)for(var K in m)aj.ImG(m[K])};
aj.LD=function(m,g){if(g==null)g=m.Justification;var L=m._Direction?m._Direction:0;if(L==1){if(g==0||g==3)g++;
else if(g==1||g==4)g--}return g};aj.Lx=function(m){if(m.add==null)return;var g=m.m_,L=g.Curve,K=m.add.vmsk,r=K.W,R=I.e.Ng(r,!0).D,Q=m.f.clone();
Q.eb();I.e.f(R,Q,R);var F=R.slice(0,8);for(var q=8;q<R.length;q+=6)F.push(R[q-2],R[q-1],R[q],R[q+1],R[q+2],R[q+3],R[q+4],R[q+5]);
L.Points=F;L.TextOnPathTRange=K.VS.slice(0);L.Reversed=K.xp;if(aj.SE(g)==1){var L=RI.YV(g.Curve),n=I.e.Pt(L[0]);
aj.gy(g,[0,0,n.j,n.F].map(Math.round));for(var W=0;W<F.length;W+=2){F[W]-=n.x;F[W+1]-=n.y}var z=new aC(1,0,0,1,n.x,n.y);
z.concat(m.f);m.f=z}};aj.eP=function(m){if(m.add==null)return;var g=m.add.vmsk,L=m.m_.Curve,K=L.Points,r={O:["M"],D:[K[0],K[1]]};
for(var R=0;R<K.length;R+=8){r.O.push("C");r.D.push(K[R+2],K[R+3],K[R+4],K[R+5],K[R+6],K[R+7])}I.e.f(r.D,m.f,r.D);
var Q=I.e.Nk(r,!0);g.W=Q;g.xp=L.Reversed;g.VS=L.TextOnPathTRange.slice(0);m.add.vogk=x.js(Q)};aj.EX=function(m){var g={u:0,S:0,R:0};
if(m.FillColor){var L=m.FillColor,K=L.Values;if(L.Type==1)g={u:K[1]*255,S:K[2]*255,R:K[3]*255};else if(L.Type==2){var r={classID:"CMYC",Cyn:{t:"doub",v:K[1]*100},Mgnt:{t:"doub",v:K[2]*100},Ylw:{t:"doub",v:K[3]*100},Blck:{t:"doub",v:K[4]*100}};
g=I.G.EX(r)}else console.log("Unknown color type")}return g};aj.IkG=function(m){for(var g=0;g<m.length;
g++){var L=m[g].StyleSheet.StyleSheetData,K=L.FillColor;if(K&&K.Type==2){var r=aj.EX(L);K.Type=1;K.Values=[1,r.u/255,r.S/255,r.R/255]}}};
aj.ZM=function(m,g){var L;if(aj.SE(m.m_)==1){var K=aj.gj(m.m_);L=new v(0,0,K[2]-K[0],K[3]-K[1])}else L=g.MP();
return L};aj.kB=function(m){var g=m[0];for(var L=0;L<m.length;L++)g=aj.Iki(g,m[L]);return g};aj.Iki=function(m,g){var L={};
for(var K in m)if(JSON.stringify(m[K])==JSON.stringify(g[K]))L[K]=m[K];return L};aj.Fy=function(m,g){var L=m.zS,K=-1;
for(var r=0;r<L.length;r++)if(L[r].Name==g)K=r;if(K==-1){K=L.length;L.push({FontType:1,Name:g,Script:0,Synthetic:0})}m.dh.Font=K};
aj.tq=function(m){return m.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};aj.__=function(m,g){m.EngineDict.Editor.Text=g.replace(/\n/g,"\r")};
aj.SE=function(m){return m.Curve&&m.Curve.TextOnPathTRange[0]>=0?2:m.EngineDict.Rendered.Shapes.Children[0].ShapeType};
aj.ci=function(m,g){var L=m.EngineDict.Rendered.Shapes.Children[0];L.ShapeType=g;var K=L.Cookie.Photoshop;
K.ShapeType=g;K.Base.ShapeType=g;if(g==0){delete K.BoxBounds;K.PointBase=[0,0]}if(g==1){delete K.PointBase;
K.BoxBounds=[0,0,1,1]}};aj.gj=function(m){return m.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
aj.gy=function(m,g){m.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=g};aj.Ikr=function(m,g){return aj.IkY(m,aj.Ixd(m,g))};
aj.Ixd=function(m,g){var L=m.EngineDict.StyleRun.RunLengthArray;return aj.KV(L,g).Wy};aj.IkY=function(m,g){var L=m.ResourceDict.StyleSheetSet[0].StyleSheetData,K={};
for(var r in L)K[r]=L[r];var R=m.EngineDict.StyleRun.RunArray[g].StyleSheet.StyleSheetData;aj.Lq(K,R);
return K};aj.Ikb=function(m,g){var L=m.ResourceDict.ParagraphSheetSet[0].Properties,K={};for(var r in L)K[r]=L[r];
var R=m.EngineDict.ParagraphRun.RunArray[g].ParagraphSheet.Properties;aj.Lq(K,R);var Q=["StartIndent","EndIndent","FirstLineIndent"];
for(var F=0;F<3;F++)if(K[Q[F]]==null)K[Q[F]]=0;return K};aj.ca=function(m,g,L){if(L=="")return;var K=aj.tq(m);
aj.__(m,K.substring(0,g)+L+K.substring(g,K.length));var r=m.EngineDict.StyleRun,R=r.RunLengthArray,Q=aj.KV(R,g-1);
R[Q.Wy]+=L.length;var F=m.EngineDict.ParagraphRun,R=F.RunLengthArray,q=aj.KV(R,g),n=L.split("\n");if(n.length==1){R[q.Wy]+=L.length;
return}R.splice(q.Wy+1,0,R[q.Wy]-(g-q.WC));F.RunArray.splice(q.Wy+1,0,aj.jQ(F.RunArray[q.Wy]));R[q.Wy]-=R[q.Wy+1];
R[q.Wy]+=n[0].length+1;for(var W=1;W<n.length-1;W++){F.RunArray.splice(q.Wy+W,0,aj.jQ(F.RunArray[q.Wy+W-1]));
F.RunLengthArray.splice(q.Wy+W,0,n[W].length+1)}R[q.Wy+n.length-1]+=n[n.length-1].length};aj._C=function(m,g,L){var K=aj.tq(m);
aj.__(m,K.substring(0,g)+K.substring(L,K.length));aj.Iwz(m.EngineDict.ParagraphRun,g,L,!0);aj.Iwz(m.EngineDict.StyleRun,g,L,!1)};
aj.Iwz=function(m,g,L,K){var r=m.RunLengthArray,R=aj.KV(r,g),Q=aj.KV(r,L),F=[];for(var q=0;q<r.length;
q++)for(var n=0;n<r[q];n++)F.push(q);F.splice(g,L-g);var W=[];for(var q=0;q<r.length;q++)W.push(0);for(var q=0;
q<F.length;q++)W[F[q]]++;for(var q=0;q<r.length;q++){if(W[q]==0){W.splice(q,1);r.splice(q,1);m.RunArray.splice(q,1);
q--}else if(W[q]<r[q])r[q]=W[q]}if(K&&R.Wy!=Q.Wy&&R.WC!=g){r[R.Wy]+=r[R.Wy+1];r.splice(R.Wy+1,1);m.RunArray.splice(R.Wy+1,1)}};
aj.cr=function(m,g,L,K){var r=m.EngineDict.Editor.Text.length;if(L==r-2)L++;if(K.dh.Font!=null)m.ResourceDict.FontSet=K.zS.slice(0);
if(g<=L)aj.ILL(m.EngineDict.StyleRun,K.dh,g,L,!0);aj.ILL(m.EngineDict.ParagraphRun,K.gV,g,L,!1)};aj.ILL=function(m,g,L,K,r){var R=m.RunLengthArray;
if(r){var Q=aj.KV(R,L);if(Q.WC!=L){var F=R[Q.Wy];R.splice(Q.Wy,0,L-Q.WC);R[Q.Wy+1]=F-R[Q.Wy];m.RunArray.splice(Q.Wy+1,0,aj.jQ(m.RunArray[Q.Wy]))}var q=aj.KV(R,K);
if(q.WC+R[q.Wy]-1!=K){var F=R[q.Wy];R.splice(q.Wy,0,K-q.WC+1);R[q.Wy+1]=F-R[q.Wy];m.RunArray.splice(q.Wy+1,0,aj.jQ(m.RunArray[q.Wy]))}}var Q=aj.KV(R,L),q=aj.KV(R,K);
if(r)for(var n=Q.Wy;n<=q.Wy;n++)aj.Lq(m.RunArray[n].StyleSheet.StyleSheetData,g);else for(var n=Q.Wy;
n<=q.Wy;n++)aj.Lq(m.RunArray[n].ParagraphSheet.Properties,g)};aj.IOL=function(m,g,L){var K=m.EngineDict.StyleRun.RunLengthArray,r=[],R=0;
for(var Q=0;Q<K.length;Q++){var F=K[Q];for(var q=0;q<F;q++)if(g<=R+q&&R+q<L)r.push(Q);R+=F}var n=r[0],W=[];
for(var Q=0;Q<r.length;Q++){var z=r[Q]-n;if(z==W.length)W.push(0);W[z]++}return W};aj.IOf=function(m){var g=m.EngineDict.StyleRun,L=g.RunArray,K=g.RunLengthArray;
for(var r=0;r<K.length-1;r++){var R=L[r].StyleSheet.StyleSheetData,Q=L[r+1].StyleSheet.StyleSheetData;
if(JSON.stringify(R)==JSON.stringify(Q)){L.splice(r+1,1);K[r]+=K[r+1];K.splice(r+1,1);r--}}};aj.qh=function(m,g,L){var K={zS:m.ResourceDict.FontSet.slice(0),dh:[],gV:[]},r=m.EngineDict.StyleRun.RunLengthArray,R=aj.KV(r,g).Wy,Q=aj.KV(r,L).Wy;
for(var F=R;F<=Q;F++){var q=aj.jQ(m.ResourceDict.StyleSheetSet[0].StyleSheetData),n=m.EngineDict.StyleRun.RunArray[F].StyleSheet.StyleSheetData;
aj.Lq(q,n);K.dh.push(q)}var W=m.EngineDict.ParagraphRun.RunLengthArray,z=aj.KV(W,g).Wy,u=aj.KV(W,L).Wy;
for(var F=z;F<=u;F++){K.gV.push(aj.jQ(m.EngineDict.ParagraphRun.RunArray[F].ParagraphSheet.Properties))}K.dh=aj.kB(K.dh);
K.gV=aj.kB(K.gV);return K};aj._v=function(m,g){var L,K;L=["FontSize","Leading","BaselineShift"];K=m.dh;
for(var r=0;r<L.length;r++)if(K[L[r]]!=null)K[L[r]]*=g;L=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
K=m.gV;for(var r=0;r<L.length;r++)if(K[L[r]]!=null)K[L[r]]*=g};aj.IMU=function(){return aj.qh(aj.Iom,0,0)};
aj.IlB=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
aj.KV=function(m,g){var L=0,K=0;while(L+m[K]<=g){L+=m[K];K++}return{Wy:K,WC:L}};aj.IMI=function(){var m=aj.jQ(this.Iom);
return m};aj.IGF={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
aj.IMl={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
aj.Iom={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(aj.IGF))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(aj.IGF))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(aj.IMl))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var IZ={};IZ.IMT=function(m,g,L){var K={};K._98={_0:"i7"};K._0=IZ.IMi(m,g,L?L._0:null);K._1=IZ.IMF(m,g,K._0,L?L._1:null);
return K};IZ.IMi=function(m,g,L){var K={};K._1=IZ.IME(m,L?L._1:null);K._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
K._3=JSON.parse(JSON.stringify(IZ.IMN));K._4=JSON.parse(JSON.stringify(IZ.I_q));K._5=IZ.IMB(m,K._1._0,L?L._5:null);
K._6=IZ.IM$(m,L?L._6:null);K._8=IZ.IMr(m,g,L?L._8:null);K._9=IZ.I_D;return K};IZ.IME=function(m,g){var L=[],K=[];
for(var r=0;r<m.length;r++){var R=m[r].ResourceDict.FontSet;for(var Q=0;Q<R.length;Q++){var F=R[Q];if(K.indexOf(F.Name)!=-1)continue;
L.push(F);K.push(F.Name)}}var q={_0:[]};for(var r=0;r<L.length;r++){var n=L[r],W={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+n.Name,_1:"i"+n.Script,_2:"i"+n.FontType}}};
if(n.Script==0)delete W._0._0._1;q._0.push(W)}return q};IZ.IMB=function(m,g,L){var K={_0:[],_1:[]},r={_0:JSON.parse(JSON.stringify(IZ.Iim))};
IZ.IoL(r._0,m[0].ResourceDict.StyleSheetSet[0],g,m[0].ResourceDict.FontSet);K._0.push(r);K._1.push({_0:"i0"});
K._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});K._1.push({_0:"i1"});return K};IZ.IM$=function(m,g){var L={_0:[],_1:[]},K={_0:JSON.parse(JSON.stringify(IZ._$))};
IZ._n(K._0,m[0].ResourceDict.ParagraphSheetSet[0]);L._0.push(K);L._1.push({_0:"i0"});K={_0:JSON.parse(JSON.stringify(IZ._$))};
IZ._n(K._0,m[0].ResourceDict.ParagraphSheetSet[0]);K._0._0="sBasic Paragraph";K._0._6="i0";L._0.push(K);
L._1.push({_0:"i1"});return L};IZ.IMr=function(m,g,L){var K={_0:[]};for(var r=0;r<m.length;r++){var R=m[r].Curve,Q={};
K._0.push({_0:Q});var F=aj.SE(m[r]);Q._2={};Q._2._0="i"+F;if(F==0){Q._2._6=["f-1","f-1"];Q._2._11={_4:"i-1",_7:!1}}else if(F==1&&R==null){var q=aj.gj(m[r]),n=q[2],W=q[3];
Q._1={_0:IZ.Lo("f",[0,0,0,0,n,0,n,0,n,0,n,0,n,W,n,W,n,W,n,W,0,W,0,W,0,W,0,W,0,0,0,0])};Q._2._6=["f-2","f-2"];
Q._2._11={_4:"i-2",_7:!1}}else if(F==1){var q=aj.gj(m[r]),n=q[2],W=q[3];Q._1={_0:IZ.Lo("f",R.Points)};
Q._2._6=["f-3","f-3"];Q._2._11={_4:"i-3",_7:!1}}else if(F==2){Q._1={_0:IZ.Lo("f",R.Points)};Q._2._6=IZ.Lo("f",R.TextOnPathTRange);
Q._2._11={_0:R.Reversed,_3:"i0",_5:"f0",_7:!1}}}return K};IZ.IMF=function(m,g,L,K){var r={};r._0=JSON.parse(JSON.stringify(IZ.I_x));
r._1=IZ.IMK(m,g,L,K?K._1:null);r._2=JSON.parse(JSON.stringify(IZ.Iim._6));r._3=JSON.parse(JSON.stringify(IZ._$._5));
return r};IZ.IMK=function(m,g,L,K){var r=[],R=L._1._0;for(var Q=0;Q<m.length;Q++){var F=m[Q],q={_0:{}};
r.push(q);var n=K?K[Q]:null;q._0._0="s"+F.EngineDict.Editor.Text;q._0._0=q._0._0;var W={_0:[]};q._0._5=W;
var z=F.EngineDict.ParagraphRun;for(var u=0;u<z.RunArray.length;u++){var N={_0:{}};W._0.push(N);N._0._0={_0:"s",_5:{},_6:"i1"};
IZ._n(N._0._0,F.EngineDict.ParagraphRun.RunArray[u].ParagraphSheet);N._1="i"+z.RunLengthArray[u]}var b={_0:[]};
q._0._6=b;var B=n?n._0._6:null;z=F.EngineDict.StyleRun;for(var u=0;u<z.RunArray.length;u++){var h={_0:{}};
b._0.push(h);var A=B?B._0:null;h._0._0={_0:"s",_5:"i1",_6:{}};IZ.IoL(h._0._0,F.EngineDict.StyleRun.RunArray[u].StyleSheet,R,F.ResourceDict.FontSet,A?h._0._0:null);
h._1="i"+z.RunLengthArray[u]}q._0._10={_0:"i4",_2:!0};q._1=IZ.view.I_G(F,null,Q,null)}return r};IZ.IoL=function(m,g,L,K,r){m._0="s"+(g.Name?g.Name:"");
var R=m._6,Q=r?r._6:null,F=g.StyleSheetData;if(F.Font==null)return;var q=K[F.Font].Name,n=-1;for(var W=0;
W<L.length;W++)if("s"+q==L[W]._0._0._0){n=W;break}R._0="i"+n;if(F.FontSize!=null)R._1="f"+F.FontSize;
if(F.FauxBold!=null)R._2=F.FauxBold;if(F.FauxItalic!=null)R._3=F.FauxItalic;if(F.AutoLeading!=null)R._4=F.AutoLeading;
if(F.Leading!=null)R._5="f"+F.Leading;if(F.HorizontalScale!=null)R._6="f"+F.HorizontalScale;if(F.VerticalScale!=null)R._7="f"+F.VerticalScale;
if(F.Tracking!=null)R._8="i"+F.Tracking;if(F.BaselineShift!=null)R._9="f"+F.BaselineShift;if(F.AutoKerning!=null)R._11="i"+(F.AutoKerning?1:0);
if(F.FontCaps!=null)R._12="i"+F.FontCaps;if(F.FontBaseline!=null)R._13="i"+F.FontBaseline;if(F.Strikethrough!=null)R._15="i"+(F.Strikethrough?1:0);
if(F.Underline!=null)R._16="i"+(F.Underline?2:0);if(F.Ligatures!=null)R._18=F.Ligatures;if(F.DLigatures!=null)R._19=F.DLigatures;
if(F.Language!=null)R._38="i"+F.Language;if(F.FillColor!=null)R._53={_99:"/SimplePaint",_0:{_0:"i1",_1:IZ.Lo("f",F.FillColor.Values)}}};
IZ._n=function(m,g){m._0="s"+(g.Name?g.Name:"");var L=m._5,K=g.Properties;if(K.Justification!=null)L._0="i"+K.Justification;
if(K.FirstLineIndent!=null)L._1="f"+K.FirstLineIndent;if(K.StartIndent!=null)L._2="f"+K.StartIndent;
if(K.EndtIndent!=null)L._3="f"+K.EndtIndent;if(K.SpaceBefore!=null)L._4="f"+K.SpaceBefore;if(K.SpaceAfter!=null)L._5="f"+K.SpaceAfter;
if(K.AutoHyphenate!=null)L._9=K.AutoHyphenate;if(K._Direction!=null)L._33="i"+K._Direction};IZ.Lo=function(m,g){var L=[];
for(var K=0;K<g.length;K++)L.push(m+g[K]);return L};IZ.IMN={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
IZ.I_q={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
IZ.Iim={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
IZ._$={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
IZ.I_D={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
IZ.I_x={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var RX={};RX.I_L=function(m){return RX._u(m,RX.gX)};RX.IVb=function(m){return RX._c(m,RX.gX)};RX._u=function(m,g){var L;
if(typeof m=="string")return m;if(m instanceof Array){L=[];for(var K=0;K<m.length;K++)L[K]=RX._u(m[K],g)}else{L={};
var r={};for(var R in g){var Q=g[R],F="_"+Q[0];if(m[F]!=null){L[R]=Q[1]?RX._u(m[F],Q[1]):m[F];r[F]=!0}}for(var R in m){if(r[R]==null){console.log(r);
console.log(R,m,g);throw"e"}}}return L};RX._c=function(m,g){var L;if(m instanceof Array){L=[];for(var K=0;
K<m.length;K++)L[K]=RX._c(m[K],g)}else{L={};var r={};for(var R in g){var Q=g[R],F="_"+Q[0];if(m[R]!=null){L[F]=Q[1]?RX._c(m[R],Q[1]):m[R];
r[R]=!0}}for(var R in m){if(r[R]==null){console.log(r);console.log(R,m);throw"e"}}}return L};RX.ni={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
RX.kP={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,RX.ni],_StrokeColor:[54,RX.ni],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,RX.ni],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
RX.Iiy={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,RX.kP],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
RX.IOn={_Name:[0],_Features:[5,RX.Iiy],_Parent:[6]};RX.IeP={_Name:[0],_Parent:[5],_Features:[6,RX.kP]};
RX.gX={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,RX.IeP]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,RX.IOn]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,RX.IOn]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,RX.IeP]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,RX.kP],_OriginalNormalParagraphFeatures:[3,RX.Iiy]}]};
IZ.view={};IZ.view.I_G=function(m,g,L,K){var r={},R=aj.SE(m);r._0=[{_0:"i"+L}];return r};function CSS(){}CSS.I_i=function(m,g){var L=m.add,K=L.vmsk,r=L.vstk,R=L.lmfx,Q=L.TySh,F=[],q=CSS.I_h(R,L);
if(m.lo()&&K){var n=I.q.Oe(K.W);if(!n.L_()){F.push("width: "+Math.round(n.j)+"px");F.push("height: "+Math.round(n.F)+"px")}var W=I.q.IBZ(K.W);
if(W>0)F.push("border-radius: "+Math.round(W)+"px")}else if(Q){var z=Q.m_;if(aj.SE(z)==1){var n=aj.gj(z);
F.push("width: "+Math.round(n[2])+"px");F.push("height: "+Math.round(n[3])+"px")}CSS.IvY(F,aj.qh(z,0,0),Q.f,!1,!1,q[0])}var u=[],N=R?R.dropShadowMulti.v:0;
for(var b=0;b<N.length;b++){var B=N[b].v;if(B.enab.v){var h=B.Dstn.v.val,A=B.lagl.v.val*Math.PI/180;
if(B.uglg&&B.uglg.v)A=g.jq()*Math.PI/180;var e=h*Math.cos(A),c=h*Math.sin(A);u.push("drop-shadow("+(e==0?"0 ":CSS.Tn(-e)+"px ")+(c==0?"0 ":CSS.Tn(c)+"px ")+B.blur.v.val/2+"px "+CSS.ET(B.Clr.v,B.Opct.v.val/100)+")")}}if(u.length!=0)F.push("filter: "+u.join(" "));
if(Q==null)CSS.I_g(q,F);if(r==null||!r.strokeEnabled.v)r=ai.M_(R);if(r&&r.strokeEnabled.v){var a=r.strokeStyleContent.v,$=a.classID,G=aU.WL.Zi.indexOf(r.strokeStyleLineCapType.v.strokeStyleLineCapType),o=aU.WL.join.indexOf(r.strokeStyleLineJoinType.v.strokeStyleLineJoinType),H=r.strokeStyleOpacity.v.val/100,f=r.strokeStyleLineWidth.v.val,E="";
if($=="solidColorLayer")E=CSS.ET(a.Clr.v,H);F.push("border: "+f+"px solid "+E)}return F};CSS.I_h=function(m,g){var L=ai.Mk(m,g),K=L[0],r=L[1],R,Q;
if(K){R=CSS.ET(K.Clr.v,g.iOpa!=null?g.iOpa/255:1)}else if(r){Q=CSS.Fw(r)}return[R,Q]};CSS.I_g=function(m,g){if(m[0])g.push("background-color: "+m[0]);
if(m[1])g.push("background-image: "+m[1])};CSS.$L={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.Tn=function(m){return""+parseFloat(m.toFixed(3))};CSS.dR=function(m){if(m==null)return{u:0,S:0,R:0};
if(m.slice(0,4)=="rgb("){var g=m.slice(4,m.length-1).split(",").map(parseFloat);return{u:g[0],S:g[1],R:g[2]}}if(m.charAt(0)!="#"){var L=CSS.$L;
if(L[m])m=L[m];else console.log("unknown color "+m)}m=m.slice(1);if(m.length==3)m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2];
m=parseInt(m,16);return{u:m>>16&255,S:m>>8&255,R:m&255}};CSS.ET=function(m,g){return CSS.Q_(I.G.EX(m),g)};
CSS.Q_=function(m,g){if(g==null)g=1;var L=Math.round(m.u),K=Math.round(m.S),r=Math.round(m.R),R=L<<16|K<<8|r;
return g==1?"#"+I.IA(R):"rgba("+L+","+K+","+r+","+g+")"};CSS.Fw=function(m){var g=m.Grad.v;if(g.Clrs==null)return"";
var L=g.Clrs.v.slice(0),K=g.Trns.v.slice(0),r=m.Ofst.v,R=m.Type.v.GrdT=="Rdl"?1:0,Q=(R==1?"radial":"linear")+"-gradient",F=R==0?Math.round(-m.Angl.v.val+90)+"deg":"circle at center",q=m.Rvrs.v;
if(q){L.reverse();K.reverse()}for(var n=0;n<L.length;n++){var W=L[n].v,z=n<K.length?K[n].v.Opct.v.val/100:1,u=W.Lctn.v/4096;
if(q)u=1-u;F+=", "+CSS.ET(W.Clr.v,z)+" "+Math.round(u*100)+"%"}return Q+"("+F+")"};CSS.IvY=function(m,g,L,K,r,R){var Q=g.dh,F=K?1:l.k.$K(L),q=Math.round(Q.FontSize*F);
m.push("font-size: "+q+"px");var n=Q.Tracking;if(!K&&n!=null&&n!=0)m.push("letter-spacing: "+Math.round(n*q/1e3)+"px");
if(!Q.AutoLeading)m.push("line-height: "+Math.round(Q.Leading*F)+"px");if(Q.Strikethrough)m.push("text-decoration: line-through");
var W=aj.EX(Q);W=[W.u,W.S,W.R].map(Math.round);m.push((K?"fill: ":"color: ")+(R?R:"#"+I.IA(W[0]<<16|W[1]<<8|W[2])));
var z=g.zS[Q.Font].Name;if(z){var u=r,N=az.mJ.Ei(z);if(N!=null&&z!=az.kx(N))N=null;if(u&&N==null)u=!1;
if(u)m.push("font-family: \""+z+"\"");else{var b=null,B=null,h=z.toLowerCase();if(N){b=az.sH(N)[0];if(N["OS/2"])B=N["OS/2"].usWeightClass}else{b=CSS.I_A(z);
if(h.indexOf("light")!=-1)B=300;else if(h.indexOf("medium")!=-1)B=500;else if(h.indexOf("black")!=-1||h.indexOf("extrabold")!=-1)B=800;
else if(h.indexOf("bold")!=-1)B="bold"}if(b!=null)m.push("font-family: \""+b+"\"");if(B!=null)m.push("font-weight: "+B);
if(h.indexOf("italic")!=-1||h.indexOf("oblique")!=-1)m.push("font-style: italic")}}var A=g.gV.Justification;
if(A!=null&&A!=0)if(K)m.push("text-anchor: "+["start","end","middle"][A%3]);else m.push("text-align: "+["left","right","center"][A%3])};
CSS.I_A=function(m){m=m.split("-")[0];while(m.endsWith("MT")||m.endsWith("PS"))m=m.slice(0,m.length-2);
var g=!0;for(var L=0;L<m.length;L++){var K=m.charAt(L);if(!g&&K.toLowerCase()!=K){m=m.slice(0,L)+" "+m.slice(L);
L++;g=!0}else g=!1}return m};function IX(){}IX.Yu={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
IX._Y=function(m,g){var L=Date.now(),K;try{K=acorn.parse(m)}catch(QX){console.log(QX);return}var r=JSON.parse(JSON.stringify(IX.LO._N));
r.__return=!1;r.__break=!1;r.__throw=!1;r.__fs={};r.__window={};IX.eval(K,g,r);var R=r.__fs;if(Object.keys(R).length!=0){var Q=UZIP.encode(R);
RU.save(Q,"output.zip")}};IX.eval=function(m,g,L){var K=m.type;if(!1){}else if(K=="Program"||K=="BlockStatement"){var r=m.body;
for(var R=0;R<r.length;R++){var Q=r[R].type;if(Q=="FunctionDeclaration")L[r[R].id.name]=r[R]}for(var R=0;
R<r.length;R++){var Q=r[R].type,F=IX.eval(r[R],g,L);if(L.__return||L.__break||L.__throw)return F}}else if(K=="ReturnStatement"){L.__return=!0;
return m.argument?IX.ri(m.argument,g,L):null}else if(K=="BreakStatement"){L.__break=!0}else if(K=="VariableDeclaration"){var q=m.declarations;
for(var R=0;R<q.length;R++)IX.eval(q[R],g,L)}else if(K=="VariableDeclarator"){L[m.id.name]=m.init?IX.ri(m.init,g,L):null}else if(K=="FunctionDeclaration"){L[m.id.name]=m}else if(K=="MemberExpression"){var n=IX.ri(m.object,g,L),W=m.computed?IX.ri(m.property,g,L):IX.eval(m.property,g,L),F;
if(n.WY!=null)F=IX.LO.SN(n,W,g,L);else if(n==window&&IX.Yu[W]){}else F=n[W];return F}else if(K=="ArrayExpression"){var z=[],u=m.elements;
for(var R=0;R<u.length;R++)z.push(IX.ri(u[R],g,L));return z}else if(K=="ObjectExpression"){var z={},u=m.properties;
for(var R=0;R<u.length;R++){var N=u[R],b=u[R].key.name?u[R].key.name:u[R].key.value;z[b]=IX.ri(u[R].value,g,L)}return z}else if(K=="ExpressionStatement"){return IX.eval(m.expression,g,L)}else if(K=="NewExpression"){var B=m.arguments,h=m.callee,A=h.type,z=null;
if(A=="Identifier")z=IX.LO.IeR(h.name,B,g,L);else throw"e";if(z==null)throw"new "+h.name;return z}else if(K=="CallExpression"){var B=m.arguments,h=m.callee,A=h.type,e={};
for(var c in L)e[c]=L[c];var a=[];for(var R=0;R<B.length;R++)a.push(IX.ri(B[R],g,L));if(A=="Identifier"){var $=h.name,G=L[$];
if(G){if(G.params){var o=G.params;for(var R=0;R<o.length;R++)e[o[R].name]=a[R];return IX.eval(G.body,g,e)}else{return G.apply(null,a)}}else if(IX.LO.IeJ.indexOf($)!=-1)return IX.LO.gb({WY:"Application"},$,a,g,L);
else if(window[$]==null)console.log("Unknown function "+$);else if(IX.Yu[$])alert($+"() not available");
else{var H=window[$].apply(window,a);return H}}else if(A=="MemberExpression"){var n=IX.ri(h.object,g,L),W=h.computed?IX.ri(h.property,g,L):IX.eval(h.property,g,L);
if(n==window&&IX.Yu[W])return;if(n.WY!=null)return IX.LO.gb(n,W,a,g,L);else return n[W].apply(n,a)}else console.log(m)}else if(K=="AssignmentExpression"){var f=m.operator,E=m.left,S=E.type,V=IX.ri(E,g,L),J=IX.ri(m.right,g,L),F=null;
if(!1){}else if(f=="=")F=J;else if(f=="+=")F=V+J;else if(f=="-=")F=V-J;else if(f=="*=")F=V*J;else if(f=="/=")F=V/J;
else if(f=="%=")F=V%J;else if(f=="&=")F=V&J;else if(f=="|=")F=V|J;else if(f=="&&=")F=V&&J;else if(f=="||=")F=V||J;
else console.log(m);if(S=="Identifier"){var U=E.name;if(L.hasOwnProperty(U))L[U]=F;else L.__window[U]=F}else if(S=="MemberExpression"){var j=IX.eval(E.property,g,L),i=IX.ri(E.object,g,L);
if(i.WY!=null)IX.LO.Ier(i,j,F,g,L);else i[j]=F}else console.log(m)}else if(K=="Identifier")return m.name;
else if(K=="Literal")return m.value;else if(K=="UpdateExpression"){var f=m.operator,k=m.argument.name,z=IX.ri(m.argument,g,L);
if(!1){}else if(f=="++"){L[k]++;return m.prefix?L[k]:L[k]-1}else if(f=="--"){L[k]--;return m.prefix?L[k]:L[k]+1}else console.log(m)}else if(K=="UnaryExpression"){var f=m.operator,P=IX.ri(m.argument,g,L);
if(P.WY=="UnitValue"){if(f=="-")return-P.U;else return IX.IZV(P.U,f)}else return IX.IZV(P,f)}else if(K=="BinaryExpression"||K=="LogicalExpression"){var f=m.operator,E=IX.ri(m.left,g,L),P=IX.ri(m.right,g,L);
if(E==null||P==null)return IX.Li(E,P,f);else if(E.WY=="UnitValue"&&P.WY=="UnitValue")return IX.Li(E.U,P.U,f);
else if(E.WY=="UnitValue")return IX.Li(E.U,P,f);else if(P.WY=="UnitValue"){if(f=="-")return-(E-P.U);
else return IX.Li(E,P.U,f)}else return IX.Li(E,P,f)}else if(K=="IfStatement"||K=="ConditionalExpression"){var w=IX.ri(m.test,g,L);
if(w)return IX.eval(m.consequent,g,L);else if(m.alternate)return IX.eval(m.alternate,g,L)}else if(K=="ForInStatement"){IX.eval(m.left,g,L);
var d=m.left.declarations[0].id.name,T=IX.ri(m.right,g,L);for(var c in T){L[d]=c;var y=IX.eval(m.body,g,L);
if(L.__break)break;if(L.__return)return y}L.__break=!1}else if(K=="ForStatement"){IX.eval(m.init,g,L);
while(IX.eval(m.test,g,L)){var y=IX.eval(m.body,g,L);if(L.__break)break;if(L.__return)return y;IX.eval(m.update,g,L)}L.__break=!1}else if(K=="DoWhileStatement"){do{var y=IX.eval(m.body,g,L);
if(L.__break)break;if(L.__return)return y}while(IX.eval(m.test,g,L));L.__break=!1}else if(K=="TryStatement"){IX.eval(m.block,g,L);
if(L.__throw){var D=m.handler;L[D.param.name]=L.__throw;L.__throw=!1;IX.eval(D.body,g,L);delete L[D.param.name]}}else if(K=="EmptyStatement"){}else console.log(m)};
IX.Li=function(m,g,L){if(L=="+")return m+g;else if(L=="-")return m-g;else if(L=="*")return m*g;else if(L=="/")return m/g;
else if(L=="%")return m%g;else if(L=="^")return m^g;else if(L=="&")return m&g;else if(L=="&&")return m&&g;
else if(L=="|")return m|g;else if(L=="||")return m||g;else if(L=="<")return m<g;else if(L==">")return m>g;
else if(L=="==")return m==g;else if(L=="<=")return m<=g;else if(L==">=")return m>=g;else if(L=="!=")return m!=g;
else if(L=="!==")return m!==g;else if(L=="<<")return m<<g;else if(L==">>")return m>>g;else console.log(L)};
IX.IZV=function(m,g){if(g=="-")return-m;else if(g=="!")return!m;else if(g=="~")return~m;else if(g=="+")return m;
else console.log(obj)};IX.ri=function(m,g,L){var K=m.type;if(K=="Identifier")return IX.I_H(m.name,g,L);
else return IX.eval(m,g,L)};IX.I_H=function(m,g,L){if(m=="undefined")return undefined;else if(L.hasOwnProperty(m))return L[m];
else if(m=="app")return{WY:"Application"};else if(IX.LO.Iem.indexOf(m)!=-1)return IX.LO.SN({WY:"Application"},m,g,L);
else if(window[m]&&!IX.Yu[m])return window[m];else{L[m]=null;return null}};IX.LO={};IX.LO.IeR=function(m,g,L,K){var r;
if(m=="SolidColor")r={WY:m,U:[1,0,0,0]};if(m=="Window")r={WY:m,U:new Qw(IX.eval(g[0],L,K),IX.eval(g[1],L,K),IX.eval(g[2],L,K))};
if(m=="ExportOptionsSaveForWeb")r={WY:m,U:{NW:"png",_e:100}};if(m=="JPEGSaveOptions")r={WY:m,U:{NW:"jpg",_e:100}};
if(m=="File")r={WY:m,U:IX.eval(g[0],L,K)};if(m=="ActionReference")r={WY:m,U:[]};if(m=="ActionDescriptor")r={WY:m,U:{}};
return r};IX.LO.Iem="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
IX.LO.IeJ=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];IX.LO.SN=function(m,g,L,K){var r=L.d$,R=L.ot();
if(!1){}else if(g=="typename"){if(m.WY=="Layer")return m.U.EY()?"LayerSet":"ArtLayer";else return m.WY}else if(["Document","Layer"].indexOf(m.WY)!=-1&&["layers","artLayers","layerSets"].indexOf(g)!=-1){var Q=R.root,F={WY:"Layers",Ld:g,U:[]};
if(m.WY=="Layer")Q=R.root.dr(R._.indexOf(m.U));for(var q=0;q<Q.children.length;q++){var n=Q.children[q].A,W=n.EY();
if(W&&g=="artLayers"||!W&&g=="layerSets")continue;F.U.push({WY:"Layer",U:n})}F.U.reverse();return F}else if(m.WY=="Documents"||m.WY=="Layers"||m.WY=="HistoryStates"){if(!1){}else if(g=="length")return m.U.length;
else if(Number.isInteger(g))return m.U[g];else console.log(m.WY+": unknown property ",g)}else if(m.WY=="Application"){if(!1){}else if(g=="activeDocument")return{WY:"Document",U:L.ot()};
else if(g=="documents"){var F={WY:"Documents",U:[]};for(var q=0;q<L.nC.length;q++)F.U.push({WY:"Document",U:L.nC[q]});
return F}else if(g=="fonts")return{WY:"TextFonts"};else if(g=="preferences")return{WY:"Preferences"};
else if(g=="displayDialogs")return{WY:"DialogModes"};else if(g=="foregroundColor"||g=="backgroundColor"){var z=g[0]=="f"?r.$q:r._Q;
return{WY:"SolidColor",U:[1,(z>>>16&255)/255,(z>>>8&255)/255,(z>>>0&255)/255]}}else if(g=="UI")return{WY:"UI"};
else console.log(m,g)}else if(m.WY=="Document"){var R=m.U;if(!1){}else if(g=="activeLayer"){var n=R._[R.N[0]];
return{WY:"Layer",U:n}}else if(g=="resolution")return R.Jt;else if(g=="width")return R.j;else if(g=="height")return R.F;
else if(g=="name")return R.name;else if(g=="saved")return!R.Wf();else if(g=="selection")return{WY:"Selection"};
else if(g=="activeHistoryState")return{WY:"HistoryState",Bj:R.CR};else if(g=="source")return R.$x;else if(g=="historyStates"){var u=[];
for(var q=0;q<R.history.length;q++)u.push({WY:"HistoryState",Bj:q});return{WY:"HistoryStates",U:u}}else console.log(m,g)}else if(m.WY=="Layer"){var N={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},n=m.U;
if(!1){}else if(g=="visible")return n.WP();else if(g=="selected")return R.N.indexOf(R._.indexOf(n))!=-1;
else if(g=="grouped")return n.OG;else if(N[g]!=null)return n.SO(N[g]);else if(g=="opacity")return n.opacity*100/255;
else if(g=="blendMode")return n.TZ;else if(g=="name")return n.getName();else if(g=="textItem")return{WY:"TextItem",U:n};
else if(g=="bounds"){var b=l.k.ZM(R,[R._.indexOf(n)]);return IX.LO.IQq(b,R)}else if(g=="parent"){var B=L.nC;
for(var q=0;q<B.length;q++)if(B[q]._.indexOf(n)!=-1)return{WY:"Document",U:B[q]}}else if(g=="kind"){var h=IX.LO.LZ;
for(var q=0;q<h.length;q++)if(n.add[h[q]]!=null)return q;return 0}else console.log(m,g)}else if(m.WY=="Selection"){if(!1){}else if(g=="bounds")return IX.LO.IQq(L.ot().I.rect,R);
else console.log(m,g)}else if(m.WY=="TextItem"){var A=m.U.add.TySh,e=A.m_,c=aj.tq(e),a=A.f.$K(),$=aj.qh(e,0,Math.max(0,c.length-2));
if(g=="contents")return c.slice(0,c.length-1).replace(/\n/g,"\r");else if(g=="font")return $.dh.Font!=null?$.zS[$.dh.Font].Name:null;
else if(g=="size")return IX.LO.Le($.dh.FontSize*a,R);else if(g=="leading")return IX.LO.Le($.dh.Leading*a,R);
else if(g=="tracking")return IX.LO.Le($.dh.Tracking);else if(g=="kind")return 1-aj.SE(e);else if(g=="useAutoLeading")return $.gV.AutoLeading;
else if(g=="hyphenation")return $.gV.AutoHyphenate;else if(g=="color")return{WY:"SolidColor",U:$.dh.FillColor.Values.slice(0)};
else if(g=="width"||g=="height"){var G=aj.gj(e),o=(G[2]-G[0])*a,H=(G[3]-G[1])*a;return IX.LO.Le(g=="width"?o:H,R)}else if(g=="position"){var f=A.f;
return IX.LO.IQf([f.gE,f.Dv],R)}else if(g=="horizontalScale"||g=="verticalScale"){var E=g[0].toUpperCase()+g.slice(1);
return Math.round($.dh[E]*100)}else console.log(m,g)}else if(m.WY=="Preferences"){if(g=="rulerUnits")return r.dA.$C;
else console.log(m,g)}else if(m.WY=="SolidColor"){if(g=="rgb")return{WY:"RGBColor",U:m.U};else console.log(m,g)}else if(m.WY=="RGBColor"){if(!1){}else if(g=="red")return Math.round(255*m.U[1]);
else if(g=="green")return Math.round(255*m.U[2]);else if(g=="blue")return Math.round(255*m.U[3]);else console.log(m,g)}else if(m.WY=="UnitValue"){if(g=="value")return m.U;
else throw"e"}else if(m.WY=="ExportOptionsSaveForWeb"){if(g=="format")return m.U.NW;else if(g=="PNG8")return!1;
else if(g=="quality")return m.U._e;else throw g}else if(m.WY=="JPEGSaveOptions"){return 0}else console.log(m,g)};
IX.LO.IQq=function(m,g){return IX.LO.IQf([m.x,m.y,m.x+m.j,m.y+m.F],g)};IX.LO.IQf=function(m,g){var L=[];
for(var K=0;K<m.length;K++)L.push(IX.LO.Le(m[K],g));return L};IX.LO.IeT=function(m){var g=[];for(var L=0;
L<m.length;L++)g.push(m[L].WY?m[L].U:m[L]);return g};IX.LO.Le=function(m,g){return{WY:"UnitValue",U:m}};
IX.LO.IVt=function(m,g){if(m.WY=="UnitValue")return m.U;return m};IX.LO.Ier=function(m,g,L,K,r){var R=new Y(p.E.B,!0),Q=new Y(p.E.V,!0),F=K.ot(),q=K.d$;
if(!1){}else if(m.WY=="Application"){if(!1){}else if(g=="activeDocument"){Q.data={P:p.o.ES,$X:L.U};K.g(Q)}else if(g=="displayDialogs"){}else console.log(m,g,L)}else if(m.WY=="Document"){var n=m.U;
if(!1){}else if(g=="name"){R.K=l.pW;R.data={P:x.wm,U:L,I$a:!0,Ho:n};F.qb=!0}else if(g=="source")n.$x=L;
else if(g=="activeLayer"){n.N=[n._.indexOf(L.U)]}else if(g=="activeHistoryState"){R.K=l.AV;R.data={P:"h_itemchange",index:L.Bj}}else console.log(m,g)}else if(m.WY=="Layer"){R.K=l.pW;
var W={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},z=m.U,u=F._.indexOf(z);
if(!1){}else if(g=="visible"){if(z.WP()!=L)R.data={P:x.ZU,A:u}}else if(g=="opacity"){R.data={P:x.QS,A:u,cC:Math.round(255*L/100)}}else if(g=="blendMode"){R.data={P:x.qP,A:u,cC:ad.go.indexOf(L)}}else if(g=="name"){R.data={P:x.BH,A:u,name:L}}else if(W[g]!=null){R.data={P:x.Xb,A:u,cC:[[L],[W[g]]]}}else if(g=="kind"){R.data={P:x.ds,A:u,fD:IX.LO.LZ[L]}}else if(g=="grouped"){R.data={P:x.QB,A:u,cC:L}}else console.log(m,g,L)}else if(m.WY=="TextItem"){R.K=l._T;
var z=m.U,N=z.add.TySh,b=JSON.parse(JSON.stringify(N.m_)),B=N.f.clone(),h=N.f.$K(),A=aj.tq(b),e=aj.qh(b,0,A.length-2),c=!1;
if(!1){}else if(g=="contents"){aj._C(b,0,A.length-1);aj.ca(b,0,L.replace(/\r/g,"\n"))}else if(g=="size"){e.dh.FontSize=(L.U!=null?L.U:L)/h;
c=!0}else if(g=="leading"){e.dh.Leading=(L.U!=null?L.U:L)/h;c=!0}else if(g=="tracking"){e.dh.Tracking=L.U!=null?L.U:L;
c=!0}else if(g=="kind"){var a=aj.SE(b);if(a==1&&L==1){var $=new RI(b,K.d$.dd).gV[0],G=$._A[0].end,o=$.$H[G-1].end;
aj._C(b,0,A.length-1);aj.ca(b,0,A.slice(0,o-1))}if(a==L)aj.ci(b,1-L)}else if(g=="useAutoLeading"){e.gV.AutoLeading=L;
c=!0}else if(g=="hyphenation"){e.gV.AutoHyphenate=L;c=!0}else if(g=="font"){aj.Fy(e,L);c=!0}else if(g=="color"){e.dh.FillColor.Values=L.U.slice(0);
c=!0}else if(g=="width"||g=="height"){var H=aj.gj(b).slice(0);if(g=="width")H[2]=Math.round(H[0]+L/h);
else H[3]=Math.round(H[1]+L/h);aj.gy(b,H)}else if(g=="position"){B.gE=L[0];B.Dv=L[1]}else if(g=="horizontalScale"||g=="verticalScale"){var f=g[0].toUpperCase()+g.slice(1);
e.dh[f]=L/100;c=!0}else console.log(m,g,L);if(c)aj.cr(b,0,A.length-1,e);R.data={P:"newED",wS:F._.indexOf(z),uI:b,f:B}}else if(m.WY=="Preferences"){if(!1){}else if(g=="rulerUnits"){var E=JSON.parse(JSON.stringify(q.dA));
E.$C=L;Q.data={P:p.o.VP,Su:am.pL,cC:E};K.g(Q)}else console.log(m,g,L)}else if(m.WY=="RGBColor"){if(!1){}else if(g=="red")m.U[1]=L/255;
else if(g=="green")m.U[2]=L/255;else if(g=="blue")m.U[3]=L/255;else console.log(m,g)}else if(m.WY=="ExportOptionsSaveForWeb"){if(g=="format")m.U.NW=L;
else if(g=="PNG8"){}else if(g=="quality")m.U._e=L;else throw"e"}else if(m.WY=="JPEGSaveOptions"){if(g=="quality")m.U._e=Math.round(100*L/12)}else console.log(m,g,L);
if(R.data!=null)K.g(R)};IX.LO.gb=function(m,g,L,K,r){var R=m.WY,Q=null,F=new Y(p.E.B,!0),q=new Y(p.E.VG,!0),n=new Y(p.E.V,!0),W=K.ot(),z=K.nC;
if(!1){}else if(R=="Application"){if(!1){}else if(g=="charIDToTypeID"){var u=L[0].trim();if(u=="Lvls")u="levels";
return u}else if(g=="stringIDToTypeID"){var N=L[0].trim(),b={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},B=b[N];
return B==null?N:B}else if(g=="executeAction"){console.log(L);var h;if(L[1]){h=L[1].U;h.classID=L[0]}var A={setd:"set"},e=A[L[0]];
if(e==null)e=L[0];q.data={Qm:e,XX:h}}else if(g=="doAction"){n.data={P:p.o.ZR,tK:[L[0],L[1]]}}else if(g=="open"){n.data={P:p.o.Yj,Su:{url:L[0]}};
if(L[2]&&z.length!=0)n.data.Su.Fl=z.indexOf(W)}else if(g=="echoToOE"){if(window.parent!=window)window.parent.postMessage(L[0],"*")}else console.log(g)}else if(R=="Document"){var W=m.U;
if(!1){}else if(g=="trim"){var c=[];for(var a=0;a<4;a++)c.push(L[a+1]!=null?L[a+1]:!0);q.data=l.ma.oZ(L[0]!=null?L[0]:0,c)}else if(g=="save"){n.data={P:p.o.ap}}else if(g=="saveToOE"){n.data={P:p.o.ap,IEV:L}}else if(g=="rotateCanvas"){q.data=l.k.Zb(!0,L[0])}else if(g=="resizeImage"||g=="resizeCanvas"){var $=L[0],G=L[1];
if(typeof $!="number"){$=W.j*parseFloat($.slice(0,$.length-1))/100;G=W.F*parseFloat(G.slice(0,G.length-1))/100}if(g=="resizeCanvas")q.data=l.ma.IIC(Math.round($),Math.round(G),L[2]);
else q.data=l.ma.IQX(Math.round($),Math.round(G),null,1)}else if(g=="paste"){n.data={P:p.o.Vh}}else if(g=="close"){n.data={P:p.o.vC,XE:W}}else if(g=="exportDocument"||g=="saveAs"){var o=r.__fs,H=L[0].U.replace(":","").replace("~/",""),f=g=="exportDocument"?L[2].U:L[1].U,E=ax.kr(W,f.NW,null,null,[f._e],K.d$);
o[H]=new Uint8Array(E)}else console.log(m,g,L)}else if(R=="Layer"){var S=m.U,V=W._.indexOf(S);if(!1){}else if(g=="copy"){IX.LO.YN(W,K,0);
n.data={P:p.o.aM,gn:L[0],Jx:V};K.g(n);delete n.data;IX.LO.YN(W,K,1)}else if(g=="clear"){IX.LO.YN(W,K,0);
q.data={Qm:"delete"};K.g(q);delete q.data;IX.LO.YN(W,K,1)}else if(g=="duplicate"){if(L.length==0){F.data={P:x.vs,A:V};
F.K=l.pW;K.g(F);F.data=null;Q={WY:"Layer",U:W._[W.N[0]]}}else if(L[0].WY=="Document"){F.data={P:x.xN,_:W.wW(V),Jc:W,fZ:L[0].U};
F.K=l.pW}}else if(g=="merge"||g=="remove"){F.data={P:g=="merge"?x.If:x.vf,A:V};F.K=l.pW;if(g!="remove")Q={WY:"Layer",U:W._[W.N[0]]}}else if(g=="move"){F.data={P:x.BR,source:V,target:W._.indexOf(L[0].U),cc:L[1]!=3?.6:.3};
F.K=l.pW}else if(g=="rasterize"){q.data={Qm:"rasterizeLayer",XX:{classID:"rasterizeLayer",null:RL.c$("Lyr",!0)}}}else if(g=="rotate"){F.data={P:"rot",Is:[2,5],U:-L[0]*Math.PI/180,Eo:L[1],A:V};
F.K=l.Zo}else if(g=="resize"){F.data={P:"scl",Is:[2,4],U:new jf(L[0]/100,L[1]/100),Eo:L[2],A:V};F.K=l.Zo}else if(g=="translate"){var J=IX.LO.IeT(L);
F.data={P:"trsl",A:V,IEK:J[0],IXY:J[1]};F.K=l.Kb}else if(g=="link"){F.data={P:x.XD,IxT:[V,W._.indexOf(L[0].U)]};
F.K=l.pW}else console.log(m,g,L)}else if(R=="Documents"){if(g=="getByName"){for(var a=0;a<z.length;a++)if(z[a].name==L[0])return{WY:"Document",U:z[a]};
return null}else if(g=="add"){var U=L[5];if(U==null)U=1;q.data=aH.Ml(L[0],L[1],L[2],L[3],["Wht","Trns","BckC"][U])}else throw"e"}else if(R=="Layers"){if(g=="getByName"){for(var a=0;
a<m.U.length;a++)if(m.U[a].U.getName()==L[0]){Q=m.U[a];break}if(Q==null)r.__throw={message:"No layer with a name "+L[0]}}else if(g=="add"){F.data={P:m.Ld=="layerSets"?x.dz:x.ZD};
F.K=l.pW;K.g(F);F.data=null;Q={WY:"Layer",U:W._[W.N[0]]}}else console.log(m,g,L)}else if(m.WY=="Selection"){if(g=="select"){var j=L[0],i=[];
for(var a=0;a<j.length;a++)i.push(j[a][0],j[a][1]);q.data=l.Lk.aF(i)}else if(g=="copy"){n.data={P:p.o.aM}}else if(g=="deselect"){q.data=l.Lk.ud()}else if(g=="fill"){var k=L[0].U;
k=I.G.h$({u:k[1]*255,S:k[2]*255,R:k[3]*255});q.data=l.jx._W("Clr",L[1],L[2]==null?1:L[2]/100,k)}else console.log(m,g,L)}else if(m.WY=="Window"){if(g=="show"){n.data={P:p.o.My,OT:m.U}}else throw"e"}else if(m.WY=="ActionReference"){if(g=="putProperty"){m.U.push({t:"prop",v:{classID:L[0],keyID:L[1]}})}else if(g=="putClass"){m.U.push({t:"Clss",v:{classID:L[0]}})}else console.log(g,L)}else if(m.WY=="ActionDescriptor"){if(g=="putReference"){m.U[L[0]]={t:"obj ",v:L[1].U}}else if(g=="putDouble"){m.U[L[0]]={t:"doub",v:L[1]}}else if(g=="putUnitDouble"){m.U[L[0]]={t:"UntF",v:{type:L[1],val:L[2]}}}else if(g=="putObject"){var P=L[2].U;
P.classID=L[1];m.U[L[0]]={t:"Objc",v:P}}else if(g=="putBoolean"){m.U[L[0]]={t:"bool",v:L[1]}}else console.log(g,L)}else if(m.WY=="UI"){var w;
if(g=="zoomIn"||g=="zoomOut"){w={P:"zoom",bt:g=="zoomIn"}}else if(g=="fitTheArea"){w={P:"adapt",U:"fitscr"}}else if(g=="pixelToPixel"){w={P:"adapt",U:"pixel"}}F.K=l.ei;
F.data=w}else console.log(m,g,L);if(F.data)K.g(F);if(q.data)K.g(q);if(n.data)K.g(n);return Q};IX.LO.YN=function(m,g,L){var K=new Y(p.E.B,!0);
K.K=l.eS;var r=new Y(p.E.VG,!0);if(L==0){IX.LO.Imj=m.I;r.data=l.Lk.ud(!0)}else{var R=IX.LO.Imj;if(R)K.data={P:"setsel",Is:"Restore Selection",I:{rect:R.rect.clone(),channel:R.channel.slice(0)}};
else r.data=l.Lk.ud()}g.g(K.data?K:r)};IX.LO.Imj=null;IX.LO._N={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
IX.LO._N.ColorBlendMode=IX.LO._N.BlendMode;IX.LO.LZ="---- SoLd TySh SoCo GdFl PtFl".split(" ");function RV(){}RV.ju={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
RV.IpO=function(m,g){if(g==null)g={};var L=new DOMParser,K=L.parseFromString(m,"image/svg+xml"),r=K.getElementsByTagName("rdf:Description")[0];
if(r==null)return g;var R=RV.ju;for(var Q in R){var F=R[Q][2];if(F==null)continue;var q=r.getElementsByTagName(F)[0];
if(q==null)continue;var RJ=q.getElementsByTagName("rdf:li"),n=[];for(var W=0;W<RJ.length;W++)n.push(RJ[W].textContent);
g[Q]=n.join("; ")}return g};RV.IDA=function(m){var g=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],L=RV.ju;
for(var K in L){var r=m[K],R=L[K][2],Q="Seq",F="";if(r==null||R==null)continue;if(R=="dc:title"||R=="dc:description"){Q="Alt";
F=" xml:lang=\"x-default\""}if(R=="dc:subject")Q="Bag";g.push("\t<"+R+"><rdf:"+Q+">");var q=R=="dc:subject"?r.split(";").join(",").split(","):[r];
for(var n=0;n<q.length;n++)g.push("\t\t<rdf:li"+F+">"+q[n].trim()+"</rdf:li>");g.push("\t</rdf:"+Q+"></"+R+">")}g.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return g.join("\n")};RV.Ixa=function(m){var g=[];for(var L=0;L<m.length;L++)g[L]=m[L][1]==0?0:m[L][0]/m[L][1];
return g};RV.ISx=function(m){var g=[];for(var L=0;L<m.length;L++){var K=m[L],r=1;if(K!=Math.round(K)){r=1e3;
K=Math.round(K*r)}g[L]=[K,r]}return g};RV.VU=function(m,g){var L=RV.ju;if(g==null)g={};for(var K in L){var r=L[K][1],R="t"+r;
if(r!=null&&m[R]!=null){var Q=m[R];if(r==0)Q=Q.join(".");else if(r==2||r==4){var F=m["t"+(r-1)];if(F==null)F=[r==2?"N":"E"];
Q=RV.Ixa(Q).join(",")+F[0]}else if(r==42034)Q=RV.Ixa(Q).join(" ");else if(r==270||r==315){var q=Q[0],n=new Uint8Array(q.length);
X.kC(n,0,q);Q=X.d_(n)}else Q=Q[0];g[K]=Q}}if(m.exifIFD)RV.VU(m.exifIFD,g);if(m.gpsiIFD)RV.VU(m.gpsiIFD,g);
return g};RV.et=function(m,g,L){var K=RV.ju,R=0,F=0;if(g==null)g={};var r={},Q={};for(var q in K){if(m[q]==null||K[q][1]==null)continue;
var n=K[q][1],W="t"+n,z=g;if(q.startsWith("exif:")){z=r;R++;if(q.startsWith("exif:GPS")){z=Q;F++}}var u=m[q];
if(n==0)u=new Uint8Array(u.split(".").map(parseFloat));else if(n==2||n==4){var N=u.length;z["t"+(n-1)]=[u.slice(u.length-1)];
u=RV.ISx(u.split(",").map(parseFloat))}else if(n==42034)u=RV.ISx(u.split(" ").map(parseFloat));else if(n==270||n==315){var b=X.j$(u);
u=[X.dn(b,0,b.length)]}else u=[u];z[W]=u}if(R!=0){g.exifIFD=r;g.t34665=[0]}if(F!=0){g.gpsiIFD=Q;g.t34853=[0]}var B=new Date,h=[B.getFullYear(),B.getMonth()+1,B.getDate(),B.getHours(),B.getMinutes(),B.getSeconds()];
for(var A=0;A<6;A++)h[A]=(h[A]+"").padStart(2,"0");g.t305=["Photopea Editor (www.photopea.com)"];if(L!=!0)g.t306=[h[0]+":"+h[1]+":"+h[2]+" "+h[3]+":"+h[4]+":"+h[5]];
return g};var p={};p.Iku=0;p.Lh=function(){p.Iku++;return p.Iku};p.Ied="uint8";p.Yb=function(m){this.CE=m;
this.IUa=p.Y("img");this.Jk=p.Y("canvas");this.dm=null;this.xr="";this._V=null;this.zt=new jf(0,0);p.Wj(this.CE,this.Va.bind(this))};
p.Yb.prototype.e_=function(m,g){this.dm=m;if(g)this.xr=g;this.Va()};p.Yb.prototype.Va=function(m){if(m)this.zt=p.c_(m,this.CE);
var g=this.dm,L=typeof g=="string";if(!L){var K=p.M(),r=this.zt,R=g.l.j,Q=g.l.F,F=typeof g.qr=="string",q=F?this.IUa:this.Jk;
if(F)q.setAttribute("src",g.qr);else{q.width=R;q.height=Q;var n=q.getContext("2d"),W=new ImageData(new Uint8ClampedArray(g.qr.buffer),R,Q);
n.putImageData(W,0,0)}q.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(r.y-g.mB.y/K)+"px; left:"+(r.x-g.mB.x/K)+"px; width:"+R/K+"px; height:"+Q/K+"px");
var z=this._V;if(z==null||z!=q){if(z)this.CE.removeChild(z);this.CE.appendChild(q);this._V=q}}else if(this._V){this.CE.removeChild(this._V);
this._V=null}this.CE.setAttribute("style","cursor:"+(L?g:"none")+"; "+this.xr)};p.IeY=function(m){return m.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
p.YP=function(m,g){m.dv(aT.get([12,41]).charAt(0)+":");g.dv(aT.get([12,42]).charAt(0)+":")};p.Y=function(m,g){var L=document.createElement(m);
if(g!=null)L.setAttribute("class",g);return L};p.Lj=function(m){while(m.firstChild)m.removeChild(m.firstChild)};
p.RM=function(m,g){var L=m.getAttribute("class").split(" ");if(L.indexOf(g)==-1)L.push(g);m.setAttribute("class",L.join(" "))};
p.Av=function(m,g){var L=m.getAttribute("class");if(L==null)return;L=L.split(" ");if(L.indexOf(g)!=-1)L.splice(L.indexOf(g),1);
m.setAttribute("class",L.join(" "))};p.Ya=function(m){while(!0){if(m==document)return!0;if(m==null)return!1;
m=m.parentNode}};p.da=function(m){m.appendChild(p.Y("br"))};p.CU=function(m){m.appendChild(p.Y("hr"))};
p.ge=document;p.ug=function(m){var g=0;for(var L=0;L<m;L++)g+=Math.random();return g/m<Math.PI/4};p.NE=function(m,g){var L="";
if(!p.ug(29))g-=4;for(var K=0;K<m.length;K++)L+=String.fromCharCode(m.charCodeAt(K)-g-K);return L};p.cm=function(m,g){var L="";
if(!p.ug(29))g+=4;for(var K=0;K<m.length;K++)L+=String.fromCharCode(m.charCodeAt(K)+g+K);return L};p.Ys=function(m){var g="";
if(!p.ug(28))m+="-3";for(var L=0;L<m.length;L++){var K=m.charCodeAt(L);if(K<32||127<K)throw"e";g+=String.fromCharCode(32+(K-32+17+3*L)%96)}return g};
p.jw=function(m){var g="";if(!p.ug(28))m+="-1";for(var L=0;L<m.length;L++){var K=m.charCodeAt(L);K-=32;
K+=96e4;K-=17+3*L;K=K%96;g+=String.fromCharCode(32+K)}return g};p.I$j=function(m){var g="";if(!p.ug(28))m+="-3";
for(var L=0;L<m.length;L++){var K=m.charCodeAt(L);if(K<32||126<K)throw"e";g+=String.fromCharCode(32+(K-32+17+3*L)%95)}return g};
p.oF=function(m){var g="";if(!p.ug(28))m+="-1";for(var L=0;L<m.length;L++){var K=m.charCodeAt(L);K-=32;
K+=95e4;K-=17+3*L;K=K%95;g+=String.fromCharCode(32+K)}return g};p.CI=function(m,g){var L="";if(!p.ug(29))g+=3;
for(var K=0;K<m.length;K++)L+=String.fromCharCode((256<<16)+m.charCodeAt(K)+g*K&255);return L};p.nF=function(m){var g=Math.random();
p.Ied="uint"+(3+g);return new m};p.IeN=0;p.IvN=function(m,g){var L=0;if(Date.now()-p.IeN>1e3){L=g==0?100:g*10}else{if(m%10!=0)m*=10;
L=(m+g)%100}p.IeN=Date.now();return L};p.yG=function(m,g){if(window.PointerEvent){m.addEventListener("pointerdown",g,!1);
return}m.addEventListener("mousedown",g,!1);m.addEventListener("touchstart",g,!1)};p.Wj=function(m,g){if(window.PointerEvent){m.addEventListener("pointermove",g,!1);
return}m.addEventListener("mousemove",g,!1);m.addEventListener("touchmove",g,!1)};p.WT=function(m,g){if(window.PointerEvent){m.addEventListener("pointerup",g,!1);
return}m.addEventListener("mouseup",g,!1);m.addEventListener("touchend",g,!1)};p.I$l=function(m,g){if(window.PointerEvent){m.removeEventListener("pointerdown",g,!1);
return}m.removeEventListener("mousedown",g,!1);m.removeEventListener("touchstart",g,!1)};p.bC=function(m,g){if(window.PointerEvent){m.removeEventListener("pointermove",g,!1);
return}m.removeEventListener("mousemove",g,!1);m.removeEventListener("touchmove",g,!1)};p.yH=function(m,g){if(window.PointerEvent){m.removeEventListener("pointerup",g,!1);
return}m.removeEventListener("mouseup",g,!1);m.removeEventListener("touchend",g,!1)};p.jk=function(m){m.addEventListener("touchstart",p.jY,!1);
m.addEventListener("touchmove",p.jY,!1);m.addEventListener("touchend",p.jY,!1)};p.Tg=function(m,g,L,K){var r=p.M();
m.width=Math.floor(g*r);m.height=Math.floor(L*r);m.style.width=m.width/r+"px";m.style.height=m.height/r+"px";
if(K)K.setTransform(r,0,0,r,0,0)};p.Wr=function(m,g,L){m.setAttribute("style","width:"+g/p.M()+"px; height:"+L/p.M()+"px")};
p.c_=function(m,g){if(g==null)g=m.currentTarget;var L=g.getBoundingClientRect();if(m.touches)m=m.touches.item(0);
return{x:m.clientX-L.left,y:m.clientY-L.top}};p.M=function(m){return window.devicePixelRatio||1};p.jY=function(m){m.preventDefault()};
p.mF=function(m){m.stopPropagation();m.preventDefault()};p.cY=function(m,g,L){L=L?L:"";if(PIMG["__"+m]==null)L+=" gsicon";
return"<img src=\""+PIMG[m]+"\" alt=\""+(g?g:"")+"\" class=\""+L+"\" />"};p.IZq=function(m,g,L,K){var r=m.dataTransfer.getData("text/uri-list");
if(r!=null&&r.startsWith("http")){var R=new Y(p.E.V,!0);R.data={P:p.o.Yj,Su:{url:r,IK:!0,Fl:L,_r:K}};
g.g(R)}if(m.dataTransfer.files.length==0)return;var R=new Y(p.E.V,!0);R.data={P:p.o.ILK,data:m.dataTransfer.files,Fl:L,_r:K};
g.g(R)};var Y=function(m,g){if(!g)g=!1;this.type=m;this.target=null;this.currentTarget=null;this.bubbles=g;
this.K=null;this.Gd=!1};p.E={B:"0",V:"1",VG:"1.5",z:"2",aI:"3",IIz:"4",VB:"5"};p.o={LV:"10",xW:"11",LN:"12",CA:"13",cM:"14",Iam:"14.1",Yj:"15",jb:"16",Nq:"17",CH:"18",ap:"19",Ixh:"19.5",ILS:"20",vI:"21",aM:"22",Vh:"23",VV:"24",My:"25",Ly:"26",ES:"27",NR:"28",ILX:"29",ILK:"30",RI:"31",vw:"32",Nv:"33",dL:"34",VP:"35",VY:"37",IlI:"38",vl:"39",ve:"40",EB:"41",Ilk:"42",Jq:"43",vC:"44",IGi:"45",vX:"46",vF:"47",vY:"48",ZR:"49"};
var ph={};ph.IGA=function(m){var g=ph.ER[m],L=document.documentElement.style,r=20;L.setProperty("--bg-color","#"+I.IA(g["--bg-color"]));
L.setProperty("--bg-panel","#"+I.IA(g["--bg-panel"]));L.setProperty("--bg-canvas","#"+I.IA(g["--bg-canvas"]));
L.setProperty("--bg-input","#"+I.IA(g["--bg-input"]));L.setProperty("--bg-bbtn","#"+I.IA(g["--bg-bbtn"]));
L.setProperty("--bg-bbtnOver","#"+I.IA(g["--bg-bbtnOver"]));L.setProperty("--brdr","#"+I.IA(g["--brdr"]));
L.setProperty("--text-color","#"+I.IA(g["--text-color"]));L.setProperty("--brdrLgt","rgba(255,255,255,"+g["--brdrLgt"]+")");
L.setProperty("--brdrDrk","rgba(  0,  0,  0,"+g["--brdrDrk"]+")");L.setProperty("--alphaDark",""+g["--alphaDark"]);
L.setProperty("--gs-invert",""+g["--gs-invert"]);var K=g["--sh-clr"];L.setProperty("--sh-clr","rgba("+(K>>16)+","+(K>>8&255)+","+(K&255)+", 0.45)");
L.setProperty("--sh-dy",""+g["--sh-dy"]+"px");if(1<p.M()&&p.M()<1.5)r/=p.M();L.setProperty("--img20",r+"px");
var R="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var m=0;m<R.length;m++){var Q=R[m],F=Q.split("/").pop(),q=PIMG["__"+Q]==null?g["--gs-invert"]:"0";
L.setProperty("--icon_"+F,"url("+PIMG[Q]+")");L.setProperty("--icon_"+F+"_invrt",q)}};ph.ER=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function aO(){pc.call(this);this.parent=null;this.Q=null;this.uP=0;this.PC=0}aO.prototype=new pc;aO.prototype.ICo=function(m){var g=this;
while(g!=null){if(g==m)return!0;g=g.parent}return!1};aO.prototype.ZZ=function(){var m=this.Q;return m.offsetWidth+m.clientLeft};
aO.prototype.Iir=function(){var m=this.Q;return m.offsetHeight+m.clientTop};aO.prototype.update=function(m){};
aO.prototype.g=function(m){pc.prototype.g.call(this,m);if(m.bubbles&&this.parent!=null)this.parent.g(m)};
aO.prototype.I$k=function(m){m.stopPropagation();m.preventDefault()};aO.prototype.b=function(){};aO.prototype.eo=function(m){p.Av(this.Q,"disabled")};
aO.prototype.Mp=function(m){p.RM(this.Q,"disabled")};aO.prototype.EA=function(m){if(m)this.eo();else this.Mp()};
function mx(m,g){aO.call(this);this.IN=null;this.IUR=this.Cs.bind(this);this.IUD=this.Zr.bind(this);
this.IUL=this.ICi.bind(this);this.IUl=this.Ine.bind(this);this.YK=[];this.gr=[];this.YA=[];this.IEb=[];
this.Q=p.Y("div","contextpanel");this.Q.addEventListener("contextmenu",p.jY,!1);this.FQ=null;this.Yd=0;
this.IXG=m;this.IBc=g;this.pC=[];for(var L=0;L<m.length;L++){var K=p.Y("div","enab");this.gr.push(K);
this.Q.appendChild(K);if(m[L].QI){var r=p.Y("img","thumb");r.setAttribute("src",PIMG[m[L].QI]);K.appendChild(r)}else{var R=p.Y("span","check");
this.IEb.push(R);K.appendChild(R)}var Q=p.Y("span","label");Q.innerHTML=aT.get(m[L].name);K.appendChild(Q);
this.YA.push(Q);if(m[L].Oo)this.Q.appendChild(p.Y("hr"));if(m[L].cP||m[L].sub){var F=p.Y("span","right");
K.appendChild(F);if(m[L].cP)F.innerHTML=m[L].cP;if(m[L].sub)F.innerHTML="\u25B6"}K.addEventListener("click",this.IUR,!1);
K.addEventListener("mouseover",this.IUD,!0);K.addEventListener("mouseout",this.IUL,!0);if(m[L].sub){var q=new mx(m[L].sub,g?g[L].sub:null);
q.parent=this;this.pC.push(q);q.v("select",this.ICe,this)}else this.pC.push(null)}}mx.prototype=new aO;
mx.prototype.IeZ=function(m){p.Lj(this.Q);for(var g=0;g<m.length;g++)if(m[g]!=0&&m[g]!=null){this.Q.appendChild(this.gr[g]);
if(m[g]!=1&&this.pC[g])this.pC[g].IeZ(m[g])}};mx.prototype.b=function(){var m=this.IXG;for(var g=0;g<m.length;
g++){if(m[g].title)this.gr[g].title=aT.get(m[g].title);this.YA[g].textContent=aT.get(m[g].name)+(m[g].lh?"...":"")}for(var g=0;
g<this.pC.length;g++)if(this.pC[g])this.pC[g].b()};mx.prototype.update=function(m,g){var L=this.IXG;
for(var K=0;K<L.length;K++){if(L[K].$){var r=L[K].$(m,g,K);if(r.$!=null)this.gr[K].setAttribute("class",r.$?"enab":"disab");
if(r.Bt!=null)this.YA[K].textContent=r.Bt;if(r.Nf!=null)this.IEb[K].textContent=r.Nf?"\u2713":""}}for(var K=0;
K<this.pC.length;K++)if(this.pC[K])this.pC[K].update(m,g)};mx.prototype.EH=function(){return this.YK};
mx.prototype.Cs=function(m){if(m.button!=0)return;var g=this.gr.indexOf(m.currentTarget);if(this.pC[g]){this.Yd=g;
this.Ine()}else{if(this.IBc){var L=this.IBc[g],K=new Y(L.C,!0);K.K=L.K;K.data=L.n;this.g(K)}this.IN=null;
this.YK=[g];this.g(new Y("select",!1));var K=new Y(p.E.V,!0);K.data={P:p.o.CA};this.g(K)}};mx.prototype.Zr=function(m){var g=this.gr.indexOf(m.currentTarget);
if(this.FQ){clearTimeout(this.FQ);this.FQ=null}if(this.pC[g]==null)return;this.Yd=g;this.FQ=setTimeout(this.IUl,300)};
mx.prototype.ICi=function(m){var g=this.gr.indexOf(m.currentTarget);if(this.FQ){clearTimeout(this.FQ);
this.FQ=null}};mx.prototype.Ine=function(){if(this.FQ){clearTimeout(this.FQ);this.FQ=null}var m=this.Yd;
if(this.IN)this.IN.Ing();this.IN=this.pC[m];var g=this.gr[m].getBoundingClientRect(),L=new Y(p.E.V,!0);
L.data={P:p.o.xW,Mt:this.pC[m],x:g.left+g.width+2,y:g.top};this.g(L)};mx.prototype.Ing=function(){for(var m=0;
m<this.pC.length;m++)if(this.pC[m])this.pC[m].Ing();var g=new Y(p.E.V,!0);g.data={P:p.o.LN,Mt:this};
this.g(g)};mx.prototype.ICe=function(m){var g=this.pC.indexOf(m.target);this.YK=[g].concat(m.target.EH());
this.g(new Y("select",!1))};function Rs(m,g,L,K,r,R,Q,F){aO.call(this);this.Q=p.Y("span","fitem");var q=p.Lh();
this.rf=m;this.Iz=F;this.Sd=g;this.ev=L;this.Yc=null;if(K instanceof Array){this.Yc=K;K=K[0]}this.qU=K;
this._g=r;this.IU_=R;this.qq=Q;this.WE=0;this.Oq=p.Y("label","flabel");this.Oq.innerHTML=m;this.Oq.setAttribute("style","cursor:col-resize;");
this.ed=p.Y("input","");this.ed.setAttribute("type","range");if(Q){this.ed.min=0;this.ed.max=400}else{this.ed.min=g;
this.ed.max=L;if(r!=0)this.ed.step=(L-g)/200}this.Ym=p.Y("input","");this.Ym.setAttribute("type","text");
this.Ym.setAttribute("id",q);this.$M=p.Y("span","");this.$M.innerHTML=K;this.Ym.addEventListener("change",this.jj.bind(this),!1);
this.Ym.addEventListener("keydown",this.Zd.bind(this),!1);this.Ym.addEventListener("wheel",this.Jp.bind(this),!1);
this.ed.addEventListener("input",this.jj.bind(this),!1);this.ed.addEventListener("click",this.ICv.bind(this),!1);
this.IUZ=this.ICB.bind(this);this.IBN=this.ICu.bind(this);this.IVj=this.ICc.bind(this);this.qj=0;this.qa=0;
this.YY=!1;p.yG(this.Oq,this.IUZ)}Rs.prototype=new aO;Rs.prototype.IIB=function(m){this._g=m};Rs.prototype.dv=function(m){this.Oq.textContent=m};
Rs.prototype.b=function(){var m=this.rf,g=this.Iz;if(m){if(typeof m=="string"&&m.startsWith("<"))this.Oq.innerHTML=m;
else this.Oq.textContent=aT.get(m)+":"}if(g){g=aT.get(g);if(m)this.Oq.setAttribute("title",g);this.Ym.setAttribute("title",g)}};
Rs.prototype.p=function(m){var g=this.Sd==this.ev;if(!g&&this.Sd>=0)m=Math.max(this.Sd,m);if(this._g==0)m=Math.round(m);
var L=this.qU;this.Ym.value=(this._g!=0?m.toFixed(this._g):m)+(this.IU_&&L?(L.toLowerCase()==L.toUpperCase()?"":" ")+L:"");
var K=400*Math.pow((m-this.Sd)/(this.ev-this.Sd),1/2.7);this.ed.value=this.qq?K:m};Rs.prototype.w=function(){return parseFloat(this.Ym.value)};
Rs.prototype.$U=function(){return this.qU};Rs.prototype.jj=function(m){var g=0;if(m.currentTarget==this.Ym){var L=m.target.value,K=0;
while(K<L.length&&(L.charAt(K)=="."||48<=L.charCodeAt(K)&&L.charCodeAt(K)<=57))K++;g=L==""?0:parseFloat(L);
var r=L.slice(K).trim();if(this.Yc&&this.Yc.indexOf(r)!=-1)this.qU=r}else{if(Date.now()-this.WE<10)return;
g=parseFloat(m.target.value);if(this.qq){g=this.Sd+Math.pow(g/400,2.7)*(this.ev-this.Sd);g=this.IQB(g)}}this.p(g);
this.cO()};Rs.prototype.cO=function(){this.g(new Y(p.E.z))};Rs.prototype.IQB=function(m){if(this.ev-this.Sd>50&&m>10)m=Math.round(m);
return m};Rs.prototype.Zd=function(m){var g=0;if(C.Bf(m.code,C.pA))g=1;if(C.Bf(m.code,C.py))g=-1;if(g!=0)this.Ipu(g,m.shiftKey)};
Rs.prototype.Jp=function(m){this.Ipu(m.deltaY>0?-1:1,m.shiftKey)};Rs.prototype.Ipu=function(m,g){var L=this.w(),K=this._g,r=m*(K==null||K==0||L>5?1:.1);
if(g)r*=10;var R=L+r;if(!this.qq&&this.ev!=this.Sd)R=Math.min(this.ev,R);this.p(R);this.cO()};Rs.prototype.ICv=function(m){var g=Date.now()-this.WE;
this.WE=Date.now();if(g>300)return;var L=(this.ev+this.Sd)/2;if(this.Sd<0&&this.ev>0)L=0;else if(this.Sd<1&&this.ev>1&&this.ev<10)L=1;
this.p(L);this.cO()};Rs.prototype.ICB=function(m){p.Wj(document,this.IBN);p.WT(document,this.IVj);this.qj=p.c_(m,document.body).x;
this.qa=this.w()};Rs.prototype.ICu=function(m){p.mF(m);var g=this.Sd==this.ev,L=p.c_(m,document.body).x,K=(L-this.qj)*(g?1:1/120*(this.ev-this.Sd)),r=this.qa+K;
if(g)r=Math.round(r);if(!g){if(!0){r=Math.max(this.Sd,r);if(r==this.Sd){this.qj=L;this.qa=this.Sd}}if(!this.qq){r=Math.min(this.ev,r);
if(r==this.ev){this.qj=L;this.qa=this.ev}}r=this.IQB(r)}this.YY=!0;this.p(r);this.cO()};Rs.prototype.ICc=function(m){if(!this.YY)this.Ym.focus();
this.YY=!1;p.bC(document,this.IBN);p.yH(document,this.IVj)};function It(m,g){aO.call(this);this.Qx=[];
this.GO=-1;this.IUn=m;this._K=g;this.Yz=0;this.nu=null;if(g!=null){this.$w=new mx([{name:[6,37]},{name:[5,4]}]);
this.$w.parent=this;this.$w.v("select",this.WZ,this)}this.Q=p.Y("div","imageset scrollable");this.Q.addEventListener("contextmenu",p.jY,!1)}It.prototype=new aO;
It.prototype.b=function(){if(this.$w)this.$w.b()};It.prototype.WZ=function(m){var g=this.$w.EH()[0],L=new Y(p.E.V,!0),K={P:p.o.VP,Su:this._K,lf:[this.GO]};
if(g==0){var r=this.nu[1][this.GO];K.VK="rnm";L.data={P:p.o.My,OT:"namewindow",rW:r,I$E:{C:p.E.V,n:K}}}else{L.data=K;
K.VK="del"}this.g(L)};It.prototype.ICN=function(){return this.Yz};It.prototype.$R=function(m){this.Yz=m;
if(this.nu)this.fo()};It.prototype.dY=function(m,g,L,K){this.nu=[m,g,L,K];this.fo()};It.prototype.fo=function(){var m=this.nu,g=m[0],L=m[1],K=m[2],r=m[3];
this.Qx=[];this.Q.innerHTML="";var R=this.$D.bind(this),Q=this.Yz;if(Q==0)p.RM(this.Q,"imageset");else p.Av(this.Q,"imageset");
for(var F=0;F<g.length;F++){var q=g[F];if(q==null){this.Qx.push(null);continue}var n=p.Y("img","image");
if(K)p.Wr(n,K,r);if(this.IUn)p.RM(n,"gsicon");n.setAttribute("src",q);if(Q==0){}else{var W=p.Y("div","listitem");
W.appendChild(n);var z=p.Y("span");z.textContent=L?L[F]:"Item "+(F+1);z.setAttribute("style","margin-left:4px;");
W.appendChild(z);n=W}if(L)n.setAttribute("title",L[F]);n.addEventListener("mousedown",R,!1);this.Qx.push(n);
this.Q.appendChild(n)}};It.prototype.$D=function(m){this.GO=this.Qx.indexOf(m.currentTarget);if(m.button==0)this.g(new Y(p.E.z));
if(m.button==2&&this.$w){var g=this.$w;g.update(null);var L=p.c_(m,document.body),K=new Y(p.E.V,!0);
K.data={P:p.o.xW,Mt:g,x:L.x,y:L.y+2};this.g(K)}};It.prototype.w=function(){return this.GO};It.prototype.p=function(m){this.GO=m};
It.prototype.a_=function(m){for(var g=0;g<this.Qx.length;g++){var L=this.Qx[g];if(L==null)continue;if(g==m)p.RM(L,"active");
else p.Av(L,"active")}};function Rk(m,g,L,K,r,R,Q){aO.call(this);this.Q=p.Y("span","fitem "+L);this.Vy=new aO;
this.Vy.Q=p.Y("div","floatcont");this.Vy.Q.setAttribute("style","width: "+(K+1.5)+"em;");this.Vy.parent=this;
this.Yf=p.Y("div");this.Vy.Q.appendChild(this.Yf);this.WK=p.Y("div");this.Vy.Q.appendChild(this.WK);
if(m){this.rf=m;this.Oq=p.Y("label","flabel");this.Q.appendChild(this.Oq)}this.P=p.Y("button",Q?"nopadding":"");
this.P.setAttribute("style","position:relative;");this.P.addEventListener("click",(g?this.nU:this.aa).bind(this),!1);
this.Q.appendChild(this.P);this.BI=p.Y("img",Q?"gsicon":"");this.P.appendChild(this.BI);if(g){var F=p.Y("button");
F.textContent="\u25BC";F.addEventListener("click",this.aa.bind(this),!1);this.Q.appendChild(F)}else{var q=p.Y("span");
q.textContent="\u25BC";q.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.P.appendChild(q)}var n=p.Y("span");
this.WK.appendChild(n);n.setAttribute("style","display:inline-block;  vertical-align:top; width:"+K+"em;");
this.Vo=new It(Q,R);n.appendChild(this.Vo.Q);this.Vo.parent=this.Vy;this.Vo.v(p.E.z,this.ICy,this);this.Vo.Q.style.height=r+"em";
this.qm=p.Y("button");this.qm.textContent="\u25BC";this.qm.setAttribute("style","padding:3px");this.qm.addEventListener("click",this.ICz.bind(this),!1);
this.WK.appendChild(this.qm);var W=this.Zz(),z=R!=am.eg&&R!=am.Ip?R:null,u=R==null?"":am.KU[R][0].toUpperCase(),N=z?[{name:[12,87]}]:[];
N=N.concat([{name:"",$:function(B){return{Bt:aT.get([25,3,0])+" / "+aT.get([25,3,1])}}},{name:[23,6,"."+(u=="ICC"?"icc .cube .look .3dl":u)]},{name:"",$:function(B){return{Bt:aT.get([1,8])+" ."+u}},Oo:W.length!=0}]);
for(var b=0;b<W.length;b++)N.push({name:W[b].split("/").pop()});this.$w=new mx(N);this.$w.parent=this.Vy;
this.$w.v("select",this.WZ,this);this._K=R;this.IQl=z;this.TJ=null;this.fK=!0;this.ew=null}Rk.prototype=new aO;
Rk.prototype.Zz=function(){return[]};Rk.prototype.ICy=function(m){this.ai(m);this.Vo.a_(this.Vo.w())};
Rk.prototype.nU=function(){};Rk.prototype.b=function(){this.$w.b();this.Vo.b();var m=this.rf;if(m)this.Oq.textContent=aT.get(m)+":"};
Rk.prototype.dv=function(m){this.Oq.textContent=m};Rk.prototype.eI=function(m){var g=this._K,L=0;if(g==am.Ix){L=this.TJ?this.TJ.length:0;
m=m.slice(0)}this.TJ=m;this.fK=!0;if(p.Ya(this.Vo.Q)||g==am.nA)this.df();if(g==am.Ix&&m.length-L==1&&p.Ya(this.Q)){this.p(m[L]);
this.fK=!0;this.df();this.Vo.a_(L);this.g(new Y(p.E.z))}};Rk.prototype.WZ=function(m){var g=m.target.EH()[0];
if(this.IQl==null)g++;var L=new Y(p.E.V,!0);if(g==0){var K=this.Np();if(this._K==am.Ix&&K[0].profile==null)return;
L.data={P:p.o.VP,VK:"add",Su:this.IQl,_y:K}}else if(g==1)this.Vo.$R(1-this.Vo.ICN());else if(g==2)L.data={P:p.o.jb};
else if(g==3)L.data={P:p.o.vX,IQy:this._K};else{var r=this.Zz();L.data={P:p.o.Yj,Su:{url:"rsrc/"+r[g-4]}}}if(L.data)this.g(L)};
Rk.prototype.Np=function(){return[this.w()]};Rk.prototype.ICz=function(m){var g=this.$w;g.b();g.update(null);
var L=m.currentTarget.getBoundingClientRect(),K=new Y(p.E.V,!0);K.data={P:p.o.xW,Mt:g,x:L.left,y:L.top+L.height};
this.g(K)};Rk.prototype.aa=function(m){this.df();var g=this.P.getBoundingClientRect(),L=new Y(p.E.V,!0);
L.data={P:p.o.xW,Mt:this.Vy,x:g.left,y:g.top+g.height,Ijq:!0};this.g(L)};function Dw(){aO.call(this);
this.Q=p.Y("div");this.dm=!1;this.eY=[new aW([12,19,1],[[13,1,7]].concat(qE.uZ)),new QV([17,1]),new QV([12,46])];
for(var m=0;m<3;m++){var g=this.eY[m];this.Q.appendChild(g.Q);g.v(p.E.z,this.Qy,this)}this.b()}Dw.prototype=new aO;
Dw.prototype.b=function(){for(var m=0;m<3;m++)this.eY[m].b()};Dw.prototype.w=function(){return this.dm.slice(0)};
Dw.prototype.p=function(m){this.dm=m.slice(0);var g=this.eY,L=g[0].w();g[1].p(m.slice(L*8,L*8+4),L);
g[2].p(m.slice(L*8+4,L*8+8),L)};Dw.prototype.Qy=function(m){var g=this.eY,L=g.indexOf(m.currentTarget);
if(L==0)this.p(this.dm);else{var K=g[0].w()*8+(L==1?0:4),r=g[L].w();for(var R=0;R<4;R++)this.dm[K+R]=r[R];
this.g(new Y(p.E.z,!1))}};function QV(m){aO.call(this);this.Q=p.Y("div");this.Dt=p.Y("canvas");this.IUE=m;
this.dm=[0,20,200,255];this.Mo=0;this.IjQ=-1;this.IkV=!1;this.IaL=[];for(var g=0;g<5;g++){var L=p.Y("span");
L.setAttribute("style","display:inline-block;width:"+(g==0?8:g==2?7:2)+"em");this.IaL.push(L);this.Q.appendChild(L)}this.lK=this.cX.bind(this);
this.RG=this.Fg.bind(this);this.Rc=this.Cs.bind(this);p.yG(this.Dt,this.lK);this.Q.appendChild(this.Dt);
this.fo()}QV.prototype=new aO;QV.prototype.b=function(){this.fo()};QV.prototype.p=function(m,g){this.dm=m;
this.Mo=g;this.fo()};QV.prototype.w=function(){return this.dm.slice(0)};QV.prototype.cX=function(m){var g=this.dm,L=p.c_(m,this.Dt),K=L.x-8,r=-1,R=1e9;
for(var Q=0;Q<4;Q++){var F=K-g[Q],q=Math.abs(F);if(q<8&&q<R&&((Q&1)==0&&F<0||(Q&1)==1&&F>0)){R=F;r=Q}}if(r==-1)return;
this.IjQ=r;this.NU=m.altKey||g[(r>>>1)*2]!=g[(r>>>1)*2+1];p.Wj(window,this.RG);p.WT(window,this.Rc)};
QV.prototype.Fg=function(m){var g=this.dm,L=this.IjQ,K=(L>>>1)*2,r=K+1,R=p.c_(m,this.Dt),Q=Math.round(Math.max(0,Math.min(255,R.x-8)));
g[L]=Q;if(this.NU&&g[K]>=g[r])this.NU=!1;if(!this.NU)g[K]=g[r]=Q;this.fo();this.g(new Y(p.E.z,!1))};
QV.prototype.Cs=function(m){p.bC(window,this.RG);p.yH(window,this.Rc)};QV.prototype.fo=function(){var m=this.Dt;
p.Tg(m,255+16,16);var g=m.getContext("2d"),L=m.width,K=m.height,r=Math.round(255*p.M()),R=Math.round(8*p.M());
g.translate(R,0);var Q=g.createLinearGradient(0,0,r,0);Q.addColorStop(0,"black");Q.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Mo]);
g.fillStyle=Q;g.fillRect(0,0,r,R);var F=this.IaL,q=aT.get(this.IUE)+":";F[0].textContent=q;for(var n=0;
n<4;n++){var W=this.dm[n];F[1+n].textContent=W;var z=Math.round(W*p.M());g.beginPath();g.moveTo(z,R);
g.lineTo(z,R+R);g.lineTo(z+((n&1)==0?-1:1)*R,R+R);g.closePath();g.fillStyle="#cccccc";g.fill();g.strokeStyle="black";
g.stroke()}};function mv(m){aO.call(this);this.Fj=0;this.alt=0;var g="ai"+p.Lh();this.Q=p.Y("span","fitem angleinput");
if(m){this.Oq=p.Y("label","flabel");this.rf=m;this.Q.appendChild(this.Oq);this.Oq.setAttribute("for",g)}this.FL=20;
this.M$=p.Y("canvas","gsicon");this.Ju=this.M$.getContext("2d");p.Tg(this.M$,this.FL*2+1,this.FL*2+1,this.Ju);
this.Q.appendChild(this.M$);p.yG(this.M$,this.aR.bind(this));this.$E=this.TK.bind(this);this.rG=this.aD.bind(this);
this.Ym=p.Y("input","");this.Ym.setAttribute("type","text");this.Q.appendChild(this.Ym);this.Ym.setAttribute("id",g);
this.Ym.addEventListener("change",this.jj.bind(this),!1);this.$M=p.Y("span","");this.$M.innerHTML="\xB0";
this.Q.appendChild(this.$M);this.p(this.Fj,this.alt)}mv.prototype=new aO;mv.prototype.b=function(){this.Oq.textContent=aT.get(this.rf)+":"};
mv.prototype.dv=function(m){this.Oq.textContent=m};mv.prototype.w=function(){return{Fj:this.Fj,alt:this.alt}};
mv.prototype.p=function(m,g){if(m!=null)this.Fj=m;if(g!=null)this.alt=g;this.Ym.value=this.Fj;m=Math.PI*this.Fj/180;
g=.9*this.FL*(90-this.alt)/90;var L=this.FL+.5,K=this.Ju;K.clearRect(0,0,100,100);K.strokeStyle="#000000";
K.beginPath();K.arc(L,L,.9*this.FL,0,2*Math.PI);K.moveTo(L,L);K.lineTo(L+Math.cos(m)*this.FL*.9,L-Math.sin(m)*this.FL*.9);
K.stroke();K.strokeStyle="#ff0000";K.beginPath();K.moveTo(L+Math.cos(m)*g-3,L-Math.sin(m)*g);K.lineTo(L+Math.cos(m)*g+3,L-Math.sin(m)*g);
K.moveTo(L+Math.cos(m)*g,L-Math.sin(m)*g-3);K.lineTo(L+Math.cos(m)*g,L-Math.sin(m)*g+3);K.stroke()};
mv.prototype.jj=function(m){var g=parseInt(this.Ym.value);g=g%360;this.p(g);this.g(new Y(p.E.z,!1))};
mv.prototype.aR=function(m){p.Wj(window,this.$E);p.WT(window,this.rG);this.TK(m)};mv.prototype.TK=function(m){var g=p.c_(m,this.M$),L=g.x-this.FL,K=g.y-this.FL,r=180*Math.atan2(-K,L)/Math.PI,R=90-90*Math.min(1,Math.sqrt(L*L+K*K)/(.9*this.FL));
this.p(Math.round(r),Math.round(R));this.g(new Y(p.E.z,!1))};mv.prototype.aD=function(m){this.g(new Y(p.E.z,!1));
p.bC(window,this.$E);p.yH(window,this.rG)};function jz(m,g){aO.call(this);this.dm=0;this.el=g;this.Q=p.Y("span","fitem angleinput");
if(m){this.Oq=p.Y("label","flabel");this.rf=m;this.Q.appendChild(this.Oq)}this.M$=p.Y("canvas","gsicon");
this.Ju=this.M$.getContext("2d");p.Tg(this.M$,g,g);this.Q.appendChild(this.M$);p.yG(this.M$,this.aR.bind(this));
this.$E=this.TK.bind(this);this.rG=this.aD.bind(this);this.p(0)}jz.prototype=new aO;jz.prototype.b=function(){if(this.rf)this.Oq.textContent=aT.get(this.rf)+":"};
jz.prototype.dv=function(m){this.Oq.textContent=m};jz.prototype.w=function(){return this.dm};jz.prototype.p=function(m){this.dm=m;
var g=this.M$.width,L=Math.floor(m/3),K=m-3*L,r=(K+.5)*g/3,R=(L+.5)*g/3,Q=this.Ju,F=[.5,Math.round(g/3)+.5,Math.round(2*g/3)+.5,g-.5];
Q.clearRect(0,0,g,g);var q=this.el<30;Q.setLineDash([]);Q.strokeStyle=q?"rgba(0,0,0,0.5)":"#000000";
Q.beginPath();for(var n=0;n<4;n++){var W=F[n];Q.moveTo(W,0);Q.lineTo(W,g);Q.moveTo(0,W);Q.lineTo(g,W)}Q.stroke();
if(m==9)return;if(!q){Q.setLineDash([1,2]);var z=g*.53,u=Math.max(0,Math.min(g-z,r-z/2)),N=Math.max(0,Math.min(g-z,R-z/2));
Q.strokeRect(Math.round(u)+.5,Math.round(N)+.5,Math.round(z),Math.round(z))}Q.fillStyle="#000000";Q.beginPath();
Q.arc(r,R,g/8,0,Math.PI*2);Q.fill()};jz.prototype.aR=function(m){p.Wj(window,this.$E);p.WT(window,this.rG);
this.TK(m)};jz.prototype.TK=function(m){var g=p.c_(m,this.M$),L=Math.max(0,Math.min(2,Math.floor(g.x/(this.el/3)))),K=Math.max(0,Math.min(2,Math.floor(g.y/(this.el/3))));
this.p(K*3+L)};jz.prototype.aD=function(m){this.g(new Y(p.E.z,!1));p.bC(window,this.$E);p.yH(window,this.rG)};
function aX(m,g,L,K){aO.call(this);this.Q=p.Y("button","fitem"+(g?" spread":"")+(K?" bbtn":""));this.rf=m;
this.Iz=L;this.b();this.Q.addEventListener("click",this.$D.bind(this),!1)}aX.prototype=new aO;aX.prototype.b=function(){var m=this.Q,g=this.rf,L=this.Iz,K=aT.get(g);
m.innerHTML=K;if(K.startsWith("<img"))m.setAttribute("style","padding:2px");if(L){m.setAttribute("title",aT.get(L))}};
aX.prototype.I$Z=function(m){this.Q.setAttribute("title",m)};aX.prototype.$D=function(m){this.g(new Y("click",!1))};
aX.prototype.ef=function(){p.RM(this.Q,"bactive")};aX.prototype.Ec=function(){p.Av(this.Q,"bactive")};
aX.prototype.dv=function(m,g){if(m)this.rf=m;if(g)this.Iz=g;this.b()};aX.prototype.p=function(m){if(m)this.ef();
else this.Ec()};aX.prototype.gF=function(){return this.Q.getAttribute("class").indexOf("bactive")!=-1};
aX.prototype.w=function(){return this.gF()};function pA(m){aO.call(this);this.Q=p.Y("span","fitem cswatch");
this.IRU=0;this.Wz=[];this.Sc=[];var g=this.ICt.bind(this);for(var L=0;L<m;L++){this.Wz.push(0);var K=p.Y("span","colorsample");
K.addEventListener("click",g,!1);this.Sc.push(K);this.Q.appendChild(K)}var r=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],R=Math.min(m,r.length);
for(var L=0;L<R;L++)this.Wz[L]=r[L];this.GF()}pA.prototype=new aO;pA.prototype.ICt=function(m){this.IRU=this.Sc.indexOf(m.currentTarget);
this.g(new Y(p.E.z))};pA.prototype.w=function(){return this.Wz[this.IRU]};pA.prototype.p=function(m){var g=this.Wz,L=g.indexOf(m);
if(L!=-1)g.splice(L,1);else g.pop();g.unshift(m);this.GF()};pA.prototype.GF=function(){for(var m=0;m<this.Wz.length;
m++){this.Sc[m].setAttribute("style","background-color:#"+I.IA(this.Wz[m]))}};function II(m){aO.call(this);
this.Nj=!1;this.ni={u:0,S:0,R:0};this.mn=m;this.Q=p.Y("span","fitem colorsample");this.Q.addEventListener("click",this.$D.bind(this),!1)}II.prototype=new aO;
II.prototype.b=function(){};II.prototype.IDK=function(m){if(this.Nj==m)return;this.Nj=m;this.nv()};II.prototype.$D=function(m){var g=this.ni;
this.g(new Y("click"));var L=new Y(p.E.V,!0);L.data={P:p.o.My,OT:"colorpicker",yK:g.u<<16|g.S<<8|g.R,tG:this.Nw.bind(this),Nm:this.mn};
this.g(L)};II.prototype.Nw=function(m){this.dy(m);this.g(new Y(p.E.z))};II.prototype.IvR=function(){this.$D(null)};
II.prototype.nI=function(){var m=this.ni;return m.u<<16|m.S<<8|m.R};II.prototype.w=function(){return I.G.h$(this.ni)};
II.prototype.dy=function(m){this.ni={u:m>>16&255,S:m>>8&255,R:m&255};this.nv()};II.prototype.p=function(m){this.ni=I.G.EX(m);
this.nv()};II.prototype.nv=function(){var m=this.ni,g=m.u,L=m.S,K=m.R;if(this.Nj)g=L=K=Math.round(I.Mi(g,L,K));
var r=g<<16|L<<8|K;this.Q.setAttribute("style","background-color:#"+I.IA(r))};function pg(m){Rk.call(this,m,!1,"brushbutton nopadding",16.6,10,am.FE,!0);
this._s=new a$([12,14,0],1,1e3," px",0,!0);this._s.v(p.E.z,this.ILH,this);this.Yf.appendChild(this._s.Q);
this.xy=new a$([12,17],0,100,"%");this.xy.v(p.E.z,this.ILH,this);this.Yf.appendChild(this.xy.Q)}pg.prototype=new Rk;
pg.prototype.aa=function(m){var g=this.Q.getBoundingClientRect();this.IDf(g.left,g.top+g.height)};pg.prototype.IDf=function(m,g){this.df();
var L=new Y(p.E.V,!0);L.data={P:p.o.xW,Mt:this.Vy,x:m,y:g};this.g(L)};pg.prototype.p=function(m,g,L){this.ew=JSON.parse(JSON.stringify(m));
var K=Math.floor(20*p.M()),r=Math.floor(36*p.M()),R=Math.floor(24*p.M()),Q=IT.yP(m,g,L,K,R,r);this.BI.setAttribute("src",Q);
p.Wr(this.BI,r,R);var F=m.Brsh.v;this._s.p(F.Dmtr.v.val);if(F.Hrdn!=null){this.xy.eo();this.xy.p(F.Hrdn.v.val)}else this.xy.Mp();
this.Vo.a_(-1)};pg.prototype.Np=function(){return{list:[{t:"Objc",v:this.w()}],Rd:[],jg:[]}};pg.prototype.w=function(){return this.ew};
pg.prototype.df=function(){if(!this.fK)return;var m=[],g=[],L=this.TJ,K=Math.floor(33*p.M()),r=Math.floor(40*p.M());
for(var R=0;R<L.list.length;R++){var Q=L.list[R].v,F=IT.yP(Q,L.Rd,L.jg,K,r);m.push(F);g.push(Q.Nm.v.split("=").pop())}this.Vo.dY(m,g,K,r);
this.fK=!1};pg.prototype.ai=function(m){var g=this.TJ;this.p(g.list[this.Vo.w()].v,g.Rd,g.jg);this.g(new Y(p.E.z))};
pg.prototype.b=function(){Rk.prototype.b.call(this);this._s.b();this.xy.b()};pg.prototype.ILH=function(m){var g=this.TJ,L=this.ew;
L.Brsh.v.Dmtr.v.val=this._s.w();if(L.Brsh.v.Hrdn!=null)L.Brsh.v.Hrdn.v.val=this.xy.w();this.p(L,g.Rd,g.jg);
this.g(new Y(p.E.z))};function pp(m){Rk.call(this,m,!0,"contourbutton",17,10.5,am.mW)}pp.prototype=new Rk;
pp.prototype.ai=function(m){this.p(this.TJ[m.target.w()]);this.g(new Y(p.E.z))};pp.prototype.nU=function(m){var g=new Y(p.E.V,!0);
g.data={P:p.o.My,OT:"contoureditor",r:this.ew,response:this.Ivp.bind(this)};this.g(g)};pp.prototype.Ivp=function(m){this.p(m);
this.g(new Y(p.E.z))};pp.prototype.df=function(){if(!this.fK)return;var m=Math.floor(38*p.M()),g=Math.floor(38*p.M()),L=[],K=[],r=this.TJ;
for(var R=0;R<r.length;R++){K.push(r[R].Nm?r[R].Nm.v:"");L.push(I.Kz.yP(r[R].Crv.v,m,g))}this.Vo.dY(L,K,m,g);
this.fK=!1};pp.prototype.p=function(m){this.ew=JSON.parse(JSON.stringify(m));var g=this.ew.Crv.v;for(var L=0;
L<g.length;L++)if(g[L].v.Cnty==null)g[L].v.Cnty={t:"bool",v:!0};this.sL()};pp.prototype.sL=function(){var m=Math.floor(30*p.M()),g=Math.floor(30*p.M()),L=I.Kz.yP(this.ew.Crv.v,m,g);
this.BI.setAttribute("src",L);p.Wr(this.BI,m,g)};pp.prototype.w=function(){return JSON.parse(JSON.stringify(this.ew))};
function I$(m){aO.call(this);this.cD=null;this.Tf=null;this.dc=null;this.qp=null;this.IRI=[];this.ImD=[];
this.Q=p.Y("span","fitem fillbutton");this.Vy=new aO;this.Vy.Q=p.Y("div","floatcont form");this.Vy.Q.setAttribute("style","width: 21em;");
this.Vy.parent=this;this.mA=m;this.Oq=this.Oq=p.Y("label","flabel");this.Q.appendChild(this.Oq);this.M$=p.Y("canvas");
this.Ju=this.M$.getContext("2d");this.ImZ=null;this.Q.appendChild(this.M$);this.M$.addEventListener("click",this.aa.bind(this),!1);
this.ZT=new IC([12,66],["","Color","Grad","Patt"]);this.Vy.Q.appendChild(this.ZT.Q);this.ZT.v(p.E.z,this.Qy,this);
this.Vy.Q.appendChild(p.Y("hr"));this.IUg=p.Y("span");this.nQ=new II(!0);this.nQ.parent=this.Vy;this.nQ.v(p.E.z,this.Qy,this);
this.qD=new pA(10);this.qD.v(p.E.z,this.Qy,this);this.wR=p.Y("div","marged hiline");this.wR.appendChild(this.nQ.Q);
p.da(this.wR);this.wR.appendChild(this.qD.Q);this.FP=new RH("GrFl",!0);this.FP.parent=this.Vy;this.FP.v(p.E.z,this.Qy,this);
this._z=p.Y("div","marged hiline");var g="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var L=0;
L<g.length;L++){var K=this.FP.eu[g[L]].Q;this._z.appendChild(K)}this.gp=new RH("patternFill",!0);this.gp.parent=this.Vy;
this.gp.v(p.E.z,this.Qy,this);this._t=p.Y("div","marged hiline");var g=["Ptrn","Scl","Algn","phase"];
for(var L=0;L<g.length;L++){var K=this.gp.eu[g[L]].Q;this._t.appendChild(K)}}I$.prototype=new aO;I$.prototype.SI=function(m,g){if(g==am.fT){this.IRI=[];
this.ImD=[];if(this.cD)this.p(this.dc,this.w(),this.cD)}this.Tf=m;this.FP.SI(m,g);this.gp.SI(m,g)};I$.prototype.b=function(){this.Oq.textContent=aT.get(this.mA)+": ";
this.ZT.b();this.nQ.b();this.FP.b();this.gp.b()};I$.prototype.Qy=function(m){var g=m.currentTarget;if(g==this.ZT){var L=this.ZT.w(),K={co:L,jl:this.cD[L]};
if(L>0&&K.jl==null)K.jl=JSON.parse(JSON.stringify(aU.Qs[L-1]));if(this.cD)this.p(this.dc,K,this.cD)}if(g==this.qD)this.nQ.dy(g.w());
this.g(new Y(p.E.z,!1))};I$.prototype.aa=function(m){var g=this.M$.getBoundingClientRect(),L=new Y(p.E.V,!0);
L.data={P:p.o.xW,Mt:this.Vy,x:g.left,y:g.top+g.height+4};this.g(L);this.qD.p(this.nQ.nI())};I$.prototype.p=function(m,g,L){this.cD=L;
this.dc=m;var K=[[13,1,0],[13,0],[12,37],[12,62]],r=this.IRI,R=this.ImD,Q=!1,z;for(var F=0;F<4;F++){var q={co:F,jl:L[F]},n=I$.Iiv(q);
if(R[F]==n)continue;Q=!0;var W=I$.IOm(null,q,this.Tf,this.dc,22,22,!1);r[F]="<img width=\"22\" height=\"22\" src=\""+W+"\" />";
R[F]=n}if(Q)this.ZT.EJ(r,K);this.ZT.p(g.co);var n=I$.Iiv(g);if(n!=this.ImZ)I$.IOm(this.Ju,g,this.Tf,this.dc,30,23,!0);
this.ImZ=n;var u=g.co;if(u==0){z=this.IUg}if(u==1){this.nQ.p(g.jl.Clr.v);z=this.wR}if(u==2){this.FP.update(m,g.jl);
z=this._z}if(u==3){this.gp.update(m,g.jl);z=this._t}if(z!=this.qp){if(this.qp!=null){this.Vy.Q.removeChild(this.qp)}this.Vy.Q.appendChild(z);
this.qp=z}};I$.prototype.w=function(){var m={co:this.ZT.w()};if(m.co==1){m.jl=JSON.parse(JSON.stringify(aU.Qs[0]));
m.jl.Clr.v=this.nQ.w()}if(m.co==2){m.jl=this.FP.w()}if(m.co==3){m.jl=this.gp.w()}return m};I$.Iiv=function(m){var g=m.co,L=m.jl,K="empty";
if(g==1){K=I.G.EX(L.Clr.v);K=K.u+","+K.S+","+K.R}if(g==2)K=JSON.stringify(L.Grad.v);if(g==3)K=L.Ptrn.v.Idnt.v;
return K};I$.IOm=function(m,g,L,K,r,R,Q){if(m==null)m=I$.Ju;var F=Math.floor(r*p.M()),q=Math.floor(R*p.M()),n=m.canvas,W;
n.width=F;n.height=q;p.Wr(n,F,q);var z=g.co;if(z==0){m.fillStyle="#ffffff";m.fillRect(0,0,F,q);m.strokeStyle="#ff0000";
m.lineWidth=2;m.moveTo(0,0);m.lineTo(F,q);m.moveTo(0,q);m.lineTo(F,0);m.stroke()}if(z==1){var u=g.jl.Clr.v;
u=I.G.EX(u);m.fillStyle="#"+I.IA(u.u<<16|u.S<<8|u.R);m.fillRect(0,0,F,q)}if(z==2){l.Ep.yP(g.jl.Grad.v,F,q,0,L.$q,L._Q,n)}if(z==3){var N=g.jl.Ptrn.v,b;
if(K!=null)b=ai.rP(N,K.add.Patt);if(b==null)b=ai.rP(N,L.Rr);jd.yP(b,F,q,n)}if(Q){m.beginPath();m.strokeStyle="#000000";
m.fillStyle="#ffffff";m.lineWidth=2;var B=F*.7,h=Math.floor(q*.7),A=7*p.M();m.moveTo(B,h);m.lineTo(B+A,h);
m.lineTo(B+A/2,h+A/2);m.closePath();m.stroke();m.fill()}if(m==I$.Ju)return n.toDataURL()};I$.Ju=p.Y("canvas").getContext("2d");
function jd(m){Rk.call(this,m,!1,"patternbutton",18,10,am.fT);this.NG=null}jd.prototype=new Rk;jd.prototype.ai=function(m){var g=this.TJ[this.Vo.w()];
this.ew={classID:"Ptrn",Nm:{t:"TEXT",v:g.name},Idnt:{t:"TEXT",v:g.id}};this.g(new Y(p.E.z));this.sL()};
jd.JD=!1;jd.prototype.df=function(){if(!this.fK)return;var m=this.TJ;if(m==null||!jd.JD){var g=new Y(p.E.V,!0);
g.data={P:p.o.Yj,Su:{url:"rsrc/basic/basic.pat"}};this.g(g);jd.JD=!0;return}var L=Math.floor(34*p.M()),K=Math.floor(34*p.M()),r=[],R=[];
for(var Q=0;Q<m.length;Q++){r.push(jd.yP(m[Q],L,K));R.push(m[Q].name)}this.Vo.dY(r,R,L,K);this.fK=!1};
jd.prototype.p=function(m,g){if(this.ew&&m.Idnt.v==this.ew.Idnt.v)return;this.ew=JSON.parse(JSON.stringify(m));
this.sL(g)};jd.prototype.w=function(){return JSON.parse(JSON.stringify(this.ew))};jd.prototype.Np=function(){return this.NG?[this.NG]:[]};
jd.prototype.sL=function(m){var g=Math.floor(50*p.M()),L=Math.floor(50*p.M()),K;if(m!=null)K=ai.rP(this.ew,m.add.Patt);
if(K==null)K=ai.rP(this.ew,this.TJ);this.NG=K;var r=jd.yP(K,g,L);this.BI.setAttribute("src",r);p.Wr(this.BI,g,L)};
jd.Dt=p.Y("canvas","");jd.yP=function(m,g,L,K){if(K==null)K=jd.Dt;var r=K.getContext("2d");K.width=g;
K.height=L;if(m){var R=m.l.j,Q=m.l.F,F=m.qT,q=Math.min(g/R,L/Q),n=q;if(n*R<2)n=2/R;var W=q;if(W*Q<2)W=2/Q;
var z=l.k.eB([F,m.l],new aC(n,0,0,W,0,0),!1),u=z.rect.j,N=z.rect.F,b=r.createImageData(u,N);I.jR(z.buffer,b.data);
r.putImageData(b,Math.floor((g-u)/2),Math.floor((L-N)/2))}return K.toDataURL()};function mo(m){Rk.call(this,m,!1,"patternbutton",24.2,17,am.eg);
this.QE=""}mo.prototype=new Rk;mo.prototype.ai=function(m){this.ew=JSON.parse(JSON.stringify(this.TJ[0][this.Vo.w()]));
this.g(new Y(p.E.z))};mo.prototype.df=function(){var m=this.TJ;if(m==null||!this.fK)return;var g=Math.floor(50*p.M()),L=Math.floor(50*p.M()),K=[],r=[];
for(var R=0;R<m[0].length;R++){K.push(mo.yP(this.TJ[0][R].Wx,g,L,this.TJ[1]));r.push(m[0][R].nL.Nm.v.split("=").pop())}this.Vo.dY(K,r,g,L);
this.fK=!1};mo.prototype.p=function(m,g,L,K){var r=JSON.stringify(m.Wx)+","+L+","+K;if(this.QE!=r){this.QE=r;
this.ew=JSON.parse(JSON.stringify(m));this.sL(g,L,K)}this.Vo.a_(-1)};mo.prototype.w=function(){return JSON.parse(JSON.stringify(this.ew))};
mo.prototype.sL=function(m,g,L){var K=Math.floor(68*p.M()),r=Math.floor(68*p.M()),R=mo.yP(this.ew.Wx,K,r,m?m:this.TJ[1],g,L);
this.BI.setAttribute("src",R);p.Wr(this.BI,K,r)};mo.yP=function(m,g,L,K,r,R){var Q=new aH;Q.j=g;Q.F=L;
Q.buffer=I.m(g*L*4);Q.add.Patt=K;Q.Wu(r==null?90:r);Q.WW(R==null?30:R);var F=new v(0,0,Math.round(g*.5),Math.round(L*.5));
F.x=Math.round((g-F.j)/2);F.y=Math.round((L-F.F)/2);var q=Q.Co();q.rect=F;q.buffer=I.m(F.c()*4);I._U(q.buffer,4284045657);
ai.IoQ(m,q,.5*100);Q._.push(q);Q.ZB();Q.X();var n=t.be;t.be=!1;Q.cG();var W=Q.os();t.be=n;var z=ax.fM(W.buffer,Q.j,Q.F);
return z};function qx(m){Rk.call(this,null,!1,"tpresetbutton",18,24,am.Wb,!0);p.Av(this.Q,"fitem");this.Vo.$R(1);
this.id=m;this.sL();this.eO=new au([15,7,9]);this.eO.p(!0);this.eO.v(p.E.z,this.Ivo,this);this.WK.appendChild(this.eO.Q)}qx.prototype=new Rk;
qx.prototype.IvG=function(m){if(this.id==m)return;this.id=m;this.eI(this.TJ)};qx.prototype.ai=function(m){var g=this.TJ[this.Vo.w()],L=new Y(p.E.V,!0);
L.data={P:p.o.VP,VK:"set",Su:am.Wb,_y:g};this.g(L)};qx.prototype.b=function(){Rk.prototype.b.call(this);
this.eO.b()};qx.prototype.Ivo=function(){this.fK=!0;this.df()};qx.prototype.df=function(){if(!this.fK)return;
var m=Math.floor(16*p.M()),g=Math.floor(16*p.M()),L=[],K=[],r=this.TJ,R=this.eO.w();for(var Q=0;Q<r.length;
Q++){var F=l.IQE(r[Q]);if(!R||F==this.id){K.push(r[Q][0]?r[Q][0].split("=").pop():"");L.push(F==-1?"":PIMG[l.II[F][0]])}else{L.push(null);
K.push(null)}}this.Vo.dY(L,K,m,g);this.fK=!1};qx.prototype.sL=function(){var m=this.BI;m.setAttribute("src",PIMG[l.II[this.id][0]]);
p.RM(m,"toolicon")};qx.prototype.Np=function(){return null};qx.gX={};qx.yP=function(m,g,L){var K=qx.wu,r=qx.gX,R=I.IA(m.u<<16|m.S<<8|m.R);
if(r[R])return r[R];if(K==null){var Q=p.Y("canvas");K=qx.wu=Q.getContext("2d")}var Q=K.canvas;Q.width=g;
Q.height=L;K.fillStyle="#"+R;K.fillRect(0,0,g,L);var F=r[R]=Q.toDataURL();return F};function Do(m,g){aO.call(this);
this.Q=p.Y("span","fitem curveeditor");this.vA=null;this.ImX=0;this.Mo="";this.mode=0;this.qw=m;this.IUu=g;
this.pv=null;this.qZ=null;this.KO=new jf;this.rS=this.TK.bind(this);this.rM=this.aD.bind(this);this.M$=p.Y("canvas","");
this.Ju=this.M$.getContext("2d");p.jk(this.M$);p.Tg(this.M$,256,256,this.Ju);this.Q.appendChild(this.M$);
p.yG(this.M$,this.aR.bind(this))}Do.prototype=new aO;Do.prototype.p=function(m,g){var L=JSON.stringify(m);
if(L==JSON.stringify(this.pv))return;this.mode=m.length==256?1:0;this.pv=JSON.parse(L);if(g!=null)this.qZ=this.pv[g];
this.dV()};Do.prototype.$l=function(m,g,L){this.vA=m;this.ImX=g;this.Mo=L;this.dV()};Do.prototype.w=function(){return JSON.parse(JSON.stringify(this.pv))};
Do.prototype.IOx=function(){return this.pv.indexOf(this.qZ)};Do.prototype.aR=function(m){var g=p.c_(m,this.M$),L=g.x,K=256-g.y;
if(this.qw){var r=L;L=256-K;K=r}this.KO.xF(L,K);if(this.mode==0){var R=null;for(var Q=0;Q<this.pv.length;
Q++){var F=this.pv[Q].v,q=F.Hrzn.v-L,n=F.Vrtc.v-K,W=Math.sqrt(q*q+n*n);if(W<5)R=this.pv[Q]}if(R==null){R=I.Kz.uz(L,K,!0);
this.pv.push(R)}this.qZ=R}p.Wj(document.body,this.rS);p.WT(document.body,this.rM);this.TK(m)};Do.prototype.TK=function(m){var g=p.c_(m,this.M$),L=g.x,K=256-g.y;
if(this.qw){var r=L;L=256-K;K=r}if(this.mode==0){var R=this.pv,Q=this.IUu,F=R.indexOf(this.qZ),q=F==0||F==R.length-1,n=0,W=255,z=!0;
if(q){n=1;W=254}if(!Q||!q)this.qZ.v.Hrzn.v=Math.max(n,Math.min(W,Math.round(L)));this.qZ.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(K)));
for(var u=0;u<R.length;u++){if(R[u]==this.qZ)continue;if(Math.abs(R[u].v.Hrzn.v-this.qZ.v.Hrzn.v)<2)z=!1}if(L<0||L>255||K<0||K>255)z=!1;
if(z&&R.indexOf(this.qZ)==-1)R.push(this.qZ);if(!z&&R.indexOf(this.qZ)!=-1&&R.length>2&&(!Q||!q))R.splice(R.indexOf(this.qZ),1);
if(R[0].v.Hrzn.v==R[1].v.Hrzn.v)if(R[0].v.Hrzn.v==0)R[1].v.Hrzn.v=1;else R[0].v.Hrzn.v--;R.sort(function(e,c){return e.v.Hrzn.v-c.v.Hrzn.v})}else{L=Math.round(L);
K=Math.round(K);L=Math.max(0,Math.min(255,L));K=Math.max(0,Math.min(255,K));var N=this.KO.x,b=L,B=this.KO.y,h=K;
if(L<this.KO.x){b=N;N=L;h=B;B=K}this.pv[L]=K;if(N!=b)for(var A=N;A<=b;A++)this.pv[A]=Math.round(B+(A-N)*(h-B)/(b-N))}this.KO.xF(L,K);
this.dV();this.g(new Y(p.E.z))};Do.prototype.aD=function(m){p.bC(document.body,this.rS);p.yH(document.body,this.rM);
this.g(new Y(p.E.z))};Do.prototype.dV=function(){var m=this.Ju;m.fillStyle="#ffffff";m.fillRect(0,0,256,256);
if(this.vA){m.translate(0,256);m.scale(1,-1);QO.IvO(m,this.vA,5700/this.ImX,this.Mo);m.scale(1,-1);m.translate(0,-256)}m.strokeStyle="#aaaaaa";
m.lineWidth=1;m.beginPath();for(var g=1;g<4;g++){m.moveTo(0,64*g-.5);m.lineTo(255,64*g-.5);m.moveTo(64*g-.5,0);
m.lineTo(64*g-.5,255)}m.stroke();if(this.qw){m.save();m.transform(0,1,-1,0,256,0)}if(this.mode==0){var L=this.pv,K=I.Kz.ea(L,256);
m.strokeStyle="#000000";m.beginPath();m.moveTo(0,255.5-K[0]);for(var g=0;g<256;g++)m.lineTo(g,255.5-K[g]);
m.stroke();m.lineWidth=2;for(var g=0;g<L.length;g++){var r=L[g].v;m.fillStyle=this.qZ==L[g]?"#333":"#fff";
m.beginPath();m.moveTo(r.Hrzn.v,255.5-r.Vrtc.v);m.arc(r.Hrzn.v,255.5-r.Vrtc.v,3,0,2*Math.PI);m.stroke();
m.fill()}}else{var K=this.pv;m.strokeStyle="#000000";m.beginPath();m.moveTo(0,255.5-K[0]);for(var g=0;
g<256;g++)m.lineTo(g,255.5-K[g]);m.stroke()}if(this.qw)m.restore()};function QO(m){aO.call(this);this.Q=p.Y("span","");
this.eZ=new aW([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.eZ.v(p.E.z,this.fo,this);this.Q.appendChild(this.eZ.Q);
p.da(this.Q);this.Dt=p.Y("canvas");var g=this.Dt;this.Q.appendChild(g);g.width=Math.round(m*p.M());g.height=Math.round(100*p.M());
p.Wr(g,g.width,g.height);this.wu=g.getContext("2d");this.vA=null;this.vd=0}QO.prototype=new aO;QO.prototype.b=function(){this.eZ.b()};
QO.prototype.$R=function(m){this.eZ.p(m);this.fo()};QO.prototype.p=function(m){this.vA=m;this.fo()};
QO.prototype.dy=function(m){if(m==this.vd)return;this.vd=m;this.fo()};QO.prototype.fo=function(){if(this.vA==null)return;
var m=this.Dt,g=this.wu,L=this.vA,K=this.eZ.w(),r=6e3/L[4],R="#"+I.IA(this.vd),Q=QO.IvO;m.width=m.width;
g.setTransform(m.width/256,0,0,-m.height/100,0,m.height);g.globalCompositeOperation="lighter";if(K==0)Q(g,L[0],r/3,R);
else if(K<4)Q(g,L[K],r,R);else{Q(g,L[1],r,"#ff0000");Q(g,L[2],r,"#00ff00");Q(g,L[3],r,"#0000ff")}g.setTransform(1,0,0,1,0,0)};
QO.IvO=function(m,g,L,K){m.beginPath();m.moveTo(0,0);for(var r=0;r<256;r++)m.lineTo(r,g[r]*L);m.lineTo(256,0);
m.closePath();m.fillStyle=K;m.fill()};function mU(m){aO.call(this);this.oW={u:0,S:0,R:0};if(Math.abs(m-256/p.M())<10)m=256/p.M();
var g=this.Q=p.Y("div","flexrow");this.FA=new jf;this.cw=new jf;this.$E=this.IVF.bind(this);this.rG=this.Iv$.bind(this);
this.M$=p.Y("canvas","");this.Ju=this.M$.getContext("2d");this.M$.width=this.M$.height=256;this.IUd=this.Ju.getImageData(0,0,256,256);
this.IpR=-1;p.jk(this.M$);p.yG(this.M$,this.IvE.bind(this));g.appendChild(this.M$);this.Ipe=this.Iqu.bind(this);
this.IxH=this.IZJ.bind(this);this.ps=p.Y("canvas","");this.pZ=this.ps.getContext("2d");this.ps.width=20;
this.ps.height=256;this.Ixy=this.pZ.getImageData(0,0,20,256);this.IvZ(this.Ixy.data,20,256);p.jk(this.ps);
p.yG(this.ps,this.IvK.bind(this));g.appendChild(this.ps);this.M$.setAttribute("style","width:"+m+"px; height:"+m+"px");
this.ps.setAttribute("style","width:"+20/p.M()+"px; height:"+m+"px")}mU.prototype=new aO;mU.prototype.Dj=function(m,g){this.M$.style.width=m+"px"};
mU.prototype.p=function(m){this.oW=m;this.update()};mU.prototype.w=function(){return JSON.parse(JSON.stringify(this.oW))};
mU.prototype.update=function(){var m=this.oW,g=I.MW(m.u,m.S,m.R);if(g.nw==0)g.Gr=this.FA.x/255;if(g.Gr==0||g.nw==0)g.PC=(255-this.lT(this.cw.y))/255;
if(g.nw!=0)this.FA.x=g.Gr*255;this.FA.y=(1-g.nw)*255;this.cw.y=(1-g.PC)*255;var L=this.IUd;if(Math.abs(g.PC-this.IpR)>.002){this.IvC(L.data,256,256,g.PC);
this.IpR=g.PC}this.Ju.putImageData(L,0,0);this.Ju.strokeStyle="#000000";this.Ju.beginPath();this.Ju.arc(this.FA.x+1,this.FA.y+1,5,0,2*Math.PI);
this.Ju.stroke();this.Ju.strokeStyle="#ffffff";this.Ju.beginPath();this.Ju.arc(this.FA.x,this.FA.y,5,0,2*Math.PI);
this.Ju.stroke();var L=this.Ixy;this.pZ.putImageData(L,0,0);this.pZ.strokeStyle="#ffffff";this.pZ.beginPath();
this.pZ.moveTo(0,this.cw.y);this.pZ.lineTo(20,this.cw.y);this.pZ.lineWidth=2;this.pZ.stroke()};mU.prototype.IvC=function(m,g,L,K){var r=1/g,R=1/L;
for(var Q=0;Q<L;Q++)for(var F=0;F<g;F++){var q=I.ww(K,F*r,(L-Q-1)*R),n=Q*g+F<<2;m[n+0]=~~(q.u*255);m[n+1]=~~(q.S*255);
m[n+2]=~~(q.R*255);m[n+3]=255}};mU.prototype.IvZ=function(m,g,L){var K=new Uint32Array(m.buffer);for(var r=0;
r<L;r++){var R=I.ww(1-r/L,1,1),Q=255<<24|R.R*255<<16|R.S*255<<8|R.u*255;for(var F=0;F<g;F++)K[r*g+F]=Q}};
mU.prototype.IvE=function(m){p.Wj(window,this.$E);p.WT(window,this.rG);this.IVF(m)};mU.prototype.Iv$=function(m){p.bC(window,this.$E);
p.yH(window,this.rG)};mU.prototype.IVF=function(m){var g=p.c_(m,this.M$);g.x=g.x*(256/parseFloat(this.M$.style.width));
g.y=g.y*(256/parseFloat(this.M$.style.height));this.FA.xF(this.lT(g.x),this.lT(g.y));this.cO()};mU.prototype.cO=function(){this.oW=this.Ivg();
this.g(new Y(p.E.z))};mU.prototype.Ivg=function(){var m=I.ww((255-this.lT(this.cw.y))/255,this.$g(this.FA.x/255),this.$g(1-this.FA.y/255));
return{u:m.u,S:m.S,R:m.R}};mU.prototype.IvK=function(m){p.Wj(window,this.Ipe);p.WT(window,this.IxH);
this.Iqu(m)};mU.prototype.IZJ=function(m){p.bC(window,this.Ipe);p.yH(window,this.IxH)};mU.prototype.Iqu=function(m){var g=p.c_(m,this.ps);
g.y=g.y*(256/parseFloat(this.ps.style.height));this.cw.xF(this.lT(g.x),this.lT(g.y));this.cO()};mU.prototype.lT=function(m){return Math.max(0,Math.min(255,m))};
mU.prototype.$g=function(m){return Math.max(0,Math.min(1,m))};function IC(m,g,L){aO.call(this);if(!g)return;
this.GO=0;this.Q=p.Y("span","fitem bbmenu");if(m){this.rf=m;this.Oq=p.Y("label","flabel");this.Oq.textContent=m+":";
this.Q.appendChild(this.Oq)}this.sq=[];this.en=null;this.EJ(g,L);this.p(0)}IC.prototype=new aO;IC.prototype.dv=function(m){this.rf=m;
this.b()};IC.prototype.b=function(){if(this.rf!=null){this.Oq.textContent=aT.get(this.rf)+": "}for(var m=0;
m<this.sq.length;m++)this.sq[m].b()};IC.prototype.w=function(){return this.GO};IC.prototype.EJ=function(m,g){while(this.sq.length>0)this.Q.removeChild(this.sq.pop().Q);
this.en=m;for(var L=0;L<m.length;L++){var K=new aX(m[L],!1,g?g[L]:null);K.v("click",this.jj,this);this.Q.appendChild(K.Q);
this.sq.push(K)}this.b()};IC.prototype.p=function(m){this.GO=m;for(var g=0;g<this.sq.length;g++)this.sq[g].Ec();
this.sq[m].ef()};IC.prototype.jj=function(m){var g=this.sq.indexOf(m.target);this.p(g);this.g(new Y(p.E.z,!1))};
function pw(m,g,L,K){if(K==null)K=16;var r=pw.Jk,R=r.getContext("2d"),Q=K>>>1;r.width=r.height=K;var F=[];
for(var q=0;q<g.length;q++){if(g[q]=="checker"){R.fillStyle="white";R.fillRect(0,0,K,K);R.fillStyle="#bbbbbb";
R.fillRect(Q,0,Q,Q);R.fillRect(0,Q,Q,Q)}else{R.fillStyle=g[q];R.fillRect(0,0,K,K)}F.push("<img src=\""+r.toDataURL()+"\" />")}IC.call(this,m,F,L)}pw.prototype=new IC;
pw.Jk=p.Y("canvas");function aW(m,g,L,K){aO.call(this);if(!g)return;if(L==null)L=!1;this.GO=0;this.IUW=L;
this.rf=m;this.qJ=null;this.Iwa=K;var r="dd"+p.Lh();this.Q=p.Y("span","fitem ddmenu");if(m&&!L){this.Oq=p.Y("label","flabel");
this.Q.appendChild(this.Oq);this.Oq.setAttribute("for",r)}this.Gb=p.Y("select","bbtn");this.Gb.setAttribute("id",r);
this.Q.appendChild(this.Gb);this.Gb.addEventListener("change",this.jj.bind(this),!1);this.sq=[];this.en=null;
this.EJ(g,K);this.b()}aW.prototype=new aO;aW.prototype.dv=function(m){this.rf=m;this.b()};aW.prototype.b=function(){if(this.rf!=null){var m=aT.get(this.rf);
if(this.IUW)this.Gb.setAttribute("title",m);else this.Oq.textContent=m+":"}if(this.en)this.EJ(this.en,this.Iwa);
this.p(this.GO)};aW.prototype.w=function(){return this.GO};aW.prototype.EJ=function(m,g){p.Lj(this.Gb);
var L=[],r=0;if(g){L.push(g[0]);for(var K=1;K<g.length;K++)L.push(L[K-1]+g[K])}this.en=m;this.qJ=[];
this.Iwa=g;for(var K=0;K<m.length;K++){var R=p.Y("option");R.textContent=aT.get(m[K]);R.setAttribute("value",K);
this.Gb.appendChild(R);this.sq.push(R);this.qJ.push(K+r);if(L.indexOf(K+1)!=-1&&K!=m.length-1){var Q=p.Y("option");
Q.setAttribute("disabled","");Q.textContent="";this.Gb.appendChild(Q);r++}}};aW.prototype.p=function(m){this.GO=m;
this.Gb.selectedIndex=this.qJ[m]};aW.prototype.jj=function(m){this.GO=this.qJ.indexOf(this.Gb.selectedIndex);
this.g(new Y(p.E.z,!1))};function mA(){aO.call(this);this.ZS=null;this.wp=new mJ;this.wp.v(p.E.z,this.IZO,this);
this.wp.parent=this;this.wo=new R_([12,14,0],1,150,"px",0,!0);this.wo.v(p.E.z,this.mX,this);this.wo.parent=this;
this.wi=new R_([16,0],0,100,"px",2,!0,null,5);this.wi.v(p.E.z,this.mX,this);this.wi.parent=this;this.eH=new au("Auto");
this.eH.v(p.E.z,this.mX,this);this.wC=new R_([16,1],-500,5e3,"%",0,!0);this.wC.v(p.E.z,this.mX,this);
this.wC.parent=this;this.cE=new R_("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);this.cE.v(p.E.z,this.mX,this);
this.cE.parent=this;this.cB=new R_("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);this.cB.v(p.E.z,this.mX,this);
this.cB.parent=this;this.YG=new R_([16,2],-10,10,"px");this.YG.v(p.E.z,this.mX,this);this.YG.parent=this;
this.LQ=new II(!0);this.LQ.v(p.E.z,this.IZe,this);this.LQ.parent=this;this.qG=new aX("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.qO=new aX("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.qE=new aX("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.qB=new aX("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.qc=new aX("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.Qq=new aX("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.QD=new aX("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.QG=new aX("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var m=[this.qG,this.qO,this.qE,this.qB,this.qc,this.Qq,this.QD,this.QG];
for(var g=0;g<m.length;g++)m[g].v("click",this.IZT,this);this.No=new aX("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.NT=new aX("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.NS=new aX("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.IwT=new aX("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.Iw$=new aX("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.Iws=new aX("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.ILD=new aX("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Yi=[this.No,this.NT,this.NS,this.IwT,this.Iw$,this.Iws,this.ILD];for(var g=0;g<this.Yi.length;g++)this.Yi[g].v("click",this.mX,this);
var L=["lind","rind","flind","bind","aind"],K=[];for(var g=0;g<5;g++)K.push("<img src=\""+PIMG["par/"+L[g]]+"\" class=\"autoscale gsicon\" /> ");
this.Cq=new R_(K[0],-20,20,"px");this.Cq.v(p.E.z,this.mX,this);this.Cq.parent=this;this.CQ=new R_(K[1],-20,20,"px");
this.CQ.v(p.E.z,this.mX,this);this.CQ.parent=this;this.Cj=new R_(K[2],-20,20,"px");this.Cj.v(p.E.z,this.mX,this);
this.Cj.parent=this;this.Ca=new R_(K[3],-20,20,"px");this.Ca.v(p.E.z,this.mX,this);this.Ca.parent=this;
this.Cm=new R_(K[4],-20,20,"px");this.Cm.v(p.E.z,this.mX,this);this.Cm.parent=this;this.Yv=new IC([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.Yv.v(p.E.z,this.mX,this);this.Yv.parent=this}mA.prototype=new aO;mA.prototype.b=function(){this.wp.b();
this.wo.b();this.wi.b();this.wC.b();this.YG.b();this.cE.b();this.cB.b();this.Yv.b()};mA.prototype.p=function(m,g,L){this.XT=JSON.parse(JSON.stringify(m));
var K=this.XT,r=K.dh,R=K.gV;this.qG.p(r.FauxBold!=null?r.FauxBold:!1);this.qO.p(r.FauxItalic!=null?r.FauxItalic:!1);
this.qE.p(r.FontCaps==2);this.qB.p(r.FontCaps==1);this.Qq.p(r.FontBaseline==1);this.qc.p(r.FontBaseline==2);
this.QD.p(r.Underline);this.QG.p(r.Strikethrough);this.wp.p(r.Font==null?null:K.zS[r.Font].Name,g,L);
var Q=r.FontSize==null?20:r.FontSize;this.wo.p(Q);var F=r.Tracking;this.wC.p(F==null?0:F);this.wi.p(r.Leading!=null?r.Leading:0);
this.eH.p(r.AutoLeading);this.cE.p((r.VerticalScale!=null?r.VerticalScale:0)*100);this.cB.p((r.HorizontalScale!=null?r.HorizontalScale:0)*100);
this.YG.p(r.BaselineShift!=null?r.BaselineShift:0);if(r.FillColor){var q=aj.EX(r);this.LQ.dy(Math.round(q.u)<<16|Math.round(q.S)<<8|Math.round(q.R))}else this.LQ.dy(0);
var n=R._Direction!=null?R._Direction:0,W=aj.LD(R);for(var z=0;z<this.Yi.length;z++)this.Yi[z].p(W==z);
this.Yv.p(n);this.Cq.p(R.StartIndent!=null?R.StartIndent:0);this.CQ.p(R.EndIndent!=null?R.EndIndent:0);
this.Cj.p(R.FirstLineIndent!=null?R.FirstLineIndent:0);this.Ca.p(R.SpaceBefore!=null?R.SpaceBefore:0);
this.Cm.p(R.SpaceAfter!=null?R.SpaceAfter:0)};mA.prototype.BS=function(){var m=new Y(p.E.V,!0);m.data={P:p.o.VP,Su:am.mP,XT:this.XT};
this.g(m);var m=new Y(p.E.B,!0);m.K=l._T;m.data={P:"updateStyles"};this.g(m)};mA.prototype.IZT=function(m){var g=this.XT.dh,L=m.target,K=!L.gF();
if(L==this.qG)g.FauxBold=K;if(L==this.qO)g.FauxItalic=K;if(L==this.qE)g.FontCaps=K?2:0;if(L==this.qB)g.FontCaps=K?1:0;
if(L==this.Qq)g.FontBaseline=K?1:0;if(L==this.qc)g.FontBaseline=K?2:0;if(L==this.QD)g.Underline=K;if(L==this.QG)g.Strikethrough=K;
this.BS()};mA.prototype.mX=function(m){var g=this.XT.dh,L=this.XT.gV,K=m.target;if(K==this.wC){var r=this.wC.w();
if(r==null)window.ILi("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
g.Tracking=r}if(K==this.wi){g.AutoLeading=!1;g.Leading=this.wi.w()}if(K==this.eH){g.AutoLeading=this.eH.w()}if(K==this.wo)g.FontSize=K.w();
if(K==this.cE)g.VerticalScale=K.w()/100;if(K==this.cB)g.HorizontalScale=K.w()/100;if(K==this.YG)g.BaselineShift=K.w();
if(this.Yi.indexOf(K)!=-1){L.Justification=aj.LD(L,this.Yi.indexOf(K))}if(K==this.Cq)L.StartIndent=K.w();
if(K==this.CQ)L.EndIndent=K.w();if(K==this.Cj)L.FirstLineIndent=K.w();if(K==this.Ca)L.SpaceBefore=K.w();
if(K==this.Cm)L.SpaceAfter=K.w();if(K==this.Yv)L._Direction=K.w();this.BS()};mA.prototype.IZO=function(m){var g=this.XT,L=this.wp.w(),K=-1;
for(var r=0;r<g.zS.length;r++)if(g.zS[r].Name==L)K=r;if(K==-1){K=g.zS.length;var R=JSON.parse(JSON.stringify(g.zS[0]));
R.Name=L;g.zS.splice(K,0,R)}g.dh.Font=K;this.BS()};mA.prototype.IZe=function(m){var g=this.LQ.nI(),L={Type:1,Values:[1,(g>>16&255)/255,(g>>8&255)/255,(g>>0&255)/255]};
for(var K=0;K<4;K++)L.Values[K]=Math.round(L.Values[K]*1e3)/1e3;this.XT.dh.FillColor=L;this.BS()};function mJ(){aO.call(this);
this.Q=p.Y("span","fontinput");this.yk=null;this.NO=null;this.re=null;this.Yh="";this.Qx={};this.N_=[];
this.ILh={};this.Nh=!1;this.LJ=p.Y("button","fitem");this.LJ.setAttribute("style","width:9em;");this.LJ.textContent="Family Name \u25BC";
this.Q.appendChild(this.LJ);p.yG(this.LJ,this.Ijn.bind(this));this.ow=new aO;this.ow.parent=this;this.ow.Q=p.Y("div","floatcont");
this.ow.Q.addEventListener("keyup",this.IZ$.bind(this),!1);this.qd=new IA(6.8);this.ow.Q.appendChild(this.qd.Inx());
this.qd.parent=this.ow;this.qd.v(p.E.z,this.rq,this);var m=p.Y("div","form");this.ow.Q.appendChild(m);
this.Yy=new aX(p.cY("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.Yy.v("click",this.IZW,this);
m.appendChild(this.Yy.Q);this.gR=new RZ([12,86],null,9);this.gR.v("input",this.nc,this);m.appendChild(this.gR.Q);
var g=this.IUc=new aX([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);g.v("click",this.IZH,this);
g.Q.style.marginLeft="1.5em";m.appendChild(g.Q);this.Qo=p.Y("span","fitem imageset scrollable marged");
this.Qo.style.height="30em";this.ow.Q.appendChild(this.Qo);this.NQ=p.Y("button","fitem");this.NQ.setAttribute("style","width:7em;");
this.NQ.textContent="SubFamily Name \u25BC";this.Q.appendChild(this.NQ);p.yG(this.NQ,this.Ijn.bind(this));
this.CD=new aO;this.CD.parent=this;this.CD.Q=p.Y("div","floatcont");this.NV=p.Y("span","fitem imageset scrollable marged");
this.CD.Q.appendChild(this.NV)}mJ.prototype=new aO;mJ.prototype.IZ$=function(m){var g=0;if(C.Bf(m.code,C.pA))g=-1;
if(C.Bf(m.code,C.py))g=1;if(g!=0){var L=this.N_,K=L.length,r=this.yk.X$()[this.re];if(r==null&&K==0)return;
var R=L.indexOf(r[0]);if(R==-1)return;R=(R+g+K)%K;this.nN(L[R],null)}};mJ.prototype.IZH=function(){var m=new Y(p.E.V,!0);
m.data={P:p.o.jb,IUY:".otf,.ttf,.ttc"};this.g(m)};mJ.prototype.b=function(){this.qd.b();this.IUc.b();
this.Yy.dv(p.cY("tools/cshape",null,"autoscale"))};mJ.prototype.IZW=function(m){this.Yy.p(!this.Yy.gF());
this.rq()};mJ.prototype.nc=function(m){this.Yh=this.gR.w().toLowerCase();this.rq()};mJ.prototype.Ijn=function(m){p.mF(m);
var g=m.currentTarget,L=g.getBoundingClientRect(),K=g==this.LJ,r=K?this.ow:this.CD;if(p.Ya(r.Q)){this.InI(r);
return}if(!K&&this.yk.X$()[this.re]==null)return;var R=new Y(p.E.V,!0);R.data={P:p.o.xW,Mt:r,x:L.left,y:L.top+L.height};
this.g(R);if(K){this.rq();this.gR.rD()}};mJ.prototype.IZy=function(m){var g=m.currentTarget.firstChild.nextSibling.textContent;
if(m.target.tagName.toLowerCase()=="button"){var L=this.NO.slice(0),K=L.indexOf(g);if(K==-1){L=L.slice(Math.max(0,L.length-29));
L.push(g)}else L.splice(K,1);var r=new Y(p.E.V,!0);r.data={P:p.o.VP,Su:am.pD,cC:L};this.g(r);this.Nh=!0;
this.rq()}else{this.nN(g,null);this.gR.rD()}};mJ.prototype.IZz=function(m){this.nN(null,m.currentTarget.firstChild.textContent)};
mJ.prototype.nN=function(m,g){var L=m==null?this.CD:this.ow,K=this.yk;if(m==null)m=K.X$()[this.re][0];
else{var r=K.zI(m),R=K.X$()[this.re];g=az.zU(r,R?R[1]:"regular")}var Q=K.DO(m,g)[2];this.p(Q,K);this.g(new Y(p.E.z,!1));
this.rq()};mJ.prototype.InI=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.LN,Mt:m};this.g(g)};mJ.prototype.w=function(){return this.re};
mJ.prototype.p=function(m,g,L){var K=this.yk;if(m!=null)this.re=m;else m=this.re;this.yk=g;this.NO=L;
if(m!=null){var r=g.X$()[m],R,Q;if(r==null){R="- "+m;Q="-------"}else{R=r[0];Q=r[1];var F=g.zI(R);F.sort(az.IBq);
var q=F.indexOf(Q),n=this.IZz.bind(this);this.NV.textContent="";for(var W=0;W<F.length;W++){var r=g.DO(R,F[W]);
if(!this.qd.Ex(r))continue;var z=this.IjX(r,r[1],n,!1);this.NV.appendChild(z)}}this.LJ.textContent=R.substring(0,15)+" \u25BC";
this.LJ.setAttribute("title",R);this.NQ.textContent=Q.substring(0,10)+" \u25BC";this.NQ.setAttribute("title",Q)}};
mJ.prototype.rq=function(){var m=this.yk.X$()[this.re],g=this.NO,L=null,K=this.yk.IVT(),r=this.IZy.bind(this);
this.N_=[];for(var R in K){var Q=az.zU(K[R],"regular"),F=this.yk.DO(R,Q),q=g.indexOf(R)!=-1,n=!0;if(this.Yh.length>0&&F[0].toLowerCase().indexOf(this.Yh)==-1)n=!1;
else if(!this.qd.Ex(F))n=!1;else if(this.Yy.gF()&&!q)n=!1;var W=this.Qx[R];if(W==null){var W=this.IjX(F,R,r,!0);
this.Qx[R]=W;this.Qo.appendChild(W)}if(n)this.N_.push(R);var z=n?"":"display:none; ",u="opacity: "+(q?"1":"0.2");
if(m&&m[0]==R){z+="background-color:rgba(0,0,0,0.13);";L=W}if(this.ILh[R]!=z+u){W.setAttribute("style",z);
W.firstChild.setAttribute("style",u);this.ILh[R]=z+u}}if(L&&!this.Nh)this.Qo.scrollTop=L.offsetTop-210;
this.Nh=!1};mJ.prototype.IjX=function(m,g,L,K){var r=p.Y("div","fontitem"),q="";r.addEventListener("click",L,!1);
if(K)r.appendChild(p.Y("button","star"));var R=p.Y("span","label");R.setAttribute("title",g);R.textContent=g;
r.appendChild(R);var Q=p.M(),F=1/Q,n=az.Dk*F,W=az.tw*F;if(1<Q&&Q<1.5)q="width:"+n+"px; height:"+W+"px;";
var z=p.Y("span","thumb gsicon");if(m.Ilh){q+="background: url("+m.Ilh+");";if(1<Q&&Q<1.5)q+="background-size: "+n+"px "+W+"px;"}else{var u=Math.ceil(FNTS.list.length/az.cols),N=Math.floor(m.Bj/u),b=m.Bj%u,B=N*az.Dk,h=b*az.tw;
if(1<Q&&Q<1.5){q+="background-size: "+az.cols*n+"px "+u*W+"px;";B*=F;h*=F}q+="background-position:-"+B+"px -"+h+"px;"}z.setAttribute("style",q);
r.appendChild(z);return r};function IA(m){aO.call(this);this.Q=p.Y("button","fitem bbtn");this.Q.addEventListener("click",this.Ino.bind(this),!1);
this.Vy=new aO;this.Vy.Q=p.Y("div","floatcont");this.Vy.parent=this;this.N$=p.Y("div","flexrow");this.Vy.Q.appendChild(this.N$);
this.Cw=[];this.LX=[];var g=this.N$,L=p.Y("div",""),K=p.Y("div","");g.appendChild(L);g.appendChild(K);
this.IB=[];for(var r=0;r<FNTS.cats.length;r++)this.IB.push({name:FNTS.cats[r],index:r,oK:0});this.Nu=new au([7,0]);
this.Nu.v(p.E.z,this.InS,this);L.appendChild(this.Nu.Q);this.Nc=p.Y("div","vlist marged scrollable");
this.Nc.setAttribute("style","width:10.85em; height:"+m+"em; ");L.appendChild(this.Nc);this.NN=[];for(var r=0;
r<this.IB.length;r++){var R=this.IB[r],Q=new au(R.name);this.NN.push(Q);Q.v(p.E.z,this.Inh,this);Q.p(!0);
this.Nc.appendChild(Q.Q);this.Cw.push(1)}this.IJw=new au([7,0]);this.IJw.v(p.E.z,this.In_,this);this.NP=p.Y("div","vlist marged scrollable");
this.NP.setAttribute("style","width:8.6em; height:"+(m+1.5)+"em; ");K.appendChild(this.NP);this.QO=[];
for(var r=0;r<FNTS.subsetNames.length;r++){var Q=new au(FNTS.subsetNames[r]);this.QO.push(Q);Q.v(p.E.z,this.Inu,this);
Q.p(!1);this.NP.appendChild(Q.Q);this.LX.push(0)}}IA.prototype=new aO;IA.prototype.Inm=function(m){var g=this.QO;
for(var L=0;L<g.length;L++){var K=(m>>>L&1)==1;this.LX[L]=K;g[L].p(K)}};IA.prototype.Inx=function(){return this.N$};
IA.prototype.b=function(){this.Q.textContent=aT.get([25,1,0])+" \u25BC";this.Nu.b();this.IJw.b()};IA.prototype.Ino=function(m){var g=this.Q.getBoundingClientRect(),L=new Y(p.E.V,!0);
L.data={P:p.o.xW,Mt:this.Vy,x:g.left,y:g.top+g.height,Ijq:!1};this.g(L)};IA.prototype.Ex=function(m){if(this.Cw[m[4]]==0)return!1;
else for(var g=0;g<this.LX.length;g++)if(this.LX[g]==1&&(m[3]>>>g&1)==0)return!1;return!0};IA.prototype.InS=function(m){var g=m.target.w(),L=this.NN,K=this.Cw;
for(var r=0;r<L.length;r++){L[r].p(g);K[r]=g?1:0}this.g(new Y(p.E.z,!1))};IA.prototype.In_=function(m){var g=m.target.w(),L=this.QO,K=this.LX;
for(var r=0;r<L.length;r++){L[r].p(g);K[r]=g?1:0}this.g(new Y(p.E.z,!1))};IA.prototype.Inh=function(m){var g=this.NN.indexOf(m.target),L=this.IB[g].index;
this.Cw[L]=1-this.Cw[L];this.g(new Y(p.E.z,!1))};IA.prototype.Inu=function(m){var g=this.QO.indexOf(m.target);
this.LX[g]=1-this.LX[g];this.g(new Y(p.E.z,!1))};function jc(m,g,L){Rk.call(this,g,!0,"gradientbutton",18,10,am.nV);
this.$q=-1;this._Q=-1;this.IJT=null;this.IUN=m;this.mn=L}jc.prototype=new Rk;jc.prototype.ai=function(m){var g=this.TJ;
this.p(g[this.Vo.w()]);this.g(new Y(p.E.z))};jc.prototype.nU=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.My,OT:"gradienteditor",G:this.ew,tG:this.IEU.bind(this),Nm:this.mn};
this.g(g)};jc.prototype.IEU=function(m){this.p(m);this.g(new Y(p.E.z))};jc.prototype.df=function(){if(!this.fK)return;
var m=Math.floor(36*p.M()),g=Math.floor(36*p.M()),L=[],K=[],r=this.TJ;for(var R=0;R<r.length;R++){var Q=r[R];
K.push(Q.Nm?Q.Nm.v.split("=").pop():"");var F=l.Ep.yP(Q,m,g,Math.PI/4,this.$q,this._Q);L.push(F)}this.Vo.dY(L,K,m,g);
this.fK=!1};jc.prototype.Ew=function(m,g){this.Iau(this.ew,m,g)};jc.prototype.p=function(m){this.Iau(m,this.$q,this._Q)};
jc.prototype.Iau=function(m,g,L){this.$q=g;this._Q=L;if(m==null)return;var K=JSON.stringify(m),r=K+g+","+L;
if(r==this.IJT)return;this.IJT=r;this.ew=JSON.parse(K);var R=Math.floor(80*p.M()),Q=Math.floor(16*p.M()),F=l.Ep.yP(this.ew,R,Q,0,this.$q,this._Q);
this.BI.setAttribute("src",F);p.Wr(this.BI,R,Q)};jc.prototype.w=function(){var m;if(this.IUN)m=l.Ep.IQs(this.ew,this.$q,this._Q);
else m=JSON.parse(JSON.stringify(this.ew));return m};function ma(m){Rk.call(this,m,!1,"swatchbutton",16,8.75,am.nA)}ma.prototype=new Rk;
ma.prototype.ai=function(m){this.p(this.TJ[m.target.w()]);this.g(new Y(p.E.z))};ma.prototype.df=function(){if(!this.fK)return;
var m=Date.now(),g=Math.floor(10*p.M()),L=Math.floor(10*p.M()),K=[],r=[],R=this.TJ;for(var Q=0;Q<R.length;
Q++){r.push(R[Q].Kg?R[Q].Kg.split("=").pop():"");K.push(ma.yP(R[Q],g,L))}this.Vo.dY(K,r,g,L);this.fK=!1};
ma.prototype.p=function(m){this.ew=JSON.parse(JSON.stringify(m));this.sL()};ma.prototype.sL=function(){var m=Math.floor(24*p.M()),g=Math.floor(20*p.M()),L=ma.yP(this.ew,m,g);
this.BI.setAttribute("src",L);p.Wr(this.BI,m,g)};ma.prototype.w=function(){return JSON.parse(JSON.stringify(this.ew))};
ma.gX={};ma.yP=function(m,g,L){var K=ma.wu,r=ma.gX,R=I.IA(m.u<<16|m.S<<8|m.R);if(r[R])return r[R];if(K==null){var Q=p.Y("canvas");
K=ma.wu=Q.getContext("2d")}var Q=K.canvas;Q.width=g;Q.height=L;K.fillStyle="#"+R;K.fillRect(0,0,g,L);
var F=r[R]=Q.toDataURL();return F};function au(m,g,L){aO.call(this);this.Q=p.Y("span","fitem cbox");
if(g==null)g=!0;if(L==null)L="flabel";var K="cb"+p.Lh();this.Ym=p.Y("input","");this.Ym.setAttribute("type","checkbox");
this.Ym.setAttribute("id",K);this.Q.appendChild(this.Ym);this.rf=m;this.Oq=p.Y("label",L);if(g)this.Oq.setAttribute("for",K);
this.Q.appendChild(this.Oq);this.b();this.Ym.addEventListener("change",this.jj.bind(this),!1)}au.prototype=new aO;
au.prototype.IRf=function(){return this.rf};au.prototype.dv=function(m){this.Oq.textContent=m};au.prototype.b=function(){this.Oq.textContent=aT.get(this.rf)};
au.prototype.ef=function(){this.Ym.checked=!0};au.prototype.Ec=function(){this.Ym.checked=!1};au.prototype.gF=function(){return this.Ym.checked};
au.prototype.p=function(m){this.Ym.checked=m};au.prototype.w=au.prototype.gF;au.prototype.jj=function(m){this.g(new Y(p.E.z,!1))};
function pC(m,g,L,K){aO.call(this);this.Q=p.Y("span","fitem mbox");this.IUs=L;if(m){this.rf=m;this.Oq=p.Y("label","flabel");
this.Q.appendChild(this.Oq)}this.rv=g;this.qt=[];for(var r=0;r<g.length;r++){var R=L?new aX(g[r],!1,K?K[r]:null):new au(g[r]);
R.v(L?"click":p.E.z,this.jj,this);this.qt.push(R);this.Q.appendChild(R.Q)}this.b()}pC.prototype=new aO;
pC.prototype.p=function(m){for(var g=0;g<this.rv.length;g++)this.qt[g].p(m[g])};pC.prototype.w=function(){var m=[];
for(var g=0;g<this.rv.length;g++)m[g]=this.qt[g].w();return m};pC.prototype.b=function(){if(this.rf)this.Oq.innerHTML=aT.get(this.rf)+":";
for(var m=0;m<this.qt.length;m++)this.qt[m].b()};pC.prototype.jj=function(m){var g=this.qt.indexOf(m.currentTarget);
if(this.IUs)this.qt[g].p(!this.qt[g].w());this.g(new Y(p.E.z,!1))};function mc(m,g,L,K,r,R){Rs.call(this,m,g,L,K,r,!1,R);
this.Q.appendChild(this.Oq);var Q=p.Y("span","rangecont");this.Q.appendChild(Q);Q.appendChild(this.ed);
this.Q.appendChild(this.Ym);this.Ym.setAttribute("style","width:3.3em");if(this.qU)this.Q.appendChild(this.$M)}mc.prototype=new Rs;
function js(m,g,L,K){if(m==null)m=!1;if(g==null)g=!1;if(L==null)L=!1;aO.call(this);this.gS=new jf;this.HG=new jf;
this.Ns=72;this.ND=72;this.CL=!0;this.Q=p.Y("span","");this.uD=new R_([12,41],0,0,null,0,!1,!0);this.Q.appendChild(this.uD.Q);
this.uD.v(p.E.z,this.Qy,this);var r=["px","%"];if(m)r=r.concat(["mm","in"]);this.pE=new aW(null,r);this.Q.appendChild(this.pE.Q);
p.da(this.Q);this.pE.v(p.E.z,this.Qy,this);this.dZ=new R_([12,42],0,0,null,0,!1,!0);this.Q.appendChild(this.dZ.Q);
this.dZ.v(p.E.z,this.Qy,this);var R=new aX("\u21F5",!1,null,!0);R.v("click",this.IEH,this);this.rB=new aX("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.rB.v("click",this.Qy,this);this.IJk=new Rt("");if(g){this.Q.appendChild(this.rB.Q);this.Q.appendChild(this.IJk.Q);
this.rB.ef()}else this.Q.appendChild(R.Q);this.rd=new R_("DPI",0,0,null,3,!1,!0,4);if(m&&K==null){p.da(this.Q);
this.Q.appendChild(this.rd.Q)}this.rd.v(p.E.z,this.Qy,this);this.NM=new au([12,23,1]);this.NM.v(p.E.z,this.Qy,this);
if(L){p.da(this.Q);this.Q.appendChild(this.NM.Q)}p.da(this.Q)}js.prototype=new aO;js.prototype.IEO=function(){this.CL=!1;
if(this.pE.w()==0){this.pE.p(3);this.rj()}};js.prototype.IEv=function(){this.CL=!0};js.prototype.IEF=function(m){this.rB.p(m)};
js.prototype.b=function(){this.uD.b();this.dZ.b();this.rd.b();this.rB.b();this.NM.b()};js.prototype.IEH=function(m){var g=this.HG.x;
this.HG.x=this.HG.y;this.HG.y=g;this.rj();this.g(new Y(p.E.z,!1))};js.prototype.Qy=function(m){if(m.target==this.pE&&!this.CL&&this.pE.w()==0)this.pE.p(3);
if(m.target==this.pE||m.target==this.NM){this.rj();return}if(m.target==this.rB)m.target.p(!m.target.w());
var g=this.gS,L=parseFloat(this.uD.w());if(isNaN(L))L=1;var K=parseFloat(this.dZ.w());if(isNaN(K))K=1;
var r=this.pE.w();if(this.CL){var R=this.ND;if(r==1){L=this.gS.x*(L/100);K=this.gS.y*(K/100)}var Q=[1,1,25.4/R,1/R][r];
L/=Q;K/=Q;if(this.NM.w()){L+=this.gS.x;K+=this.gS.y}if(m.target==this.rd){var F=this.rd.w();if(!0){var q=F/R;
L*=q;K*=q}R=F}if(this.rB.w()){if(m.target==this.uD)K=L*(g.y/g.x);else L=K*(g.x/g.y)}L=Math.max(Math.abs(L),1);
K=Math.max(Math.abs(K),1)}else{var R=this.Ns;if(m.target==this.rd)R=this.rd.w();else{if(this.rB.w()){if(m.target==this.uD)K=L*(g.y/g.x);
else L=K*(g.x/g.y)}var Q=[1,1,25.4/R,1/R][r],n=L/(r==1?100:g.x*Q);R=R/n}L=g.x;K=g.y}this.HG=new jf(Math.round(L),Math.round(K));
this.ND=R;this.rj();this.g(new Y(p.E.z,!1))};js.prototype.IEd=function(m){this.pE.p(m);this.rj()};js.prototype.p=function(m,g){this.gS=m.clone();
this.HG=m.clone();if(g!=null){this.Ns=g;this.ND=g}this.rj()};js.prototype.rj=function(){var m=this.HG.x,g=this.HG.y,L=this.ND,K=(m/g).toFixed(3);
while(K.charAt(K.length-1)=="0")K=K.substring(0,K.length-1);if(K.charAt(K.length-1)==".")K=K.substring(0,K.length-1);
var r="  "+K+" : 1",R=function(W,z){while(z!=0){var u=z;z=W%z;W=u}return W},Q=R(m,g);if(Math.min(m,g)/Q<10)r="  "+Math.round(m/Q)+" : "+Math.round(g/Q);
this.IJk.p(r);if(this.NM.w()){m-=this.gS.x;g-=this.gS.y}var F=this.pE.w();if(F==1){if(this.CL){m=100*m/this.gS.x;
g=100*g/this.gS.y}else{m=g=100*this.Ns/this.ND}}m=Math.round(m);g=Math.round(g);var q=[1,1,25.4/L,1/L][F];
m*=q;g*=q;var n=F>2?2:0;this.uD.IIB(n);this.dZ.IIB(n);this.uD.p(m);this.dZ.p(g);this.rd.p(L)};js.prototype.w=function(){return this.HG.clone()};
js.prototype.IDj=function(){return this.ND};function pn(){aO.call(this);this.bU=0;this.JQ=[0,0,1,1,100,100];
this.Q=p.Y("span","fitem");this.RT=new aW(null,[[12,89,0],[12,89,1],[12,89,2]]);this.Q.appendChild(this.RT.Q);
this.RT.v(p.E.z,this.Qy,this);this.uD=new RZ("W",null,3);this.uD.p(0);this.Q.appendChild(this.uD.Q);
this.uD.v(p.E.z,this.Qy,this);this.dZ=new RZ("H",null,3);this.dZ.p(0);this.Q.appendChild(this.dZ.Q);
this.dZ.v(p.E.z,this.Qy,this);this.p({Dn:0,x:0,y:0})}pn.prototype=new aO;pn.prototype.b=function(){p.YP(this.uD,this.dZ);
this.RT.b()};pn.prototype.Qy=function(m){if(m.target==this.RT){var g=this.w(),L=this.JQ;L[this.bU*2]=g.x;
L[this.bU*2+1]=g.y;this.bU=g.Dn;this.p({Dn:g.Dn,x:L[g.Dn*2],y:L[g.Dn*2+1]})}this.g(new Y(p.E.z,!1))};
pn.prototype.p=function(m){this.RT.p(m.Dn);this.uD.p(m.x);this.dZ.p(m.y);if(m.Dn==0){this.uD.Mp();this.dZ.Mp()}else{this.uD.eo();
this.dZ.eo()}};pn.prototype.w=function(){return{Dn:this.RT.w(),x:parseInt(this.uD.w()),y:parseInt(this.dZ.w())}};
function Rt(m,g){aO.call(this);this.rf=m;this.Q=p.Y("span","labelitem fitem"+(g?" spread":""));this.b()}Rt.prototype=new aO;
Rt.prototype.p=function(m){this.Q.textContent=m};Rt.prototype.w=function(){return this.Q.textContent};
Rt.prototype.eo=function(){this.Q.removeAttribute("disabled")};Rt.prototype.Mp=function(){this.Q.setAttribute("disabled","")};
Rt.prototype.dv=function(m){this.Q.textContent=m};Rt.prototype.b=function(){this.Q.textContent=aT.get(this.rf)};
Rt.prototype.IRf=function(){return this.rf};function mN(m){aO.call(this);this.Q=p.Y("span","");this.IJA=m;
this.$d=new mc("Off X",-100,100,m?"%":"px",0,!1);this.Ja=new mc("Off Y",-100,100,m?"%":"px",0,!1);this.$d.v(p.E.z,this.Qy,this);
this.Ja.v(p.E.z,this.Qy,this);this.Q.appendChild(this.$d.Q);this.Q.appendChild(this.Ja.Q)}mN.prototype=new aO;
mN.prototype.b=function(){this.$d.b();this.Ja.b()};mN.prototype.Qy=function(m){this.g(new Y(p.E.z,!1))};
mN.prototype.IEt=function(m){this.$d.p(m.x);this.Ja.p(m.y)};mN.prototype.I$V=function(){return new jf(this.$d.w(),this.Ja.w())};
mN.prototype.p=function(m){var g=m.Hrzn.v,L=m.Vrtc.v;if(this.IJA){g=g.val;L=L.val}this.$d.p(g);this.Ja.p(L)};
mN.prototype.w=function(){var m=this.$d.w(),g=this.Ja.w();if(this.IJA)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:m}},Vrtc:{t:"UntF",v:{type:"#Prc",val:g}}};
else return{classID:"Pnt",Hrzn:{v:m,t:"doub"},Vrtc:{v:g,t:"doub"}}};function R_(m,g,L,K,r,R,Q,F,q){Rs.call(this,m,g,L,K,r,!0,R,q);
p.RM(this.Q,"rangedropinput");this.Q.appendChild(this.Oq);this.Ym.setAttribute("style","width:"+(F?F:3.3)+"em");
this.Q.appendChild(this.Ym);this.Ilm=p.Y("span","rangecont");this.Ilm.appendChild(this.ed);this.bI=p.Y("button");
this.bI.innerHTML="\u25BC";p.yG(this.bI,this.IXU.bind(this));if(Q!=!0)this.Q.appendChild(this.bI);this.Eu=new aO;
this.Eu.Q=this.Ilm}R_.prototype=new Rs;R_.prototype.IXU=function(m){if(p.Ya(this.Eu.Q))return;m.stopPropagation();
var g=this.Q.getBoundingClientRect();this.ed.setAttribute("style","width:"+g.width+"px;");var L=new Y(p.E.V,!0);
L.data={P:p.o.xW,Mt:this.Eu,x:g.left,y:g.top+g.height};this.g(L)};function pU(){aO.call(this);this.Q=p.Y("span","fitem strokebutton");
this.bq=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.mm=JSON.parse(JSON.stringify(aU.WL.default));
this.CT=p.Y("button");this.Q.appendChild(this.CT);this.CT.addEventListener("click",this.aa.bind(this),!1);
var m=p.Y("canvas","gsicon");this.Ju=m.getContext("2d");this.CT.appendChild(m);var g=p.Y("span");g.textContent=" \u25BC";
this.CT.appendChild(g);this.Vy=new aO;this.Vy.parent=this;this.Vy.Q=p.Y("div","floatcont form");var L=this.Vy.Q;
L.setAttribute("style","width: 14em;");this.Qx=[new aW([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new IC([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new IC([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new RZ([19,9,2])];
for(var K=0;K<this.Qx.length;K++){var r=this.Qx[K];L.appendChild(r.Q);var R=K<4?p.E.z:"click";r.v(R,this.Qy,this)}p.da(L);
this.Sc=[];var Q=this.IXq.bind(this);for(var K=0;K<this.bq.length;K++){var F=p.Y("button","fitem");this.Sc.push(F);
L.appendChild(F);F.addEventListener("click",Q,!1);var m=p.Y("canvas","gsicon"),q=m.getContext("2d");
F.appendChild(m);this.IDu(q,40,20,this.bq[K])}}pU.prototype=new aO;pU.prototype.aa=function(m){var g=this.CT.getBoundingClientRect(),L=new Y(p.E.V,!0);
L.data={P:p.o.xW,Mt:this.Vy,x:g.left,y:g.top+g.height+4};this.g(L)};pU.prototype.Qy=function(m){var RJ=this.Qx,g=RJ.indexOf(m.target),L=[];
for(var K=0;K<4;K++)L.push(RJ[K].w());this.mm=this.IDF(L);this.g(new Y(p.E.z,!1))};pU.prototype.IXq=function(m){var g=this.Sc.indexOf(m.currentTarget);
this.p(this.IDF(this.bq[g]));this.g(new Y(p.E.z,!1))};pU.prototype.IDF=function(m){var g=JSON.parse(JSON.stringify(this.mm)),L=m[0],K=m[1],r=m[2],R=m[3];
if(L!=null)g.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aU.WL.ZE[L];if(K!=null)g.strokeStyleLineCapType.v.strokeStyleLineCapType=aU.WL.Zi[K];
if(r!=null)g.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aU.WL.join[r];var Q=g.strokeStyleLineDashSet.v=[];
R=R.split(" ");while((R.length&1)!=0)R.pop();for(var F=0;F<R.length;F++)Q.push({t:"UntF",v:{type:"#Nne",val:parseInt(R[F])}});
return g};pU.prototype.b=function(){for(var m=0;m<this.Qx.length;m++)this.Qx[m].b()};pU.prototype.p=function(m){this.mm=JSON.parse(JSON.stringify(m));
var g=aU.WL.ZE.indexOf(m.strokeStyleLineAlignment.v.strokeStyleLineAlignment),L=aU.WL.Zi.indexOf(m.strokeStyleLineCapType.v.strokeStyleLineCapType),K=aU.WL.join.indexOf(m.strokeStyleLineJoinType.v.strokeStyleLineJoinType),r=[],R=m.strokeStyleLineDashSet.v;
for(var Q=0;Q<R.length;Q++)r.push(R[Q].v.val);var RJ=this.Qx;RJ[0].p(g);RJ[1].p(L);RJ[2].p(K);RJ[3].p(r.join(" "));
var F=[];for(var q=0;q<4;q++)F.push(RJ[q].w());this.IDu(this.Ju,40,16,F)};pU.prototype.w=function(){return JSON.parse(JSON.stringify(this.mm))};
pU.prototype.IDu=function(m,g,L,K){var r=K[0],R=K[1],Q=K[2],F=K[3].split(" ").map(parseFloat);p.Tg(m.canvas,g,L);
var q=Math.min(5,this.mm.strokeStyleLineWidth.v.val);for(var n=0;n<F.length;n++)F[n]*=q;m.clearRect(0,0,g,L);
m.setLineDash(F);m.lineCap=["butt","round","square"][R];m.lineJoin=["miter","round","bevel"][Q];m.lineWidth=q;
m.beginPath();m.moveTo(0,L/2);m.lineTo(g*2,L/2);m.stroke()};function mG(m){Rk.call(this,m,!1,"contourbutton",34,16,am.Ip);
this.gR=new RZ([12,86],null,16);this.gR.v("input",this.nc,this);this.Vy.Q.appendChild(this.gR.Q);this.bj=null;
this.Yh="";this.rN=null;this.p(qs.Rw())}mG.prototype=new Rk;mG.prototype.b=function(){Rk.prototype.b.call(this);
this.gR.b()};mG.prototype.ai=function(m){this.p(this.bj[m.target.w()]);this.g(new Y(p.E.z))};mG.prototype.nc=function(m){this.Yh=this.gR.w().toLowerCase();
this.IDP()};mG.JD=!1;mG.prototype.df=function(){if(!this.fK)return;var m=this.TJ;if(m==null||!mG.JD){var g=new Y(p.E.V,!0);
g.data={P:p.o.Yj,Su:{url:"rsrc/basic/fa_basic.csh"}};this.g(g);mG.JD=!0}else{var L=Math.floor(38*p.M()),K=Math.floor(38*p.M());
this.rN=[];for(var r=0;r<m.length;r++)this.rN.push(mG.IwL(m[r],L,K));this.IDP();this.fK=!1}};mG.prototype.IDP=function(){var m=Math.floor(38*p.M()),g=Math.floor(38*p.M());
this.bj=[];var L=[],K=[],r=this.TJ;for(var R=0;R<r.length;R++){if(r[R].BE.toLowerCase().indexOf(this.Yh)==-1)continue;
this.bj.push(r[R]);L.push(this.rN[R]);K.push(r[R].BE)}this.Vo.dY(L,K,m,g)};mG.prototype.p=function(m){this.ew=mG.clone(m);
this.sL()};mG.prototype.sL=function(){var m=Math.floor(23*p.M()),g=Math.floor(23*p.M()),L=mG.IwL(this.ew,m,g);
this.BI.setAttribute("src",L);p.Wr(this.BI,m,g)};mG.prototype.w=function(){return mG.clone(this.ew)};
mG.clone=function(m){return{BE:m.BE,nL:m.nL,W:x.Lb.QT(m.W),Fi:m.Fi.clone()}};mG.Dt=null;mG.EL=null;mG.IwL=function(m,g,L){var K=x.Lb.QT(m.W),r=m.Fi,R=Math.min(g/r.j,L/r.F)*.9,Q=new aC;
Q.translate(-.5,-.5);Q.scale(.95,.95);Q.translate(.5,.5);Q.scale(R*r.j,R*r.F);I.q._R(K,Q);var F=new x.Lb;
F.W=K;var q=F.WN();q.rect.x=Math.floor((g-q.rect.j)/2);q.rect.y=Math.floor((L-q.rect.F)/2);var n=I.m(q.rect.c()*4);
I._U(n,4278190080);I.eb(q.channel);I.eX(q.channel,n,0);I.eX(q.channel,n,1);I.eX(q.channel,n,2);var W=mG;
if(W.Dt==null)W.Dt=p.Y("canvas");var z=W.Dt,u=z.getContext("2d");if(z.width!=g||z.height!=L||W.EL==null){z.width=g;
z.height=L;W.EL=u.createImageData(g,L)}var N=W.EL;I._U(N.data,4294967295);I.pq(n,q.rect,N.data,new v(0,0,g,L));
u.putImageData(N,0,0);return z.toDataURL()};function me(m){Rk.call(this,m,!1,"ICCButton",16,12,am.Ix,!0);
this.Vo.$R(1)}me.prototype=new Rk;me.prototype.Zz=function(){var m="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var g=0;g<m.length;g++)m[g]="luts/"+m[g]+".CUBE";return m};me.prototype.ai=function(m){this.p(this.TJ[m.target.w()]);
this.g(new Y(p.E.z))};me.prototype.df=function(){if(!this.fK)return;var m=Math.floor(1*p.M()),g=Math.floor(1*p.M()),L=[],K=[],r=this.TJ;
for(var R=0;R<r.length;R++){var Q=r[R].Nm.v.split("\\").pop().split("/").pop();K.push(Q);L.push(me.yP(r[R],m,g))}this.Vo.dY(L,K,m,g);
this.fK=!1};me.prototype.p=function(m){this.ew=JSON.parse(JSON.stringify(m));this.sL()};me.yP=function(m,g,L){var K=p.Y("canvas"),Q="ICC / 3DL / look / cube";
K.width=g;K.height=L;var r=K.getContext("2d"),R=Math.floor(14*p.M());r.font=R+"px sans-serif";if(m.Nm)Q=m.Nm.v.split("\\").pop().split("/").pop();
r.fillText(Q,10,R);return K.toDataURL()};me.prototype.sL=function(){var m=Math.floor(120*p.M()),g=Math.floor(20*p.M());
this.BI.setAttribute("src",me.yP(this.ew,m,g));p.Wr(this.BI,m,g)};me.prototype.w=function(){return JSON.parse(JSON.stringify(this.ew))};
function pH(){aO.call(this);this.oW=null;this.Q=p.Y("span","fitem");this.Qg=new I$([14,9]);this.bm=new R_(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.$t=new pU;this.Qc=[this.Qg,this.bm,this.$t];for(var m=0;m<this.Qc.length;m++){var g=this.Qc[m];
this.Q.appendChild(g.Q);g.parent=this;g.v(p.E.z,this.Qy,this)}}pH.prototype=new aO;pH.prototype.b=function(){for(var m=0;
m<this.Qc.length;m++)this.Qc[m].b()};pH.prototype.SI=function(m,g){this.Qg.SI(m,g)};pH.prototype.Qy=function(m){var g=this.oW,L=this.Qg.w(),K=L.co;
g.strokeEnabled.v=K!=0;if(K!=0){g.strokeStyleContent.v=L.jl;L.jl.classID=aU.WL.yN[K-1]}g.strokeStyleLineWidth.v.val=this.bm.w();
if(m.target==this.$t)g=this.$t.w();this.oW=g;this.g(new Y(p.E.z,!1))};pH.prototype.p=function(m,g,L){this.oW=JSON.parse(JSON.stringify(g));
var K=g.strokeEnabled.v,r=g.strokeStyleContent.v,R=K?{co:1+aU.WL.yN.indexOf(r.classID),jl:r}:{co:0};
this.Qg.p(m,R,L);this.bm.p(g.strokeStyleLineWidth.v.val);this.$t.p(g)};pH.prototype.w=function(){return JSON.parse(JSON.stringify(this.oW))};
function DU(m,g){aO.call(this);this.Q=p.Y("span","fitem");this.CS=["front","union","difference","intersection"];
var L=[[18,0],[18,1],[18,2],[18,3]];this.gr=[];this.bx=0;for(var K=0;K<this.CS.length;K++){var r=new aX("<img src=\""+PIMG["set/"+this.CS[K]]+"\" class=\"autoscale gsicon\" />",!1,L[K]);
r.v("click",this.IXj,this);this.Q.appendChild(r.Q);this.gr.push(r)}this.gr[0].ef()}DU.prototype=new aO;
DU.prototype.w=function(){return this.CS[this.bx]};DU.prototype.p=function(m){this.bx=this.CS.indexOf(m);
for(var g=0;g<this.gr.length;g++)this.gr[g].Ec();this.gr[this.bx].ef()};DU.prototype.IXj=function(m){this.p(this.CS[this.gr.indexOf(m.currentTarget)]);
this.g(new Y(p.E.z,!1))};DU.prototype.b=function(){for(var m=0;m<this.gr.length;m++)this.gr[m].b()};
function RZ(m,g,L,K){aO.call(this);var r=p.Lh(),R="";this.Q=p.Y("span","fitem tinput");if(m){this.rf=m;
this.Oq=p.Y("label","flabel");this.Q.appendChild(this.Oq);this.Oq.setAttribute("for",r);this.b()}if(K==null){this.Ym=p.Y("input","");
this.Ym.setAttribute("type","text")}else this.Ym=p.Y("textarea","scrollable");this.Ym.setAttribute("id",r);
if(L)R+="width:"+L+"em;";if(K){this.Ym.setAttribute("rows",K)}if(R!="")this.Ym.setAttribute("style",R);
this.Q.appendChild(this.Ym);if(g){this.$M=p.Y("span","");this.$M.textContent=g;this.Q.appendChild(this.$M)}this.Ym.addEventListener("change",this.jj.bind(this),!1);
this.Ym.addEventListener("input",this.IXa.bind(this),!1)}RZ.prototype=new aO;RZ.prototype.b=function(){if(this.rf)this.Oq.textContent=aT.get(this.rf)+":"};
RZ.prototype.dv=function(m){this.Oq.textContent=m};RZ.prototype.p=function(m){this.Ym.value=m==null?"":m};
RZ.prototype.w=function(){return this.Ym.value};RZ.prototype.rD=function(){this.Ym.select();this.Ym.focus()};
RZ.prototype.jj=function(m){this.g(new Y(p.E.z,!1))};RZ.prototype.IXa=function(m){this.g(new Y("input",!1))};
function a$(m,g,L,K,r,R){Rs.call(this,m,g,L,K,r,!0,R);p.RM(this.Q,"trangeinput");this.Q.appendChild(this.Oq);
this.Q.appendChild(this.Ym);var Q=p.Y("span","rangecont");this.Q.appendChild(Q);Q.appendChild(this.ed);
this.ed.setAttribute("style","width:97%;")}a$.prototype=new Rs;function Dt(){aO.call(this);this.nu=[10,!0,!0];
this.Q=p.Y("span","");this.eY=[new R_([12,24],0,255),new au("Anti-alias"),new au([12,25])];for(var m=0;
m<3;m++){var g=this.eY[m];g.parent=this;g.p(this.nu[m]);this.Q.appendChild(g.Q);g.v(p.E.z,this.Qy,this)}}Dt.prototype=new aO;
Dt.prototype.Qy=function(){for(var m=0;m<3;m++)this.nu[m]=this.eY[m].w();this.g(new Y(p.E.z,!1))};Dt.prototype.p=function(m){this.nu=m.slice(0);
for(var g=0;g<3;g++)this.eY[g].p(m[g])};Dt.prototype.w=function(){return this.nu.slice(0)};Dt.prototype.b=function(){for(var m=0;
m<3;m++)this.eY[m].b()};function pW(m,g){aO.call(this);if(g==null)g=!1;this.rN=[];this.ITX=0;this.ISL=0;
this.Ci=0;this.ne=[];this.VT=[];for(var L in I.QM.type){if(L=="warpCustom"&&!g)continue;this.ne.push(L);
this.VT.push(I.QM.type[L])}this.Q=p.Y("span","fitem warpbutton");this.Vy=new aO;this.Vy.Q=p.Y("div","floatcont");
if(m){this.Qz=m;this.Oq=p.Y("label","flabel");this.Q.appendChild(this.Oq)}this.P=p.Y("button");this.Q.appendChild(this.P);
this.P.addEventListener("click",this.aa.bind(this),!1);this.jI=new It(!0);this.Vy.Q.appendChild(this.jI.Q);
this.jI.v(p.E.z,this.IXw,this);this.b()}pW.prototype=new aO;pW.prototype.dv=function(m){this.Oq.textContent=m};
pW.prototype.b=function(){if(this.Qz)this.Oq.innerHTML=aT.get(this.Qz)+":";this.rN=[];var m=p.Y("canvas",""),g=m.getContext("2d"),L=0;
g.font=Math.floor(13*p.M())+"px sans-serif";for(var K=0;K<this.ne.length;K++){L=Math.max(L,g.measureText(aT.get(I.QM.type[this.ne[K]])).width)}var r=this.ITX=Math.floor(50*p.M()+L),R=this.ISL=Math.floor(23*p.M());
m.width=r;m.height=R;this.Vy.Q.setAttribute("style","width:"+Math.floor(8+r/p.M())+"px;");g.font=Math.floor(13*p.M())+"px sans-serif";
g.lineWidth=1;g.strokeStyle="#000000";var Q=Math.floor(16*p.M()),F=new v(0,0,Q,Q);for(var K=0;K<this.ne.length;
K++){var q=this.ne[K];g.clearRect(0,0,m.width,m.height);var n=I.QM.QM(F,q,!0,.3,0,0),W=I.e.Gl(F);W.O.push("M","L","M","L");
W.D.push(0,Q/2,Q,Q/2);W.D.push(Q/2,0,Q/2,Q);W=I.e.IH(W);W=I.e.Ic(W,Q/5);I.pl.apply(n,W.D,F);I.e.f(W.D,new aC(1,0,0,1,Math.floor(8*p.M())+.5,Math.floor(3*p.M())+.5),W.D);
g.beginPath();Typr.U.pathToContext({cmds:W.O,crds:W.D},g);g.stroke();g.fillText(aT.get(I.QM.type[q]),Math.floor(40*p.M()),Math.floor(16*p.M()));
this.rN.push(m.toDataURL())}this.jI.dY(this.rN,null,r,R);this.sL()};pW.prototype.aa=function(m){var g=this.P.getBoundingClientRect(),L=new Y(p.E.V,!0);
L.data={P:p.o.xW,Mt:this.Vy,x:g.left,y:g.top+g.height+4};this.g(L)};pW.prototype.IXw=function(m){var g=new Y(p.E.V,!0);
g.data={P:p.o.LN,Mt:this.Vy};this.g(g);this.Ci=m.target.w();this.sL();this.g(new Y(p.E.z))};pW.prototype.sL=function(){this.jI.a_(this.Ci);
this.P.innerHTML="<img src=\""+this.rN[this.Ci]+"\" class=\"gsicon\" />";var m=this.ITX,g=this.ISL;p.Wr(this.P.firstChild,m,g)};
pW.prototype.w=function(){return this.ne[this.Ci]};pW.prototype.p=function(m){this.Ci=this.ne.indexOf(m);
this.sL()};function qU(m,g,L){aO.call(this);if(m==null)m=!1;if(g==null)g=!1;if(L==null)L=!1;this.IUf=g;
this.QM=null;this.rt=new pW([12,22],L);this.rt.parent=this;this.rt.v(p.E.z,this.BS,this);this.JR=new aW([22,0],[[22,4,0],[22,4,1]]);
this.JR.v(p.E.z,this.BS,this);var K=m?R_:a$;this.Fa=new K([22,1],-100,100,"%");this.Fm=new K("Horizontal Distortion:",-100,100,"%");
this.Fo=new K("Vertical Distortion:",-100,100,"%");this.Fa.parent=this.Fm.parent=this.Fo.parent=this;
this.Fa.v(p.E.z,this.BS,this);this.Fm.v(p.E.z,this.BS,this);this.Fo.v(p.E.z,this.BS,this)}qU.prototype=new aO;
qU.prototype.b=function(){this.rt.b();this.JR.b();this.Fa.b();var m=this.IUf?1:100;this.Fm.dv(aT.get([22,2]).substring(0,m)+":");
this.Fo.dv(aT.get([22,3]).substring(0,m)+":")};qU.prototype.BS=function(){var m=this.QM,g=this.rt.w(),L=m.warpStyle.v.warpStyle;
if(g=="warpCustom")I.QM.RB(I.QM.Xd(m),m);else delete m.customEnvelopeWarp;m.warpStyle.v.warpStyle=this.rt.w();
m.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.JR.w()];m.warpValue.v=this.Fa.w();m.warpPerspective.v=this.Fm.w();
m.warpPerspectiveOther.v=this.Fo.w();if(g=="warpNone"||g=="warpCustom"){m.warpValue.v=0;m.warpPerspective.v=0;
m.warpPerspectiveOther.v=0}else if(L=="warpNone"||L=="warpCustom")m.warpValue.v=50;this.g(new Y(p.E.z,!1));
this.p(m)};qU.prototype.w=function(m){return JSON.parse(JSON.stringify(this.QM))};qU.prototype.p=function(m){this.QM=JSON.parse(JSON.stringify(m));
this.rt.p(m.warpStyle.v.warpStyle);this.JR.p(m.warpRotate.v.Ornt=="Hrzn"?0:1);this.Fa.p(m.warpValue.v);
this.Fm.p(m.warpPerspective.v);this.Fo.p(m.warpPerspectiveOther.v);var g=m.warpStyle.v.warpStyle,L=g=="warpNone"||g=="warpCustom",K=[this.JR,this.Fa,this.Fm,this.Fo];
for(var r=0;r<K.length;r++)if(L)K[r].Mp();else K[r].eo()};function IJ(m){aO.call(this);this.Q=p.Y("div");
this.bw=m;this.Ck=!1;this.zt=new jf(0,0);this.xr="position:relative;overflow:hidden;";this.p$=null;this.jp=new p.Yb(this.Q);
this.JC("grab");this.ZQ=p.Y("canvas","canv");this.Q.appendChild(this.ZQ);this.Ju=this.ZQ.getContext("2d");
this.IiQ=null;this.gM=null;this.bJ=null;this.Ne=0;this.bG=0;this.bS=0;this.III=this.Ikj.bind(this);this.IiB=null;
this.L=new Dx({j:1,F:1});this.NZ=null;this.xa=null;this.IIq=this.cX.bind(this);this.Iky=this.Fg.bind(this);
this.IOR=this.Cs.bind(this);this.IIj=this.Jp.bind(this);this.IOF=0;this.jD=null;this.IJR(this.ZQ);this.El(this)}IJ.prototype=new aO;
IJ.prototype.KK=function(m){var g=this.p$;this.Ck=m.a(C.vD);if(this.Ck)g="grab";this.jp.e_(g,this.xr);
if(m.a(C.EZ)){var L=0;if(m.a(C.Dw))L=1;if(m.a(C.Hz))L=-1;if(L!=0){this.IGz(new jf(this.ZQ.width/2,this.ZQ.height/2),L==1)}}};
IJ.prototype.JC=function(m){this.p$=m;this.jp.e_(m,this.xr)};IJ.prototype.IJR=function(m){p.yG(m,this.IIq);
p.jk(m);m.addEventListener("wheel",this.IIj,!1)};IJ.prototype.El=function(m){m.v("viewchange",this.IXL,this)};
IJ.prototype.IXL=function(m){var g=this.L.T,L=m.currentTarget.NL();this.L.T=L.T;this.L.H=L.H.clone();
if(g!=L.T)this.Ey();this.dV()};IJ.prototype.NL=function(){return{T:this.L.T,H:this.L.H}};IJ.prototype.p=function(m,g){var L=m[0].wh;
if(this.gM!=null&&this.gM[0].wh.TB(L)){}else{this.L.$X={j:L.j,F:L.F};this.L.H=new jf(0,0);this.L.T=1}this.gM=m;
this.Ey();this.NJ();this.Ne=0;this.bG=0;this.bS=g==null?0:g;this.Ikj()};IJ.prototype.Jp=function(m){m.preventDefault();
if(m.deltaY==0||Date.now()-this.IOF<100)return;var g=p.c_(m);g.x=p.M()*g.x;g.y=p.M()*g.y;this.IOF=Date.now();
this.IGz(g,m.deltaY<0)};IJ.prototype.IGz=function(m,g){l.S$.Ru(this.L,m,g);this.ISq()};IJ.prototype.IXE=function(){var m=this.L,g=m.$X;
this.L.T=l.S$.TM(g.j,g.F,m.r.j,m.r.F);this.ISq()};IJ.prototype.ISq=function(){this.Ey();this.g(new Y("viewchange"));
this.g(new Y("zoom"))};IJ.prototype.Ey=function(){this.bJ=[];var m=this.L.T;for(var g=0;g<this.gM.length;
g++){var L=this.gM[g],K=new Uint8Array(L.data),r;if(m>=1)r={qT:K,rect:L.wh};else r=I.xO(K,L.wh,m);this.bJ.push(r)}};
IJ.prototype.NJ=function(){clearTimeout(this.IiB)};IJ.prototype.dV=function(){if(this.gM==null||!p.Ya(this.ZQ))return;
var m=this.IiQ,g=this.ZQ.width,L=this.ZQ.height,Q,F;if(m==null||m.width!=g||m.height!=L){m=this.IiQ=this.Ju.createImageData(g,L);
console.log("creating image data")}var K=this.gM[this.Ne],r=this.bJ[this.Ne],R=this.L;if(R.T<=1){var q=r.rect.clone();
q.x=R.H.x+Math.floor((R.r.j-r.rect.j)/2);q.y=R.H.y+Math.floor((R.r.F-r.rect.F)/2);Q=r.qT;F=q}else{var n=R.cV(),W=R.hc(),z=new v(0,0,n.j*R.T,n.F*R.T);
z.x=n.x*R.T+W.x;z.y=n.y*R.T+W.y;if(R.rb==null||R.rb.length!=n.c()*4){R.rb=I.m(n.c()*4)}if(R.eq==null||R.eq.length!=z.c()*4){R.eq=I.m(z.c()*4)}I._U(R.rb,0);
I.pq(r.qT,r.rect,R.rb,n);I.scale._f(R.rb,n.j,n.F,R.eq,z.j,z.F,R.T);Q=R.eq;F=z}var W=R.hc();I.fe(m.data,R.r.j,R.r.F,8,-W.x,-W.y);
I.h.dq("norm",Q,F,m.data,R.r,R.r,1);this.Ju.setTransform(1,0,0,1,0,0);this.Ju.putImageData(m,0,0);if(R.T<1)W=F;
var u=W.x,N=W.y,b=W.j,B=W.F;this.Ju.clearRect(u,N,-1e3,B);this.Ju.clearRect(u+b,N,1e3,B);this.Ju.clearRect(u-1e3,N,b+2e3,-1e3);
this.Ju.clearRect(u-1e3,N+B,b+2e3,1e3);var h=IJ.Iik(R.T,"#ffffff");this.Ju.putImageData(h,0,R.r.F-h.height)};
IJ.ISt={};IJ.Iik=function(m,g){var L="z"+m+","+g,K=IJ.ISt[L];if(K)return K;var r=Math.round(50*p.M()),R=Math.round(18*p.M()),Q=p.Y("canvas"),F=Q.getContext("2d");
Q.width=r;Q.height=R;F.fillStyle="rgba(1,1,1,1)";F.fillRect(0,0,r,R);F.font=Math.round(11*p.M())+"px monospace";
F.fillStyle=g;var q=m*100;if(q<100)q=q.toFixed(2);q=q+"%";var n=F.measureText(q).width;F.fillText(q,(r-n)/2,Math.round(R*.7));
K=IJ.ISt[L]=F.getImageData(0,0,r,R);return K};IJ.prototype.Ikj=function(){var m=this.gM,g=m.length,L=this.Ne,K=this.gM[L],r=(L+1)%g;
this.dV();if(g!=1&&m[r].wh.TB(K.wh)){var R=K.bO?parseInt(K.bO.split(",").pop()):30;if(R==0)R=16;if(r==0)this.bG++;
if(this.bS==0||this.bG<this.bS)this.IiB=setTimeout(this.III,R)}this.Ne=r};IJ.prototype.Dj=function(m,g){if(m<=0||g<=0)return;
var L=Math.floor(m*p.M()),K=Math.floor(g*p.M());this.L.r=new v(0,0,L,K);this.ZQ.width=L;this.ZQ.height=K;
this.ZQ.setAttribute("style","width:"+L/p.M()+"px; height:"+K/p.M()+"px; display:block;");this.dV()};
IJ.prototype.cX=function(m){this.jD=m.target;p.Wj(window,this.Iky);p.WT(window,this.IOR);this.NZ=p.c_(m,this.ZQ);
this.NZ.x*=p.M();this.NZ.y*=p.M();this.zt=this.NZ;this.xa=this.L.H.clone();if(this.bw&&this.jD==this.ZQ&&!this.Ck)this.g(new Y("mousedown"))};
IJ.prototype.Fg=function(m){var g=this.L,L=this.gM[this.Ne].wh.clone();L.j*=g.T;L.F*=g.T;var K=p.c_(m,this.ZQ);
K.x*=p.M();K.y*=p.M();this.zt=K;if(this.bw&&this.jD==this.ZQ&&!this.Ck)this.g(new Y("mousemove"));else if(!g.r.Vp(L)){var r=K.x-this.NZ.x,R=K.y-this.NZ.y;
g.H.x=this.xa.x+Math.round(r);g.H.y=this.xa.y+Math.round(R);this.g(new Y("viewchange"))}};IJ.prototype.Cs=function(m){p.bC(window,this.Iky);
p.yH(window,this.IOR);if(m.detail>1){this.L.T=1;this.L.H.xF(0,0);this.dV()}if(this.bw&&this.jD==this.ZQ&&!this.Ck)this.g(new Y("mouseup"))};
IJ.prototype.JB=function(){return this.L.TV(this.zt.x,this.zt.y)};function jV(){aO.call(this);this.jG=null;
this.Fn=null;this.Ji=null;this.jo=null;this.IOg="";this.jS=[];this.ji=0;this.Cn=[];this.OO=0;this.Tf=null;
var m=this.Q=p.Y("div",""),g=this.IIa=p.Y("div","form");g.setAttribute("style","line-height:0; margin-bottom:0.5em;");
m.appendChild(g);var L=this.Qz=p.Y("span");g.appendChild(L);L.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var K=this.IOK=new au([25,2,0]);K.p(!0);g.appendChild(K.Q);K.v(p.E.z,this.GF,this);var r=this.bi=new au([25,2,1]);
r.p(!1);g.appendChild(r.Q);r.v(p.E.z,this.GF,this);var R=new Rt(" ");g.appendChild(R.Q);var Q=this.bk=new RZ([25,1,1]);
g.appendChild(Q.Q);Q.v(p.E.z,this.GF,this);this.qd=new IA(14);this.qd.Inm(3);g.appendChild(this.qd.Q);
this.qd.parent=this;this.qd.v(p.E.z,this.IXu,this);var F=this.IIR=new aX([25,1,2],null,null,!0);g.appendChild(F.Q);
F.v("click",this.Jh,this);this.IIm=this.IXN.bind(this);this.Jz=p.Y("div","svggallery scrollable");m.appendChild(this.Jz);
this.Jz.addEventListener("scroll",this.IXA.bind(this))}jV.prototype=new aO;jV.prototype.SI=function(m){this.IOH=m};
jV.prototype.b=function(){this.Qz.textContent=aT.get([25,0]);this.qd.b();this.IOK.b();this.bi.b();this.bk.b();
this.IIR.b()};jV.prototype.Dj=function(m,g){g-=26;this.jG=new jf(m,g);this.IIa.setAttribute("style","width:"+m+"px");
this.Jz.setAttribute("style","width:"+m+"px; height:"+g+"px");if(p.Ya(this.Q))this.GF()};jV.prototype.p=function(m){this.Fn=m;
this.GF()};jV.prototype.IXA=function(m){var g=this.Jz;if(g.scrollTop+g.clientHeight+10>=g.scrollHeight){this.GF(!0)}};
jV.prototype.IXu=function(m){this.Ji=null;this.GF()};jV.prototype.IXN=function(m){if(Date.now()-this.OO<2e3)return;
this.OO=Date.now();this.ji=this.Cn.indexOf(m.currentTarget);var g=this.Ef(this.Fn.x,this.Fn.y);if(g[1]){var L=g[1].largeImageURL,K=new XMLHttpRequest;
K.responseType="arraybuffer";K.open("GET",L,!0);K.onload=this.IXf.bind(this);K.send();return}this.IkX(g)};
jV.prototype.IXf=function(m){var g=m.target.response,L=ax.xo(g),K=ax.EU(L),r=K.X_(g),R=this.Ef(this.Fn.x,this.Fn.y,[g,r[0].wh.j,r[0].wh.F]);
this.IkX(R)};jV.prototype.IkX=function(m){var g=m[0],L=ax.xo(g),K=ax.EU(L),r=new aH("template.psd");
K.X_(g,r);var R=new Y("tempready",!0);R.data={$X:r};this.g(R)};jV.prototype.Jh=function(m){var g=m.target;
this.jS=[];this.GF()};jV.prototype.IBL=function(m){console.log(m.target.response);var g=JSON.parse(m.target.response);
this.jo=g.hits;this.GF()};jV.prototype.GF=function(m){if(this.Fn==null||this.jG==null||this.IOH==null)return;
if(this.jG.x<=0)return;var g=this.Fn.x,L=this.Fn.y;if(Math.min(g,L)<50)return;if(m!=!0){this.Cn=[];p.Lj(this.Jz);
this.Jz.scrollTop=0}if(this.Cn.length>300)return;var K=Math.min(1,300/Math.max(g,L)),r=this.jG.clone();
r.x-=20;var R=Math.max(1,Math.floor(r.x/(g*K))),Q=Math.max(1,Math.ceil(r.y/(L*K)));K=r.x/R/g;var F=R*Q;
if(this.Ji==null){var q=this.IOH.dd.X$();this.Ji=[];for(var n in q){var W=q[n],z=W[3];if(!this.qd.Ex(W))continue;
if(W[5]==null||W[5].slice(0,2)=="gf")continue;this.Ji.push(W)}if(this.Ji.length==0)this.Ji.push(q.DejaVuSans)}var u=this.bi.w(),N=this.bk.w().trim();
this.bk.EA(u);if(u&&(this.jo==null||N!=this.IOg)){var b=new XMLHttpRequest,B="https://pixabay.com/api/?image_type=photo"+(N==""?"":"&q="+encodeURIComponent(N))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(N=="")B+="&safesearch=true";b.open("GET",B,!0);b.onload=this.IBL.bind(this);b.onerror=function(G){console.log(G.target.response)};
b.send();this.IOg=N;return}K*=(g*K-5)/(g*K);var h=this.Cn.length;for(var A=0;A<F;A++){var e=this.ji=h+A;
if(this.jS[e]==null)this.jS[e]=Math.floor(Math.random()*4294967295);var c=this.Ef(Math.round(g*K),Math.round(L*K)),a=c[0];
a=X.d_(new Uint8Array(a));var $=p.Y("span");$.innerHTML=a;this.Cn.push($);this.Jz.appendChild($);$.addEventListener("click",this.IIm,!1)}};
jV.prototype.Ef=function(m,g,L){var K=this.bi.w(),r=this.IOK.w(),R=K&&this.jo.length!=0?this.jo:null;
if(r&&!K)R=null;if(r&&K&&(this.ji&1)==0)R=null;return Ie.RD(m,g,this.jS[this.ji],this.Ji,L?L:R)};function xI(){aO.call(this);
this.Q=p.Y("div");this.mJ=null;this.IOc=null;this.b_=-1;this.FW={JPG:[{SZ:new a$([12,52,0],0,100,"%"),$A:70},{SZ:new au("attach metadata"),$A:!1}],TIFF:[{SZ:new au("attach metadata"),$A:!1}],WEBP:[{SZ:new a$([12,52,0],0,100,"%"),$A:70}],GIF:[{SZ:new a$([12,52,0],0,100,"%"),$A:100}],PNG:[{SZ:new a$([12,52,0],0,100,"%"),$A:100},{SZ:new au("don't use palettes"),$A:!1}],PDF:[{SZ:new RZ([12,52,1]),$A:""},{SZ:new a$([12,52,0],0,100,"%"),$A:100},{SZ:new au("rasterize all"),$A:!1},{SZ:new au("rasterize text"),$A:!1},{SZ:new au("vectorize text"),$A:!1}],EMF:[{SZ:new RZ([12,52,1]),$A:""},{SZ:new au("rasterize all"),$A:!1},{SZ:new au("rasterize text"),$A:!1},{SZ:new au("vectorize text"),$A:!1}],SVG:[{SZ:new au("add raster graphics"),$A:!0},{SZ:new au("add hidden layers"),$A:!1},{SZ:new au("vectorize text"),$A:!1},{SZ:new au("rasterize text"),$A:!1},{SZ:new au("add layer names"),$A:!0},{SZ:new au("pretty-print"),$A:!0}],RAW:[{SZ:new IC([12,72],["1","3","4"]),$A:2},{SZ:new IC([12,34],["8 Bits","16 Bits"]),$A:0},{SZ:new IC("Byte Order",["12-34","34-12"]),$A:0}],anim:[{SZ:new a$("Speed",25,400,"%"),$A:100},{SZ:new R_("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),$A:0},{SZ:new au("reverse frames"),$A:!1}],slcs:[{SZ:new au("As Slices"),$A:!0}]};
for(var m in this.FW){var g=this.FW[m];for(var L=0;L<g.length;L++){g[L].SZ.p(g[L].$A);g[L].SZ.v(p.E.z,this.Xq,this)}}}xI.prototype=new aO;
xI.prototype.IBG=function(){this.b_=-1};xI.prototype.b=function(){for(var m in this.FW)for(var g=0;g<this.FW[m].length;
g++)this.FW[m][g].SZ.b()};xI.prototype.Xq=function(){this.GF();this.g(new Y(p.E.z,!1))};xI.prototype.GF=function(){var m=this.mJ,g=m[0],L=m[1],K=m[2],r=this.FW[g];
if(r==null)r=[];else r=r.slice(0);if(L)r=r.concat(this.FW.anim);if(["GIF","PNG","JPG"].indexOf(g)!=-1&&K)r=r.concat(this.FW.slcs);
if(g+" "+L!=this.b_){this.b_=g+" "+L;p.Lj(this.Q);for(var R=0;R<r.length;R++){this.Q.appendChild(r[R].SZ.Q);
p.da(this.Q)}}var Q=this.IOc=[];for(var R=0;R<r.length;R++)Q.push(r[R].SZ.w())};xI.prototype.IOq=function(m,g,L){this.mJ=[m,g,L];
this.GF()};xI.prototype.w=function(){return this.IOc.slice(0)};function Dm(){aO.call(this);this.Q=p.Y("span","fitem");
this.dm=!1;this.bn=new aX("No",!1,"Cancel");this.AG=new aX("Yes",!1,"Confirm");this.Q.appendChild(this.bn.Q);
this.Q.appendChild(this.AG.Q);this.bn.v("click",this.XC,this);this.AG.v("click",this.XC,this);this.b()}Dm.prototype=new aO;
Dm.prototype.b=function(){this.bn.dv(p.cY("cross",null,"autoscale"));this.AG.dv(p.cY("checkmark",null,"autoscale"))};
Dm.prototype.XC=function(m){this.dm=m.target==this.AG;this.g(new UIEvent("click"))};Dm.prototype.w=function(){return this.dm};
function O(m){aO.call(this);this.IIx=m;this.Q=p.Y("div","");this.gG=[];this.IMk=[]}O.prototype=new aO;
O.prototype.Xm=function(m){};O.prototype.pU=function(){return!1};O.prototype.Dj=function(m,g){};O.prototype.SI=function(m,g){};
O.prototype.$l=function(m){};O.prototype.p=function(m,g,L,K,r,R){var Q=[];this.uf(m,Q,R);for(var F=0;
F<this.gG.length;F++)this.gG[F].p(Q[F])};O.prototype.w=function(){var m=aN.Rw(this.IIx),g=[];for(var L=0;
L<this.gG.length;L++)g.push(this.gG[L].w());this.Bo(m,g);return m};O.prototype.KK=function(m){};O.prototype.BS=function(m){var g=this.IMk;
for(var L=0;L<g.length;L+=2){var K=this.gG[g[L]],r=this.gG[g[L+1]],R=K.w(),Q=r.w();if(m.target==K)r.p(Math.max(R,Q));
else K.p(Math.min(R,Q))}this.g(new Y(p.E.z))};O.prototype.b=function(){for(var m=0;m<this.gG.length;
m++)this.gG[m].b()};O.prototype.Rb=function(m){p.RM(this.Q,"form");var g=this.gG;for(var L=0;L<g.length;
L++){var K=g[L];K.parent=this;K.v(p.E.z,this.BS,this);this.Q.appendChild(K.Q);if(K instanceof au&&g[L+1]instanceof II)continue;
if(m&&m.indexOf(L)!=-1)p.CU(this.Q);else p.da(this.Q)}};O.prototype.RL=function(){return!1};O.prototype.Mc=function(m,g,L,K,r){};
O.prototype.NB=function(m,g,L,K,r){};O.prototype.RK=function(m,g,L,K,r){};O.prototype.Bo=function(m,g){};
O.prototype.uf=function(m,g){};O.Bokh=function(){O.call(this,"Bokh");this.gG=[new aW("Depth Map",["A","b"]),new a$("Focal Distance",0,255),new aW([12,76,1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")),new a$([12,56],0,100),new a$([12,15],0,360),new a$([12,2],0,100),new a$([4,13],0,255),new a$([24,6],0,100),new IC([12,58],[[12,59,0],[12,59,1]]),new au([12,60])];
this.Rb([4,6])};O.Bokh.prototype=new O;O.Bokh.prototype.uf=function(m,g,L){var K=[[22,5,0],[6,5,3],[6,2]],r=m.BkDi.v.BtDi,R=m.BkDc,Q=0;
if(r=="BeIn")Q=0;else if(r=="BeIt"&&R.v.BtDc=="BeCt")Q=1;else if(r=="BeIt"&&R.v.BtDc=="BeCm")Q=2;else Q=3+R.v;
for(var F=0;F<L[1].length;F++)K.push(L[1][F].name);this.gG[0].EJ(K,[3]);g[0]=Q;g[1]=m.BkDp.v;g[2]=parseInt(m.BkIs.v.BtIs.slice(3))-3;
g[3]=m.BkIb.v;g[4]=m.BkIr.v;g[5]=m.BkSb.v;g[6]=m.BkSt.v;g[7]=m.BkNa.v;g[8]=m.BkNt.v.BtNt=="BeNu"?0:1;
g[9]=m.BkNm.v};O.Bokh.prototype.Bo=function(m,g){var L;if(g[0]==0){L="BeIn";delete m.BkDc}else if(g[0]<3){L="BeIt";
m.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][g[0]-1]}}}else{L="BeIa";m.BkDc={t:"long",v:g[0]-3}}m.BkDi.v.BtDi=L;
m.BkDp.v=g[1];m.BkIs.v.BtIs="BeS"+(3+g[2]);m.BkIb.v=g[3];m.BkIr.v=g[4];m.BkSb.v=g[5];m.BkSt.v=g[6];m.BkNa.v=g[7];
m.BkNt.v.BtNt=["BeNu","BeNg"][g[8]];m.BkNm.v=g[9]};O["\0\0\x03\xFD"]=function(){O.call(this,"\0\0\x03\xFD");
this.gG=[new a$([12,56],.1,10,"px",!0),new a$("Cleanliness",0,10,"px",!0),new a$([12,38],.1,10,null,!0),new a$("Bristle Detail",0,10,null,!0),new au("Lighting"),new a$("Shine",0,10,null,!0),new mv([12,15])];
this.Rb()};O["\0\0\x03\xFD"].prototype=new O;O["\0\0\x03\xFD"].prototype.uf=function(m,g){var L="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var K=0;K<L.length;K++)g[K]=m[L[K]].v;g[6]=m.LghD.v};O["\0\0\x03\xFD"].prototype.Bo=function(m,g){var L="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var K=0;K<L.length;K++)m[L[K]].v=g[K];m.LghD.v=g[6].Fj};O["\0\0\x03^"]=function(){O.call(this,"\0\0\x03^");
this.gG=[new a$([24,3,1],0,30,"px"),new a$([12,38],0,200,"%"),new au([4,11]),new a$("High",0,100,"%"),new a$("Medium",0,100,"%"),new a$("Low",0,100,"%")];
this.Rb()};O["\0\0\x03^"].prototype=new O;O["\0\0\x03^"].prototype.uf=function(m,g){g[0]=m.blur.v;g[1]=m.textureScale.v*100;
g[2]=m.Scl.v==-1;var L=m.Dtl.v;g[3]=L[0].v*100;g[4]=L[1].v*100;g[5]=L[2].v*100};O["\0\0\x03^"].prototype.Bo=function(m,g){m.blur.v=g[0];
m.textureScale.v=g[1]/100;m.Scl.v=g[2]?-1:1;var L=m.Dtl.v;L[0].v=g[3]/100;L[1].v=g[4]/100;L[2].v=g[5]/100};
O.LnsF=function(){O.call(this,"LnsF");this.gG=[new a$([12,2],10,300,"%"),new IC([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new a$("Position X",0,100,"%"),new a$("Position Y",0,100,"%")];
this.Rb()};O.LnsF.prototype=new O;O.LnsF.prototype.uf=function(m,g){g[0]=m.Brgh.v;g[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(m.Lns.v.Lns);
var L=m.FlrC.v;g[2]=Math.round(L.Hrzn.v*100);g[3]=Math.round(L.Vrtc.v*100)};O.LnsF.prototype.Bo=function(m,g){m.Brgh.v=g[0];
m.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][g[1]];var L=m.FlrC.v;L.Hrzn.v=g[2]/100;L.Vrtc.v=g[3]/100};O.LnCr=function(){O.call(this,"LnCr");
this.gG=[new a$([12,57],-100,100),new a$([12,38],10,150,"%")];this.Rb()};O.LnCr.prototype=new O;O.LnCr.prototype.uf=function(m,g){g[0]=m.LnIa.v;
g[1]=m.LnSi.v};O.LnCr.prototype.Bo=function(m,g){m.LnIa.v=g[0];m.LnSi.v=g[1]};O["\0\0\x02\xB1"]=function(){O.call(this,"\0\0\x02\xB1");
this.gG=[new a$([12,56],1,200," px")];this.Rb()};O["\0\0\x02\xB1"].prototype=new O;O["\0\0\x02\xB1"].prototype.uf=function(m,g){g[0]=m.Rds.v.val};
O["\0\0\x02\xB1"].prototype.Bo=function(m,g){m.Rds.v.val=g[0]};O.GsnB=function(){O.call(this,"GsnB");
this.gG=[new a$([12,56],.1,400,"px",1,!0)];this.Rb()};O.GsnB.prototype=new O;O.GsnB.prototype.uf=function(m,g){g[0]=m.Rds.v.val};
O.GsnB.prototype.Bo=function(m,g){m.Rds.v.val=g[0]};O.MtnB=function(){O.call(this,"MtnB");this.gG=[new mv([12,15]),new a$([12,28],1,100," px")];
this.Rb()};O.MtnB.prototype=new O;O.MtnB.prototype.uf=function(m,g){g[0]=m.Angl.v;g[1]=m.Dstn.v.val};
O.MtnB.prototype.Bo=function(m,g){m.Angl.v=g[0].Fj;m.Dstn.v.val=g[1]};O.RdlB=function(){O.call(this,"RdlB");
this.gG=[new a$([12,57],1,100),new IC([12,36],["Spin","Zoom"]),new mc("Off X",0,1,null,2),new mc("Off Y",0,1,null,2)];
this.Rb()};O.RdlB.prototype=new O;O.RdlB.prototype.uf=function(m,g){g[0]=m.Amnt.v;g[1]=["Spn","Zm"].indexOf(m.BlrM.v.BlrM);
g[2]=m.Cntr.v.Hrzn.v;g[3]=m.Cntr.v.Vrtc.v};O.RdlB.prototype.Bo=function(m,g){m.Amnt.v=g[0];m.BlrM.v.BlrM=["Spn","Zm"][g[1]];
m.Cntr.v.Hrzn.v=g[2];m.Cntr.v.Vrtc.v=g[3]};O.Dspl=function(){O.call(this,"Dspl");this.gG=[new aW([6,36,3],["a","b"]),new a$([22,4,0],-100,100,"px"),new a$([22,4,1],-100,100,"px"),new aW([24,18,0],[[24,18,3],[24,18,2]])];
this.Rb()};O.Dspl.prototype=new O;O.Dspl.prototype.uf=function(m,g,L){this.IMV=[];this.NY=[];var K=-1,r=L?L[0]:null;
if(r==null)r=this.IIO;else this.IIO=r;if(r)for(var R=0;R<r.length;R++){var Q=r[R];this.IMV.push(Q.w_.trim());
this.NY.push(Q.aP);if(Q.aP==m.DspF.v.pth)K=R}this.gG[0].EJ(this.IMV);g[0]=K==-1?0:K;g[1]=m.HrzS.v;g[2]=m.VrtS.v;
g[3]=["WrpA","RptE"].indexOf(m.UndA.v.UndA)};O.Dspl.prototype.Bo=function(m,g){if(this.NY.length==0)return;
m.DspF.v.pth=this.NY[g[0]];m.HrzS.v=g[1];m.VrtS.v=g[2];m.UndA.v.UndA=["WrpA","RptE"][g[3]]};O.Pnch=function(){O.call(this,"Pnch");
this.gG=[new a$([12,57],-100,100,"%")];this.Rb()};O.Pnch.prototype=new O;O.Pnch.prototype.uf=function(m,g){g[0]=m.Amnt.v};
O.Pnch.prototype.Bo=function(m,g){m.Amnt.v=g[0]};O["Plr "]=function(){O.call(this,"Plr ");this.gG=[new IC(null,["Rect to Polar","Polar to Rect"])];
this.Rb()};O["Plr "].prototype=new O;O["Plr "].prototype.uf=function(m,g){g[0]=["RctP","PlrR"].indexOf(m.Cnvr.v.Cnvr)};
O["Plr "].prototype.Bo=function(m,g){m.Cnvr.v.Cnvr=["RctP","PlrR"][g[0]]};O.Rple=function(){O.call(this,"Rple");
this.gG=[new a$([12,57],-999,999),new aW([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.Rb()};O.Rple.prototype=new O;
O.Rple.prototype.uf=function(m,g){g[0]=m.Amnt.v;g[1]=["Sml","Mdm","Lrg"].indexOf(m.RplS.v.RplS)};O.Rple.prototype.Bo=function(m,g){m.Amnt.v=g[0];
m.RplS.v.RplS=["Sml","Mdm","Lrg"][g[1]]};O["Shr "]=function(){O.call(this,"Shr ");this.gG=[new Do(!0,!0),new aW([24,18,0],[[24,18,3],[24,18,2]])];
this.Rb()};O["Shr "].prototype=new O;O["Shr "].prototype.uf=function(m,g){var L=new aC(0,255/127,255/127,0,-2,128),K=JSON.parse(JSON.stringify(m.ShrP.v));
I.Kz.f(K,L);g[0]=K;g[1]=["WrpA","RptE"].indexOf(m.UndA.v.UndA)};O["Shr "].prototype.Bo=function(m,g){var L=new aC(0,255/127,255/127,0,-2,128);
L.eb();I.Kz.f(g[0],L);m.ShrP.v=g[0];m.ShrE.v=g[0].length-1;m.UndA.v.UndA=["WrpA","RptE"][g[1]]};O.Sphr=function(){O.call(this,"Sphr");
this.gG=[new a$([12,57],-100,100),new aW([12,36],["Normal",[22,4,0],[22,4,1]])];this.Rb()};O.Sphr.prototype=new O;
O.Sphr.prototype.uf=function(m,g){g[0]=m.Amnt.v;g[1]=["Nrml","HrzO","VrtO"].indexOf(m.SphM.v.SphM)};
O.Sphr.prototype.Bo=function(m,g){m.Amnt.v=g[0];m.SphM.v.SphM=["Nrml","HrzO","VrtO"][g[1]]};O.Twrl=function(){O.call(this,"Twrl");
this.gG=[new a$([12,15],-999,999)];this.Rb()};O.Twrl.prototype=new O;O.Twrl.prototype.uf=function(m,g){g[0]=m.Angl.v};
O.Twrl.prototype.Bo=function(m,g){m.Angl.v=g[0]};O.Wave=function(){O.call(this,"Wave");this.IMk=[1,2,3,4];
this.gG=[new a$("Number of Generators",1,100),new mc("Min Length",1,999),new mc("Max Length",1,999),new mc("Min Ampl.",1,999),new mc("Max Ampl.",1,999),new mc("Scale X",1,100,"%"),new mc("Scale Y",1,100,"%"),new IC([12,44],["Sine","Triangle",[12,93,3]]),new aW([24,18,0],[[24,18,3],[24,18,2]]),new RZ("Randomizer Seed")];
this.Rb()};O.Wave.prototype=new O;O.Wave.prototype.uf=function(m,g){g[0]=m.NmbG.v;g[1]=m.WLMn.v;g[2]=m.WLMx.v;
g[3]=m.AmMn.v;g[4]=m.AmMx.v;g[5]=m.SclH.v;g[6]=m.SclV.v;g[7]=["WvSn","WvTr","WvSq"].indexOf(m.Wvtp.v.Wvtp);
g[8]=["WrpA","RptE"].indexOf(m.UndA.v.UndA);g[9]=m.RndS.v};O.Wave.prototype.Bo=function(m,g){m.NmbG.v=g[0];
m.WLMn.v=g[1];m.WLMx.v=g[2];m.AmMn.v=g[3];m.AmMx.v=g[4];m.SclH.v=g[5];m.SclV.v=g[6];m.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][g[7]];
m.UndA.v.UndA=["WrpA","RptE"][g[8]];var L=parseInt(g[9]);if(isNaN(L))L=248325464;L=Math.max(0,Math.min(268435455,L));
m.RndS.v=L;this.gG[9].p(L)};O["\0\0\x02\xB5"]=function(){O.call(this,"\0\0\x02\xB5");this.gG=[new a$([12,56],1,200," px"),new a$([4,13],1,255," px")];
this.Rb()};O["\0\0\x02\xB5"].prototype=new O;O["\0\0\x02\xB5"].prototype.uf=function(m,g){g[0]=m.Rds.v.val;
g[1]=m.Thsh.v};O["\0\0\x02\xB5"].prototype.Bo=function(m,g){m.Rds.v.val=g[0];m.Thsh.v=g[1]};O.AdNs=function(){O.call(this,"AdNs");
this.gG=[new a$([12,57],0,200," %"),new aW([12,58],[[12,59,0],[12,59,1]]),new au([12,60])];this.Rb()};
O.AdNs.prototype=new O;O.AdNs.prototype.uf=function(m,g){g[0]=m.Nose.v.val;g[1]=["Unfr","Gsn"].indexOf(m.Dstr.v.Dstr);
g[2]=m.Mnch.v};O.AdNs.prototype.Bo=function(m,g){m.Nose.v.val=g[0];m.Dstr.v.Dstr=["Unfr","Gsn"][g[1]];
m.Mnch.v=g[2]};O.DstS=function(){O.call(this,"DstS");this.gG=[new a$([12,56],1,200," px"),new a$([4,13],1,255," px")];
this.Rb()};O.DstS.prototype=new O;O.DstS.prototype.uf=function(m,g){g[0]=m.Rds.v;g[1]=m.Thsh.v};O.DstS.prototype.Bo=function(m,g){m.Rds.v=g[0];
m.Thsh.v=g[1]};O["Mdn "]=function(){O.call(this,"Mdn ");this.gG=[new a$([12,56],1,200," px")];this.Rb()};
O["Mdn "].prototype=new O;O["Mdn "].prototype.uf=function(m,g){g[0]=m.Rds.v.val};O["Mdn "].prototype.Bo=function(m,g){m.Rds.v.val=g[0]};
O.ClrH=function(){O.call(this,"ClrH");this.gG=[new a$([12,56],4,100," px")];for(var m=1;m<4;m++)this.gG.push(new a$("Angle "+m,0,90," \xB0"));
this.Rb()};O.ClrH.prototype=new O;O.ClrH.prototype.uf=function(m,g){g[0]=m.Rds.v;for(var L=1;L<4;L++)g[L]=m["Ang"+L].v};
O.ClrH.prototype.Bo=function(m,g){m.Rds.v=g[0];for(var L=1;L<4;L++)m["Ang"+L].v=g[L]};O.ClrH.prototype.b=function(){var m=this.gG;
m[0].b();for(var g=1;g<4;g++)m[g].dv(aT.get([12,15])+" "+g)};O.Crst=function(){O.call(this,"Crst");this.gG=[new a$([12,61],3,100," px")];
this.Rb()};O.Crst.prototype=new O;O.Crst.prototype.uf=function(m,g){g[0]=m.ClSz.v};O.Crst.prototype.Bo=function(m,g){m.ClSz.v=g[0]};
O.Mztn=function(){O.call(this,"Mztn");this.gG.push(new aW([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.NY="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Rb()};O.Mztn.prototype=new O;
O.Mztn.prototype.uf=function(m,g){g[0]=this.NY.indexOf(m.MztT.v.MztT)};O.Mztn.prototype.Bo=function(m,g){m.MztT.v.MztT=this.NY[g[0]]};
O["Msc "]=function(){O.call(this,"Msc ");this.gG=[new a$([12,61],2,200," px")];this.Rb()};O["Msc "].prototype=new O;
O["Msc "].prototype.uf=function(m,g){g[0]=m.ClSz.v.val};O["Msc "].prototype.Bo=function(m,g){m.ClSz.v.val=g[0]};
O.Pntl=function(){O.call(this,"Pntl");this.gG=[new a$([12,61],3,100," px")];this.Rb()};O.Pntl.prototype=new O;
O.Pntl.prototype.uf=function(m,g){g[0]=m.ClSz.v};O.Pntl.prototype.Bo=function(m,g){m.ClSz.v=g[0]};O["\0\0\x03\xE8"]=function(){O.call(this,"\0\0\x03\xE8");
this.gG=[new a$([12,57],1,200,"%"),new a$([12,56],0,200,"px",1,!0)];this.Rb()};O["\0\0\x03\xE8"].prototype=new O;
O["\0\0\x03\xE8"].prototype.uf=function(m,g){g[0]=m.Amnt.v.val;g[1]=m.Rds.v.val};O["\0\0\x03\xE8"].prototype.Bo=function(m,g){m.Amnt.v.val=g[0];
m.Rds.v.val=g[1]};O.UnsM=function(){O.call(this,"UnsM");this.gG=[new a$([12,57],1,200," %"),new a$([12,56],0,200," px"),new a$([4,13],0,255," ")];
this.Rb()};O.UnsM.prototype=new O;O.UnsM.prototype.uf=function(m,g){g[0]=m.Amnt.v.val;g[1]=m.Rds.v.val;
g[2]=m.Thsh.v};O.UnsM.prototype.Bo=function(m,g){m.Amnt.v.val=g[0];m.Rds.v.val=g[1];m.Thsh.v=g[2]};O.HghP=function(){O.call(this,"HghP");
this.gG=[new a$([12,56],1,200," px")];this.Rb()};O.HghP.prototype=new O;O.HghP.prototype.uf=function(m,g){g[0]=m.Rds.v.val};
O.HghP.prototype.Bo=function(m,g){m.Rds.v.val=g[0]};O["Mxm "]=function(){O.call(this,"Mxm ");this.gG=[new a$([12,56],1,200," px")];
this.Rb()};O["Mxm "].prototype=new O;O["Mxm "].prototype.uf=function(m,g){g[0]=m.Rds.v.val};O["Mxm "].prototype.Bo=function(m,g){m.Rds.v.val=g[0]};
O["Mnm "]=function(){O.call(this,"Mnm ");this.gG=[new a$([12,56],1,200," px")];this.Rb()};O["Mnm "].prototype=new O;
O["Mnm "].prototype.uf=function(m,g){g[0]=m.Rds.v.val};O["Mnm "].prototype.Bo=function(m,g){m.Rds.v.val=g[0]};
O.Ofst=function(){O.call(this,"Ofst");this.gG=[new a$([22,4,0],-1024,1024," px"),new a$([22,4,1],-1024,1024," px"),new aW([24,18,0],[[24,18,1],[24,18,2],[24,18,3]])];
this.Rb()};O.Ofst.prototype=new O;O.Ofst.prototype.uf=function(m,g){g[0]=m.Hrzn.v;g[1]=m.Vrtc.v;g[2]=["Bckg","Rpt","Wrp"].indexOf(m.Fl.v.FlMd)};
O.Ofst.prototype.Bo=function(m,g){m.Hrzn.v=g[0];m.Vrtc.v=g[1];m.Fl.v.FlMd=["Bckg","Rpt","Wrp"][g[2]]};
O.Rept=function(){O.call(this,"Rept");this.gG=[new mc([12,38],1,300," %"),new mc("Row Shift",-50,50," %"),new mc("Space X",-99,200," %"),new mc("Space Y",-99,200," %"),new au([4,16,2]),new mv([12,15])];
this.Rb()};O.Rept.prototype=new O;O.Rept.prototype.uf=function(m,g){g[0]=m.Scl.v.val;g[1]=m.Rsft.v.val;
g[2]=m.SpcX.v.val;g[3]=m.SpcY.v.val;g[4]=m.SpcC.v;g[5]=m.Angl.v};O.Rept.prototype.Bo=function(m,g){m.Scl.v.val=g[0];
m.Rsft.v.val=g[1];m.SpcX.v.val=g[2];m.SpcY.v.val=g[3];m.SpcC.v=g[4];m.Angl.v=g[5].Fj;return m};O.LqFy=function(){O.call(this,"LqFy");
this.IY=!1;this.T_=null;this.IIK=null;this.K=0;this.Bl={bl:[[{K:{id:0,name:[24,1,0,1,0],$z:"liq/smudge"}}],[{K:{id:1,name:[24,1,0,1,1],$z:"liq/reconstruct"}}],[{K:{id:2,name:[24,1,0,1,2],$z:"liq/smooth"}}],[{K:{id:3,name:[24,1,0,1,3],$z:"liq/twirl"}}],[{K:{id:4,name:[24,1,0,1,4],$z:"liq/shrink"}}],[{K:{id:5,name:[24,1,0,1,5],$z:"liq/blow"}}],[{K:{id:6,name:[24,1,0,1,6],$z:"liq/pleft"}}]],keys:[]};
this.TF=new mm(this.Bl,!1);this.TF.Nr(0);this.TF.v(p.E.V,this.IBK,this);this.bo=ql.wy();this.gX=null;
this.lZ=[];this.wQ=-1;this.kX=null;this.I_Q=null;this.bK=null;this.jO=null;this.bd=null;var m=p.Y("div","flexrow");
this.CE=m;this.Q.appendChild(m);m.appendChild(this.TF.Q);this.view=new IJ(!0);this.view.Dj(100,100);
this.view.v("mousedown",this.cX,this);this.view.v("mousemove",this.Fg,this);this.view.v("mouseup",this.Cs,this);
this.view.v("zoom",this.Qh,this);m.appendChild(this.view.Q);var g=p.Y("div","form");m.appendChild(g);
this.bE=g;g.style.width="230px";this.qt=[new a$([12,14,0],0,1e3,null,!1,!0),new a$([12,74],0,100,null,!1,!1),new a$([12,84],0,100,null,!1,!1),new au([12,46]),new a$([12,0],0,100,null,!1,!1)];
var L=this.bo.Brsh.v;L.Dmtr.v.val=100;var K=[100,50,100,!1,100];for(var r=0;r<this.qt.length;r++){var R=this.qt[r];
R.p(K[r]);R.v(p.E.z,this.IBb,this);g.appendChild(R.Q)}var Q=new aX("Reset",!0,null,!0);Q.v("click",this.Jh,this);
g.appendChild(Q.Q);this.Ge=new aO;this.Ge.Q=p.Y("div","floatcont");this.jM=new aX("Menu",!1,null,!0);
this.jM.v("click",this.IBX,this);var F=this.jM.Q;F.setAttribute("style","position:absolute; right:13px; top:47px")};
O.LqFy.prototype=new O;O.LqFy.prototype.pU=function(){return!0};O.LqFy.prototype.Xm=function(m){this.bE.appendChild(m)};
O.LqFy.prototype.IBX=function(m){var g=this.jM.Q.getBoundingClientRect();this.Ge.Q.appendChild(this.bE);
var L=new Y(p.E.V,!0);L.data={P:p.o.xW,Mt:this.Ge,x:g.right+g.width-290,y:g.top+g.height};this.g(L)};
O.LqFy.prototype.KK=function(m){this.IY=m.a(C.qk);var g=l.jx.oO(this.bo,m);if(g!=null){this.bo=g;this.Qh();
this.qt[0].p(g.Brsh.v.Dmtr.v.val)}else if(m.a(C.EZ)&&m.a(C.up)){var L=this.lZ;if(m.a(C.jU)){if(this.wQ+1<L.length)this.wQ++}else if(this.wQ>0)this.wQ--;
this.gX.map=L[this.wQ].slice(0);this.fo(null)}else this.view.KK(m)};O.LqFy.prototype.IBK=function(m){if(m.data.P==p.o.RI){this.K=m.data.K;
this.TF.Nr(this.K)}};O.LqFy.prototype.IBb=function(m){var g=m.currentTarget,L=this.qt.indexOf(g),K=this.bo.Brsh.v;
if(L==0){K.Dmtr.v.val=g.w();this.Qh()}if(L>2)this.fo(null)};O.LqFy.prototype.ro=function(){var m=this.lZ;
this.wQ++;m[this.wQ]=this.gX.map.slice(0);while(m.length>this.wQ+1)m.pop();while(m.length>50){m=m.slice(1);
this.wQ--}};O.LqFy.prototype.cX=function(m){this.Ni();this.T_=this.view.JB();this.IIK=new jf(0,0);this.v(p.E.VB,this.JH,this)};
O.LqFy.prototype.Fg=function(m){var g=this.view.JB(),L=new jf(g.x-this.T_.x,g.y-this.T_.y);if(this.K==0||this.K==6)this.IOj(L);
this.T_=g};O.LqFy.prototype.Cs=function(m){this.ro();this.Ni()};O.LqFy.prototype.Ni=function(){if(this.sA(p.E.VB,this.JH))this.removeEventListener(p.E.VB,this.JH,this)};
O.LqFy.prototype.JH=function(m){if(this.K!=0&&this.K!=6)this.IOj(new jf(0,0))};O.LqFy.prototype.IOj=function(m){var g=this.gX,L=g.uP/this.kX.j,K=this.T_,r=this.bo.Brsh.v,R=r.Dmtr.v.val,Q=Date.now(),F=g.uP,q=g.PC,n=Math.sqrt(m.x*m.x+m.y*m.y),W=Math.max(1,Math.ceil(n/2)),z=m.x/W,u=m.y/W,N=K.clone(),b=this.K,B=this.qt[1].w()/100,h=this.qt[2].w()/100,A=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],e=A[b*2],c=A[b*2+1],a=(1-B)*e+B*c,$=R*L/2;
for(var G=0;G<W;G++){var o=[];N.x+=z;N.y+=u;I.l_.IMp(g.map,F,q,b,N.x*L,N.y*L,$,B,h,z*L,u*L,o,this.IY);
I.l_.IOA(F,q,g.map,o,2*a*h)}var H=new v(0,0,F,q),f=new v(K.x*L,K.y*L,0,0);f.XH(R*L*.5,R*L*.5);var E=f.clone();
E.offset(m.x*L,m.y*L);f=f.uM(E);var S=new v(f.x/L,f.y/L,f.j/L,f.F/L);S=I.e.uV(S).my(this.kX);this.fo(S)};
O.LqFy.prototype.Qh=function(){var m=IT.MK(this.bo,null,this.view.NL().T);this.view.JC(m)};O.LqFy.prototype.p=function(m,g,L,K,r){L=L.clone();
if(g==null)return;if(!K.TB(L)){var R=L.uM(K),Q=I.m(R.c()*4);I.pq(g,L,Q,R);g=Q;L=R}L.x=L.y=0;this.bK=g;
this.I_Q=r;this.bd=g.slice(0);this.jO=g.slice(0);this.kX=L;this.gX=Dj.GT(new Uint8Array(m.LqMe.v).buffer);
var F=L.j,q=L.F;if(this.gX.uP/F<.22){this.gX={uP:Math.floor(F/4),PC:Math.floor(q/4)};this.gX.map=new Float32Array(this.gX.uP*this.gX.PC*2)}this.lZ=[];
this.wQ=-1;this.ro();this.fo(null);this.Qh()};O.LqFy.prototype.w=function(){this.Ni();var m=aN.Rw("LqFy"),g=new Uint8Array(Dj.Sk(this.gX)),L=[];
for(var K=0;K<g.length;K++)L.push(g[K]);m.LqMe.v=L;return m};O.LqFy.prototype.Dj=function(m,g){this.TF.Dj(m,g);
var L=this.jM.Q,K=this.bE;this.CE.appendChild(K);this.CE.appendChild(L);if(m>450){K.style.marginLeft="1em";
this.CE.removeChild(L);this.view.Dj(m-238-45,g)}else{K.style.marginLeft="";this.CE.removeChild(K);this.view.Dj(m-40,g)}};
O.LqFy.prototype.b=function(){this.TF.b();for(var m=0;m<this.qt.length;m++)this.qt[m].b()};O.LqFy.prototype.Jh=function(){this.Ni();
this.gX.map.fill(0);this.ro();this.fo(null)};O.LqFy.prototype.fo=function(m){var g=this.kX,L=this.bK,K=this.bd,r=this.gX;
I.l_.wg(L,this.jO,g.j,g.F,m,r.map,r.uP,r.PC,0);if(this.qt[3].gF()){I.pq(this.I_Q,g,K,g,m?m:g);I.h.dq("norm",this.jO,g,K,g,m?m:g,this.qt[4].w()/100)}else I.jR(this.jO,K);
this.view.p([{wh:g,data:K.buffer}])};O.GEfc=function(){O.call(this,"GEfc");this.KR=0;this.KP=0;this.bK=null;
this.bd=null;this.kX=null;this.Tf=null;this.HG=null;this.pb=0;var m=p.Y("div","flexrow");this.CE=m;this.Q.appendChild(m);
this.view=new IJ;this.view.Dj(100,100);m.appendChild(this.view.Q);var g=p.Y("div","form");m.appendChild(g);
g.style.width="230px";g.style.marginLeft="1em";this.j_=[];var L=[];this.CX={};for(var K in IR.names){this.j_.push(K);
L.push(IR.names[K]);var r=new O.GEfc.Fp(K);this.CX[K]=r;r.v(p.E.z,this.I__,this)}this.bX=p.Y("div");
g.appendChild(this.bX);this.bX.style.marginBottom="1.5em";this.VT=new aW(null,L);g.appendChild(this.VT.Q);
this.VT.v(p.E.z,this.I__,this);this.jZ=p.Y("div");this.jZ.style.height="14em";g.appendChild(this.jZ);
p.da(g);this.jX=p.Y("div","lpbody scrollable");this.eM=p.Y("div","lpfoot");g.appendChild(this.jX);g.appendChild(this.eM);
this.v("click",this.IhI,this);this.CZ=[];IV.ln([[5,3],[5,4]],this.CZ,this.eM,this.aB.bind(this))};O.GEfc.prototype=new O;
O.GEfc.prototype.pU=function(){return!0};O.GEfc.prototype.Xm=function(m){this.bX.appendChild(m)};O.GEfc.prototype.SI=function(m,g){this.Tf=m};
O.GEfc.prototype.Dj=function(m,g){this.KR=m;this.KP=g;this.view.Dj(m-240,g);this.jX.style.height=g-this.jZ.getBoundingClientRect().height-140+"px"};
O.GEfc.prototype.aB=function(m){var g=IV.bM(this.CZ,m),L=this.HG.GEfs.v,K=L[this.pb].v;if(g==0){L.push(JSON.parse(JSON.stringify(L[this.pb])));
this.pb=L.length-1}else{L.splice(this.pb,1);if(this.pb==L.length)this.pb--}this.NC();this.fo()};O.GEfc.prototype.I__=function(m){var g=this.j_[this.VT.w()],L;
if(m.target==this.VT)L=IR.Rw(g);else L=this.CX[g].w();this.HG.GEfs.v[this.pb].v=L;this.NC();this.fo()};
O.GEfc.prototype.p=function(m,g,L,K,r){console.log(m);m=this.HG=JSON.parse(JSON.stringify(m));if(m.GEfs==null)m=this.HG={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:m}]}};
var R=m.GEfs.v;for(var Q=0;Q<R.length;Q++)if(R[Q].v.GELv==null)R[Q].v.GELv={t:"bool",v:!0};this.pb=R.length-1;
this.NC();L=L.clone();if(g==null)return;if(!K.TB(L)){var F=L.uM(K),q=I.m(F.c()*4);I.pq(g,L,q,F);g=q;
L=F}L.x=L.y=0;this.bK=g;this.bd=g.slice(0);this.kX=L;this.fo()};O.GEfc.prototype.IhI=function(m){var g=m.data,L=g.Bj,K=this.HG.GEfs.v;
if(g.jB){K[L].v.GELv.v=!K[L].v.GELv.v;this.fo()}else this.pb=L;this.NC()};O.GEfc.prototype.NC=function(){var m=this.HG.GEfs.v,g=m[this.pb].v,L=g.GEfk.v.GEft,K=this.j_.indexOf(L),r=this.jZ;
if(K==-1){alert("Unsupported gallery filter");this.VT.Mp();p.Lj(r)}else{this.VT.p(K);this.VT.eo();var R=this.CX[L];
R.p(g);if(r.firstChild!=R.Q){p.Lj(r);r.appendChild(R.Q)}}var Q=[];for(var F=0;F<m.length;F++){var q=m[F].v,n=IR.names[q.GEfk.v.GEft],W=new mS(F,!0,!1,null,n?n:"Filter",F==this.pb,q.GELv.v);
W.parent=this;Q.push(W.Q)}p.Lj(this.jX);Q.reverse();for(var F=0;F<Q.length;F++)this.jX.appendChild(Q[F]);
this.Dj(this.KR,this.KP)};O.GEfc.prototype.w=function(){return JSON.parse(JSON.stringify(this.HG))};
O.GEfc.prototype.fo=function(m){var g=this.kX,L=this.bK,K=this.bd,r=this.j_[this.VT.w()],R=this.HG,Q=this.Tf;
function F(q){return{u:q>>>16,S:q>>>8&255,R:q&255}}aN.qK("GEfc",{rect:this.kX,buffer:this.bK},R,F(Q.$q),F(Q._Q),{rect:this.kX,buffer:this.bd},null);
this.view.p([{wh:g,data:K.buffer}])};O.GEfc.prototype.b=function(){for(var m in this.CX)this.CX[m].b();
IV.hl(this.CZ,["lrs/newlayer","lrs/bin"])};O.GEfc.Fp=function(m){aO.call(this);this.yN=m;this.Q=p.Y("div");
this.Dm={};var g=IR.Rw(m);for(var L in g){var K;if(L=="__name"||L=="classID"||L=="GEfk"||L=="GELv"||["LghI","FlRs"].indexOf(L)!=-1)continue;
else if(L=="Sz")K=new a$([12,14,0],1,50);else if(L=="Dtl")K=new a$("Detail",1,15);else if(L=="Shrp")K=new a$("Sharpness",0,40);
else if(L=="BrsT")K=new aW("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(L=="LghD")K=new aW("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(L=="SDir")K=new aW([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(L=="EdgW")K=new a$("Edge Width",1,14);
else if(L=="EdgB")K=new a$("Edge Brightness",0,20);else if(L=="Smth")K=new a$([19,3,3],1,15);else if(L=="ClSz")K=new a$([12,61],3,100);
else if(L=="BrdT")K=new a$([7,9],1,20);else if(L=="HghS")K=new a$([12,64],0,20);else if(L=="HlSz")K=new a$([12,14,0],1,15);
else if(L=="Cntr")K=new a$([12,3,0],0,50);else if(L=="ScrT")K=new aW([12,62],["Circle","Dot",[10,35]]);
else if(L=="SprR")K=new a$("Spray Radius",0,25);else if(L=="StrL")K=new a$("Stroke Length",0,20);else console.log(L);
K.v(p.E.z,this.cO,this);this.Dm[L]=K;this.Q.appendChild(K.Q)}};O.GEfc.Fp.prototype=new aO;O.GEfc.Fp.prototype.cO=function(m){this.g(new Y(p.E.z,!1))};
O.GEfc.Fp.prototype.p=function(m){for(var g in this.Dm){var L;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(g)!=-1)L=m[g].v;
else if(g=="BrsT")L=IR.IUt.indexOf(m[g].v[g]);else if(g=="LghD")L=IR.Ow.indexOf(m[g].v[g]);else if(g=="ScrT")L=IR.O_.indexOf(m[g].v[g]);
else if(g=="SDir")L=IR.OZ.indexOf(m[g].v.StrD);this.Dm[g].p(L)}};O.GEfc.Fp.prototype.w=function(){var m=IR.Rw(this.yN);
for(var g in this.Dm){var L=this.Dm[g].w();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(g)!=-1)m[g].v=L;
else if(g=="BrsT")m[g].v[g]=IR.IUt[L];else if(g=="LghD")m[g].v[g]=IR.Ow[L];else if(g=="ScrT")m[g].v[g]=IR.O_[L];
else if(g=="SDir")m[g].v.StrD=IR.OZ[L]}return m};O.GEfc.Fp.prototype.b=function(){for(var m in this.Dm)this.Dm[m].b()};
O.blnc=function(){O.call(this);var m=this.Q;this.dm=null;this.Sa=new aW([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.Sa.v(p.E.z,this.fo,this);m.appendChild(this.Sa.Q);this.Hl=[];for(var g=0;g<3;g++){var L=new a$(qE.uZ[g],-100,100);
L.v(p.E.z,this.BS,this);this.Hl.push(L);m.appendChild(L.Q)}this.Ch=new au([13,4]);this.Ch.v(p.E.z,this.BS,this);
m.appendChild(this.Ch.Q)};O.blnc.prototype=new O;O.blnc.prototype.b=function(){this.Sa.b();for(var m=0;
m<3;m++)this.Hl[m].b();this.Ch.b()};O.blnc.prototype.p=function(m){this.dm=JSON.parse(JSON.stringify(m));
this.fo()};O.blnc.prototype.w=function(m){var g=["ShdL","MdtL","HghL"],L=this.dm[g[this.Sa.w()]].v;for(var K=0;
K<3;K++)L[K].v=this.Hl[K].w();this.dm.PrsL.v=this.Ch.w();return JSON.parse(JSON.stringify(this.dm))};
O.blnc.prototype.fo=function(m){var g=["ShdL","MdtL","HghL"],L=this.dm[g[this.Sa.w()]].v;for(var K=0;
K<3;K++)this.Hl[K].p(L[K].v);this.Ch.p(this.dm.PrsL.v)};O.brit=function(){O.call(this,"brit");this.gG.push(new a$([12,2],-150,150,""));
this.gG.push(new a$([12,3,0],-100,100,""));this.gG.push(new au([12,3,1]));this.Rb()};O.brit.prototype=new O;
O.brit.prototype.uf=function(m,g){g[0]=m.Brgh?m.Brgh.v:0;g[1]=m.Cntr?m.Cntr.v:0;g[2]=m.useLegacy?m.useLegacy.v:!1};
O.brit.prototype.Bo=function(m,g){m.Brgh.v=g[0];m.Cntr.v=g[1];m.useLegacy.v=g[2]};O.curv=function(){O.call(this);
this.value=null;this._F=null;var m=this.Q;this.QU=new aW([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.QU.v(p.E.z,this.dV,this);m.appendChild(this.QU.Q);this.RT=new aW(null,["Spline","Sketch"]);this.RT.v(p.E.z,this.Ihq,this);
m.appendChild(this.RT.Q);this.$G=new Do;this.$G.v(p.E.z,this.Xp,this);m.appendChild(this.$G.Q);this.CV=new pw("Sample from image",["#000000","#888888","#ffffff"]);
m.appendChild(this.CV.Q)};O.curv.prototype=new O;O.curv.prototype.b=function(){this.QU.b()};O.curv.prototype.Ihq=function(m){var g=jW.dM(this.value,0),L=g.length==256?1:0,K=this.RT.w();
if(L==K)return;var r=aN.Rw("curv");if(K==1){var R=[];for(var Q=0;Q<256;Q++)R.push(Q);jW.dI(r,0,R)}this.p(r);
this.BS()};O.curv.prototype.Xp=function(){jW.dI(this.value,this.QU.w(),this.$G.w());this.BS()};O.curv.prototype.dV=function(){var m=this.QU.w(),g=jW.dM(this.value,m),L=g.length==256?1:0;
this.RT.p(L);if(this._F)this.$G.$l(this._F[m],this._F[4]*[1,.33,.33,.33][m],["#ccc","#fcc","#cfc","#ccf"][m]);
this.$G.p(g)};O.curv.prototype.RL=function(){return!0};O.curv.prototype.RK=function(m,g,L,K,r){var R=this.value,Q=this.CV.w();
this.value=aN.Rw("curv");this.BS();var F=l.nl.Rx(m,r,1),q=[F>>>16&255,F>>>8&255,F&255];for(var n=0;n<3;
n++){var W=jW.dM(R,1+n);if(Q==0)W[0].v.Hrzn.v=q[n];if(Q==1){var z=(q[0]+q[1]+q[2])*.333,u=Math.log(q[n]/255)/Math.log(z/255),N=Math.min(999,Math.max(10,Math.round(100*u)));
if(W.length==2)W.splice(1,0,JSON.parse(JSON.stringify(W[0])));W[1].v.Hrzn.v=127-Math.log(N/100)*127;
W[1].v.Vrtc.v=127}if(Q==2)W[W.length-1].v.Hrzn.v=q[n];jW.dI(R,1+n,W)}this.p(R);this.BS()};O.curv.prototype.p=function(m){this.value=m;
this.dV()};O.curv.prototype.$l=function(m){this._F=m;this.dV()};O.curv.prototype.w=function(m){return JSON.parse(JSON.stringify(this.value))};
O.expA=function(){O.call(this,"expA");this.gG.push(new a$([12,5],-20,20,null,3));this.gG.push(new a$([12,6],-.5,.5,null,3));
this.gG.push(new a$([12,7],.01,6.99,null,3));this.Rb()};O.expA.prototype=new O;O.expA.prototype.uf=function(m,g){g[0]=m.Exps.v;
g[1]=m.Ofst.v;g[2]=m.gammaCorrection.v};O.expA.prototype.Bo=function(m,g){m.Exps.v=g[0];m.Ofst.v=g[1];
m.gammaCorrection.v=g[2]};O.grdm=function(){O.call(this,"grdm");this.gG.push(new jc(!0,null,!0));this.gG.push(new au([12,23,0]));
this.Rb()};O.grdm.prototype=new O;O.grdm.prototype.uf=function(m,g){g[0]=m.Grad.v;g[1]=m.Rvrs?m.Rvrs.v:!1};
O.grdm.prototype.Bo=function(m,g){m.Grad.v=g[0];m.Rvrs={t:"bool",v:g[1]}};O.grdm.prototype.SI=function(m,g){this.gG[0].Ew(m.$q,m._Q);
if(g==am.VA||g==am.Tc||g==am.nV)this.gG[0].eI(m.jh)};O.selc=function(){O.call(this);var m=this.Q;this.oB=[];
this.Hj=null;this.Sa=new aW([12,82],qE.Ox.concat([[13,1,8],[13,1,13],[13,1,10]]));this.Sa.v(p.E.z,this.cO,this);
m.appendChild(this.Sa.Q);for(var g=0;g<4;g++){var L=new a$(qE.IJ$[g],-100,100,"%");L.v(p.E.z,this.cO,this);
this.oB.push(L);m.appendChild(L.Q)}this.C$=new au([13,3]);m.appendChild(this.C$.Q);this.C$.v(p.E.z,this.cO,this)};
O.selc.prototype=new O;O.selc.prototype.b=function(){this.Sa.b();this.C$.b();for(var m=0;m<4;m++)this.oB[m].b()};
O.selc.prototype.p=function(m){this.Hj=JSON.parse(JSON.stringify(m));this.fo()};O.selc.prototype.w=function(m){return JSON.parse(JSON.stringify(this.Hj))};
O.selc.prototype.cO=function(m){if(m.target!=this.Sa){var g=this.Hj,L=[];for(var K=0;K<4;K++)L[K]=this.oB[K].w();
Rb.dI(g,this.Sa.w(),L);g.Mthd={t:"enum",v:{CrcM:this.C$.w()?"Absl":"Rltv"}}}this.fo();this.BS()};O.selc.prototype.fo=function(){var m=this.Hj,g=Rb.dM(m,this.Sa.w());
for(var L=0;L<4;L++)this.oB[L].p(g[L]);this.C$.p(m.Mthd?m.Mthd.v.CrcM=="Absl":!1)};O.blwh=function(){O.call(this,"blwh");
this.gG.push(new au([12,11]));this.gG.push(new II(!0));for(var m=0;m<6;m++)this.gG.push(new a$(qE.Ox[m],-200,300));
this.Rb()};O.blwh.prototype=new O;O.blwh.prototype.uf=function(m,g){g[0]=m.useTint.v;g[1]=m.tintColor.v;
var L="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var K=0;K<6;K++)g[2+K]=m[L[K]].v};O.blwh.prototype.Bo=function(m,g){m.useTint.v=g[0];
m.tintColor.v=g[1];var L="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var K=0;K<6;K++)m[L[K]].v=g[2+K]};
O.hue2=function(){O.call(this);this.value=null;this.$d=null;this.I_m=null;var m=this.Q;this.Sa=new aW([12,12],["Master"].concat(qE.Ox));
this.Sa.v(p.E.z,this.dV,this);m.appendChild(this.Sa.Q);this.Hm=new a$([12,8],-180,180);this.Hm.v(p.E.z,this.NK,this);
m.appendChild(this.Hm.Q);this.lH=new a$([12,9],-100,100);this.lH.v(p.E.z,this.NK,this);m.appendChild(this.lH.Q);
this.Cr=new a$([12,10],-100,100);this.Cr.v(p.E.z,this.NK,this);m.appendChild(this.Cr.Q);this.CF=new au([12,11]);
this.CF.v(p.E.z,this.IhJ,this);m.appendChild(this.CF.Q);this.I_n=new Rt("...",!0);m.appendChild(this.I_n.Q)};
O.hue2.prototype=new O;O.hue2.prototype.b=function(){this.Hm.b();this.lH.b();this.Cr.b();this.CF.b();
this.Sa.b()};O.hue2.prototype.IhJ=function(m){var g=this.CF.w();this.value.Clrz.v=g;if(g)this.Sa.p(0);
this.dV();this.BS()};O.hue2.prototype.NK=function(m){var g=this.value.Clrz.v,L=this.Sa.w(),K=In.dM(this.value,L),r=L==0?K:K.Hl;
r[0]=this.Hm.w();var R=this.lH.w();r[1]=g?Math.max(0,R):R;r[2]=this.Cr.w();In.dI(this.value,L,K);this.dV();
this.BS()};O.hue2.prototype.dV=function(){var m=this.value.Clrz?this.value.Clrz.v:!1,r="";this.CF.p(m);
if(m)this.Sa.Mp();else this.Sa.eo();var g=this.Sa.w(),L=In.dM(this.value,g),K=g==0?L:L.Hl;this.Hm.p(K[0]);
this.lH.p(K[1]);this.Cr.p(K[2]);if(!m){r+=aT.get([5,8])+": ";var g=this.Sa.w();if(g==0)r+=aT.get([13,2]);
else r+=L.Zj}this.I_n.p(r)};O.hue2.prototype.RL=function(){return!0};O.hue2.prototype.Mc=function(m,g,L,K,r){var R=this.value;
this.value=aN.Rw("hue2");this.BS();var Q=l.nl.Rx(m,r,1),F=[Q>>>16&255,Q>>>8&255,Q&255],q=I.MW(F[0]/255,F[1]/255,F[2]/255);
this.Sa.p(1+Math.round(q.PC*6)%6);this.p(R);this.BS();this.$d=r.x;this.I_m=this.lH.w()};O.hue2.prototype.NB=function(m,g,L,K,r){if(this.$d!=null){var R=r.x-this.$d;
R=Math.max(-100,Math.min(100,this.I_m+.5*R));this.lH.p(R);this.NK()}};O.hue2.prototype.RK=function(m,g,L,K,r){this.$d=null};
O.hue2.prototype.p=function(m){this.value=JSON.parse(JSON.stringify(m));this.dV()};O.hue2.prototype.w=function(m){return JSON.parse(JSON.stringify(this.value))};
O.levl=function(){O.call(this);this.value=null;this._F=null;this.lF=[new jf(0,0),new jf(0,0),new jf(0,0),new jf(0,0),new jf(0,0)];
this.Dh=-1;this.rS=this.TK.bind(this);this.rM=this.aD.bind(this);var m=this.Q;this.QU=new aW([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.QU.v(p.E.z,this.dV,this);m.appendChild(this.QU.Q);var g=p.Y("div","");m.appendChild(g);var L=p.Y("div","");
m.appendChild(L);this.M$=p.Y("canvas");g.appendChild(this.M$);this.Ju=this.M$.getContext("2d");this.bY=new jf(256,120);
this.M$.setAttribute("style","display:block");p.Tg(this.M$,this.bY.x,this.bY.y,this.Ju);p.jk(this.M$);
p.yG(this.M$,this.aR.bind(this));this.ps=p.Y("canvas","");L.appendChild(this.ps);this.pZ=this.ps.getContext("2d");
this.jV=new jf(this.bY.x,40);this.ps.setAttribute("style","display:block");p.Tg(this.ps,this.jV.x,this.jV.y,this.pZ);
p.jk(this.ps);p.yG(this.ps,this.IhT.bind(this));var K=this.I_t=[];for(var r=0;r<5;r++){var R=new RZ(null,null,3);
K.push(R);R.v(p.E.z,this.IhG,this);(r<2||r==4?g:L).appendChild(R.Q)}g.appendChild(K[1].Q);K[4].Q.setAttribute("style","margin: 0 4.7em");
K[3].Q.setAttribute("style","margin:0 0 0 13em");this.CV=new pw("Sample from image",["#000000","#888888","#ffffff"]);
m.appendChild(this.CV.Q)};O.levl.prototype=new O;O.levl.prototype.b=function(){this.QU.b()};O.levl.prototype.IhG=function(m){var g=[];
for(var L=0;L<5;L++){var K=255,r=1;if(L==4){K=999;r=100}var R=parseFloat(this.I_t[L].w());g[L]=Math.max(0,Math.min(K,R*r))}qC.dI(this.value,this.QU.w(),g);
this.dV();this.BS()};O.levl.prototype.dV=function(m){var g=this.bY.x,L=this.bY.y,K=this.QU.w(),r=this.Ju;
r.clearRect(0,0,g,L);r.fillStyle="#cccccc";r.fillRect(8,8,g-16,L-16-8);if(this._F){if(K==0){I.set(this._F[0],0);
var R=JSON.parse(JSON.stringify(this.value));qC.dI(R,0,[0,255,0,255,100]);var Q=qE.Ik("levl",R),F=[Q.x$,Q.sP,Q.od];
for(var q=0;q<3;q++){var n=this._F[1+q],W=F[q];for(var z=0;z<256;z++)this._F[0][W[z]]+=n[z]}}var u=this._F[K],N=0;
for(var z=0;z<u.length;z++)N+=u[z];r.fillStyle="#333333";r.beginPath();r.moveTo(8,L-16);for(var z=0;
z<256;z++){var b=55*u[z]/N;r.lineTo(8+z/256*(g-16),Math.max(8,L-16-L*b))}r.lineTo(g-8,L-16);r.closePath();
r.fill()}var B=qC.dM(this.value,K);for(var z=0;z<5;z++)this.I_t[z].p(B[z]/(z==4?100:1));this.lF[0].xF(8+B[0]/255*(g-16),L-14);
this.lF[1].xF(8+B[1]/255*(g-16),L-14);var h=Math.log(B[4]/100)/Math.log(9.99);h=.5-h/2;this.lF[4].xF(this.lF[0].x+h*(this.lF[1].x-this.lF[0].x),L-14);
this.JW(r,this.lF[0],"#000000");this.JW(r,this.lF[1],"#ffffff");this.JW(r,this.lF[4],"#777777");var g=this.jV.x,L=this.jV.y;
r=this.pZ;r.clearRect(0,0,g,L);var A=r.createLinearGradient(0,0,g-16,0);A.addColorStop(0,"black");A.addColorStop(1,"white");
r.fillStyle=A;r.fillRect(8,8,g-16,16);this.lF[2].xF(8+B[2]/255*(g-16),L-14);this.lF[3].xF(8+B[3]/255*(g-16),L-14);
this.JW(r,this.lF[2],"#000000");this.JW(r,this.lF[3],"#ffffff")};O.levl.prototype.JW=function(m,g,L){m.fillStyle=L;
m.fillRect(g.x-5,g.y,10,10)};O.levl.prototype.aR=function(m){var g=p.c_(m,this.M$);for(var L=0;L<2;L++)if(jf.hQ(this.lF[L],g)<10)this.Dh=L;
if(jf.hQ(this.lF[4],g)<10)this.Dh=4;this.Ivb()};O.levl.prototype.IhT=function(m){var g=p.c_(m,this.ps);
for(var L=2;L<4;L++)if(jf.hQ(this.lF[L],g)<10)this.Dh=L;this.Ivb()};O.levl.prototype.Ivb=function(m){if(this.Dh==-1)return;
p.Wj(document.body,this.rS);p.WT(document.body,this.rM)};O.levl.prototype.TK=function(m){var g=qC.dM(this.value,this.QU.w()),L=p.c_(m,this.Dh==2&&this.Dh==3?this.ps:this.M$),K=255*(L.x-8)/(this.bY.x-16);
K=Math.max(0,Math.min(255,K));if(this.Dh==0)K=Math.min(K,g[1]-2);if(this.Dh==1)K=Math.max(K,g[0]+2);
if(this.Dh!=4)g[this.Dh]=Math.round(K);else{var r=(K-g[0])/(g[1]-g[0]);r=1-2*r;r=Math.pow(9.99,r);g[4]=Math.min(999,Math.max(10,Math.round(r*100)))}qC.dI(this.value,this.QU.w(),g);
this.dV();this.BS()};O.levl.prototype.aD=function(m){p.bC(document.body,this.rS);p.yH(document.body,this.rM);
this.Dh=-1};O.levl.prototype.RL=function(){return!0};O.levl.prototype.RK=function(m,g,L,K,r){var R=this.value,Q=this.CV.w();
this.value=aN.Rw("levl");this.BS();var F=l.nl.Rx(m,r,1),q=[F>>>16&255,F>>>8&255,F&255];for(var n=0;n<3;
n++){var W=qC.dM(R,1+n);if(Q==0)W[0]=q[n];if(Q==1){var z=Math.log(q[n]/255)/Math.log((q[0]+q[1]+q[2])*.333/255);
W[4]=Math.min(999,Math.max(10,Math.round(100*z)))}if(Q==2)W[1]=q[n];qC.dI(R,1+n,W)}this.p(R);this.BS()};
O.levl.prototype.p=function(m){this.value=m;this.dV()};O.levl.prototype.$l=function(m){this._F=m;this.dV()};
O.levl.prototype.w=function(m){return JSON.parse(JSON.stringify(this.value))};O.phfl=function(){O.call(this,"phfl");
this.gG.push(new II);this.gG.push(new a$([12,74],0,100,"%"));this.gG.push(new au([13,4]));this.Rb()};
O.phfl.prototype=new O;O.phfl.prototype.uf=function(m,g){g[0]=m.Clr.v;g[1]=m.Dnst.v;g[2]=m.PrsL.v};O.phfl.prototype.Bo=function(m,g){var L=I.G.EX(g[0]),K=m.Clr.v,r=I.Kf(L.u,L.S,L.R);
K.Lmnc.v=r.dU;K.A.v=r.Wh;K.B.v=r.R;m.Dnst.v=g[1];m.PrsL.v=g[2]};O.vibA=function(){O.call(this,"vibA");
this.gG.push(new a$([12,13],-100,100,null));this.gG.push(new a$([12,9],-100,100,null));this.Rb()};O.vibA.prototype=new O;
O.vibA.prototype.uf=function(m,g){g[0]=m.vibrance?m.vibrance.v:0;g[1]=m.Strt?m.Strt.v:0};O.vibA.prototype.Bo=function(m,g){m.vibrance.v=g[0];
m.Strt.v=g[1]};O.thrs=function(){O.call(this,"thrs");this.gG.push(new a$([4,13],1,255,null));this.Rb()};
O.thrs.prototype=new O;O.thrs.prototype.uf=function(m,g){g[0]=m.Lvl.v};O.thrs.prototype.Bo=function(m,g){m.Lvl.v=g[0]};
O.mixr=function(){O.call(this);var m=this.Q;this.oB=[];this.Hj=null;this.Sa=new aW([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.Sa.v(p.E.z,this.cO,this);m.appendChild(this.Sa.Q);p.da(m);this.ZV=new au([12,60]);m.appendChild(this.ZV.Q);
this.ZV.v(p.E.z,this.cO,this);for(var g=0;g<4;g++){var L=new a$([[13,1,1],[13,1,4],[13,1,5],[13,2]][g],-200,200,"%");
L.v(p.E.z,this.cO,this);this.oB.push(L);m.appendChild(L.Q)}};O.mixr.prototype=new O;O.mixr.prototype.b=function(){this.Sa.b();
this.ZV.b();for(var m=0;m<4;m++)this.oB[m].b()};O.mixr.prototype.p=function(m){this.Hj=JSON.parse(JSON.stringify(m));
this.fo()};O.mixr.prototype.w=function(m){return JSON.parse(JSON.stringify(this.Hj))};O.mixr.prototype.cO=function(m){if(m.target!=this.Sa){var g=qE.u$(this.Hj);
if(m.target==this.ZV){g.ZV=this.ZV.w();if(g.ZV)g.U=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else g.U=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var L=(g.ZV?0:this.Sa.w())*5,K=this.oB.indexOf(m.target);
g.U[L+(K<3?K:4)]=m.target.w()}this.Hj=qE.Iq$(g)}this.fo();this.BS()};O.mixr.prototype.fo=function(){var m=qE.u$(this.Hj);
this.ZV.p(m.ZV);var g=(m.ZV?0:this.Sa.w())*5;for(var L=0;L<4;L++)this.oB[L].p(m.U[g+(L<3?L:4)])};O.post=function(){O.call(this,"post");
this.gG.push(new a$([4,1],2,255,null));this.Rb()};O.post.prototype=new O;O.post.prototype.uf=function(m,g){g[0]=m.Lvls.v};
O.post.prototype.Bo=function(m,g){m.Lvls.v=g[0]};O.clrL=function(){O.call(this,"clrL");this.gG.push(new me("LUTs"));
this.Rb()};O.clrL.prototype=new O;O.clrL.prototype.uf=function(m,g){g[0]=m};O.clrL.prototype.Bo=function(m,g){var L=g[0];
for(var K in L)m[K]=L[K]};O.clrL.prototype.SI=function(m,g){if(g==am.VA||g==am.Ix)this.gG[0].eI(m.Iex)};
O.rplc=function(){O.call(this,"rplc");this.gG.push(new a$([12,92],0,200));this.gG.push(new II);this.gG.push(new a$([12,8],-180,180));
this.gG.push(new a$([12,9],-100,100));this.gG.push(new a$([12,10],-100,100));this.Rb()};O.rplc.prototype=new O;
O.rplc.prototype.uf=function(m,g){g[0]=m.Fzns.v;g[1]=m.Mxm.v;g[2]=m.H.v;g[3]=m.Strt.v;g[4]=m.Lght.v};
O.rplc.prototype.Bo=function(m,g){function L(r,R){R.Lmnc.v=r.dU;R.A.v=r.Wh;R.B.v=r.R}m.Fzns.v=g[0];m.H.v=g[2];
m.Strt.v=g[3];m.Lght.v=g[4];var K=I.G.EX(g[1]),r=I.Kf(K.u,K.S,K.R);L(r,m.Mnm.v);L(r,m.Mxm.v)};O.fade=function(){O.call(this,"fade");
this.gG.push(new a$([12,0],0,100,"%"));this.gG.push(new aW([12,19,0],ad.VT,!1,ad.Cb));this.Rb()};O.fade.prototype=new O;
O.fade.prototype.uf=function(m,g){g[0]=m.Opct.v.val;g[1]=ad.kP.indexOf(m.Md.v.BlnM)};O.fade.prototype.Bo=function(m,g){m.Opct.v.val=g[0];
m.Md.v.BlnM=ad.kP[g[1]]};function aF(m,g){aO.call(this);if(m==null)return;this.id=g;this.jr=m;this.bB=null;
this.Q=p.Y("div","window "+g);this.ZH=p.Y("div","whead");this.IeE=p.Y("span","wname");this.ZH.appendChild(this.IeE);
this.Q.appendChild(this.ZH);this.lK=this.IhM.bind(this);this.RG=this.Ihg.bind(this);this.Rc=this.Ihz.bind(this);
p.jk(this.ZH);p.yG(this.ZH,this.lK);this.bV=p.Y("span","cross");this.ZH.appendChild(this.bV);aF.prototype.b.call(this);
p.WT(this.bV,this.Ivy.bind(this));this.body=p.Y("div","body");this.Q.appendChild(this.body)}aF.prototype=new aO;
aF.prototype.HE=function(){return!1};aF.prototype.RL=function(){return!1};aF.prototype.b=function(){if(this.jr==null)return;
this.IeE.textContent=aT.get(this.jr);var m=PIMG.__cross==null?"filter:invert(1);":"";this.bV.setAttribute("style","background-image:url("+PIMG.cross+");"+m)};
aF.prototype.Mc=function(m,g,L,K,r){};aF.prototype.Fr=function(m,g,L,K,r){};aF.prototype.NB=function(m,g,L,K,r){};
aF.prototype.RK=function(m,g,L,K,r){};aF.prototype.fE=function(m,g,L,K,r){};aF.prototype.KK=function(m,g,L,K){if(K.a(C.xI)&&this.bv)this.bv()};
aF.prototype.AC=function(m){return!1};aF.prototype.YO=function(m,g){return!0};aF.prototype.e_=function(m,g,L,K){};
aF.prototype.SI=function(m,g){};aF.prototype.pU=function(){return!1};aF.prototype.YH=function(m,g){return m<450||g<450?new jf(0,0):new jf(150,150)};
aF.prototype.Dj=function(){};aF.prototype.close=function(){this.g(new Y(p.E.aI))};aF.prototype.IhM=function(m){this.bB=p.c_(m,this.Q);
p.Wj(window,this.RG);p.WT(window,this.Rc)};aF.prototype.Ihg=function(m){var g=this.Q.parentNode,L=p.c_(m,g);
this.Q.style.left=Math.round(L.x-this.bB.x)+"px";this.Q.style.top=g.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(L.y-this.bB.y)))+"px"};
aF.prototype.Ihz=function(m){p.bC(window,this.RG);p.yH(window,this.Rc)};aF.prototype.Ivy=function(m){this.g(new Y("closebtn"));
this.close()};function I_(){aF.call(this,[0,13,0],"account");this.TE=p.Y("div","form padded scrollable");
this.TE.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.TE);this.bN=[new I_.sp,new I_.Jy(I_.I$S),new I_.Jy(I_.I$m)];
for(var m=0;m<this.bN.length;m++)this.bN[m].parent=this;this.v("showpage",this.Ihf,this)}I_.prototype=new aF;
I_.prototype.Ihf=function(m){p.Lj(this.TE);this.TE.scrollTop=0;this.TE.appendChild(this.bN[m.data.Bj].Q)};
I_.prototype.b=function(){aF.prototype.b.call(this);for(var m=0;m<this.bN.length;m++)this.bN[m].b()};
I_.prototype.e_=function(m,g,L){p.Lj(this.TE);var K=this.bN[0];this.TE.appendChild(K.Q);K.e_();this.b()};
I_.prototype.SI=function(m,g){this.e_(null,null,null)};I_.sp=function(){aO.call(this);this.Q=p.Y("div");
var m=this.Q,g,L,K="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.oh=p.Y("div");m.appendChild(this.oh);this.jK=new aX([0,11],!1,null,!0);this.jK.Q.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.jK.v("click",this.DZ,this);m.appendChild(this.jK.Q);this.br=new aX([0,13,1],!1,null,!0);this.br.v("click",this.Inv,this);
m.appendChild(this.br.Q);this.bH=new aX("Contact",!1,null,!0);this.bH.v("click",this.IVm,this);m.appendChild(this.bH.Q);
g=p.Y("h2","");g.innerHTML="Account types";m.appendChild(g);L=p.Y("table","");L.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
m.appendChild(L);var r=this.Iqn=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.HT=[];for(var R=0;R<r.length;R++)this.HT.push(new aX("Buy: $"+r[R][0],!1,null,!0));for(var R=0;
R<this.HT.length;R++){this.HT[R].Q.setAttribute("style",K);this.HT[R].v("click",this.IVr,this)}g=p.Y("h2","");
g.innerHTML="Go Premium";m.appendChild(g);this.jA=new aX("...",!0);this.jA.Q.setAttribute("style",K);
m.appendChild(this.jA.Q);L=this.IVK(3,["Single user",this.HT[0],this.HT[1],this.HT[2],"Team of 5",this.HT[3],this.HT[4],this.HT[5],"Team of 20",this.HT[6],this.HT[7],this.HT[8]]);
m.appendChild(L);this.ICR=new au("I accept",!0,"");m.appendChild(this.ICR.Q);this.bu=new aX([0,13,1],!1,null,!0);
this.bu.v("click",this.Inv,this);m.appendChild(this.bu.Q);g=p.Y("h2","");g.textContent="Team Settings";
m.appendChild(g);this.lu=new au("Join a team");m.appendChild(this.lu.Q);this.lu.v(p.E.z,this.IhF,this);
this.jH=new RZ("Email of a leader",null,14);m.appendChild(this.jH.Q);p.da(m);this.Cu=new au("Start a team");
m.appendChild(this.Cu.Q);this.Cu.v(p.E.z,this.IhF,this);var Q=new Rt("Emails of other members:");m.appendChild(Q.Q);
p.da(m);this.Vf=p.Y("textarea");this.Vf.setAttribute("rows",3);this.Vf.setAttribute("cols",70);this.Vf.setAttribute("style","display:block;tab-size:4;");
m.appendChild(this.Vf);var F=new aX("Save Team Settings",!1,null,!0);m.appendChild(F.Q);F.v("click",this.IVp,this);
var q=this.IqE=new aX("More about Teams",!1,null,!0);m.appendChild(q.Q);q.v("click",this.IEr,this);g=p.Y("h2","");
g.innerHTML="Distributor Account";m.appendChild(g);this.jy=new aX("...",!0);this.jy.Q.setAttribute("style",K);
m.appendChild(this.jy.Q);L=this.IVK(3,["1000 views/month",this.HT[9],this.HT[10],this.HT[11],"5000 views/month",this.HT[12],this.HT[13],this.HT[14],"20000 views/month",this.HT[15],this.HT[16],this.HT[17]]);
m.appendChild(L);this.aq=new RZ("Domain name (e.g. domain.com)",null,14);m.appendChild(this.aq.Q);p.da(m);
var F=new aX("Save Domain Settings",!1,null,!0);F.ef();m.appendChild(F.Q);F.v("click",this.IVD,this);
var q=new aX("More about Distributors",!1,null,!0);m.appendChild(q.Q);q.v("click",this.IEr,this)};I_.sp.prototype=new aO;
I_.sp.prototype.Inv=function(m){var g=new Y("showpage",!0);g.data={Bj:1};this.g(g)};I_.sp.prototype.IVm=function(m){var g=new Y("showpage",!0);
g.data={Bj:2};this.g(g)};I_.sp.prototype.b=function(){this.jK.dv(ah.rs()?aT.get([0,11]):aT.get([0,10]));
this.bu.b();this.br.b();this.bH.b()};I_.sp.prototype.IEr=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.VY,link:"https://www.photopea.com/api/accounts#"+(m.target==this.IqE?"teams":"distributors")};
this.g(g)};I_.sp.prototype.IhF=function(m){var g=m.currentTarget==this.lu;this.lu.p(g);this.Cu.p(!g)};
I_.sp.prototype.IVp=function(m){var g=this.lu.w(),L=this.jH.w().trim(),K=this.Vf.value.trim();if(L.length>60){alert("Too long email address");
return}if(K.length>600){alert("Too many team members");return}K=K.split(",").join(" ").trim();K=K.replace(/\s+/g," ");
if(K=="")K=[];else K=K.split(" ");var r=ah.kG();if(r==null)r={};if(r.acc==null)r.acc={};r.acc.team={jin:g,ldr:L,mmb:K};
ah.DF(r,this.Xk.bind(this));alert("Saved!");this.e_()};I_.sp.prototype.IVD=function(m){var g=this.aq.w().trim();
if(g.length==0){alert("Domain is empty.");return}if(!ah.rs()){alert("You have to log in first.");return}if(ah.KA().distrib=="0"){alert("Order a distributor account first.");
return}var L=ah.kG();if(L==null)L={};if(L.acc==null)L.acc={};L.acc.dname=g;ah.DF(L,this.Xk.bind(this));
alert("Saved!");this.e_()};I_.sp.prototype.e_=function(){if(ah.rs()){var m=ah.KA();if(m==null)return;
this.oh.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+m.name+"</span> "+m.email+" <br/>"}else this.oh.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var g=ah.rs()&&ah.MS();this.jA.Q.style.display=g?"block":"none";if(g){var L=parseInt(m[p.jw("!&|'&50")])-Date.now()*(1/1e3),K=parseInt(m.ptype),r;
if(K==-1)r="member of a team";else if(K==1)r="Single user";else r="Team of "+K;this.jA.dv("Premium active for "+Math.round(L/(60*60*24))+" more days! ("+r+")")}var R=ah.rs()&&m.distrib*1e3>Date.now();
this.jy.Q.style.display=R?"block":"none";if(R){var L=parseInt(m.distrib)-Date.now()/1e3,K=parseInt(m.ptype);
this.jy.dv("Distributor active for "+Math.round(L/(60*60*24))+" more days! ("+K+" visitos)")}var Q=ah.kG();
if(Q&&Q.acc&&Q.acc.team){var F=Q.acc.team;this.lu.p(F.jin);this.Cu.p(!F.jin);this.jH.p(F.ldr);this.Vf.value=F.mmb.join(", ")}else{this.lu.p(!0);
this.Cu.p(!1);this.jH.p("");this.Vf.value=""}if(Q&&Q.acc&&Q.acc.dname)this.aq.p(Q.acc.dname);else this.aq.p("")};
I_.sp.prototype.IVK=function(m,g){var L=p.Y("table");L.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(m==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var K=0;K<g.length;K+=m+1){var r=p.Y("tr"),R;L.appendChild(r);R=p.Y("td","left");r.appendChild(R);
R.innerHTML="<b>"+g[K]+"</b>";for(var Q=0;Q<m;Q++){R=p.Y("td");r.appendChild(R);R.appendChild(g[K+1+Q].Q)}}return L};
I_.sp.prototype.IVr=function(m){var g=this.HT.indexOf(m.currentTarget);if(!ah.rs()){alert("You must log in before buying Premium");
return}if(this.ICR.w()==!1&&g<9){alert("You must accept Terms of Service");return}var L=this.Iqn[g],K=L[1],r=L[2],R=ah.rs()&&ah.MS();
if(R&&r<1e3){alert("You already have premium.");return}ah.order(K,r,this.Xk.bind(this));this.XM()};I_.sp.prototype.Xk=function(m){if(ah.rs()&&ah.KA().msg)alert(ah.KA().msg);
this.e_();this.XM()};I_.sp.prototype.DZ=function(m){if(ah.rs()){ah.IVC();this.XM();this.e_(null,null,null)}else ah.DZ(this.IVW.bind(this))};
I_.sp.prototype.IVW=function(){var m=new Y(p.E.V,!0);m.data={P:p.o.IqX};this.g(m)};I_.sp.prototype.XM=function(){var m=new Y(p.E.V,!0);
m.data={P:p.o.IlI};this.g(m)};I_.Jy=function(m){aO.call(this);this.Q=p.Y("div");var g=this.Q,L=this.Iqh=new aX([0,13,2],!1,null,!0);
L.v("click",this.IVy,this);g.appendChild(L.Q);var K=p.Y("div","");K.innerHTML=m;g.appendChild(K)};I_.Jy.prototype=new aO;
I_.Jy.prototype.IVy=function(m){var g=new Y("showpage",!0);g.data={Bj:0};this.g(g)};I_.Jy.prototype.b=function(){this.Iqh.b()};
I_.I$m="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
I_.I$S="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function RN(){aF.call(this,[11,14],"addguides");this.TA;this.Tf={dA:{$C:0}};this.bb=null;var m=p.Y("div","form");
this.body.appendChild(m);this.dZ=new RZ([22,4,0],null,16);this.dZ.v(p.E.z,this.FT,this);this.Cd=new RZ([22,4,1],null,16);
this.Cd.v(p.E.z,this.FT,this);this.PU=new aW(null,I.Wq.IP);this.PU.v(p.E.z,this.FT,this);m.appendChild(this.dZ.Q);
m.appendChild(this.PU.Q);p.da(m);m.appendChild(this.Cd.Q);this.AG=new aX("OK",!0,null,!0);this.AG.v("click",this.bv,this);
m.appendChild(this.AG.Q);this.v("closebtn",this.I$X,this)}RN.prototype=new aF;RN.prototype.YO=function(m,g){return m!=null};
RN.prototype.HE=function(){return!0};RN.prototype.b=function(){aF.prototype.b.call(this);this.dZ.b();
this.Cd.b();this.PU.b()};RN.prototype.SI=function(m,g){var L=m.dA.$C;this.Tf.dA.$C=L;this.PU.p(L)};RN.prototype.e_=function(m,g){this.TA=m;
this.bb=JSON.stringify(m.TW);this.GF()};RN.prototype.GF=function(){var m=this.TA,g=m.TW,L=function(K,m,r,R){var Q=[];
for(var F=0;F<K.length;F++)Q.push(I.Wq.bT(K[F],m.Jt,r,R));return Q.join(", ")};this.dZ.p(L(g[1],m,this.Tf,m.F));
this.Cd.p(L(g[0],m,this.Tf,m.j))};RN.prototype.FT=function(m){if(m&&m.currentTarget==this.PU)this.Tf.dA.$C=this.PU.w();
else{var g=this.I$W(this.dZ),L=this.I$W(this.Cd),K=this.TA;K.TW=[L,g];K.Oi=!0}this.GF()};RN.prototype.I$W=function(m){var g=m==this.dZ?this.TA.F:this.TA.j,L=m.w().replace(/,/g," ").replace(/  +/g," ").trim(),K=L==""?[]:L.split(" ");
for(var r=0;r<K.length;r++)K[r]=I.Wq.ICQ(K[r],this.TA.Jt,this.Tf,g);return K};RN.prototype.I$X=function(m){var g=this.TA;
g.TW=JSON.parse(this.bb);g.Oi=!0;this.TA=null};RN.prototype.bv=function(m){this.FT(m);var g=new Y(p.E.B,!0);
g.K=l.Kb;g.data={P:"gids",wz:JSON.parse(this.bb),gZ:JSON.parse(JSON.stringify(this.TA.TW))};this.TA=null;
this.close();this.g(g)};function mB(m){var g=aN.names[m];if(g==null)g=qE.names[m];if(m=="fade")g=[2,11];
aF.call(this,g,"afw_"+m);this.le=m;this.Tk=null;this.Pq=null;this.$G=new O[m];this.$G.v(p.E.z,this.BS,this);
this.$G.parent=this;this.body.appendChild(this.$G.Q);this.Xc=new au([24,18,5]);this.Xc.p(!0);this.Xc.v(p.E.z,this.BS,this);
this.ICh=new aX("Reset",!0,null,!0);this.ICh.v("click",this.Jh,this);this.AG=new aX("OK",!0,null,!0);
this.AG.v("click",this.bv,this);if(this.$G.pU())this.$G.Xm(this.AG.Q);else{p.RM(this.$G.Q,"form");p.RM(this.body,"flexrow");
this.$G.Q.setAttribute("style","width:24em");var L=p.Y("div");this.body.appendChild(L);L.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
L.appendChild(this.AG.Q);L.appendChild(this.ICh.Q);L.appendChild(this.Xc.Q)}this.v("closebtn",this.RF,this)}mB.prototype=new aF;
mB.prototype.HE=function(){return!0};mB.prototype.pU=function(){return this.$G!=null&&this.$G.pU()};
mB.prototype.YH=function(){return this.$G.pU()?new jf(0,0):aF.prototype.YH()};mB.prototype.RL=function(){return this.$G.RL()};
mB.prototype.Mc=function(m,g,L,K,r){this.$G.Mc(m,g,L,K,r)};mB.prototype.NB=function(m,g,L,K,r){this.$G.NB(m,g,L,K,r)};
mB.prototype.RK=function(m,g,L,K,r){this.$G.RK(m,g,L,K,r)};mB.prototype.YO=function(m,g){if(this.le=="fade")return mB.II$(m);
return!0};mB.prototype.Jh=function(m){this.$G.p(aN.Rw(this.le));this.BS()};mB.prototype.BS=function(m){this.ou({P:"edit",nw:this.$G.w(),Wi:!this.Xc.w()})};
mB.prototype.RF=function(m){this.ou({P:"cancel"})};mB.prototype.bv=function(m){if(!this.Xc.w()){this.Xc.p(!0);
this.BS()}this.Pq=this.$G.w();if(this.pU())this.BS();this.ou({P:"confirm"});this.close()};mB.prototype.b=function(){aF.prototype.b.call(this);
this.Xc.b();if(this.$G)this.$G.b()};mB.prototype.SI=function(m,g){if(this.$G)this.$G.SI(m,g)};mB.prototype.KK=function(m,g,L,K){if(this.$G&&this.$G.pU())this.$G.KK(K);
else aF.prototype.KK.call(this,m,g,L,K)};mB.prototype.e_=function(m,g,L,K){this.Tk=g.Tk;var r=m.add.lnk2?m.add.lnk2:[],R,Q,F=new v(0,0,m.j,m.F),q=m._[m.N[0]],n=null;
R=q.buffer;Q=q.rect;if(this.pU())n=m.os(m.N[0]-1);var W=aN.Rw(this.le),z=[r,m.Qj];if(g.Tk==null){this.$G.p(W,R,Q,F,n,z);
if(qE.names[this.le]){if(K.a(C.qk)&&this.Pq)this.$G.p(this.Pq);var u=aJ.gL.getData(m),N=I.Oh(u[0].$O);
this.$G.$l(N)}}else{var b=!1,q=m._[this.Tk.A];if(q.zp()){var B=q.lI(m);R=B.buffer;Q=B.rect;var h=q.add.SoLd.filterFX.v.filterFXList.v;
if(h[this.Tk.index]){var A=h[this.Tk.index].v.Fltr.v;this.$G.p(A,R,Q,F,n,z);b=!0}}if(!b)this.$G.p(W,R,Q,F,n,z)}if(!this.pU())this.BS()};
mB.prototype.ou=function(m){var g=new Y(p.E.B,!0);m.le=this.le;m.Tk=this.Tk;g.data=m;g.K=aN.names[this.le]||this.Tk?l.VJ:l.fy;
g.Gd=!0;this.g(g)};mB.prototype.Dj=function(m,g){g=g-26;m=m-26;this.$G.Dj(m,g)};mB.II$=function(m){if(m==null)return!1;
var g=m.oC();if(g==null||!(g.data instanceof Array)||g.data.length!=m.N.length)return!1;for(var L=0;
L<g.data.length;L++){var K=g.data[L];if(K.A<0&&m.Qj[-1-K.A])return!0;if(K.A==null||m._[K.A]==null||m._[K.A].eF!=K.$y)return!1;
if(m.N.indexOf(K.A)==-1)return!1}return!0};function pV(){aF.call(this,[11,0],"camera");this.data=null;
this.Pm=new jf(1,1);this.Ivw=[];var m=p.Y("div","form hbar");this.body.appendChild(m);this.ICP=new aW(null,[]);
this.PJ=new aW([21,0],[[21,2],[21,1]]);m.appendChild(this.PJ.Q);this.Cy=new aW(null,[]);this.Cy.v(p.E.z,this.IIF,this);
m.appendChild(this.Cy.Q);this.PG=new aX([11,0],!1,null,!0);this.PG.v("click",this.I$A,this);m.appendChild(this.PG.Q);
this.Po=new Rt("");m.appendChild(this.Po.Q);this.stream=null;this.DP=p.Y("video","");this.DP.setAttribute("autoplay","true");
this.body.appendChild(this.DP);this.IvB=this.IUp.bind(this);this.IZl=this.IUx.bind(this);this.IqV=this.IIW.bind(this);
this.v("closebtn",this.Ij$,this)}pV.prototype=new aF;pV.prototype.b=function(){aF.prototype.b.call(this);
this.PJ.b();this.PG.b();this.IIW()};pV.prototype.os=function(){var m=this.DP.videoWidth,g=this.DP.videoHeight,L=p.Y("canvas","");
L.width=m;L.height=g;var K=L.getContext("2d");K.drawImage(this.DP,0,0,m,g);var r=K.getImageData(0,0,m,g);
return{wh:new v(0,0,m,g),data:r.data.buffer}};pV.prototype.I$A=function(m){if(this.PJ.w()==0)this.IUI();
else this.IUU()};pV.prototype.IUU=function(){var m=this.os(),g={buffer:new Uint8Array(m.data),rect:m.wh},L=new Y(p.E.B,!0);
L.Gd=!0;L.K=l.pW;L.data={P:x.xP,qY:g};this.g(L);alert(aT.get([21,4]))};pV.prototype.IUI=function(){var m=this.os(),g=RU.Gp("camera",[m]),L=new Y(p.E.V,!0);
L.data={P:p.o.ES,$X:g};this.g(L);alert(aT.get([21,5]))};pV.prototype.e_=function(m,g,L){navigator.mediaDevices.enumerateDevices().then(this.IUm.bind(this))};
pV.prototype.IUm=function(m){var g=this.Ivw=[],L=[];for(var K=0;K<m.length;K++)if(m[K].kind=="videoinput"){g.push(m[K]);
L.push("Camera "+g.length)}this.Cy.EJ(L);this.Cy.p(0);this.IIF()};pV.prototype.IIF=function(m){this.Ij$();
var g={video:{deviceId:this.Ivw[this.Cy.w()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(g).then(this.IvB).catch(this.IZl);
else navigator.webkitGetUserMedia(g,this.IvB,this.IZl)};pV.prototype.IUp=function(m){this.stream=m;this.DP.srcObject=m;
this.DP.addEventListener("loadedmetadata",this.IqV,!1)};pV.prototype.IIW=function(m){this.DP.play();
this.Dj(this.uP,this.PC)};pV.prototype.YH=function(m,g){return new jf(0,0)};pV.prototype.Dj=function(m,g){var L=this.DP.videoWidth,K=this.DP.videoHeight;
this.Po.p(L+" x "+K+" px");this.Po.Q.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.Pm.xF(L,K);this.uP=m;this.PC=g;var r=m-28,R=g-28-30,Q=this.Pm.x/this.Pm.y;if(r/R>Q)r=R*Q;else R=r/Q;
this.DP.setAttribute("style","display: block; width: "+Math.round(r)+"px; height:"+Math.round(R)+"px;")};
pV.prototype.IUx=function(m){console.log("error",m);alert(aT.get([21,6]));this.close()};pV.prototype.Ij$=function(m){if(this.stream!=null){var g=this.stream.getTracks();
for(var L=0;L<g.length;L++)g[L].stop();this.stream=null}};function po(){aF.call(this,[7,8],"crange");
this.TA=null;this.aQ={dU:73,Wh:4.45,R:4};this.aj={dU:73,Wh:4.45,R:4};var m=p.Y("div","form");m.setAttribute("style","width:18em");
this.body.appendChild(m);this.Pa=new a$([12,92],0,200);this.Pa.p(40);this.Pa.v(p.E.z,this.fo,this);m.appendChild(this.Pa.Q);
this.Dt=p.Y("canvas");m.appendChild(this.Dt);this.PS=new IC([12,36],[[18,0],"\uFF0B","\u2014"]);m.appendChild(this.PS.Q);
this.It=new aX("OK",!0,null,!0);this.It.v("click",this.bv,this);this.body.appendChild(this.It.Q)}po.prototype=new aF;
po.prototype.YO=function(m,g){return m!=null};po.prototype.RL=function(){return!0};po.prototype.HE=function(){return!0};
po.prototype.b=function(){aF.prototype.b.call(this);this.Pa.b();this.PS.b()};po.prototype.Mc=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y);
this.Iad(R.x,R.y)};po.prototype.Iad=function(m,g){var L=Math.min,K=Math.max,r=this.TA,R=K(0,L(r.j-1,Math.floor(m))),Q=K(0,L(r.F-1,Math.floor(g))),F=r.os(),q=(Q*r.j+R)*4,n=F[q],W=F[q+1],z=F[q+2],u=I.Kf(n,W,z),N=this.PS.w(),b=this.aQ,B=this.aj;
if(N==0){this.aQ=JSON.parse(JSON.stringify(u));this.aj=u}else if(N==1){b.dU=L(b.dU,u.dU);b.Wh=L(b.Wh,u.Wh);
b.R=L(b.R,u.R);B.dU=K(B.dU,u.dU);B.Wh=K(B.Wh,u.Wh);B.R=K(B.R,u.R)}else if(N==2){var h=(b.dU+B.dU)/2,A=(b.Wh+B.Wh)/2,e=(b.R+B.R)/2;
if(u.dU<h)b.dU=K(b.dU,u.dU+10);else B.dU=L(B.dU,u.dU-10);if(u.Wh<A)b.Wh=K(b.Wh,u.Wh+1);else B.Wh=L(B.Wh,u.Wh-1);
if(u.R<e)b.R=K(b.R,u.R+1);else B.R=L(B.R,u.R-1)}this.fo()};po.prototype.bv=function(m){var g=new Y(p.E.B,!0);
g.K=l.eS;g.data={P:"crange",mv:this.aQ,mV:this.aj,Xt:this.Pa.w()/200};g.Gd=!0;this.g(g);this.close()};
po.prototype.e_=function(m,g){this.TA=m;this.Iad(0,0)};po.prototype.fo=function(){var m=this.TA,g=l.Lk.Iwk(m,this.aQ,this.aj,this.Pa.w()/200),L=g.rect,K=g.channel,r=this.Dt,R=r.getContext("2d"),Q=Math.floor(230*p.M()),F=Math.floor(Q*(L.F/L.j));
r.width=Q;r.height=F;p.Wr(r,Q,F);var q=I.m(K.length*4);I._U(q,4294967295);for(var n=0;n<3;n++)I.eX(K,q,n);
var W=l.k.eB([q,L],new aC(Q/L.j,0,0,F/L.F,0,0)),z=W.rect,u=new ImageData(new Uint8ClampedArray(W.buffer.buffer),z.j,z.F);
R.putImageData(u,0,0)};function Ik(){aF.call(this,[12,76,1],"createshape");this.nu=null;var m=p.Y("div","form");
m.setAttribute("style","width:20em");this.body.appendChild(m);this.uD=new R_([12,41],0,0,null,0,!1,!0);
m.appendChild(this.uD.Q);p.da(m);this.dZ=new R_([12,42],0,0,null,0,!1,!0);m.appendChild(this.dZ.Q);p.da(m);
this.Pk=new au([19,5,3]);m.appendChild(this.Pk.Q);this.uD.p(100);this.dZ.p(100);this.AG=new aX("OK",!0,null,!0);
this.AG.v("click",this.bv,this);m.appendChild(this.AG.Q)}Ik.prototype=new aF;Ik.prototype.bv=function(m){this.nu.Ihl(this.nu.IhO,this.uD.w(),this.dZ.w(),this.Pk.w());
this.close()};Ik.prototype.b=function(){if(this.nu)this.jr=aT.get([5,3])+": "+aT.get(this.nu.Ihk);aF.prototype.b.call(this);
this.uD.b();this.dZ.b();this.Pk.b()};Ik.prototype.e_=function(m,g){this.nu=g;this.b()};function m_(){aF.call(this,[11,1],"colorpicker");
this.vR=null;this.oW=null;this.TU=null;this.ld=!1;this.mn=!1;var m=p.Y("div","flexrow"),R,Q;this.body.appendChild(m);
this.xT=new mU(256);this.xT.v(p.E.z,this.Bq,this);m.appendChild(this.xT.Q);var g=p.Y("div","form");g.setAttribute("style","width:14.5em; margin-left:1em;");
m.appendChild(g);this.IZM=p.Y("div","full");g.appendChild(this.IZM);this.IZX=p.Y("div","full");g.appendChild(this.IZX);
var L=p.Y("div","flexrow");g.appendChild(L);var K=p.Y("div"),r=p.Y("div");L.appendChild(K);L.appendChild(r);
R=["R","G","B"];Q=K;this.PO=[];for(var F=0;F<3;F++){var q=new R_(R[F]+":",0,255,null,0,!1,!0);this.PO.push(q);
q.v(p.E.z,this.IUJ,this);Q.appendChild(q.Q)}R=["H","S","B"];Q=r;this.PM=[];for(var F=0;F<3;F++){var n=0,W=360,z="\xB0";
if(F!=0){W=100;z="%"}var q=new R_(R[F]+":",n,W,z,0,!1,!0);this.PM.push(q);q.v(p.E.z,this.IUG,this);Q.appendChild(q.Q)}this.dZ=new RZ("Hex",null,6);
this.dZ.v(p.E.z,this.BQ,this);g.appendChild(this.dZ.Q);this.Pi=p.Y("input","fitem");this.Pi.setAttribute("type","color");
this.Pi.setAttribute("style","width:50px");this.Pi.addEventListener("change",this.BQ.bind(this),!1);
g.appendChild(this.Pi);this.vp=new pA(9);this.vp.v(p.E.z,this.BQ,this);g.appendChild(this.vp.Q);this.AG=new aX("OK",!0,null,!0);
this.AG.v("click",this.bv,this);g.appendChild(this.AG.Q);this.v("closebtn",this.RF,this);this.ax=!1}m_.prototype=new aF;
m_.prototype.RL=function(){return!0};m_.prototype.Dj=function(m,g){this.xT.Dj(Math.min(256,m-250),g)};
m_.prototype.Bq=function(m){this.oW=this.xT.w();this.update()};m_.prototype.Mc=function(m,g,L,K,r){this.ax=!0;
this.Ixo(m,r)};m_.prototype.NB=function(m,g,L,K,r){if(!this.ax)return;this.Ixo(m,r)};m_.prototype.RK=function(m,g,L,K,r){this.ax=!1};
m_.prototype.Ixo=function(m,g){var L=l.nl.Rx(m,g,1),K=L&255,r=L>>8&255,R=L>>16&255;this.oW={u:R/255,S:r/255,R:K/255};
this.update()};m_.prototype.IUJ=function(m){var g=this.PO,L=this.lT(parseInt(g[0].w())),K=this.lT(parseInt(g[1].w())),r=this.lT(parseInt(g[2].w()));
this.oW={u:L/255,S:K/255,R:r/255};this.update()};m_.prototype.IUG=function(m){var g=this.PM,L=this.$g(parseInt(g[0].w())/360),K=this.$g(parseInt(g[1].w())/100),r=this.$g(parseInt(g[2].w())/100);
this.oW=I.ww(L,K,r);this.update()};m_.prototype.BQ=function(m){var g;if(m.currentTarget==this.vp)g=this.vp.w();
else{g=m.currentTarget==this.dZ?this.dZ.w():this.Pi.value;if(g.charAt(0)=="#")g=g.slice(1);if(g.length==3)g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2];
g=I.Im_(g)}this.oW={u:(g>>16&255)/255,S:(g>>8&255)/255,R:(g&255)/255};this.update()};m_.prototype.NH=function(m){var g=m.u,L=m.S,K=m.R;
return Math.round(g*255)<<16|Math.round(L*255)<<8|Math.round(K*255)};m_.prototype.bv=function(m){this.Iww();
var g=this.NH(this.oW);this.TU(g);this.close();this.mn=!1;this.oW=null};m_.prototype.RF=function(m){this.Iww();
if(this.ld)this.TU(this.NH(this.vR));this.mn=!1;this.oW=null};m_.prototype.Iww=function(m){var g=new Y(p.E.V,!0);
g.data={P:p.o.Iam};this.g(g)};m_.prototype.SI=function(m,g){if(g!=am.Tc)return;var L=m.$q;this.vp.p(L);
if(this.oW!=null){this.oW={u:(L>>16&255)/255,S:(L>>8&255)/255,R:(L>>0&255)/255};this.update()}};m_.prototype.e_=function(m,g){var L=g.yK,K={u:(L>>16&255)/255,S:(L>>8&255)/255,R:(L>>0&255)/255};
if(this.oW==null){var r=new Y(p.E.V,!0);r.data={P:p.o.cM,_q:"crosshair",push:!0};this.g(r);this.ax=!1;
this.TU=g.tG;this.ld=!1;this.mn=g.Nm;this.vR=JSON.parse(JSON.stringify(K));this.IZX.setAttribute("style","height:3em;background-color:#"+I.IA(L)+";")}this.oW=K;
this.update()};m_.prototype.update=function(){var m=this.oW,g=this.NH(m),L=this.PO;L[0].p(Math.round(m.u*255));
L[1].p(Math.round(m.S*255));L[2].p(Math.round(m.R*255));this.dZ.p(I.IA(g));this.Pi.value="#"+I.IA(g);
this.IZM.setAttribute("style","height:3em;background-color:#"+I.IA(g)+";");var K=I.MW(m.u,m.S,m.R);L=this.PM;
L[0].p(Math.round(K.PC*360));L[1].p(Math.round(K.Gr*100));L[2].p(Math.round(K.nw*100));this.xT.p(m);
if(this.mn){this.TU(this.NH(this.oW));this.ld=!0}};m_.prototype.lT=function(m){return Math.max(0,Math.min(255,m))};
m_.prototype.$g=function(m){return Math.max(0,Math.min(1,m))};function DT(){aF.call(this,[11,2],"contoureditor");
this.IZY=null;this.kY=null;this.response=null;this.gC=p.Y("div","cell");this.body.appendChild(this.gC);
this.Nt=p.Y("div","cell padded");this.body.appendChild(this.Nt);var m=p.Y("div","bordered padded vmargin");
this.gC.appendChild(m);this.$G=new Do;this.$G.v(p.E.z,this.Xp,this);m.appendChild(this.$G.Q);this.AG=new aX("OK",!0,null,!0);
this.AG.v("click",this.close,this);this.Nt.appendChild(this.AG.Q);this.coords=p.Y("div","");this.coords.setAttribute("style","width:250px");
this.gC.appendChild(this.coords);this.x_=new RZ("X (in)","%",4);this.xs=new RZ("Y (out)","%",4);this.vx=new au([19,3,0]);
this.x_.v(p.E.z,this.Bk,this);this.xs.v(p.E.z,this.Bk,this);this.vx.v(p.E.z,this.Bk,this);this.coords.appendChild(this.x_.Q);
this.coords.appendChild(this.vx.Q);this.coords.appendChild(this.xs.Q);this.v("closebtn",this.mF,this)}DT.prototype=new aF;
DT.prototype.b=function(){aF.prototype.b.call(this);this.vx.b()};DT.prototype.Xp=function(m){this.kY.Crv.v=this.$G.w();
this.response(this.kY);this.Bx()};DT.prototype.mF=function(m){this.response(this.IZY)};DT.prototype.e_=function(m,g){this.IZY=JSON.parse(JSON.stringify(g.r));
this.kY=g.r;this.response=g.response;this.$G.p(this.kY.Crv.v);this.Bx()};DT.prototype.Bx=function(){var m=this.$G.IOx();
this.coords.setAttribute("class",m==-1?"disabled":"");if(m==-1)return;var g=this.kY.Crv.v[m].v;this.x_.p(Math.round(g.Hrzn.v*(100/255)));
this.xs.p(Math.round(g.Vrtc.v*(100/255)));this.vx.p(g.Cnty.v)};DT.prototype.Bk=function(m){var g=this.$G.IOx(),L=this.kY.Crv.v[g];
L.v.Hrzn.v=parseFloat(this.x_.w())*(255/100);L.v.Vrtc.v=parseFloat(this.xs.w())*(255/100);L.v.Cnty.v=this.vx.w();
this.kY.Crv.v.sort(function(K,r){return K.v.Hrzn.v-r.v.Hrzn.v});this.$G.p(this.kY.Crv.v,this.kY.Crv.v.indexOf(L));
this.Bx();this.response(this.kY)};function pr(){aF.call(this,[11,3],"csize");this.P_=0;this.TE=p.Y("div","form");
this.TE.setAttribute("style","width:22em");this.body.appendChild(this.TE);this.Ww=new js(!0,!0,!0,!0);
this.Ww.IEF(!1);this.TE.appendChild(this.Ww.Q);this.Pe=new IC("Align with",[[8,7],[12,6]]);this.Pe.v(p.E.z,this.IUT,this);
this.vL=new jz([12,23,2],41);this.TE.appendChild(this.vL.Q);this.vL.p(4);this.Pv=new mN(!1);this.Pv.IEt(new jf(0,0));
this.It=new aX("OK",!0,null,!0);this.It.v("click",this.bv,this);this.body.appendChild(this.It.Q)}pr.prototype=new aF;
pr.prototype.YO=function(m,g){return m!=null};pr.prototype.HE=function(){return!0};pr.prototype.IUT=function(){var m=[this.vL.Q,this.Pv.Q];
this.TE.removeChild(m[this.P_]);this.P_=this.Pe.w();this.TE.appendChild(m[this.P_])};pr.prototype.b=function(){aF.prototype.b.call(this);
this.Ww.b();this.Pe.b();this.vL.b();this.Pv.b()};pr.prototype.bv=function(m){var g=this.Ww.w(),L=g.x,K=g.y,r=new Y(p.E.VG,!0);
r.data=l.ma.IIC(L,K,this.vL.w());this.close();this.g(r)};pr.prototype.e_=function(m,g){this.Ww.p(new jf(m.j,m.F),m.Jt)};
function qS(){aF.call(this,[11,4],"duplinto");this.XE=null;this.Ft=null;var m=p.Y("div","form");m.setAttribute("style","max-width:26em");
this.body.appendChild(m);this.lW=new aW([12,43],["abc","def"]);this.lW.v(p.E.z,this.IwM,this);m.appendChild(this.lW.Q);
p.da(m);this.eV=new RZ([12,48],null,14);m.appendChild(this.eV.Q);this.AG=new aX("OK",!0,null,!0);this.AG.v("click",this.bv,this);
m.appendChild(this.AG.Q)}qS.prototype=new aF;qS.prototype.HE=function(){return!0};qS.prototype.b=function(){aF.prototype.b.call(this);
this.lW.b();this.eV.b()};qS.prototype.IwM=function(m){var g=this.lW.w();if(g==this.Ft.length)this.eV.eo();
else this.eV.Mp()};qS.prototype.e_=function(m,g,L){this.XE=m;this.Ft=L;this.eV.p(m.N.length==0?"Layer":m._[m.N[0]].getName());
var K=[];for(var r=0;r<L.length;r++)K.push(L[r].name);K.push([11,7]);this.lW.EJ(K);this.lW.p(L.indexOf(m));
this.IwM(null)};qS.prototype.bv=function(m){var g=this.lW.w();if(g==this.Ft.length){var L=new aH(this.eV.w()+".psd");
L.j=this.XE.j;L.F=this.XE.F;L.buffer=I.m(L.j*L.F*4);var K=L.Co();K.vZ("Background");L.rZ([K]);var r=new Y(p.E.V,!0);
r.Gd=!0;r.data={P:p.o.ES,$X:L};this.g(r)}var R=this.XE.wW(null,this.XE!=this.Ft[g]),r=new Y(p.E.B,!0);
r.data={P:x.xN,_:R,Jc:this.XE,fZ:this.Ft[g]};r.K=l.pW;r.Gd=!0;this.g(r);this.close()};function Dl(){aF.call(this,[1,9],"eassets");
this.Tf=null;this.GR=null;var m=p.Y("div","form");m.setAttribute("style","width:32em");this.body.appendChild(m);
this.VC=p.Y("span");m.appendChild(this.VC);p.da(m);this.ah=[new au("Only layers / folders, whose name starts with \"-e-\""),new au("Remove parts outside the canvas"),new au("Trim transparent parts")];
for(var g=0;g<3;g++){var L=this.ah[g];L.p(!0);L.v(p.E.z,this.GF,this);m.appendChild(L.Q);p.da(m)}this.aL=new pC([12,14,0],["1x","2x","3x","4x"]);
this.aL.p([!0,!1,!1,!1]);m.appendChild(this.aL.Q);p.CU(m);this.PZ=["PNG","JPG","SVG"];this.vJ=new aW([12,50],this.PZ);
this.vJ.v(p.E.z,this.IGM,this);m.appendChild(this.vJ.Q);this.QJ=new xI;m.appendChild(this.QJ.Q);this.It=new aX([1,9],!0,null,!0);
this.It.v("click",this.bv,this);m.appendChild(this.It.Q);this.v("closebtn",this.Js,this)}Dl.prototype=new aF;
Dl.prototype.IGM=function(m){this.QJ.IOq(this.PZ[this.vJ.w()])};Dl.prototype.Js=function(m){this.GR=null};
Dl.prototype.b=function(){aF.prototype.b.call(this);this.vJ.b();this.aL.b();this.It.b();this.QJ.b()};
Dl.prototype.e_=function(m,g,L){this.GR=m;this.GF()};Dl.prototype.GF=function(m){var g=this.ITd(),L="- - - "+g.length+" exportable layers";
this.VC.textContent=L;this.IGM(null)};Dl.prototype.ITd=function(){var m=this.ah[0].w(),g=[],L=this.GR;
for(var K=0;K<L._.length;K++){var r=L._[K],R=r.getName();if(!m&&!r.EY()&&!r.rect.L_()||R.startsWith("-e"))g.push(K)}return g};
Dl.prototype.SI=function(m,g){this.Tf=m};Dl.prototype.bv=function(m){var g=this.GR,L=[this.PZ[this.vJ.w()]],K=[this.QJ.w()],r=this.aL.w(),R={},Q={},F=this.ITd();
if(F.length==0){alert("No layers to export.");return}var q=[this.ah[1].w(),this.ah[2].w()];for(var n=0;
n<F.length;n++){var W=F[n],z=g._[W],u=z.getName();if(Q[u]!=null){Q[u]++;u+=" "+Q[u]}else Q[u]=1;var N=z.WP();
z.Vd(!0);for(var b=0;b<r.length;b++){if(!r[b])continue;var B=b+1,h=l.Bc.IUz(g,L,B,this.Tf,W,K,q);for(var A=0;
A<L.length;A++){var e=L[A],c=u.slice(u.startsWith("-e-")?3:0)+(B==1?"":"-"+B+"x")+"."+e.toLowerCase();
R[c]=new Uint8Array(h[A])}}z.Vd(N)}var a=UZIP.encode(R),$=new Y(p.E.V,!0);$.data={P:p.o.Ly,data:a,name:"assets.zip"};
this.g($)};function jb(){aF.call(this,"File Info","finfo");this.Pn=null;this.gX=null;this.Pg=null;this.TE=p.Y("div","form scrollable label12");
this.TE.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");this.body.appendChild(this.TE);
var m=p.Y("div","form");this.body.appendChild(m);this.aJ=new aW(null,["Hello"]);m.appendChild(this.aJ.Q);
this.IZb=new aX("Add Parameter",!1,null,!0);m.appendChild(this.IZb.Q);this.IZb.v("click",this.ar,this);
this.al=new aX("=== S A V E ===",!1,null,!0);m.appendChild(this.al.Q);this.al.v("click",this.Be,this);
this.IZP=""}jb.prototype=new aF;jb.prototype.YH=function(m,g){return m<450||g<450?new jf(0,0):new jf(150,100)};
jb.prototype.ar=function(m){if(this.Pg.length==0)return;var g=this.Pg[this.aJ.w()],L=this.BC();L[g]=RV.ju[g][0];
this.Nz(L);this.gX[g].Q.scrollIntoView();this.gX[g].rD()};jb.prototype.lq=function(m){var g=this.BC();
delete g[m.currentTarget.IQt];this.Nz(g)};jb.prototype.Be=function(m){var g=this.BC(),L=this.Pn,K=!0;
for(var r in L)if(JSON.stringify(L[r])!=JSON.stringify(g[r]))K=!1;for(var r in g)if(JSON.stringify(L[r])!=JSON.stringify(g[r]))K=!1;
if(K)return;var R=new Y(p.E.B,!0);R.K=l.pW;R.data={P:x.Wm,ex:g};this.g(R);this.Pn=g;this.Nz(g)};jb.IUS=function(m){function g(r){var R=r.toLowerCase();
return r==R}var L=m.split(":").pop();for(var K=1;K<L.length-1;K++){if(L[K]==L[K].toUpperCase()&&(g(L[K+1])||g(L[K-1]))){L=L.slice(0,K)+" "+L.slice(K);
K++}}return L};jb.prototype.e_=function(m,g){this.Pn=m.Io;this.Nz(m.Io)};jb.prototype.Nz=function(m){var g=this.TE,r=0;
p.Lj(g);var L=this.gX={},K=["tiff","exif","exif:GPS"],R=this.Pg=[],Q=[];for(var F in RV.ju){var q=jb.IUS(F),n=0,z=15,u=null;
if(m[F]==null){R.push(F);Q.push(q);continue}for(var W=0;W<K.length;W++)if(F.startsWith(K[W]))n=W;if(n!=r){p.CU(g);
r=n}if(F=="tiff:ImageDescription"||F=="dc:Keywords"){z=18.5;u=3}var N=new RZ(q,null,z,u);L[F]=N;var b=m[F];
if(b instanceof Array)b=b[1]==0?"---":b[0]+"/"+b[1];var B=new aX("\u2716",null,aT.get([5,4]));g.appendChild(B.Q);
B.v("click",this.lq,this);B.IQt=F;N.p(b);g.appendChild(N.Q);p.da(g);if(F=="exif:GPSLongitude"&&m["exif:GPSLatitude"]){this.IZP=jb.ITW(m["exif:GPSLatitude"])+","+jb.ITW(m["exif:GPSLongitude"]);
var h=new aX("Show on map",!1,null,!0);g.appendChild(h.Q);p.da(g);h.v("click",this.IUk,this)}}this.aJ.EJ(Q);
this.aJ.p(0)};jb.prototype.BC=function(){var m=this.gX,g=RV.ju,L={};for(var K in g){var r=g[K][0],R=typeof r;
if(r==null||m[K]==null)continue;var Q=m[K].w();if(R=="number")Q=parseFloat(Q);else if(r instanceof Array&&r.length==2)Q=Q.split("/").map(parseFloat);
L[K]=Q}return L};jb.ITW=function(m){var g=m.length,L=m.slice(0,g-1).split(",").map(parseFloat),K=m.slice(g-1),r=L[0]+L[1]/60+L[2]/3600;
if(K!="N"&&K!="E")r=-r;return r};jb.prototype.IUk=function(m){window.open("https://maps.google.com?q="+this.IZP,"Map")};
function qV(){aF.call(this,[11,5],"gradienteditor");this.vR=null;this.oW=null;this.Wp=null;this.TU=null;
this.ld=!1;this.mn=!1;p.RM(this.body,"form");this.DB=null;this.vU=null;this.nZ=-1;this.Qd=-1;this.WE=0;
this.rS=this.TK.bind(this);this.rM=this.aD.bind(this);this.M$=p.Y("canvas","");this.Ju=this.M$.getContext("2d");
this.M$.setAttribute("style","display:block");this.nd=null;p.jk(this.M$);p.yG(this.M$,this.aR.bind(this));
this.PX=new R_([19,3,3],0,100,"%");this.PX.v(p.E.z,this.FB,this);this.PX.parent=this;this.body.appendChild(this.PX.Q);
p.da(this.body);this.TC=new Rt([12,0]);this.body.appendChild(this.TC.Q);this.vG=p.Y("div","bordered padded noalign");
this.body.appendChild(this.vG);this.aC=new R_([12,0],0,100,"%");this.aC.parent=this;this.aC.v(p.E.z,this.FB,this);
this.vG.appendChild(this.aC.Q);this.TH=new R_([12,40],0,100,"%");this.TH.parent=this;this.TH.v(p.E.z,this.FB,this);
this.vG.appendChild(this.TH.Q);this.aG=new aX([5,4],!1,null,!0);this.aG.v("click",this.IiD,this);this.vG.appendChild(this.aG.Q);
this.body.appendChild(this.M$);p.da(this.body);this.InG=new Rt([13,0]);this.body.appendChild(this.InG.Q);
this.ZJ=p.Y("div","bordered padded noalign");this.body.appendChild(this.ZJ);this.GH=new aW([12,44],[[12,45],[12,46],[12,47]]);
this.GH.v(p.E.z,this.FB,this);this.ZJ.appendChild(this.GH.Q);this.Hp=new II(!0);this.Hp.parent=this;
this.Hp.v(p.E.z,this.FB,this);this.ZJ.appendChild(this.Hp.Q);this.Td=new R_([12,40],0,100,"%");this.Td.parent=this;
this.Td.v(p.E.z,this.FB,this);this.ZJ.appendChild(this.Td.Q);this.aS=new aX([5,4],!1,null,!0);this.aS.v("click",this.IOT,this);
this.ZJ.appendChild(this.aS.Q);this.AG=new aX("OK",!0,null,!0);this.AG.v("click",this.bv,this);this.body.appendChild(this.AG.Q);
this.v("closebtn",this.RF,this)}qV.prototype=new aF;qV.prototype.RF=function(m){if(this.ld)this.TU(this.vR)};
qV.prototype.b=function(){aF.prototype.b.call(this);this.PX.b();this.TC.b();this.InG.b();this.aG.b();
this.aS.b();this.aC.b();this.TH.b();this.GH.b();this.Td.b()};qV.prototype.SI=function(m,g){this.Wp=m};
qV.prototype.e_=function(m,g){this.oW=JSON.parse(JSON.stringify(g.G));this.vR=JSON.parse(JSON.stringify(g.G));
this.DB=this.vU=null;this.TU=g.tG;this.ld=!1;this.mn=g.Nm;this.dV();this.FC()};qV.prototype.bv=function(m){var g=this.oW;
this.TU(g);this.close()};qV.prototype.AC=function(m){return m==C.sY||m==C.Wg};qV.prototype.KK=function(m,g,L,K){if(K.a(C.sY)||K.a(C.Wg)){if(this.vU)this.IiD();
if(this.DB)this.IOT()}};qV.prototype.IiD=function(m){var g=this.oW.Trns.v;if(this.vU==null||g.length==2)return;
g.splice(g.indexOf(this.vU),1);this.vU=null;this.dV();this.FC()};qV.prototype.IOT=function(m){var g=this.oW.Clrs.v;
if(this.DB==null||g.length==2)return;g.splice(g.indexOf(this.DB),1);this.DB=null;this.dV();this.FC()};
qV.prototype.dV=function(){var m=this.M$,g=this.Ju,L=p.M();m.width=Math.floor(410*L);m.height=Math.floor(90*L);
p.Wr(m,m.width,m.height);this.nd=new v(0,0,Math.floor(380*L),Math.floor(32*L));this.nd.x=Math.floor((this.M$.width-this.nd.j)/2);
this.nd.y=Math.floor((this.M$.height-this.nd.F)/2);var K=this.nd,r=K.j,R=K.F,Q=K.x,F=K.y,q=new v(0,0,r,R),n=g.getImageData(0,0,r,R),W=new Uint8Array(n.data.buffer);
I.fe(W,r,R,8,0,0);var z=I.m(r*R*4);I.G.IT(this.oW,z,q,[1/r,0,0,1/R],r/2,R/2,!1,0,this.Wp.$q,this.Wp._Q);
I.h.dq("norm",z,K,W,K,K,1);g.clearRect(0,0,m.width,m.height);g.putImageData(n,Q,F);var u=this.oW.Trns.v,N=this.oW.Clrs.v,b=I.G.Bb(N,this.Wp.$q,this.Wp._Q),B=Math.round(6*p.M()),h=Math.round(14*p.M()),A=this.vU?this.vU.v:null,e=this.DB?this.DB.v:null;
for(var c=0;c<u.length;c++){var a=u[c].v,$=Math.round(255-255*a.Opct.v.val/100);if((a==A||u[c-1]&&u[c-1].v==A||c==this.Qd)&&c!=0){g.fillStyle="#000000";
g.fillRect(Q-3+r*(u[c-1].v.Lctn.v+(a.Lctn.v-u[c-1].v.Lctn.v)*a.Mdpn.v/100)/4096,F-6-2,6,6)}if(a==A){g.fillStyle="#ffffff";
g.fillRect(Q-B+r*(a.Lctn.v/4096)-2,F-2-h-2,2*B+4,h+4)}g.fillStyle="rgb("+$+","+$+","+$+")";g.fillRect(Q-B+r*(a.Lctn.v/4096),F-2-h,2*B,h)}for(var c=0;
c<N.length;c++){var G=N[c].v,o=b[c];if((G==e||N[c-1]&&N[c-1].v==e||c==this.nZ)&&c!=0){g.fillStyle="#000000";
g.fillRect(Q-3+r*(N[c-1].v.Lctn.v+(G.Lctn.v-N[c-1].v.Lctn.v)*G.Mdpn.v/100)/4096,F+R+2,6,6)}if(G==e){g.fillStyle="#ffffff";
g.fillRect(Q-B+r*(G.Lctn.v/4096)-2,F+R+2-2,2*B+4,h+4)}g.fillStyle="rgb("+Math.round(o.u)+", "+Math.round(o.S)+","+Math.round(o.R)+")";
g.fillRect(Q-B+r*(G.Lctn.v/4096),F+R+2,2*B,h)}if(this.mn){this.TU(this.oW);this.ld=!0}};qV.prototype.FC=function(){this.PX.p(Math.round(100*this.oW.Intr.v/4096));
var m=this.oW.Trns.v,g=this.oW.Clrs.v,L=this.vU!=null,K=this.Qd!=-1;this.aC.EA(L);this.TH.EA(L||K);this.aG.EA(L);
if(L){this.vG.setAttribute("style","");var r=this.vU.v;this.TH.p(Math.round(100*r.Lctn.v/4096));this.aC.p(r.Opct.v.val)}if(K)this.TH.p(m[this.Qd].v.Mdpn.v);
var L=this.DB!=null,K=this.nZ!=-1;this.GH.EA(L);this.Hp.EA(L);this.Td.EA(L||K);this.aS.EA(L);if(L){this.ZJ.setAttribute("style","");
var R=this.DB.v;this.Td.p(Math.round(100*R.Lctn.v/4096));var Q=R.Type.v.Clry;this.GH.p(["FrgC","BckC","UsrS"].indexOf(Q));
if(Q=="FrgC")this.Hp.dy(this.Wp.$q);if(Q=="BckC")this.Hp.dy(this.Wp._Q);if(Q=="UsrS")this.Hp.p(R.Clr.v)}if(K)this.Td.p(g[this.nZ].v.Mdpn.v)};
qV.prototype.FB=function(m){var g=Math.round(4096*this.PX.w()/100);this.oW.Intr.v=g;var L=this.oW.Trns.v,K=this.oW.Clrs.v;
if(this.vU!=null){var r=this.vU.v;r.Lctn.v=Math.round(4096*(this.TH.w()/100));r.Opct.v.val=this.aC.w()}if(this.DB!=null){var R=this.DB.v;
R.Lctn.v=Math.round(4096*(this.Td.w()/100));if(m.target==this.Hp)this.GH.p(2);var Q=this.GH.w();R.Type.v.Clry=["FrgC","BckC","UsrS"][Q];
if(Q==2)R.Clr={t:"Objc",v:this.Hp.w()};else if(R.Clr)delete R.Clr}if(this.Qd!=-1)L[this.Qd].v.Mdpn.v=this.TH.w();
if(this.nZ!=-1)K[this.nZ].v.Mdpn.v=this.Td.w();this.dV()};qV.prototype.aR=function(m){var g=p.c_(m,this.M$),L=(g.x*p.M()-this.nd.x)/this.nd.j,K=(g.y*p.M()-this.nd.y)/this.nd.F,r=this.oW.Trns.v,R=this.oW.Clrs.v,Q=null,F=null,q=-1,n=-1;
if(K<1)for(var W=0;W<r.length;W++){var z=r[W].v;if(Math.abs(z.Lctn.v/4096-L)<.02)Q=r[W];if(W>0)if(Math.abs((r[W-1].v.Lctn.v+(z.Lctn.v-r[W-1].v.Lctn.v)*z.Mdpn.v/100)/4096-L)<.01)q=W}if(K>0)for(var W=0;
W<R.length;W++){var u=R[W].v;if(Math.abs(u.Lctn.v/4096-L)<.02)F=R[W];if(W>0)if(Math.abs((R[W-1].v.Lctn.v+(u.Lctn.v-R[W-1].v.Lctn.v)*u.Mdpn.v/100)/4096-L)<.01)n=W}if(F==null&&Q==null&&q==-1&&n==-1){if(K<0){var z={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
z.v.Lctn.v=Math.round(L*4096);r.push(z);r.sort(this.bQ);Q=z}if(K>1){var R=this.oW.Clrs.v,N=I.G.Bb(R,this.Wp.$q,this.Wp._Q),b=I.G.ri(this.oW,N,L),u={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:I.G.h$({u:b&255,S:b>>8&255,R:b>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
u.v.Lctn.v=Math.round(L*4096);R.push(u);R.sort(this.bQ);F=u}}if(F!=null)n=-1;if(Q!=null)q=-1;if(F!=null||Q!=null||q>-1||n>-1){this.vU=Q;
this.DB=F;this.Qd=q;this.nZ=n;this.FC();this.dV();p.Wj(window,this.rS);p.WT(window,this.rM)}};qV.prototype.TK=function(m){var g=p.c_(m,this.M$),L=p.M()*(g.x-this.nd.x)/this.nd.j,K=p.M()*(g.y-this.nd.y)/this.nd.F;
L=Math.max(0,Math.min(1,L));var r=this.oW.Trns.v,R=this.oW.Clrs.v;if(this.vU!=null){var Q=this.vU.v;
Q.Lctn.v=Math.round(4096*L);var F=r.indexOf(this.vU);if(F!=-1&&K<-1&&r.length>2)r.splice(F,1);if(F==-1&&K>-1)r.push(this.vU);
r.sort(this.bQ)}if(this.DB!=null){var q=this.DB.v;q.Lctn.v=Math.round(4096*L);var n=R.indexOf(this.DB);
if(n!=-1&&K>1.5&&R.length>2)R.splice(n,1);if(n==-1&&K<1.5)R.push(this.DB);R.sort(this.bQ)}if(this.Qd>-1){var Q=r[this.Qd].v;
Q.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(L*4096-r[this.Qd-1].v.Lctn.v)/(Q.Lctn.v-r[this.Qd-1].v.Lctn.v))))}if(this.nZ>-1){var q=R[this.nZ].v;
q.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(L*4096-R[this.nZ-1].v.Lctn.v)/(q.Lctn.v-R[this.nZ-1].v.Lctn.v))))}if(this.vU!=null||this.DB!=null||this.Qd>-1||this.nZ>-1){this.FC();
this.dV()}};qV.prototype.aD=function(m){p.bC(window,this.rS);p.yH(window,this.rM);if(Date.now()-this.WE<300){if(this.nZ!=-1||this.Qd!=-1){var g=(this.nZ!=-1?this.oW.Clrs.v[this.nZ]:this.oW.Trns.v[this.Qd]).v;
g.Mdpn.v=50;this.FC();this.dV()}else if(this.DB!=null)this.Hp.IvR()}this.WE=Date.now()};qV.prototype.bQ=function(m,g){return m.v.Lctn.v-g.v.Lctn.v};
function DZ(){aF.call(this,[11,10],"isize");this.TE=p.Y("div","form");this.TE.setAttribute("style","width:20em");
this.body.appendChild(this.TE);this.Ww=new js(!0,!0);this.TE.appendChild(this.Ww.Q);this.vT=new au("Resample");
this.vT.p(!0);this.TE.appendChild(this.vT.Q);this.vT.v(p.E.z,this.IUC,this);this.RT=new aW([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.RT.p(1);this.TE.appendChild(this.RT.Q);this.It=new aX("OK",!0,null,!0);this.It.v("click",this.bv,this);
this.body.appendChild(this.It.Q)}DZ.prototype=new aF;DZ.prototype.YO=function(m,g){return m!=null};DZ.prototype.HE=function(){return!0};
DZ.prototype.IUC=function(m){var g=this.vT.w(),L=this.Ww,K=this.RT;if(g)K.eo();else K.Mp();if(g)L.IEv();
else L.IEO()};DZ.prototype.b=function(){aF.prototype.b.call(this);this.RT.b();this.Ww.b()};DZ.prototype.bv=function(m){this.close();
var g=this.Ww.w(),L=g.x,K=g.y,r=this.RT.w();if(!this.vT.w())r=null;var R=new Y(p.E.VG,!0);R.data=l.ma.IQX(L,K,this.Ww.IDj(),r);
this.g(R)};DZ.prototype.e_=function(m,g){this.Ww.p(new jf(m.j,m.F),m.Jt)};function qi(){aF.call(this,"Import RAW","importraw");
var m=p.Y("div","flexrow"),g=p.Y("div");this.body.appendChild(m);this.body.appendChild(g);var L=p.Y("div","form");
L.setAttribute("style","width:16em");m.appendChild(L);var K=p.Y("div","form");K.setAttribute("style","width:14em");
m.appendChild(K);this.nu=null;this.InP=null;this.BI=null;this.IE$=[];this.Zm=[new js(!0,!0),new IC([12,72],["1","3","4"]),new IC([12,34],["8 Bits","16 Bits"]),new IC("Byte Order",["12-34","34-12"]),new aW("Guesses",[])];
for(var r=0;r<this.Zm.length;r++){var R=this.Zm[r];if(r!=0)R.p(0);R.v(p.E.z,r==4?this.IMM:this.cO,this);
var Q=r==0?L:r==4?g:K;Q.appendChild(R.Q)}this.Dt=p.Y("canvas");this.wu=this.Dt.getContext("2d");this.body.appendChild(this.Dt);
this.It=new aX("OK",!0,null,!0);this.It.v("click",this.bv,this);this.body.appendChild(this.It.Q)}qi.prototype=new aF;
qi.prototype.b=function(){aF.prototype.b.call(this);var m=this.Zm;for(var g=0;g<m.length;g++)m[g].b()};
qi.prototype.bv=function(m){this.close();var g=this.Zm[0].w(),L=RU.Gp(this.InP,[{data:this.BI,wh:new v(0,0,g.x,g.y)}]),K=new Y(p.E.V,!0);
K.data={P:!0?p.o.ES:p.o.NR,$X:L};this.g(K)};qi.prototype.e_=function(m,g){this.nu=new Uint8Array(g.ak);
this.InP=g.w_;var L=this.nu.length,K=[1,3,4],r=0,R=0,Q=1,F=1,q=this.IE$=[];for(var n=0;n<3;n++){for(var W=1;
W<3;W++){var z=K[n],u=z*W,N=Math.round(L/u);if(N!=L/u)continue;for(var b=0;b<=4e3;b++)for(var B=0;B<=4e3;
B++)if(b*B==N){var h=0;if(b==B)h+=64;if(Math.round(b/100)==b/100&&Math.round(B/100)==B/100)h+=32;if(Math.round(b/10)==b/10&&Math.round(B/10)==B/10)h+=16;
if(Math.round(b/2)==b/2&&Math.round(B/2)==B/2)h+=8;q.push([b,B,z,W,h])}}}var A=function(G,o){if(o[4]!=G[4])return o[4]-G[4];
var H=Math.max(G[0],G[1])/Math.min(G[0],G[1]),f=Math.max(o[0],o[1])/Math.min(o[0],o[1]);if(H!=f)return H-f;
return o[0]-G[0]};q.sort(A);var e=this.Zm,c=[];for(var a=0;a<q.length;a++){var $=q[a];c.push($[0]+" x "+$[1]+", "+$[2]+"c, "+$[3]*8+"-bit")}e[4].EJ(c);
e[4].p(0);this.IMM(null)};qi.prototype.IMM=function(m){var g=this.Zm,L=this.IE$[this.Zm[4].w()];g[0].p(new jf(L[0],L[1]),72);
g[1].p([1,3,4].indexOf(L[2]));g[2].p([1,2].indexOf(L[3]));this.cO()};qi.prototype.cO=function(m){var g=this.Zm,L=g[0].w(),K=L.x,r=L.y,R=8+8*g[2].w(),Q=this.nu;
if(R==16&&g[3].w()==1){Q=Q.slice(0);for(var F=0;F<Q.length;F+=2){var q=Q[F];Q[F]=Q[F+1];Q[F+1]=q}}var n=this.BI=UPNG.toRGBA8.decodeImage(Q,K,r,{tabs:{},ctype:[0,2,6][g[1].w()],depth:R}),W=this.Dt,z=this.wu,u=[n,new v(0,0,K,r)];
I.Ez(u);for(var F=0;F<u.length;F+=2)if(u[F+1].F<300){n=u[F];K=u[F+1].j;r=u[F+1].F;break}W.width=K;W.height=r;
p.Wr(W,K,r);var N=new ImageData(new Uint8ClampedArray(n.buffer),K,r);z.putImageData(N,0,0)};function RH(m,g,L){aO.call(this);
this.Q=p.Y("div","");this.kP=m;this.eu=null;this.vO=g==null?!1:g;this.aE=null;this.PB=L;this.PK=[];this.ly=[];
this.v_=[];this.Qx=[];this.vh=0;this.eu=this.IUK(RH.Qx[m]);this.Rb()}RH.prototype=new aO;RH.prototype.IUv=function(){for(var m=0;
m<this.Qx.length;m++){p.Av(this.Qx[m],"selected");if(this.v_[m]instanceof au)this.v_[m].p(!1)}};RH.prototype.IUX=function(m){var g=this.IUB.bind(this);
for(var L=0;L<this.v_.length;L++){var K=p.Y("div","listitem");this.Qx.push(K);if(L>0)K.textContent="\u2003";
K.appendChild(this.v_[L].Q);if(aU.IwY.indexOf(this.kP)!=-1){var r=new aX("+");r.ef();r.Q.style.float="right";
K.appendChild(r.Q);var R=new aX("\u2B0D");R.ef();R.Q.style.float="right";R.Q.style["margin-right"]="2px";
K.appendChild(R.Q)}K.addEventListener("click",g,!1);m.appendChild(K)}};RH.FF=function(m,g){var L=g.getBoundingClientRect();
return(m.clientY-L.top)/L.height};RH.prototype.IUB=function(m){var g=m.target.tagName.toLowerCase();
if(g=="input"){return}if(g=="button"){var L=new Y(p.E.B,!0),K=m.target.textContent=="+",r=K?0:RH.FF(m,m.target)<.5?-1:1;
if(K)L.data={P:"st_dupsingle",A:this.parent.data.A,TP:this.PB};else L.data={P:"st_movsingle",A:this.parent.data.A,TP:this.PB,IGl:r};
L.K=l.CO;L.Gd=!0;this.g(L);L=new Y("redrawall",!0);L.data={IGl:r};this.g(L);return}p.mF(m);this.Bh();
this.vh=this.Qx.indexOf(m.currentTarget);this.g(new Y("showme"))};RH.prototype.Bh=function(){if(this.eu.enab&&this.eu.enab.w()==!1)this.ou({SN:"enab",U:!0})};
RH.prototype.IUV=function(){var m=this.Qx[this.vh];if(m)p.RM(m,"selected");return this.ly[this.vh]};
RH.prototype.IUK=function(m){var g={};for(var L=0;L<m.length;L++){var K=m[L],r=null;if(K=="----")r={Q:p.Y("hr")};
if(K=="\n")r={Q:p.Y("br")};if(K=="blOptions")r=new Rt([14,10]);if(K=="brst")r=new MultiCheck([12,72],["R","G","B"]);
if(K=="knko")r=new aW("Knockout",[[13,1,0],"Shallow","Deep"]);if(K=="enab")r=new au(aU.names[aU.order.indexOf(this.kP)]);
if(K=="lrMd"||K=="Md")r=new aW([12,19,0],ad.VT,!1,ad.Cb);if(K=="Opct")r=new mc([12,0],0,100,"%");if(K=="iOpa")r=new mc([12,26],0,100,"%");
if(K=="blIf")r=new Dw;if(K=="ShdN")r=new mc([12,68],0,100,"%");if(K=="lagl"||K=="Angl")r=new mv([12,15]);
if(K=="uglg")r=new au([12,27]);if(K=="Dstn")r=new mc([12,28],0,200,"px");if(K=="Ckmt")r=new mc([12,29],0,100,"%");
if(K=="blur")r=new mc([12,14,0],0,200,"px");if(K=="TrnS"||K=="MpgS")r=new pp([12,21]);if(K=="Nose")r=new mc([12,30],0,100,"%");
if(K=="layerConceals")r=new au([12,31]);if(K=="AntA"||K=="antialiasGloss")r=new au("Anti-alias");if(K=="GlwT")r=new aW([12,32],aU.hY.names);
if(K=="glwS")r=new aW([12,70],aU.hY.IGV);if(K=="Inpr")r=new mc([12,12],1,100,"%");if(K=="bvlS")r=new aW([12,22],aU.ja.style);
if(K=="bvlT")r=new aW([12,32],aU.ja.Ioi);if(K=="bvlD")r=new aW(null,aU.ja.dir);if(K=="srgR")r=new mc([12,34],0,1e3,"%");
if(K=="Sftn")r=new mc([12,35],0,20,"px");if(K=="Lald")r=g.lagl;if(K=="hglM"||K=="sdwM")r=new aW([12,36],ad.VT,!1,ad.Cb);
if(K=="hglC"||K=="sdwC")r=new II;if(K=="hglO"||K=="sdwO")r=new mc([12,0],0,100,"%");if(K=="Invr"||K=="InvT")r=new au([4,11]);
if(K=="Sz")r=new mc([12,14,0],1,200,"px");if(K=="Styl")r=new aW([12,40],aU.stroke.names);if(K=="PntT")r=new aW([12,66],aU.stroke.IGB);
if(K=="Clr")r=new II(!0);if(K=="Grad"){r=new jc(!0,[12,37],!0);r.p(JSON.parse(aU.cT.Ikv).v)}if(K=="Rvrs")r=new au([12,23,0]);
if(K=="Dthr")r=new au("Dither");if(K=="Type")r=new aW([12,22],aU.G.names.slice(0,this.kP=="FrFX"?6:5));
if(K=="Ptrn")r=new jd([12,62]);if(K=="Scl")r=new mc([12,38],10,500,"%",0,!0);if(K=="Algn")r=new au([12,39]);
if(K=="Ofst")r=new mN(!0);if(K=="phase")r=new mN(!1);if(K=="useShape")r=new au([12,21]);if(K=="useTexture")r=new au([12,67]);
if(K=="textureDepth")r=new mc([12,34],-300,300,"%");var R=K=="----"||K=="\n"?K+L:K;if(r!=null)g[R]=r}return g};
RH.prototype.IUA=function(m){var g=this.ly[this.vh];for(var L=0;L<m.length;L++){var K=this.eu[m[L]];
if(K&&g.contains(K.Q))g.removeChild(K.Q)}};RH.prototype.IUb=function(m){var g=this.ly[this.vh];for(var L=0;
L<m.length;L++){var K=this.eu[m[L]];if(K&&!g.contains(K.Q))g.appendChild(K.Q)}};RH.prototype.SI=function(m,g){if(this.eu==null)return;
var L=g==am.VA;if(this.eu.Grad){this.eu.Grad.Ew(m.$q,m._Q);if(L||g==am.Tc||g==am.nV)this.eu.Grad.eI(m.jh)}if(this.eu.Ptrn){if(L||g==am.fT)this.eu.Ptrn.eI(m.Rr)}if(this.eu.TrnS){if(L||g==am.mW)this.eu.TrnS.eI(m.PH)}if(this.eu.MpgS){if(L||g==am.mW)this.eu.MpgS.eI(m.PH)}};
RH.prototype.b=function(){for(var m=0;m<this.PK.length;m++)this.PK[m].b();for(var g in this.eu)if(this.eu[g]instanceof aO)this.eu[g].b()};
RH.prototype.Rb=function(){for(var m in this.eu){var g=this.eu[m];g.parent=this;if(g instanceof aO)g.v(p.E.z,this.IIU,this);
if(this.ly.length==0||m=="useShape"||m=="useTexture"){var L=new Rt(g.IRf()),K=p.Y("div","bordered padded");
if(this.vO==!1){K.appendChild(L.Q);K.appendChild(p.Y("hr",""))}this.PK.push(L);this.ly.push(K);this.v_.push(g)}else this.ly[this.ly.length-1].appendChild(g.Q)}};
RH.prototype.update=function(m,g){if(this.eu==null)return;if(this.vO)this.aE=JSON.parse(JSON.stringify(g));
for(var L in g){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(L)!=-1)this.eu[L].p(g[L].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(L)!=-1){this.eu[L].p(g[L].v,m)}if(["Md","hglM","sdwM"].indexOf(L)!=-1)this.eu[L].p(ad.kP.indexOf(g[L].v.BlnM));
if(L=="lrMd"){var K=(g.EY?[[15,10,27]]:[]).concat(ad.VT),r=(g.EY?[1]:[]).concat(ad.Cb);this.eu[L].EJ(K,r);
this.eu[L].p(g[L].v)}if(L=="lagl"){var R=g.uglg&&g.uglg.v?m.jq():g.lagl.v.val;this.eu[L].p(R)}if(L=="Lald"){var R=g.uglg&&g.uglg.v?m.wd():g.Lald.v.val;
this.eu[L].p(null,R)}if(L=="Type")this.eu[L].p(aU.G.types.indexOf(g.Type.v.GrdT));if(L=="Styl")this.eu[L].p(aU.stroke.types.indexOf(g.Styl.v.FStl));
if(L=="PntT"){var Q=aU.stroke.MT.indexOf(g.PntT.v.FrFl);this.eu[L].p(Q);if(!this.vO){this.IUA(aU.av.concat(aU.rn.concat(aU.r$)));
this.IUb([aU.av,aU.rn,aU.r$][Q])}}if(L=="GlwT")this.eu[L].p(aU.hY.types.indexOf(g.GlwT.v.BETE));if(L=="glwS")this.eu[L].p(aU.hY.Ijy.indexOf(g.glwS.v.IGSr));
if(L=="bvlS")this.eu[L].p(aU.ja.types.indexOf(g.bvlS.v.BESl));if(L=="bvlT")this.eu[L].p(aU.ja.Ial.indexOf(g.bvlT.v.bvlT));
if(L=="bvlD")this.eu[L].p(["In","Out"].indexOf(g.bvlD.v.BESs))}};RH.prototype.IIU=function(m){for(var g in this.eu){if(this.eu[g]!=m.target)continue;
var L=null,K=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(g)!=-1)L={type:"#Prc",val:m.target.w()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(g)!=-1)L={type:"#Pxl",val:m.target.w()};if(["Angl","lagl"].indexOf(g)!=-1)L={type:"#Ang",val:m.target.w().Fj};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(g)!=-1)L=m.target.w();
if(["Md","hglM","sdwM"].indexOf(g)!=-1)L={BlnM:ad.kP[m.target.w()]};if(g=="uglg"){L=m.target.w();K=!0}if(g=="PntT"){L={FrFl:aU.stroke.MT[m.target.w()]};
K=!0}if(g=="Lald")L={type:"#Ang",val:m.target.w().alt};if(g=="Type")L={GrdT:aU.G.types[m.target.w()]};
if(g=="Styl")L={FStl:aU.stroke.types[m.target.w()]};if(g=="GlwT")L={BETE:aU.hY.types[m.target.w()]};
if(g=="glwS")L={IGSr:aU.hY.Ijy[m.target.w()]};if(g=="bvlS")L={BESl:aU.ja.types[m.target.w()]};if(g=="bvlT")L={bvlT:aU.ja.Ial[m.target.w()]};
if(g=="bvlD")L={BESs:["In","Out"][m.target.w()]};this.ou({SN:g,U:L});if(K){if(this.vO)this.update(null,this.aE);
else{var r=this.parent,R=r.$X,Q=this.PB,F=R._[r.data.A].add.lmfx[aU.JS[Q[0]]].v[Q[1]].v;this.update(R,F)}}}};
RH.prototype.ou=function(m){if(this.vO){this.aE[m.SN].v=m.U;this.g(new Y(p.E.z))}else{m.P="changeprop";
m.A=this.parent.data.A;m.Bj=this.PB;var g=new Y(p.E.B,!0);g.data=m;g.K=l.CO;g.Gd=!0;this.g(g);this.g(new Y("afterchange",!0))}};
RH.prototype.w=function(){return JSON.parse(JSON.stringify(this.aE))};RH.Qx={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(aU.av),GrFl:["enab","Md","Opct"].concat(aU.rn),patternFill:["enab","Md","Opct"].concat(aU.r$),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(aU.av.concat(aU.rn.concat(aU.r$)))};
function Ix(){aF.call(this,[11,6],"layerstyle");this.IZS=-1;this.data={};this.$X=null;this.Tf=null;this.Xa=[];
this.Pd=[];p.RM(this.body,"flexrow");this.gC=p.Y("div","bordered");this.gC.setAttribute("style","min-width:13em;");
this.body.appendChild(this.gC);this.Bs=p.Y("div","");this.Bs.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Bs);this.Nt=p.Y("div","form");this.Nt.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.Nt);this.AG=new aX("OK",!0,null,!0);this.AG.v("click",this.bv,this);this.Nt.appendChild(this.AG.Q);
this.Pu=new aX([12,87],!0,null,!0);this.Pu.v("click",this.IIp,this);this.Nt.appendChild(this.Pu.Q);this.GG=new mo;
this.GG.parent=this;this.GG.v(p.E.z,this.IIQ,this);this.Nt.appendChild(this.GG.Q);this.v("closebtn",this.RF,this);
this.v("redrawall",this.Iez,this)}Ix.prototype=new aF;Ix.prototype.HE=function(){return!0};Ix.prototype.IIQ=function(m){var g=this.GG.w();
this.ou({P:"setstl",U:g.Wx});this.Iez(null)};Ix.prototype.IIp=function(m){var g=this.$X,L=this.data.A;
if(L==null)L=g.N[0];var K=this.$X._[L],r=ai.Iow(K),R=new Y(p.E.V,!0);R.data={P:p.o.VP,VK:"add",Su:am.eg,_y:[JSON.parse(JSON.stringify(r))]};
this.g(R)};Ix.prototype.IID=function(m){this.data.index=m.currentTarget.PB;this.B$(m.currentTarget.PB)};
Ix.prototype.Iez=function(m){this.e_(this.$X,this.data)};Ix.prototype.B$=function(m,g){p.Lj(this.Bs);
for(var L=0;L<this.Xa.length;L++)this.Xa[L].IUv();var K=m==0?this.Xa[0]:this.Pd[m[0]][m[1]];this.Bs.appendChild(K.IUV());
if(g)K.Bh();var r=this.$X;if(r){var R=r._[this.data.A];this.Xa[0].update(r,aJ.dE.q_(r,R));var Q=R.add.lmfx;
if(Q==null)return;for(var L=0;L<aU.order.length;L++){var F=Q[aU.JS[L]].v;for(var q=0;q<F.length;q++)this.Pd[L][q].update(r,F[q].v)}}if(g)K.Bh()};
Ix.prototype.b=function(){aF.prototype.b.call(this);this.Pu.b();this.GG.b();for(var m=0;m<this.Xa.length;
m++)this.Xa[m].b()};Ix.prototype.e_=function(m,g){var L=g.A==null;this.data.A=g.A;this.data.index=g.index;
g=this.data;this.$X=m;if(L)g.A=m.N.length==0?m._.length-1:m.N[0];p.Lj(this.gC);var K=m._[g.A].add.lmfx;
this.Bg();this.Xa=[new RH("bops",!1,0)];this.Pd=[];for(var r=0;r<aU.order.length;r++){this.Pd.push([]);
var R=K==null?[]:K[aU.JS[r]].v;for(var Q=0;Q<R.length;Q++){var F=new RH(aU.order[r],!1,[r,Q]);this.Xa.push(F);
this.Pd[r].push(F)}if(R.length==0){var F=new RH(aU.order[r],!1,[r,0]);this.Xa.push(F);this.Pd[r].push(F)}}this.b();
this.IvF(this.Tf,am.VA);for(var r=0;r<this.Xa.length;r++){this.Xa[r].parent=this;this.Xa[r].IUX(this.gC);
this.Xa[r].v("showme",this.IID,this)}if(g.index==null||g.index==0||!L&&K[aU.JS[g.index[0]]].v.length==0){this.B$(0)}else this.B$(g.index,L);
this.v("afterchange",this.Bg,this)};Ix.prototype.Bg=function(m){var g=this.$X,L=this.data.A;if(L==null)L=g.N[0];
var K=this.$X._[L],r=ai.Iow(K);this.GG.p(r,g.add.Patt?g.add.Patt:[],g.jq(),g.wd())};Ix.prototype.SI=function(m,g){this.Tf=m;
this.IvF(m,g);if(g==am.eg||g==am.VA){this.GG.eI([m.Jg,m.Rr])}if(g==am.Ip){}};Ix.prototype.IvF=function(m,g){for(var L=0;
L<this.Xa.length;L++)this.Xa[L].SI(m,g)};Ix.prototype.RF=function(m){this.ou({P:"cancel"})};Ix.prototype.bv=function(m){this.ou({P:"confirm"});
this.close()};Ix.prototype.ou=function(m){m.A=this.data.A;var g=new Y(p.E.B,!0);g.data=m;g.K=l.CO;g.Gd=!0;
this.g(g);this.Bg()};Ix.IvP=function(m){var g=[{name:[14,10],Oo:!0}];for(var L=0;L<aU.names.length;L++)g.push({name:aU.names[L]});
if(m){g[g.length-1].Oo=!0;g.push({name:"Styles To Separate Layers",$:function(K){return{$:K!=null&&K.N.length!=0&&K._[K.N[0]].add.lmfx!=null}}})}return g};
Ix.IVB=function(m){var g=[{C:p.E.V,n:{P:p.o.My,OT:"layerstyle"}}];for(var L=0;L<aU.names.length;L++)g.push({C:p.E.V,n:{P:p.o.My,OT:"layerstyle",index:[L,0]}});
if(m){var K={classID:"Mk",null:RL.c$("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
g.push({C:p.E.VG,n:{Qm:"make",XX:K}})}return g};Ix.IQZ=function(m){var g=[];if(m)g.push({name:[6,48,0,0],lh:!0},{name:[6,48,0,1],lh:!0},{name:[6,48,0,2],lh:!0,Oo:!0});
for(var L in qE.names)g.push({name:qE.names[L],Oo:qE.Ieo.indexOf(L)!=-1,lh:O[L]!=null});return g};Ix.IQF=function(m){var g=[];
if(m)for(var L=0;L<3;L++)g.push({C:p.E.VG,n:l.nB._W(L)});for(var K in qE.names){var r=aN.Rw(K);for(var R in qE.un)if(qE.un[R]==K)r.classID=R;
var Q={Qm:"make",XX:{classID:"Mk",null:RL.c$("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:r}}}}};
g.push({C:p.E.VG,n:Q})}return g};function qF(){aF.call(this,"Merge Channels","mergechannels");this.Pc=null;
var m=p.Y("div","form");this.body.appendChild(m);this.Zm=[];for(var g=0;g<3;g++){var L=new aW(qE.uZ[g],[]);
this.Zm.push(L);m.appendChild(L.Q);p.da(m)}this.AG=new aX("OK",!0,null,!0);this.AG.v("click",this.bv,this);
m.appendChild(this.AG.Q)}qF.prototype=new aF;qF.prototype.b=function(){aF.prototype.b.call(this);for(var m=0;
m<3;m++)this.Zm[m].b()};qF.prototype.e_=function(m,g,L,K){this.Pc=L;var r=[];for(var R=0;R<L.length;
R++)r.push(L[R].name);for(var R=0;R<3;R++){var Q=this.Zm[R];Q.EJ(r);Q.p(Math.min(R,L.length-1))}};qF.prototype.bv=function(m){var g=this.Pc,L=g[0],K=new Y(p.E.VG,!0);
K.data=aH.Ml(L.j,L.F,L.Jt,"Merged Document","Wht");this.g(K);var r=[];for(var R=0;R<3;R++)r.push(g[this.Zm[R].w()].os());
var L=g[g.length-1],Q=L._[0],F=Q.buffer;for(var R=0;R<F.length;R+=4){F[R]=r[0][R];F[R+1]=r[1][R];F[R+2]=r[2][R]}Q.X();
L.X();this.close()};function IN(){aF.call(this,[1,10],"script");var m=p.Y("div","form");m.setAttribute("style","width:44em");
this.body.appendChild(m);this.Tf=null;this.Sc=[];this.PY=[];this.IXT;var g=this.al=new aX([1,2],!1,null,!0);
g.v("click",this.Be,this);m.appendChild(g.Q);var L=new aX("JS Reference",!1,null,!0);L.v("click",this.IIE,this);
m.appendChild(L.Q);m.appendChild(new Rt("Demos:").Q);this.IBi=[];var K=IN.BK;for(var r=0;r<K.length;
r++){var R=new aX(K[r].RZ,!1,null,!0);this.IBi.push(R);m.appendChild(R.Q);R.v("click",this.IIh,this)}this.Vf=p.Y("textarea");
this.Vf.setAttribute("rows",16);this.Vf.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
m.appendChild(this.Vf);var Q=new aX("Run",!0,null,!0);Q.v("click",this.bv,this);m.appendChild(Q.Q);this.IhU=p.Y("div");
m.appendChild(this.IhU)}IN.prototype=new aF;IN.prototype.b=function(){this.al.b()};IN.prototype.Be=function(){var m=this.IXT;
if(m==null)m="script.jsx";var g=new Y(p.E.V,!0);g.data={P:p.o.My,OT:"namewindow",rW:m.slice(0,m.length-4),Ihw:this.IIw.bind(this)};
this.g(g)};IN.prototype.IIw=function(m){var g=this.Vf.value,L=X.j$(g),K=new Y(p.E.V,!0);K.data={P:p.o.vF,ak:L.buffer,lV:m+".jsx",IjT:!0};
this.g(K)};IN.prototype.IIL=function(m){var g=this.Sc.indexOf(m.target),L=this.IXT=this.PY[g],K=this.Tf.HP.Gi[L],r=new Uint8Array(K),R=X.d_(r,0,r.length);
this.Vf.value=R};IN.prototype.e_=function(m,g,L){this.Vf.value=IN.BK[0].bR;this.IQc()};IN.prototype.IQc=function(){var m=this.Tf.HP,g=this.IhU;
p.Lj(g);this.Sc=[];this.PY=[];g.textContent="Saved scripts: ";for(var L in m.Gi){if(L.endsWith(".jsx")){var K=new aX(L,!1,null,!0);
this.Sc.push(K);this.PY.push(L);K.v("click",this.IIL,this);g.appendChild(K.Q)}}};IN.prototype.SI=function(m,g){this.Tf=m;
if(g==am.pg)this.IQc()};IN.prototype.IIE=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.VY,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.g(g)};IN.prototype.bv=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.EB,TN:this.Vf.value};this.g(g)};
IN.prototype.IIh=function(m){var g=this.IBi.indexOf(m.currentTarget);this.Vf.value=IN.BK[g].bR};IN.BK=[{RZ:"Hello",bR:"\nalert(\"Hello Photopea!\");\n"},{RZ:"Process Layers",bR:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{RZ:"Clone Layers",bR:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function RA(){aF.call(this,[11,7],"newproject");this.data=null;this.Pc=null;var m=p.Y("div","flexrow");
this.DA=m;this.body.appendChild(m);var g=p.Y("div","form");this.TE=g;m.appendChild(g);this.eV=new RZ([12,48]);
g.appendChild(this.eV.Q);p.da(g);this.Ww=new js(!0);this.Ww.p(new jf(1280,720),72);this.Ww.v(p.E.z,this.Bu,this);
g.appendChild(this.Ww.Q);this.Pb=new aW([12,46],[[13,1,8],[13,1,9],[12,46]]);g.appendChild(this.Pb.Q);
g.appendChild(p.Y("hr"));this.It=new aX([12,49],!0,null,!0);this.It.v("click",this.bv,this);g.appendChild(this.It.Q);
var L=RA.nu,K=[];for(var r=0;r<L.length;r++)K.push(L[r].name);this.yQ=new IC(null,K);this.yQ.v(p.E.z,this.IQY,this);
g.appendChild(this.yQ.Q);this.yQ.Q.style["margin-top"]="1em";this.yJ=new It(!0);this.yJ.v(p.E.z,this.IIA,this);
g.appendChild(this.yJ.Q);this.IQY();this.gU=new jV;this.gU.parent=this;this.gU.Q.setAttribute("style","margin-left:1em");
this.gU.v("tempready",this.IIY,this)}RA.prototype=new aF;RA.prototype.SI=function(m,g){this.gU.SI(m)};
RA.prototype.YH=function(m,g){return new jf(Math.max(0,Math.min(70,(m-690)/2)),m>g?Math.max(0,Math.min(50,(g-400)/2)):0)};
RA.prototype.Dj=function(m,g){this.TE.setAttribute("style","width:"+Math.min(m,338)+"px");this.yJ.Q.style.height=g-260+"px";
var L=this.gU.Q,K=L.parentNode;if(m<500){if(K!=null)this.DA.removeChild(L)}else{if(K==null)this.DA.appendChild(L)}this.gU.Dj(m-360,g-35)};
RA.prototype.Bu=function(){this.gU.p(this.Ww.w())};RA.prototype.IIA=function(m){var g=this.yJ.w(),L=RA.nu[this.yQ.w()].Hl[g],K=L[4];
if(K==0)K=72;var r=L[1],R=L[2],Q=["px","%","mm","in"].indexOf(L[3]),F=[1,1,25.4/K,1/K][Q];r/=F;R/=F;
this.Ww.p(new jf(Math.round(r),Math.round(R)),K);this.Ww.IEd(Q);this.yJ.a_(g);this.Bu()};RA.prototype.IQY=function(m){var g=RA.nu[this.yQ.w()].Hl,L=[],K=[],r=Math.round(106*p.M()),R=Math.round(106*p.M()),Q=0;
for(var F=0;F<g.length;F++)Q=Math.max(Q,g[F][1],g[F][2]);for(var F=0;F<g.length;F++){var q=g[F],n=q[1]+" x "+q[2]+" "+q[3];
if(q[3]=="in")n=(q[1]*25.4).toFixed(0)+" x "+(q[2]*25.4).toFixed(0)+" mm";if(q[3]=="mm")n=(q[1]/25.4).toFixed(1)+" x "+(q[2]/25.4).toFixed(1)+" in";
if(q[4])n=n+" @ "+q[4]+" ppi";K.push(n);L.push(RA.yP(q,r,R,Q))}this.yJ.dY(L,K,r,R)};RA.yP=function(m,g,L,K){var r=p.Y("canvas",""),R=r.getContext("2d");
r.width=g;r.height=L;var Q=Math.round(g/8),F=Math.floor(11*p.M()),q=m[1],n=m[2];R.fillStyle="#000000";
R.font=Math.round(F*.9)+"px \"Open Sans\", Sans-Serif";var W=q+" x "+n+" "+m[3],z=R.measureText(W);R.fillText(W,Math.round((g-z.width)/2),L-Math.round(Q/2));
if(m[0]!=null){R.font="bold "+F+"px \"Open Sans\", Sans-Serif";var W=m[0],z=R.measureText(W);R.fillText(W,Math.round((g-z.width)/2),L-Math.round(Q/2)-Math.round(F*1.3))}L-=Math.round(2.5*F);
var u=Math.min((g-Q)/q,(L-Q)/n);u*=.5+.5*(Math.max(q,n)/K);var N=(g-q*u)/2,b=(L-n*u)/2;R.strokeRect(Math.round(N)+.5,Math.round(b)+.5,Math.round(q*u),Math.round(n*u));
return r.toDataURL()};RA.prototype.b=function(){aF.prototype.b.call(this);this.Ww.b();this.eV.b();this.Pb.b();
this.It.b();this.eV.p(aT.get([11,7]));this.yQ.b();this.gU.b()};RA.prototype.bv=function(m){var g=this.Ww.w(),L=g.x,K=g.y;
this.close();var r=new Y(p.E.VG,!0);r.data=aH.Ml(L,K,this.Ww.IDj(),this.eV.w(),["Wht","Trns","BckC"][this.Pb.w()]);
this.g(r);this.IjR()};RA.prototype.IIY=function(m){var g=m.data.$X,L=new Y(p.E.V,!0);L.data={P:p.o.ES,$X:g};
this.g(L);this.close();this.IjR()};RA.prototype.IjR=function(){var m=this.Pc[this.Pc.length-1],g=this.data.IjS;
if(g)R$.fq(function(){var L=new XMLHttpRequest,K="https://www.googleapis.com/drive/v3/files?"+R$.ze();
L.open("POST",K,!0);L.setRequestHeader("Content-Type","application/json");L.addEventListener("load",function(r){var R=JSON.parse(r.target.response);
m.hI={file:R,Ps:"psd"};alert(m.name+" created in Google Drive")});L.send(JSON.stringify({name:m.name,IZA:[g]}))})};
RA.prototype.e_=function(m,g,L,K){this.Pc=L;if(m!=null&&m.I!=null){var r=new v(0,0,m.j,m.F).my(m.I.rect);
this.Ww.p(new jf(r.j,r.F))}this.data=g;this.Bu();this.eV.rD();if(window.ClipboardItem)RU.ITO(this.IIN.bind(this))};
RA.prototype.IIN=function(m){if(m=="granted")RU.Vb(this,this.IIb.bind(this))};RA.prototype.IIb=function(m,g){this.Ww.p(new jf(g.j,g.F))};
RA.nu=[{name:"Social",Hl:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],Hl:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],Hl:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],Hl:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],Hl:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],Hl:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",Hl:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function IK(m,g,L){aF.call(this,g,"sel_"+m);this.P=m;var K=p.Y("div","form");this.body.appendChild(K);
this.eV=new R_(g,0,255,null,0,!1,!0);K.appendChild(this.eV.Q);this.eV.p(1);var r=p.Y("span");r.textContent=L;
K.appendChild(r);p.da(K);this.IhV=new au("Apply at canvas bounds");if(m!="border")K.appendChild(this.IhV.Q);
this.AG=new aX("OK",!0,null,!0);this.AG.v("click",this.bv,this);K.appendChild(this.AG.Q)}IK.prototype=new aF;
IK.prototype.YO=function(m,g){if(m==null)return;if(m.I==null)alert("No selection!");return m.I!=null};
IK.prototype.bv=function(m){var g=new Y(p.E.VG,!0);g.data=l.Lk.IIc(this.P,this.eV.w(),this.IhV.w());
g.Gd=!0;this.g(g);this.close()};IK.prototype.b=function(){aF.prototype.b.call(this);if(this.eV)this.eV.b()};
IK.prototype.e_=function(m,g){};function qP(m,g){aF.call(this,g,m);this.nu=null;this.TE=p.Y("div","form");
this.body.appendChild(this.TE);this.eV=new RZ(g);this.TE.appendChild(this.eV.Q);this.AG=new aX("OK",!0,null,!0);
this.AG.v("click",this.bv,this);this.TE.appendChild(this.AG.Q)}qP.prototype=new aF;qP.prototype.bv=function(m){var g=this.eV.w();
if(this.nu.Ihw)this.nu.Ihw(g);else{var L=this.nu.I$E,K=new Y(L.C,!0);K.K=L.K;K.data=L.n;K.data.U=g;K.Gd=!0;
this.g(K)}this.close()};qP.prototype.b=function(){aF.prototype.b.call(this);if(this.eV)this.eV.b()};
qP.prototype.e_=function(m,g){this.nu=g;this.eV.p(g.rW);this.eV.rD()};function qt(){aF.call(this,[1,5],"open_from_url");
this.Fl=null;var m=p.Y("div","form");this.body.appendChild(m);this.aX=new RZ("URL",null,22);m.appendChild(this.aX.Q);
this.aX.v(p.E.z,this.bv,this);p.da(m);this.Pz=new IC([21,0],[[21,2],[21,1]]);m.appendChild(this.Pz.Q);
this.It=new aX("OK",!0,null,!0);this.It.v("click",this.bv,this);m.appendChild(this.It.Q)}qt.prototype=new aF;
qt.prototype.b=function(){aF.prototype.b.call(this);this.Pz.b()};qt.prototype.e_=function(m,g,L){this.aX.rD();
this.Fl=null;if(m&&L.indexOf(m)!=-1)this.Fl=L.indexOf(m)};qt.prototype.bv=function(m){var g=new Y(p.E.V,!0),L=this.aX.w();
g.data={P:p.o.Yj,Su:{url:L,IK:!0,Fl:this.Pz.w()==1?this.Fl:null}};this.g(g);this.close()};function DS(){aF.call(this,[12,79],"preferences");
this.Tf=null;var m=p.Y("div","form");this.body.appendChild(m);this.Qx=[new au([8,2]),new au([8,4]),new aW([12,80,3],[[12,93,3],[12,80,4]]),new mc([12,80,5],1,100,null,2),new aW(null,I.Wq.IP),new aW([12,80,6],I.Wq.IP)];
for(var g=0;g<this.Qx.length;g++){var L=this.Qx[g];m.appendChild(L.Q);if(g!=3)p.da(m);L.v(p.E.z,this.FT,this)}}DS.prototype=new aF;
DS.prototype.b=function(){aF.prototype.b.call(this);for(var m=0;m<this.Qx.length;m++)this.Qx[m].b()};
DS.prototype.e_=function(m,g,L){};DS.prototype.SI=function(m,g){this.Tf=m;this.Qx[0].p(m.dA.TW);this.Qx[1].p(m.dA.wf);
this.Qx[2].p(m.dA.D$);this.Qx[3].p(m.dA.hO);this.Qx[4].p(m.dA.hf);this.Qx[5].p(m.dA.$C)};DS.prototype.FT=function(m){var RJ=this.Qx,g=JSON.parse(JSON.stringify(this.Tf.dA));
g.TW=RJ[0].w();g.wf=RJ[1].w();g.D$=RJ[2].w();g.hO=RJ[3].w();g.hf=RJ[4].w();g.$C=RJ[5].w();if(g.hf!=4)g.hO=Math.round(g.hO);
var L=new Y(p.E.V,!0);L.data={P:p.o.VP,Su:am.pL,cC:g};this.g(L)};function jH(){aF.call(this,[11,8],"saveforweb");
this.Ihb="";this.v("closebtn",function(){this.Gy.NJ()},this);this.el=new jf(512,512);this.$X=null;this.GP=null;
this.IVx=null;this.Tf=null;p.RM(this.body,"flexrow");var m=p.Y("div"),g=p.Y("div");this.body.appendChild(m);
this.body.appendChild(g);this.ZJ=p.Y("div","imgcont");m.appendChild(this.ZJ);this.Gy=new IJ;this.Gy.Dj(this.el.x,this.el.y);
this.Hx=p.Y("span");m.appendChild(this.Hx);this.TE=p.Y("div","form cell");this.TE.setAttribute("style","width:15em; padding-left:1em;");
g.appendChild(this.TE);this.op=new aW([12,50],ax.WQ());this.TE.appendChild(this.op.Q);this.op.v(p.E.z,this.GF,this);
this.Ww=new js(!1,!0);this.Ww.v(p.E.z,this.GF,this);this.TE.appendChild(this.Ww.Q);this.QJ=new xI;this.QJ.v(p.E.z,this.GF,this);
this.TE.appendChild(this.QJ.Q);this.yq=new aX([1,2],!0,null,!0);this.yq.v("click",this.bv,this);this.TE.appendChild(this.yq.Q)}jH.prototype=new aF;
jH.prototype.YO=function(m,g){return m!=null};jH.prototype.b=function(){aF.prototype.b.call(this);this.Ww.b();
this.op.b();this.QJ.b();this.yq.b()};jH.prototype.bv=function(m){var g=this.$X.name.split(".")[0],L=ax.WQ()[this.op.w()],K=this.GP,r=g+"."+L.toLowerCase(),R=this.$X,Q=R.qo;
if(Q.length!=0&&(L=="JPG"||L=="PNG"||L=="GIF")&&this.QJ.w().pop()){var F="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",q=[],n={},W=new v(0,0,R.j,R.F),z=R.os();
for(var u=0;u<Q.length;u++)q.push(l.Dg.DJ(Q,u));q.reverse();var N=I.rect.qC([0,0,R.j,R.F],q);for(var u=0;
u<N.length;u++){var b=N[u],B=new v(b[0],b[1],b[2]-b[0],b[3]-b[1]),h=b.length==5?Q[b[4]].v:null,A=I.m(B.c()*4);
I.pq(z,W,A,B);var e="img/img"+(u+1)+"."+L.toLowerCase();n[e]=new Uint8Array(ax[L].Cf([[A.buffer,0]],B.j,B.F,this.QJ.w()));
F+="<div style=\"background-image:url('"+e+"'); left:"+B.x+"px; top:"+B.y+"px; width:"+B.j+"px; height:"+B.F+"px\">";
if(h&&h.url.v!="")F+="\n\t<a href=\""+h.url.v+"\" target=\""+h.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
F+="</div>\n"}F+="</body>\n</html>\n";var c=I.m(Math.round(F.length*1.5)),a=X.cZ(F,c,0);n["index.html"]=c.slice(0,a);
K=UZIP.encode(n);r=g+".zip"}var $=new Y(p.E.V,!0);$.data={P:p.o.Ly,data:K,name:r};this.g($);this.Gy.NJ();
this.close()};jH.prototype.e_=function(m,g){if(g.NW!=null)this.op.p(g.NW);this.$X=m;var L=m.j+","+m.F;
if(L!=this.Ihb){this.Ihb=L;this.Ww.p(new jf(m.j,m.F))}this.QJ.IBG();this.GF(null,!0)};jH.prototype.YH=function(m,g){return new jf(Math.max(0,Math.min(150,(m-770)/2)),Math.max(0,Math.min(150,(g-590)/2)))};
jH.prototype.Dj=function(m,g){this.uP=m;this.PC=g;this.el.x=Math.min(512,m-26-214);this.el.y=Math.min(512,g-45);
if(this.$X==null)return;var L=this.Ww.w(),m=L.x,g=L.y,K=ax.WQ()[this.op.w()],r=ax[K],z="<span style=\"width:",u="display:inline-block; text-align:right;\">";
if(r.$v){var R=m,Q=g,F;if(K=="PDF"||r.Wi){R=this.el.x;Q=this.el.y}else{R=Math.min(m+20,this.el.x);Q=Math.min(g+20,this.el.y)}this.ZJ.firstChild.setAttribute("style","display:block; width:"+R+"px; height:"+Q+"px;")}else{if(r.Wi){R=this.el.x;
Q=this.el.y}else{var q=this.IVx,n=q[0].wh,R=n.j,Q=n.F;this.Gy.Dj(Math.max(50,Math.min(R/p.M(),this.el.x)),Math.max(50,Math.min(Q/p.M(),this.el.y)))}}var W=this.GP.byteLength,N=K+":"+z+64+"px;"+u+jH.aH(W)+"</span>";
if(this.el.x>200)N+=z+90+"px; opacity:"+.5+";"+u+W.toLocaleString()+" B</span>";this.Hx.innerHTML=N};
jH.aH=function(m){var g=0;while(m>>>g+10!=0)g+=10;var L=(m/(1<<g)).toFixed(1),K=["B","KB","MB","GB"][Math.floor(g/10)];
return L+" "+K};jH.prototype.SI=function(m,g){this.Tf=m};jH.prototype.GF=function(m,g){var L=this.Ww.w(),K=L.x,r=L.y,R=this.op.w(),Q=ax.WQ()[R],F=ax.zc(this.$X)[0].length,q=["GIF","PNG","WEBP"].indexOf(Q)!=-1&&F>1,z="";
if(q&&g&&(K*r>1024*1024||K*r*F>800*800*50)){var n=window.confirm("Your animation is large ("+K+" x "+r+" px). Should we scale it down 50%?");
if(n){this.Ww.p(new jf(K>>>1,r>>>1));K=K>>>1;r=r>>>1}}this.QJ.IOq(Q,q,this.$X.qo.length!=0);var W=this.QJ.w();
this.GP=ax.kr(this.$X,Q,K,r,W,this.Tf);if(this.GP==null){this.$X=null;return}p.Lj(this.ZJ);this.Gy.NJ();
var u=ax[Q];if(u.Wi){this.ZJ.innerHTML="<div></div>";z+="width:0px"}else if(u.$v){var N=K,b=r,B;if(Q=="PDF"){B=URL.createObjectURL(new Blob([this.GP],{type:"application/pdf"}))}else{B=URL.createObjectURL(new Blob([this.GP],{type:"image/svg+xml"}))}this.ZJ.innerHTML="<iframe src=\""+B+"\"></iframe>"}else{var h=this.IVx=u.X_(this.GP),A=h[0].wh,N=A.j,b=A.F;
this.Gy.p(h,h.length>1?W[W.length-2]:0);this.ZJ.appendChild(this.Gy.Q);z="background: rgba(0,0,0,0);"}this.ZJ.setAttribute("style","display:block; background-size:"+16/p.M()+"px;"+z);
this.Dj(this.uP,this.PC)};function IH(){aF.call(this,[11,13],"shortcuts");var m=this.DA=p.Y("div","scrollable");
m.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(m);
this.Ijg()}IH.prototype=new aF;IH.prototype.b=function(){aF.prototype.b.call(this);this.Ijg()};IH.prototype.Ijg=function(){var m="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",g="";
g+="<h2 style=\"margin-top:0;\">Main Menu</h2>";g+=m;g+=this.lw([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
g+="</div>";g+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";g+=m;g+=this.lw("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
g+="</div>";g+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
g+=m;g+=this.lw([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);g+="</div>";g+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
g+=m;var L=[];for(var K=0;K<IH.Bl.length;K+=3)L.push(IH.Bl[K],IH.Bl[K+1]);g+=this.lw(L);g+=this.lw(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
g+="</div>";this.DA.innerHTML=g};IH.prototype.lw=function(m){var g="",L=!0;for(var K=0;K<m.length;K+=2){var r=m[K],R=m[K+1];
if(R==null){L=!1;continue}var Q=p.IeY(aT.get(r));if(R=="---"){if(!L)g+="<br/>";g+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+Q+"</div>"}else g+="<div>"+Q+" <span style=\"float:right; font-weight:bold;\">"+R+"</span> </div>";
L=!1}return g};IH.Bl=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function QQ(){aF.call(this,[8,11,1],"soptions");this.HG=null;var m=p.Y("div","form");m.style.width="20em";
this.body.appendChild(m);this.aK={Nm:[12,48],url:"URL",null:[12,71]};this.Qx={};for(var g in this.aK){var L=new RZ(this.aK[g],null,15);
this.Qx[g]=L;m.appendChild(L.Q)}var K=new aX("OK",!0,null,!0);K.v("click",this.bv,this);m.appendChild(K.Q)}QQ.prototype=new aF;
QQ.prototype.e_=function(m,g,L){var K=g.U;this.HG=JSON.stringify(K);for(var r in this.aK){if(K[r])this.Qx[r].p(K[r].v)}};
QQ.prototype.bv=function(m){var g=JSON.parse(this.HG);for(var L in this.aK){var K=this.Qx[L].w();g[L]={t:"TEXT",v:K}}var r=new Y(p.E.B,!0);
r.K=l.FN;r.data=g;r.Gd=!0;this.g(r);this.close()};function IY(){aF.call(this,[2,3],"fill");this.Tf=null;
this.TA=null;var m=p.Y("div","form padded");m.style.width="22em";this.body.appendChild(m);this.$h="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this.ZT=new aW([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this.ZT.v(p.E.z,this.IIy,this);
m.appendChild(this.ZT.Q);this.ZJ=p.Y("span");m.appendChild(this.ZJ);this.ZG=new II;this.ZG.parent=this;
this.ZG.dy(0);this.yj=new aW([12,19,0],ad.VT,!1,ad.Cb);m.appendChild(this.yj.Q);this.aA=new mc([12,0],0,100,"%",0,!1);
this.aA.p(100);m.appendChild(this.aA.Q);this.It=new aX("OK",!0,null,!0);this.It.v("click",this.bv,this);
this.body.appendChild(this.It.Q)}IY.prototype=new aF;IY.prototype.YO=function(m,g){return m!=null};IY.prototype.HE=function(){return!0};
IY.prototype.IIy=function(){var m=this.ZT.w()==2,g=this.ZG.Q,L=this.ZJ;if(m)L.appendChild(g);else if(L.contains(g))L.removeChild(g)};
IY.prototype.b=function(){aF.prototype.b.call(this);this.ZT.b();this.yj.b();this.aA.b()};IY.prototype.bv=function(m){if(!this.TA.kn())return;
var g=new Y(p.E.VG,!0),L=this.ZT.w();g.data=l.jx._W(this.$h[L],ad.go[this.yj.w()],this.aA.w()/100,this.ZG.w());
this.close();this.g(g)};IY.prototype.e_=function(m,g){this.TA=m};IY.prototype.SI=function(m,g){this.Tf=m};
function Id(){aF.call(this,[14,9],"stroke");this.Tf=null;this.TE=p.Y("div","form");this.TE.setAttribute("style","width:24em");
this.body.appendChild(this.TE);this.$t=new RH("FrFX",!0);this.$t.parent=this;var m=["Sz","Styl","Md","Opct"].concat(aU.av);
for(var g=0;g<m.length;g++){var L=this.$t.eu[m[g]].Q;this.TE.appendChild(L)}this.IVL=!1;this.It=new aX("OK",!0,null,!0);
this.It.v("click",this.bv,this);this.body.appendChild(this.It.Q)}Id.prototype=new aF;Id.prototype.YO=function(m,g){return m!=null};
Id.prototype.HE=function(){return!0};Id.prototype.b=function(){aF.prototype.b.call(this);this.$t.b()};
Id.prototype.bv=function(m){var g=new Y(p.E.B,!0);g.K=l.aw;g.data={P:"stroke",IBh:this.$t.w()};this.close();
this.g(g)};Id.prototype.e_=function(m,g){if(!this.IVL){var L=aU.WV[aU.order.indexOf("FrFX")];L=JSON.parse(L);
this.$t.update(m,L);this.IVL=!0}var L=this.$t.w(),K=this.Tf.$q;L.Clr.v=I.G.h$({u:K>>16&255,S:K>>8&255,R:K&255});
this.$t.update(m,L)};Id.prototype.SI=function(m,g){this.Tf=m};function qp(){aF.call(this,[11,9],"textwarp");
this.Qx=new qU;this.Qx.v(p.E.z,this.BS,this);this.Qx.parent=this;this.TE=p.Y("div","form");this.TE.setAttribute("style","width:20em");
this.body.appendChild(this.TE);this.TE.appendChild(this.Qx.rt.Q);this.TE.appendChild(this.Qx.JR.Q);this.TE.appendChild(this.Qx.Fa.Q);
this.TE.appendChild(this.Qx.Fm.Q);this.TE.appendChild(this.Qx.Fo.Q);this.It=new aX("OK",!0,null,!0);
this.It.v("click",this.bv,this);this.TE.appendChild(this.It.Q);this.v("closebtn",this.RF,this)}qp.prototype=new aF;
qp.prototype.HE=function(){return!0};qp.prototype.b=function(){aF.prototype.b.call(this);this.Qx.b()};
qp.prototype.BS=function(m){var g=this.Qx.w();this.Bd({P:"warp",QM:g})};qp.prototype.Bd=function(m){var g=new Y(p.E.B,!0);
g.K=l._T;g.data=m;g.Gd=!0;this.g(g)};qp.prototype.RF=function(m){this.Bd({P:"warpCancel"})};qp.prototype.bv=function(m){this.Bd({P:"warpConfirm"});
this.close()};qp.prototype.e_=function(m,g){var L=m._[m.N[0]];this.Qx.p(L.add.TySh.nY)};function mD(){aF.call(this,"Raw Photopea","rawpea");
this.BI=null;this.SF=null;this.yw=null;this.Inq=0;this.ga=null;this.sS=null;this.IVS=500;this.IVi=500;
this.v("closebtn",this.yl,this);p.RM(this.body,"flexrow");var m=p.Y("div"),g=p.Y("div"),r="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
g.setAttribute("style","padding-left: 1em");this.body.appendChild(m);this.body.appendChild(g);this.Dt=p.Y("canvas");
m.appendChild(this.Dt);this.vA=new QO(225);this.vA.$R(4);g.appendChild(this.vA.Q);this.TE=p.Y("div");
this.TE.setAttribute("style","width:18em;");g.appendChild(this.TE);this.IVn=new Rt("Hi",!0);this.TE.appendChild(this.IVn.Q);
this.Dm=[new a$("Temperature",2e3,13e3),new a$("Tint",-150,150),new a$([4,3],-4,4,null,!0),new a$([12,3,0],-100,100)];
for(var L=0;L<this.Dm.length;L++){var K=this.Dm[L];K.p(0);K.v(p.E.z,this.fo,this);this.TE.appendChild(K.Q);
if(L==1)this.TE.appendChild(p.Y("hr"))}this.It=new aX([1,0],!0,null,!0);this.It.v("click",this.bv,this);
this.TE.appendChild(this.It.Q);this.yL=new aX(r+" JPG",!0,null,!0);this.yL.v("click",this.Iql,this);
this.TE.appendChild(this.yL.Q);this.yL.Q.style.marginTop="6px"}mD.prototype=new aF;mD.prototype.pU=function(){return!0};
mD.prototype.YH=function(){return new jf(0,0)};mD.prototype.Dj=function(m,g){this.IVS=m-274;this.IVi=g-32;
if(this.BI)this.IaY()};mD.prototype.b=function(){aF.prototype.b.call(this);this.It.b();for(var m=0;m<this.Dm.length;
m++)this.Dm[m].b()};mD.prototype.Iql=function(m){var g=this.BI,L=this.SF,K=I.m(g.width*g.height*4);I._U(K,4294967295);
I.raw.JI(L,K,g,this.Eq());var r=ax.JPG.Cf([[K.buffer]],L.mx,L.ml,[85]),R=new Y(p.E.V,!0);R.data={P:p.o.Ly,data:r,name:"photo.jpg"};
this.g(R)};mD.prototype.bv=function(m){var g=this.BI,L=this.SF,K=I.m(g.width*g.height*4);I._U(K,4294967295);
I.raw.JI(L,K,g,this.Eq());var r=RV.VU(g),g={wh:new v(0,0,L.mx,L.ml),data:K.buffer,Io:r},R=RU.Gp("Raw Photo",[g]),Q=new Y(p.E.V,!0);
Q.data={P:p.o.ES,$X:R};this.g(Q);this.yl();this.close()};mD.prototype.yl=function(){this.BI=null;this.SF=null;
this.ga=null;this.sS=null};mD.prototype.e_=function(m,g,L,K){this.BI=g.qr;this.SF=I.raw.Iqw(this.BI);
var r=this.SF;this.IVn.p(r.mx+" x "+r.ml+", "+(r.mx*r.ml/1e6).toFixed(1)+" MPx");var R=I.raw.IQN(g.qr);
this.yw=qg.mN(R);this.Dm[0].p(this.yw.KG);this.Dm[1].p(this.yw.Ph);for(var Q=2;Q<this.Dm.length;Q++)this.Dm[Q].p(0);
this.IaY()};mD.prototype.SI=function(m,g){this.vA.dy(ph.ER[m.rL]["--text-color"])};mD.prototype.IaY=function(){var m=this.SF,g=m.mx,L=m.ml,K=1;
while(g/K>this.IVS*p.M()||L/K>this.IVi*p.M())K++;var r=Math.floor(g/K),R=Math.floor(L/K);this.ga={qT:new Float32Array(r*R*3),mx:r,ml:R};
var Q=this.Dt.getContext("2d");this.sS=Q.createImageData(r,R);I._U(this.sS.data,4294967295);var F=1/(K*K);
for(var q=0;q<R;q++)for(var n=0;n<r;n++){var W=0,z=0,u=0,N=(n+1)*K,b=(q+1)*K;for(var B=q*K;B<b;B++)for(var h=n*K;
h<N;h++){var A=(B*g+h)*3;W+=this.SF.qT[A];z+=this.SF.qT[A+1];u+=this.SF.qT[A+2]}var e=(q*r+n)*3;this.ga.qT[e]=W*F;
this.ga.qT[e+1]=z*F;this.ga.qT[e+2]=u*F}this.fo()};mD.prototype.fo=function(){var m=this.BI,g=this.ga.mx,L=this.ga.ml,K=g*L,r=this.Dt,R=r.getContext("2d");
r.width=g;r.height=L;p.Wr(r,g,L);I.raw.JI(this.ga,new Uint8Array(this.sS.data.buffer),m,this.Eq());R.putImageData(this.sS,0,0);
var Q=I.Oh(this.sS.data);for(var F=0;F<4;F++)for(var q=1;q<256;q++)if(Q[F][q]==0)Q[F][q]=Q[F][q-1];for(var F=0;
F<4;F++)for(var q=1;q<256;q++)if(Q[F][q]==0)Q[F][q]=Q[F][q-1];this.vA.p(Q)};mD.prototype.Eq=function(){var m=[];
for(var g=0;g<this.Dm.length;g++)m.push(this.Dm[g].w());return m};function mw(){aF.call(this,[11,11],"vbitmap");
this.nu=null;this.aW=null;this.yo=null;this.ac=null;this.GR=null;this.VR=this.dV.bind(this);this.TE=p.Y("div","form hbar");
this.body.appendChild(this.TE);this.v$=new mc([12,82],2,50,null);this.v$.v(p.E.z,this.dV,this);this.TE.appendChild(this.v$.Q);
this.Zm="";this.vr=new au([12,81]);this.vr.v(p.E.z,this.dV,this);this.TE.appendChild(this.vr.Q);this.vK=new au("Segmentize");
this.vK.v(p.E.z,this.dV,this);this.TE.appendChild(this.vK.Q);this.It=new aX("OK",!1,null,!0);this.It.v("click",this.bv,this);
this.TE.appendChild(this.It.Q);var m=p.Y("div","flexrow"),g=16;this.body.appendChild(m);this.oD=new IJ;
this.oD.v("viewchange",this.IaN,this);this.ZQ=p.Y("canvas");this.ZQ.setAttribute("style","margin-left: 1px; cursor:grab;");
this.Ju=this.ZQ.getContext("2d");var L=I.m(16*16*4);I.fe(L,g,g,8,0,0);this.yT=I.scale.bs(L,g,g);this.oD.IJR(this.ZQ);
m.appendChild(this.oD.Q);m.appendChild(this.ZQ)}mw.prototype=new aF;mw.prototype.pU=function(){return!0};
mw.prototype.YH=function(){return new jf(0,0)};mw.prototype.HE=function(){return!0};mw.prototype.Dj=function(m,g){g=g-26-30;
m=Math.floor((m-28)/2);p.Tg(this.ZQ,m,g);this.oD.Dj(m,g)};mw.prototype.KK=function(m,g,L,K){this.oD.KK(K)};
mw.prototype.b=function(){aF.prototype.b.call(this);this.v$.b();this.vr.b();this.vK.b();this.It.b()};
mw.prototype.e_=function(m,g){this.GR=m;var L=m._[m.N[0]],K=I.$_.LY(L.buffer.buffer,L.rect.j,L.rect.F).IZm,r=K/((L.rect.j-2)*(L.rect.F-2));
this.vr.p(r<.75);this.vK.p(r<.75);var R=L.rect.clone();R.x=R.y=0;this.nu={wh:R,data:L.buffer.buffer.slice(0)};
this.aW=null;this.oD.p([this.nu]);this.v$.p(20);setTimeout(this.VR,20)};mw.prototype.dV=function(){var m=!0,g=Date.now(),L=this.nu,K=this.vr.w(),r=this.vK.w(),R=K||r,Q=K+","+r;
if(R&&(this.aW==null||this.Zm!=Q)){this.Zm=Q;console.log("recomputing");var F=new Uint8Array(L.data.slice(0)),q=15,n=35,W=L.wh.j,z=L.wh.F;
if(K){aN.En(F,F,W,z,q,I.ll.fI,[n],2)}if(m){console.log("denoise",Date.now()-g);g=Date.now()}if(r){var u=I.$_.JF(F,W,z),N=u.ez,b=new Uint8Array(N*4);
for(var B=0;B<N;B++){var h=B*4,A=B*6,e=1/u.oz[A+5];b[h]=u.oz[A]*e;b[h+1]=u.oz[A+1]*e;b[h+2]=u.oz[A+2]*e}for(var B=0;
B<F.length;B+=4){var c=u.lf[B>>>2]*4;F[B]=b[c];F[B+1]=b[c+1];F[B+2]=b[c+2]}}this.aW={wh:L.wh.clone(),data:F.buffer};
if(m){console.log("segm",Date.now()-g);g=Date.now()}}if(R)L=this.aW;var F=new Uint8Array(L.data),W=L.wh.j,z=L.wh.F;
for(var B=0;B<F.length;B+=4){if(F[B+3]<10)F[B]=F[B+1]=F[B+2]=F[B+3]=0}var a=I.$_.IJP(F,W,z,this.v$.w(),R?.1:2e-4);
if(m){console.log("doclipart",Date.now()-g);g=Date.now()}var $=a.lf.slice(0);for(var B=0;B<$.length;
B++)$[B]++;var G=new Uint8Array((W+2)*(z+2));I.Cp($,new v(1,1,W,z),G,new v(0,0,W+2,z+2));var o=Math.round((W+2)*(z+2)/1e4),H=Ib.JO(G,W+2,z+2,Math.min(12,o)),f=Ib.zA(H),E=new aC(1,0,0,1,-1,-1);
for(var B=0;B<f.length;B++)I.e.f(f[B].path.D,E,f[B].path.D);this.ac=f;this.yo=a;if(m){console.log("trace",Date.now()-g);
g=Date.now()}for(var B=0;B<f.length;B++){var S=f[B];for(var V=B+1;V<f.length;V++){var J=f[V];if(a.Zv[J.color-1].est.q[3]>.05||J.parent!=B)continue;
var U=J.path.O.slice(1);U.reverse();U=["M"].concat(U);var j=[],H=J.path.D.length;for(var i=0;i<H;i+=2){j[i]=J.path.D[H-2-i];
j[i+1]=J.path.D[H-2-i+1]}I.e.concat(S.path,{D:j,O:U})}}for(var B=0;B<f.length;B++){var S=f[B],k=a.Zv[S.color-1].est.q;
if(k[3]<=.05){f.splice(B,1);B--;continue}}for(var B=1;B<f.length;B++){var P=f[B-1],S=f[B];if(P.color==S.color){I.e.concat(P.path,S.path);
f.splice(B,1);B--;continue}}this.IaN()};mw.prototype.IaN=function(m){if(this.ac==null)return;var g=this.nu.wh.j,L=this.nu.wh.F,K=this.ac,r=this.yo.Zv,R=this.Ju,Q=this.oD.NL();
R.setTransform(1,0,0,1,0,0);R.clearRect(0,0,R.canvas.width,R.canvas.height);R.translate(R.canvas.width/2,R.canvas.height/2);
R.scale(Q.T,Q.T);R.translate(Q.H.x/Q.T-g/2,Q.H.y/Q.T-L/2);R.scale(1/Q.T,1/Q.T);R.fillStyle=this.yT;R.fillRect(0,0,g*Q.T,L*Q.T);
R.scale(Q.T,Q.T);var F=[];for(var q=0;q<r.length;q++){var n=r[q].est.q;F.push({u:Math.round(255*n[0]),S:Math.round(255*n[1]),R:Math.round(255*n[2]),Wh:Math.round(255*n[3])})}for(var q=0;
q<K.length;q++){var W=K[q],n=F[W.color-1];if(n.Wh==0)continue;R.fillStyle="rgba("+n.u+","+n.S+","+n.R+","+n.Wh/255+")";
R.beginPath();Typr.U.pathToContext({crds:W.path.D,cmds:W.path.O},R);R.fill()}};mw.prototype.bv=function(m){var g=this.ac,L=g.length==1,K=this.GR,r=K.N[0],R=K._[r],Q=K._.slice(0,r);
if(!L)Q.push(K.ua());for(var F=0;F<g.length;F++){var q=g[F],n=this.yo.Zv[q.color-1].est.q;I.e.f(q.path.D,new aC(1,0,0,1,R.rect.x,R.rect.y),q.path.D);
var W=K.Co();W.vZ("Path "+F);Q.push(W);W.opacity=Math.round(n[3]*255);W.$J|=16;W.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.G.h$({u:255*n[0],S:255*n[1],R:255*n[2]})}};
W.add.vmsk=new x.Lb;W.add.vstk=JSON.parse(JSON.stringify(aU.WL.default));W.add.vmsk.W=I.e.Nk(q.path,!1);
W.add.vogk=[];W.js();W.Zh(K)}var z=Q[Q.length-1];if(!L){var W=K.Co();W.vZ(R.getName());W.add.lsct=Ra.lG;
W.TZ="pass";W.$J=24;Q.push(W);z=W}var u=R.add.lmfx;if(u)z.add.lmfx=JSON.parse(JSON.stringify(u));for(var F=r+1;
F<K._.length;F++)Q.push(K._[F]);var N=new Y(p.E.B,!0);N.Gd=!0;N.K=l.pW;N.data={P:x.ZN,lx:Q,XB:[r+g.length+(L?-1:1)],Is:[11,11]};
this.g(N);this.close()};function mX(m){aF.call(this,[[7,11],"Magic Cut"][m],["redge","magiccut"][m]);
this.BJ=m;this.nu={};this.xG=null;this.ZS=null;this.GR=null;this.vH=null;this.qz=null;this.lZ=[];this.wQ=-1;
this.TE=p.Y("div","form hbar");this.body.appendChild(this.TE);this.Hw=new pg;this.Hw.parent=this;this.Hw.v(p.E.z,this.Qh,this);
this.TE.appendChild(this.Hw.Q);var g=m==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"],L=m==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.yO=new pw(null,g,L,28);this.TE.appendChild(this.yO.Q);this.SH=new R_([7,9],0,50,null);this.SH.parent=this;
this.SH.v(p.E.z,[this.IRZ,this.dV][m],this);this.TE.appendChild(this.SH.Q);var K=this.Ije=new aX([2,2],!1,null,!0);
K.v("click",this.yl,this);this.TE.appendChild(K.Q);var r=this.IjC=new aX([12,90],!1,null,!0);r.v("click",function(F){alert(m==0?aT.get([15,7,1]):"Mark the object with Green, background with Red.",5e3)},this);
this.TE.appendChild(r.Q);var R=p.Y("span","form");this.TE.appendChild(R);R.setAttribute("style","position:absolute;  right:0px");
this.aY=new pw([12,46],["checker","white","black"]);this.aY.v(p.E.z,this.Imr,this);R.appendChild(this.aY.Q);
this.yM=new aW(null,[[6,13],[6,2],[17,2]]);R.appendChild(this.yM.Q);this.It=new aX("OK",!1,null,!0);
this.It.v("click",this.bv,this);R.appendChild(this.It.Q);var Q=p.Y("div","flexrow");this.body.appendChild(Q);
this.Ty=new IJ(!0);this.yS=new IJ;this.Ty.El(this.yS);this.yS.El(this.Ty);this.Ty.v("mousedown",this.cX,this);
this.Ty.v("mousemove",this.Fg,this);this.Ty.v("mouseup",this.Cs,this);this.Ty.v("zoom",this.Qh,this);
this.yS.v("zoom",this.Qh,this);Q.appendChild(this.Ty.Q);Q.appendChild(this.yS.Q)}mX.prototype=new aF;
mX.prototype.YO=function(m,g){var L=m!=null&&!m._[m.N[0]].rect.L_();if(!L)alert("The layer is empty.");
return L};mX.prototype.pU=function(){return!0};mX.prototype.YH=function(){return new jf(0,0)};mX.prototype.HE=function(){return!0};
mX.prototype.Dj=function(m,g){g=g-26-33;m=Math.floor((m-28)/2);this.Ty.Dj(m,g);this.yS.Dj(m,g)};mX.prototype.b=function(){aF.prototype.b.call(this);
this.Hw.b();this.SH.b();this.It.b();this.aY.b();this.yM.b();this.Ije.b();this.IjC.b()};mX.prototype.SI=function(m,g){this.ZS=m;
if(g==am.FE||g==am.VA){this.Hw.eI(m.Br);this.Hw.p(ql.wy(),m.Br.Rd,m.Br.jg)}};mX.prototype.KK=function(m,g,L,K){this.vH=K;
var r=l.jx.oO(this.Hw.w(),K);if(r!=null){this.Hw.p(r);this.Qh()}else if(K.a(C.EZ)&&K.a(C.up)){var R=this.lZ,Q=0;
if(K.a(C.jU)){if(this.wQ+1<R.length)Q=1}else if(this.wQ>0)Q=-1;if(Q!=0){this.wQ+=Q;var F=this.wQ,q=this.nu;
if(Q==1)I.pq(R[F][2],R[F][0],q.nP,q.rect);else I.pq(R[F+1][1],R[F+1][0],q.nP,q.rect);q.vN=q.rect;this.dV()}}else this.Ty.KK(K)};
mX.prototype.ro=function(m){var g=this.nu,L=this.lZ,K=I.m(m.c()*4);I.pq(g.aN,g.rect,K,m);g.aN=null;var r=I.m(m.c()*4);
I.pq(g.nP,g.rect,r,m);this.wQ++;L[this.wQ]=[m.clone(),K,r];while(L.length>this.wQ+1)L.pop();while(L.length>50){L=L.slice(1);
this.wQ--}};mX.prototype.Qh=function(){var m=this.ZS,g=IT.MK(this.Hw.w(),m.Br.Rd,this.Ty.NL().T);this.Ty.JC(g)};
mX.prototype.cX=function(m){var g=this.ZS,L=this.nu,K=this.vH,r=this.Hw.w(),R=this.Ty.JB(),Q=[16777215,8421504,0][this.yO.w()];
this.xG=new IT(r,g.Br.list[0].Rd,g.Br.list[0].jg,{aC:1,HH:!0},Q,g._Q,L.rect);L.aN=L.nP.slice(0);if(K!=null&&K.a(C.jU)&&this.qz){this.xG.moveTo(this.qz.x,this.qz.y);
this.xG.lineTo(R.x,R.y)}else this.xG.moveTo(R.x,R.y);this.IRe()};mX.prototype.Fg=function(m){var g=this.nu,L=this.Ty.JB();
this.xG.lineTo(L.x,L.y);this.IRe()};mX.prototype.Cs=function(m){this.qz=this.Ty.JB();this.ro(this.xG.hz());
this.dV()};mX.prototype.IRe=function(){var m=this.nu,g=this.xG,L=g.MF();if(L.L_())return;m.vN=L;I.h.dq("norm",g.jv(),g.ZM(),m.nP,m.rect,L,1);
this.IRy()};mX.prototype.yl=function(m){var g=this.nu;g.aN=g.nP.slice(0);g.vN=g.rect;I._U(g.nP,[4278190080,4292730333][this.BJ]);
this.ro(g.rect);this.dV()};mX.prototype.e_=function(m,g){this.GR=m;var L=m._[m.N[0]],K=L.rect.clone(),r=K.j,R=K.F;
this.SH.p(this.BJ==0?3:r*R<3e6?3:0);this.yO.p(m.I==null?0:1);this.SH.Mp();if(this.BJ==0&&m.I!=null||this.BJ==1)this.SH.eo();
var Q=this.BJ,F=I.m(K.c()),q=new Float32Array(K.c());if(Q==0&&m.I){I.Cp(m.I.channel,m.I.rect,F,K);var n=I.m(K.c());
for(var W=0;W<R;W++)for(var z=0;z<r;z++){var u=W*r+z,N=F[u];if(z>0&&F[u-1]!=N||z<r-1&&F[u+1]!=N||W>0&&F[u-r]!=N||W<R-1&&F[u+r]!=N)n[u]=255}I.style.ep(n,q,r,R)}else q.fill(1e9);
K.x=K.y=0;this.nu={rect:K,qT:L.buffer,CG:F,nO:q,RP:I.m(K.c()*4),rc:I.m(K.c()*4),nP:I.m(K.c()*4),aN:null,sk:null,vN:K,I$H:{}};
if(Q==0)this.IRZ();else{this.nu.I$H=l.TY.IGa(m);var b=this.nu.nP;I._U(b,4287137928);var B=I.qM.getSelection(L.buffer,r,R),h=Math.round(r/60),A=Math.round(.7*R);
for(var W=0;W<R;W++)for(var z=0;z<r;z++){var e=(W*r+z)*4,c=B[e>>>2];c=c>128?255:128;if(W<h||W<A&&(z<h||z>r-1-h))c=0;
b[e]=b[e+1]=b[e+2]=c}this.dV()}this.lZ=[1];this.wQ=0;this.Ty.IXE();var a=this.Hw.w();a.Brsh.v.Dmtr.v.val=Math.round(K.j/(Q==0?10:20));
this.Hw.p(a);this.Qh()};mX.prototype.IRZ=function(){var m=this.nu,g=m.rect.c(),L=this.SH.w(),K=m.CG.slice(0);
for(var r=0;r<g;r++)if(m.nO[r]<L)K[r]=128;I._U(m.nP,4294967295);I.eX(K,m.nP,0);I.eX(K,m.nP,1);I.eX(K,m.nP,2);
m.vN=m.rect;this.dV()};mX.prototype.dV=function(){var m=this.nu,r,R=0,Q=0,F=0;this.IRy();var g=m.rect,L=I.m(g.c()),K=m.qT;
I.Vl(m.nP,L,0);for(var q=0;q<L.length;q++){var n=L[q];if(n==0)R++;else if(n==255)Q++;else F++}if(R*Q*F!=0){if(this.BJ==0)r=I.Ti.Ti(g,K,L);
else{var W=Date.now(),z=this.nu.I$H;I.jR(L,z.EG);l.TY.Al(z,!0);var u=Math.ceil(this.SH.w()/2);if(u==0){r=K.slice(0);
I.eX(z.I,r,3)}else{var N=z.I.slice(0),b=z.I.slice(0),B=g.j,h=g.F;for(var A=0;A<u;A++){for(var e=1;e<h-1;
e++)for(var c=1;c<B-1;c++){var q=e*g.j+c,a=N[q];if(N[q-B]!=a||N[q-1]!=a||N[q+1]!=a||N[q+B]!=a)b[q]=128;
else b[q]=a}var $=N;N=b;b=$}r=I.Ti.Ti(g,K,N,20,!1)}}}else{r=K.slice(0);I.eX(L,r,3)}if(g.TB(m.rect))m.sk=r;
else I.pq(r,g,m.sk,m.rect);this.Imr()};mX.prototype.IRy=function(m){var g=this.nu,L=g.vN;I.pq(g.qT,g.rect,g.RP,g.rect,L,!0);
var K=g.nP;if(this.BJ==1){var r=new Uint32Array(256);r[0]=4278190335;r[255]=4278255360;var R=g.rect.c();
K=K.slice(0);var Q=new Uint32Array(K.buffer);for(var F=0;F<R;F+=2){Q[F]=r[Q[F]&255];Q[F+1]=r[Q[F+1]&255]}}I.h.dq("norm",K,g.rect,g.RP,g.rect,L,.3);
this.Ty.p([{wh:g.rect,data:g.RP.buffer}])};mX.prototype.Imr=function(m){var g=this.nu;I._U(g.rc,[0,4294967295,4278190080][this.aY.w()]);
I.h.dq("norm",g.sk,g.rect,g.rc,g.rect,g.rect,1);this.yS.p([{wh:g.rect,data:g.rc.buffer}])};mX.prototype.bv=function(m){var g=this.GR,L=this.nu,K=this.yM.w(),r=g._[g.N[0]],R=new Y(p.E.B,!0);
R.Gd=!0;var Q=r.rect.clone();if(K==0&&r.WP()||K!=0&&!r.WP()){R.K=l.pW;R.data={P:x.ZU,A:g.N[0]};this.g(R)}if(g.I!=null){R.K=l.eS;
R.data={P:"fromAction",HX:l.Lk.ud()};this.g(R)}if(K==0){var F=g._.slice(0),q=g.Co();q.vZ(r.getName());
F.splice(g.N[0]+1,0,q);q.rect=Q;q.buffer=L.sk;q.X();R.K=l.pW;R.data={P:x.ZN,lx:F,XB:[g.N[0]+1],Is:[7,11]};
this.g(R)}if(K==1){var n=r.WN();R.K=l.pW;R.data={P:x.lp,IVf:!0};this.g(R);var W=r.WN();W.channel=I.m(Q.c());
W.rect=Q;W.color=0;W.gg=!0;I.Vl(L.sk,W.channel,3);if(n){var z=W.kB(n);W.rect=z.rect;W.channel=z.channel;
W.color=z.color}W.qV();r.Zh()}if(K==2){var u={rect:Q,channel:I.m(Q.c())};I.Vl(L.sk,u.channel,3);R.K=l.eS;
R.data={P:"setsel",I:u,Is:this.jr};this.g(R)}this.close()};function qw(){aF.call(this,[1,13],"locstor");
this.Tf=null;this.ne=[];var m=this.body,g=p.Y("p");g.textContent="These files are loaded every time you start Photopea.";
m.appendChild(g);this.IIg=0;this.ye=p.Y("span");m.appendChild(this.ye);this.ye.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.lq=new aX([5,4],!1,null,!0);this.lq.v("click",this.IqB,this);m.appendChild(this.lq.Q);this.ui=new It(!0);
this.ui.parent=this;this.ui.$R(1);this.ui.v(p.E.z,this.Iqo,this);m.appendChild(this.ui.Q);this.ui.Q.setAttribute("style","width: 40em; height: 25em")}qw.prototype=new aF;
qw.prototype.b=function(){aF.prototype.b.call(this);this.ye.textContent=aT.get([13,2])+": "+jH.aH(this.IIg);
this.lq.b()};qw.prototype.SI=function(m,g){this.Tf=m;if(g==am.pg)this.e_()};qw.prototype.e_=function(m,g){var L=this.Tf.HP.Gi,q=0;
this.ne=[];for(var K in L)this.ne.push(K);this.ne.sort(function(z,u){z=z.split(".");u=u.split(".");return z[1]==u[1]?z[0]<u[0]?-1:1:z[1]<u[1]?-1:1});
var r=Math.floor(100*p.M()),R=Math.floor(16*p.M()),Q=[],F=[];for(var n=0;n<this.ne.length;n++){var K=this.ne[n],W=qw.yP(K,L[K],r,R);
Q.push(W);F.push(K);q+=L[K].byteLength}this.ui.dY(Q,F,r,R);this.IIg=q;this.b()};qw.prototype.Iqo=function(m){this.ui.a_(this.ui.w())};
qw.prototype.IqB=function(m){var g=this.ui.w();if(g==-1){alert("Select a file first.");return}this.ui.p(-1);
var L=this.Tf.HP.Gi;delete L[this.ne[g]];var K=new Y(p.E.V,!0);K.data={P:p.o.VP,Su:am.pg};this.g(K)};
qw.yP=function(m,g,L,K){var r=p.Y("canvas"),F=0;r.width=L;r.height=K;var R=r.getContext("2d"),Q=m.split(".").pop().toLowerCase();
for(var q=0;q<Q.length;q++)F+=Q.charCodeAt(q)*613<<8*q;R.fillStyle="#"+I.IA(F&16777215);R.fillRect(0,0,20,K);
var n=Math.floor(14*p.M());R.fillStyle="#000000";R.font="bold "+n+"px sans-serif";var W=(K-n)/2,z=jH.aH(g.byteLength),u=R.measureText(z);
R.fillText(z,L-12-u.width,K-W);return r.toDataURL()};function Qw(m,g,L){aF.call(this,g,"cwindow");this.IjK=new jf(L[0],L[1]-33);
this.TE=p.Y("div","form");this.TE.setAttribute("style","width:"+(L[2]-L[0])+"px; height:"+(L[3]-L[1])+"px");
this.body.appendChild(this.TE)}Qw.prototype=new aF;Qw.prototype.YH=function(m,g){return this.IjK.clone()};
function ar(m,g,L,K){aO.call(this);this.name=m;this.IjA=L;this.gm=K;this.Sw=p.Y("div","");this.Sw.setAttribute("draggable","true");
this.ls=p.Y("div","pbody");this.rl=new aX("",!1,"");this.rl.parent=this;this.IIu=p.Y("span","cross");
this.mA=p.Y("span","label");var r=this.IQL.bind(this);this.Sw.addEventListener("mousedown",this.IQw.bind(this),!1);
this.Sw.addEventListener("contextmenu",r,!1);this.rl.Q.addEventListener("contextmenu",r,!1);this.IIu.addEventListener("mousedown",this.Js.bind(this),!1);
this.Sw.appendChild(this.mA);if(g)this.Sw.appendChild(this.IIu);this.GO=!1;this.yC=new mx([{name:[1,12]}]);
this.yC.v("select",this.Js,this);this.mA.textContent=m}ar.prototype=new aO;ar.prototype.BW=function(){return null};
ar.prototype.bp=function(){return new jf(0,0)};ar.prototype.b=function(){var m=aT.get(this.name),g=this.uP==0?22:Math.round(2+this.uP/50),L=m.length>g;
this.mA.textContent=L?m.slice(0,g-2):m;if(L)for(var K=0;K<2;K++){var r=p.Y("span");r.textContent=m.charAt(g-2+K);
r.setAttribute("style","opacity:"+(.6-K*.4));this.mA.appendChild(r)}var R=m.split(" "),Q=R.length==2?R[0].substring(0,2)+R[1][0]:m.substring(0,3);
if(Q.charCodeAt(0)>=11776)Q=Q.substring(0,1);var F=this.IjA;if(F==null)this.rl.dv(Q,m);else{if(F.indexOf("\"")==-1)this.rl.dv("<img src=\""+F+"\" alt=\""+m+"\" height=\"20\" />",m)}};
ar.prototype.enable=function(){this.ls.setAttribute("class","pbody")};ar.prototype.disable=function(){this.ls.setAttribute("class","pbody disabled")};
ar.prototype.SI=function(m,g){};ar.prototype.e_=function(m,g,L){};ar.prototype.Dj=function(m,g){};ar.prototype.Ke=function(m){this.name=m;
this.b()};ar.prototype.Ba=function(){};ar.prototype.IQw=function(m){if(m.button==0)this.g(new Y("select",!1))};
ar.prototype.IQL=function(m){p.mF(m);if(this.gm!=null&&isNaN(this.gm))return;var g=p.c_(m,document.body),L=this.yC;
L.update(null);L.b();L.parent=this;var K=new Y(p.E.V,!0);K.data={P:p.o.xW,Mt:L,x:g.x+1,y:g.y+1};this.g(K)};
ar.prototype.hq=function(){this.Js({})};ar.prototype.Js=function(m){if(m.stopPropagation)m.stopPropagation();
if(this.gm!=null&&!isNaN(this.gm)){var g=new Y(p.E.V,!0);g.data={P:p.o.LN,Mt:this.yC};this.g(g);g.data={P:p.o.VP,Su:am.nb,U:parseFloat(this.gm),VK:"del"};
this.g(g)}else if(this.IxW())this.g(new Y(p.E.aI,!1))};ar.prototype.IxW=function(m){return!0};ar.prototype.Mc=function(m,g,L,K,r){};
ar.prototype.NB=function(m,g,L,K,r){};ar.prototype.RK=function(m,g,L,K,r){};ar.RQ=function(m,g){if(m.childElementCount!=0)return;
var L=m.textContent;this.bA=this.IQM.bind(this);this.Iqb=this.Ijx.bind(this);this.RY=g;this.$j=m;this.IjH=L;
var K=p.Y("input","");K.setAttribute("type","text");K.setAttribute("size","10");K.setAttribute("value",L);
p.Lj(m);m.appendChild(K);K.select();K.focus();m.addEventListener("keyup",this.bA,!1);document.body.addEventListener("mousedown",this.Iqb,!1)};
ar.RQ.prototype.IQM=function(m){var g=C.Bf,L=g(m.code,C.xI);if(g(m.code,C.rw)||L)this.Iwh(L)};ar.RQ.prototype.Ijx=function(m){var g=m.target;
if(g.tagName&&g.tagName.toLowerCase()=="input")return;this.Iwh(!0)};ar.RQ.prototype.Iwh=function(m){var g=this.$j;
g.removeEventListener("keyup",this.bA);document.body.removeEventListener("mousedown",this.Iqb);if(m){var L=g.firstChild.value;
this.RY(L)}else{p.Lj(g);g.textContent=this.IjH}};ar.ba={AV:"0",IjJ:"1",pW:"2",IjG:"3",IjM:"4",bD:"5",CSS:"6",FE:"7",Ij_:"8",IJa:"9",Iju:"10",IjW:"11",Ijc:"12",Tc:"13",Wb:"14",IaU:"15",Iae:"16",ED:"17",Ian:"18"};
function mR(){ar.call(this,[9,9],!1,null,ar.ba.IjW);this.Tf=null;this.sO=[0,0];this.mJ=p.Y("div","padded scrollable");
this.mJ.setAttribute("style","width:260px;  height:260px");this.ls.appendChild(this.mJ);this.v(p.E.z,this.Xq,this);
this.eM=p.Y("div","lpfoot");this.ls.appendChild(this.eM);this.Sc=[];var m="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",g="</svg>",L=m+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+g,K=m+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+g;
this.Iqy=m+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+g;this.Ijd=m+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+g;
var r=[this.Iqy,K,"lrs/folder","lrs/newlayer","lrs/bin",L],R=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var Q=0;Q<r.length;Q++){var F=r[Q];if(1<Q&&Q!=r.length-1)F="<img src=\""+PIMG[r[Q]]+"\" class=\"gsicon\" />";
var q=new aX(F,!1,R[Q]);q.v("click",this.IJb,this);this.eM.appendChild(q.Q);this.Sc.push(q)}}mR.prototype=new ar("");
mR.prototype.b=function(){ar.prototype.b.call(this);for(var m=0;m<this.Sc.length;m++)this.Sc[m].b()};
mR.prototype.IJb=function(m){var g=this.Sc.indexOf(m.currentTarget),L=this.sO,K=this.Tf,r=K.oG;if(g==0){var R,Q=K.ab;
if(r.length==0){alert("Create an Action Set first.");return}if(L.length<2){alert("Select a target action first.");
return}if(Q==null){R=this.Ijd;Q=this.sO}else{R=this.Iqy;Q=null}this.Sc[0].dv(R);K.ab=Q}else if(g==1)this.Iab();
else if(g==2||g==3){var F={Is:"Action Set "+r.length,r:[],exp:!0};if(g==2||r.length==0){L=[r.length];
r.push(F)}if(g==3){var q=r[L[0]].r;L=[L[0],q.length];q.push({Is:"Action "+q.length,color:0,r:[],IaM:!1,shift:!1,exp:!0,Bj:q.length})}this.sO=L;
this.fo()}else if(g==4){var n;if(L.length==1)n=r;else if(L.length==2)n=r[L[0]].r;else n=r[L[0]].r[L[1]].r;
var W=L.length-1;n.splice(L[W],1);if(n.length==0)L.pop();else while(L[W]>=n.length)L[W]--;if(L.length==0)L.push(0);
this.fo()}else if(g==5){if(r.length==0){alert("No Actions Present.");return}var z=new Y(p.E.V,!0);z.data={P:p.o.vX,IQy:am.B,TP:L[0]};
this.g(z)}};mR.prototype.Xq=function(m){var g=this.Tf.oG,L=m.data.P,K=m.data.uX;if(L=="sel")this.sO=K;
if(L=="fold"){if(K.length==1)g[K[0]].exp=!g[K[0]].exp;else g[K[0]].r[K[1]].exp=!g[K[0]].r[K[1]].exp}if(L=="enab"){var r=g[K[0]].r[K[1]].r[K[2]];
r.$=!r.$}if(L=="nchange"){if(K.length==1)g[K[0]].Is=m.data.jP;else g[K[0]].r[K[1]].Is=m.data.jP}this.fo()};
mR.prototype.SI=function(m,g){this.Tf=m;if(g==am.B||g==am.VA)this.fo()};mR.prototype.fo=function(){if(this.Tf==null)return;
p.Lj(this.mJ);var m=this.Tf.oG;if(m.length==0)return;var g=JSON.stringify(this.sO);for(var L=0;L<m.length;
L++){var K=m[L],r=new mR.Fu([L],g,K.exp,K.Is.split("=").pop());r.parent=this;this.mJ.appendChild(r.Q);
if(!K.exp)continue;for(var R=0;R<K.r.length;R++){var Q=K.r[R],r=new mR.Fu([L,R],g,Q.exp,Q.Is.split("=").pop());
r.parent=this;this.mJ.appendChild(r.Q);if(!Q.exp)continue;for(var F=0;F<Q.r.length;F++){var q=Q.r[F],r=new mR.Fu([L,R,F],g,null,aT.get(RL.IJ_(q)),q.$);
r.parent=this;this.mJ.appendChild(r.Q)}}}};mR.prototype.Iab=function(){var m=this.Tf.oG,g=this.sO;if(m.length==0){alert("No Actions Present");
return}if(g.length==1){alert("Select an Action first");return}if(this.Tf.ab!=null){alert("You can not apply actions while recording actions");
return}if(g.length==1)g.push(0);var L=m[g[0]],K=L.r[g[1]],r=new Y(p.E.V,!0);r.data={P:p.o.ZR,tK:[K.Is,L.Is]};
this.g(r)};mR.Fu=function(m,g,L,K,r){aO.call(this);this.uX=m;var R=this.uX.length-1;this.Q=p.Y("div","layeritem"+(JSON.stringify(m)==g?" selected":""));
this.ZH=p.Y("div","head");this.Q.appendChild(this.ZH);this.ZH.setAttribute("style","height:24px");this.sM=p.Y("div","headL");
this.ZH.appendChild(this.sM);if(R!=0){var Q=p.Y("div");Q.style.width=R*20+"px";this.sM.appendChild(Q)}if(L!=null){var F=this.IjY=p.Y("div",L?"open":"closed");
this.sM.appendChild(F)}else{var q=this.IjN=p.Y("div","cmark");q.setAttribute("style","background-size:12px 12px; opacity:"+(r?1:.3));
this.sM.appendChild(q)}if(R==0){var n=p.Y("div","folder");this.sM.appendChild(n)}var W=this.mA=p.Y("div","label");
W.textContent=K;this.sM.appendChild(W);this.Q.addEventListener("mouseup",this.lJ.bind(this),!1)};mR.Fu.prototype=new aO;
mR.Fu.prototype.lJ=function(m){if(m.detail==1&&m.target.tagName.toLowerCase()!="input"){var g="sel";
if(m.target==this.IjY)g="fold";if(m.target==this.IjN)g="enab";var L=new Y(p.E.z,!0);L.data={P:g,uX:this.uX};
this.g(L)}else if(this.uX.length<3)var K=new ar.RQ(this.mA,this.RY.bind(this))};mR.Fu.prototype.RY=function(m){var g=new Y(p.E.z,!0);
g.data={P:"nchange",jP:m,uX:this.uX};this.g(g)};function ac(){ar.call(this,[9,3],!1,null,ar.ba.FE);this.TJ=null;
this.cu=null;this.Tf=null}ac.prototype=new ar("");ac.prototype.Rj=function(){var m=p.Y("div","");this.ls.appendChild(m);
this.gC=p.Y("div","bordered cell");this.gC.setAttribute("style","width:10em; height:28.5em;");m.appendChild(this.gC);
this.Qx=[];this.yv=null;this.Ss=[];var g=this.Ias.bind(this);this.Xa=[new ac.SS,new ac.Yt,new ac.mq,new ac.Xr];
for(var L=0;L<this.Xa.length;L++){var K=p.Y("div","listitem"),r=this.Xa[L].dt,R=null;if(L==0){this.yv=new Rt(r);
K.appendChild(this.yv.Q)}else{R=new au(r,!1);R.v(p.E.z,this.Iay,this);K.appendChild(R.Q)}this.Ss.push(R);
this.gC.appendChild(K);this.Qx.push(K);K.addEventListener("click",g,!1)}this.Bs=p.Y("div","cell padded");
m.appendChild(this.Bs);for(var L=0;L<this.Xa.length;L++)this.Xa[L].v("brushchange",this.IaP,this);this.setItem(0);
this.M$=p.Y("canvas","");this.M$.width=Math.floor(380*p.M());this.M$.height=Math.floor(80*p.M());p.Wr(this.M$,this.M$.width,this.M$.height);
m.appendChild(this.M$);this.Ju=this.M$.getContext("2d");this.dV()};ac.prototype.Ba=function(){if(this.gC){this.dV();
return}this.Rj();this.b();this.SI(this.Tf,am.VA)};ac.prototype.b=function(){ar.prototype.b.call(this);
if(this.gC==null)return;this.yv.b();for(var m=1;m<this.Ss.length;m++)this.Ss[m].b();for(var m=0;m<this.Xa.length;
m++)this.Xa[m].b()};ac.prototype.IaP=function(m){var g=this.Xa.indexOf(m.currentTarget),L=JSON.parse(JSON.stringify(this.Xa[g].cu)),K=new Y(p.E.V,!0);
K.data={P:p.o.VP,Su:am.qv,cu:L};this.g(K)};ac.prototype.Iay=function(m){this.IlF(this.Ss.indexOf(m.currentTarget),m.currentTarget.gF())};
ac.prototype.Ias=function(m){var g=this.Qx.indexOf(m.currentTarget);if(m.target.tagName.toLowerCase()=="input")return;
if(this.Ss[g]&&!this.Ss[g].gF()){this.Ss[g].ef();this.IlF(g,!0)}this.setItem(g)};ac.prototype.IlF=function(m,g){this.Xa[m].bL(g)};
ac.prototype.setItem=function(m){for(var g=0;g<this.Xa.length;g++)this.Qx[g].setAttribute("class","listitem");
if(this.Bs.firstChild)this.Bs.removeChild(this.Bs.firstChild);this.Qx[m].setAttribute("class","listitem selected");
this.Bs.appendChild(this.Xa[m].Q)};ac.prototype.SI=function(m,g){this.Tf=m;if(this.gC==null)return;if(g==am.FE||g==am.VA){this.TJ=m.Br;
for(var L=0;L<this.Xa.length;L++)this.Xa[L].eI(this.TJ)}if(g==am.qv||g==am.VA){this.cu=m.Br.sz;this.dV()}if(g==am.Tc)this.dV()};
ac.prototype.dV=function(){if(this.cu)this.enable();else{this.disable();return}if(!p.Ya(this.ls))return;
var m=this.Tf;for(var g=0;g<this.Xa.length;g++){this.Xa[g].p(this.cu);if(this.Ss[g])this.Ss[g].p(this.Xa[g].gF())}var L=JSON.parse(JSON.stringify(this.cu));
L.Brsh.v.Dmtr.v.val=Math.min(L.Brsh.v.Dmtr.v.val,50);var K=new v(0,0,this.M$.width,this.M$.height),r=new IT(L,this.TJ?this.TJ.Rd:null,this.TJ?this.TJ.jg:null,{aC:1},m.$q,m._Q,K),R=40*p.M(),Q=300*p.M();
r.moveTo(R,R);for(var g=0;g<=Q;g+=10)r.lineTo(R+g,R+20*Math.sin(2*Math.PI*g/Q));r.finish();var F=this.Ju.createImageData(K.j,K.F);
I.pq(r.jv(),r.ZM(),F.data,K);this.Ju.putImageData(F,0,0)};ac.qe=function(m){aO.call(this);this.dt=m;
this.Q=p.Y("div","");this.cu=null};ac.qe.prototype=new aO;ac.qe.prototype.eI=function(m){};ac.qe.prototype.p=function(m){this.cu=JSON.parse(JSON.stringify(m));
this.Q.setAttribute("class",this.gF()?"":"disabled");this.dV()};ac.qe.prototype.bL=function(m){};ac.qe.prototype.gF=function(){return!1};
ac.qe.prototype.b=function(){};ac.qe.prototype.dV=function(){};ac.qe.prototype.dC=function(){this.g(new Y("brushchange"))};
ac.SS=function(){ac.qe.call(this,[15,0]);this.TJ=null;this.IQT=null;this.vb=new It(!0);this.Q.appendChild(this.vb.Q);
this.vb.v(p.E.z,this.Iaz,this);this.vb.Q.style.height="10.7em";this.vz=new a$([12,14,0],1,1e3," px",0,!0);
this.vz.v(p.E.z,this.Iaf,this);this.vt=new a$([12,15],0,359," \xB0");this.vt.v(p.E.z,this.IRQ,this);
this.ZI=new a$([12,16],0,100," %");this.ZI.v(p.E.z,this.IRj,this);this.Za=new a$([12,17],0,100," %");
this.Za.v(p.E.z,this.IRa,this);this.Zp=new a$([12,18],1,300," %");this.Zp.v(p.E.z,this.IRR,this);this.Qx=[this.vz,this.vt,this.ZI,this.Za,this.Zp]};
ac.SS.prototype=new ac.qe;ac.SS.prototype.b=function(){this.vz.b();this.vt.b();this.ZI.b();this.Za.b();
this.Zp.b()};ac.SS.prototype.gF=function(){return!0};ac.SS.prototype.eI=function(m){this.TJ=m;var g=[],L=Math.floor(30*p.M()),K=Math.floor(40*p.M());
for(var r=0;r<m.list.length;r++){var R=m.list[r].v,Q=IT.yP(R,m.Rd,m.jg,L,K);g.push(Q)}this.vb.dY(g,null,L,K)};
ac.SS.prototype.dV=function(){var m=this.cu.Brsh.v,g=m.classID!=this.IQT;this.IQT=m.classID;if(g)for(var L=0;
L<this.Qx.length;L++)if(this.Q.contains(this.Qx[L].Q))this.Q.removeChild(this.Qx[L].Q);this.vz.p(m.Dmtr.v.val);
if(g)this.Q.appendChild(this.vz.Q);this.vt.p(m.Angl.v.val);if(g)this.Q.appendChild(this.vt.Q);if(m.classID=="computedBrush"||m.classID=="sampledBrush"){this.ZI.p(m.Rndn.v.val);
if(g)this.Q.appendChild(this.ZI.Q)}if(m.classID=="computedBrush"){this.Za.p(m.Hrdn.v.val);if(g)this.Q.appendChild(this.Za.Q)}this.Zp.p(m.Spcn.v.val);
if(g)this.Q.appendChild(this.Zp.Q)};ac.SS.prototype.Iaz=function(m){this.cu=this.TJ.list[this.vb.w()].v;
this.dC()};ac.SS.prototype.Iaf=function(m){this.cu.Brsh.v.Dmtr.v.val=m.target.w();this.dC()};ac.SS.prototype.IRQ=function(m){this.cu.Brsh.v.Angl.v.val=m.target.w();
this.dC()};ac.SS.prototype.IRj=function(m){this.cu.Brsh.v.Rndn.v.val=m.target.w();this.dC()};ac.SS.prototype.IRa=function(m){this.cu.Brsh.v.Hrdn.v.val=m.target.w();
this.dC()};ac.SS.prototype.IRR=function(m){this.cu.Brsh.v.Spcn.v.val=m.target.w();this.dC()};ac.Yt=function(){ac.qe.call(this,[15,1]);
this.af=new a$([15,4,0],0,100," %");this.af.v(p.E.z,this.IRG,this);this.Q.appendChild(this.af.Q);this.Rq=new a$([15,4,1],0,100," %");
this.Rq.v(p.E.z,this.IRV,this);this.Q.appendChild(this.Rq.Q);this.RS=new a$([15,4,2],0,100," %");this.RS.v(p.E.z,this.IR$,this);
this.Q.appendChild(this.RS.Q);this.RO=new a$([15,4,3],0,100," %");this.RO.v(p.E.z,this.IRr,this);this.Q.appendChild(this.RO.Q);
this.RE=new a$([15,4,4],0,100," %");this.RE.v(p.E.z,this.IRK,this);this.Q.appendChild(this.RE.Q)};ac.Yt.prototype=new ac.qe;
ac.Yt.prototype.b=function(){this.af.b();this.Rq.b();this.RS.b();this.RO.b();this.RE.b()};ac.Yt.prototype.gF=function(){return this.cu.useTipDynamics.v};
ac.Yt.prototype.bL=function(m){this.cu.useTipDynamics.v=m;ql.lT.MZ(this.cu);this.dC()};ac.Yt.prototype.dV=function(){var m=this.cu;
if(m.useTipDynamics.v==!1)return;this.af.p(m.szVr.v.jitter.v.val);this.Rq.p(m.minimumDiameter.v.val);
this.RS.p(m.angleDynamics.v.jitter.v.val);this.RO.p(m.roundnessDynamics.v.jitter.v.val);this.RE.p(m.minimumRoundness.v.val)};
ac.Yt.prototype.IRG=function(m){this.cu.szVr.v.jitter.v.val=m.target.w();this.dC()};ac.Yt.prototype.IRV=function(m){this.cu.minimumDiameter.v.val=m.target.w();
this.dC()};ac.Yt.prototype.IR$=function(m){this.cu.angleDynamics.v.jitter.v.val=m.target.w();this.dC()};
ac.Yt.prototype.IRr=function(m){this.cu.roundnessDynamics.v.jitter.v.val=m.target.w();this.dC()};ac.Yt.prototype.IRK=function(m){this.cu.minimumRoundness.v.val=m.target.w();
this.dC()};ac.mq=function(){ac.qe.call(this,[15,2]);this.RA=new a$([15,5,0],0,1e3," %");this.RA.v(p.E.z,this.IRu,this);
this.Q.appendChild(this.RA.Q);this.Rs=new a$([15,5,1],1,20);this.Rs.v(p.E.z,this.IRd,this);this.Q.appendChild(this.Rs.Q);
this.Rz=new a$([15,5,2],0,100," %");this.Rz.v(p.E.z,this.IRW,this);this.Q.appendChild(this.Rz.Q)};ac.mq.prototype=new ac.qe;
ac.mq.prototype.b=function(){this.RA.b();this.Rs.b();this.Rz.b()};ac.mq.prototype.gF=function(){return this.cu.useScatter.v};
ac.mq.prototype.bL=function(m){this.cu.useScatter.v=m;ql.lT.MZ(this.cu);this.dC()};ac.mq.prototype.dV=function(){var m=this.cu;
if(m.useScatter.v==!1)return;this.RA.p(m.scatterDynamics.v.jitter.v.val);this.Rs.p(m.Cnt.v);this.Rz.p(m.countDynamics.v.jitter.v.val)};
ac.mq.prototype.IRu=function(m){this.cu.scatterDynamics.v.jitter.v.val=m.target.w();this.dC()};ac.mq.prototype.IRd=function(m){this.cu.Cnt.v=m.target.w();
this.dC()};ac.mq.prototype.IRW=function(m){this.cu.countDynamics.v.jitter.v.val=m.target.w();this.dC()};
ac.Xr=function(){ac.qe.call(this,[15,3]);this.Rf=new a$([15,6,0],0,100," %");this.Rf.v(p.E.z,this.IRc,this);
this.Q.appendChild(this.Rf.Q);this.Hm=new a$([15,6,1],0,100," %");this.Hm.v(p.E.z,this.IRY,this);this.Q.appendChild(this.Hm.Q);
this.mU=new a$([15,6,2],0,100," %");this.mU.v(p.E.z,this.Im$,this);this.Q.appendChild(this.mU.Q);this.mQ=new a$([15,6,3],0,100," %");
this.mQ.v(p.E.z,this.Imy,this);this.Q.appendChild(this.mQ.Q)};ac.Xr.prototype=new ac.qe;ac.Xr.prototype.b=function(){this.Rf.b();
this.Hm.b();this.mU.b();this.mQ.b()};ac.Xr.prototype.gF=function(){return this.cu.useColorDynamics.v};
ac.Xr.prototype.bL=function(m){this.cu.useColorDynamics.v=m;ql.lT.MZ(this.cu);this.dC()};ac.Xr.prototype.dV=function(){var m=this.cu;
if(m.useColorDynamics.v==!1)return;this.Rf.p(m.clVr.v.jitter.v.val);this.Hm.p(m.H.v.val);this.mU.p(m.Strt.v.val);
this.mQ.p(m.Brgh.v.val)};ac.Xr.prototype.IRc=function(m){this.cu.clVr.v.jitter.v.val=m.target.w();this.dC()};
ac.Xr.prototype.IRY=function(m){this.cu.H.v.val=m.target.w();this.dC()};ac.Xr.prototype.Im$=function(m){this.cu.Strt.v.val=m.target.w();
this.dC()};ac.Xr.prototype.Imy=function(m){this.cu.Brgh.v.val=m.target.w();this.dC()};function qf(){ar.call(this,[9,0],!1,null,ar.ba.AV);
this.ls.setAttribute("style","min-width:200px;");this.CE=p.Y("div","hpbody scrollable");this.CE.style.height="160px";
this.ls.appendChild(this.CE);this.IjP=-1;this.yn=[]}qf.prototype=new ar("");qf.prototype.e_=function(m){p.Lj(this.CE);
if(m==null)return;var g=0;for(var L=0;L<m.history.length;L++)if(L<=m.CR&&!m.history[L].YJ)g=L;for(var L=0;
L<m.history.length;L++){var K=m.history[L];if(K.YJ)continue;var r=new QG(K,L,g);r.parent=this;this.CE.appendChild(r.Q);
this.yn.push(r)}if(m.CR==m.history.length-1)this.Ba()};qf.prototype.Ba=function(){this.CE.scrollTop=this.CE.scrollHeight};
qf.prototype.b=function(){ar.prototype.b.call(this);for(var m=0;m<this.yn.length;m++)this.yn[m].b()};
function QG(m,g,L){aO.call(this);this.index=g;this.Q=p.Y("div",g==L?"listitem selected":"listitem");
this.rf=m.name;this.b();if(g>L)this.Q.style.opacity=.4;this.Q.addEventListener("click",this.Mc.bind(this),!1)}QG.prototype=new aO;
QG.prototype.b=function(){this.Q.textContent=aT.get(this.rf)};QG.prototype.Mc=function(m){if(this.index==this.parent.IjP)return;
this.ou({P:"h_itemchange",index:this.index})};QG.prototype.ou=function(m){var g=new Y(p.E.B,!0);g.data=m;
g.K=l.AV;this.g(g)};function qM(){ar.call(this,[9,10],!1,null,ar.ba.IjM);var m=p.Y("div","padded");this.ls.appendChild(m);
this.vA=new QO(256);m.appendChild(this.vA.Q);this.Ijz=[];this.JQ=[];var g=["Mean:","Pixels:"];for(var L=0;
L<g.length;L++){var K=new Rt(g[L]);this.Ijz.push(K);m.appendChild(K.Q);var r=new Rt("hi");this.JQ.push(r);
m.appendChild(r.Q);p.da(m)}this.TA=null}qM.prototype=new ar("");qM.prototype.e_=function(m){this.TA=m;
this.fo()};qM.prototype.fo=function(){var m=this.TA,n=0;if(!p.Ya(this.ls))return;if(m==null||m.N.length==0){this.vA.p(I.Oh(I.m(4)));
this.JQ[0].p("");this.JQ[1].p("");return}var g=m.os(),L=new v(0,0,m.j,m.F),K=L.c();if(m.I){var r=m.I.rect,R=I.m(r.c()*4);
I.pq(g,L,R,r);I.tk(m.I.channel,R);g=R;L=r;var Q=m.I.channel;K=0;for(var F=0;F<Q.length;F++)K+=Q[F];K=Math.round(K/255)}var q=I.Oh(g);
this.vA.p(q);for(var F=0;F<256;F++)n+=F*(.333*q[1][F]+.333*q[2][F]+.333*q[3][F]);this.JQ[0].p((n/K).toFixed(1)+"");
this.JQ[1].p(K+"")};qM.prototype.SI=function(m,g){this.vA.dy(ph.ER[m.rL]["--text-color"])};qM.prototype.b=function(){ar.prototype.b.call(this);
this.vA.b()};qM.prototype.Ba=function(){this.fo()};function QS(){ar.call(this,[9,8],!1,null,ar.ba.IjJ);
this.mJ=p.Y("div","padded");this.ls.appendChild(this.mJ);this.$c=new pA(10);this.mJ.appendChild(this.$c.Q);
this.mJ.appendChild(p.Y("hr"));this.se=new ma;this.se.parent=this;this.mJ.appendChild(this.se.WK);this.$c.v(p.E.z,this.IoA,this);
this.se.v(p.E.z,this.IoA,this)}QS.prototype=new ar("");QS.prototype.IoA=function(m){var g;if(m.target==this.$c)g=this.$c.w();
else{var L=this.se.w();g=Math.round(L.u)<<16|Math.round(L.S)<<8|Math.round(L.R)}var K=new Y(p.E.V,!0);
K.data={P:p.o.VP,Su:am.Tc,Jj:0,U:g};this.g(K)};QS.prototype.SI=function(m,g){var L=m.$q,K=g==am.VA;if(g==am.Tc||K){this.$c.p(L);
this.se.p({u:L>>>16&255,S:L>>>8&255,R:L>>>0&255,Kg:"Color #"+I.IA(L)})}if(g==am.nA||K){var r=m.IQ$;this.se.eI(r)}};
function IV(){ar.call(this,[12,72],!1,null,ar.ba.Iae);this.mp=null;this.dc=null;this.CE=p.Y("div","lpbody scrollable");
this.eM=p.Y("div","lpfoot");this.ls.appendChild(this.CE);this.ls.appendChild(this.eM);this.yX=[];this.v("click",this.hJ,this);
this.CZ=[];IV.ln([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.CZ,this.eM,this.aB.bind(this),this.hD.bind(this));
this.IQK=new mx([{name:"Merge Channels",lh:!0}]);this.IQK.v("select",this.WZ,this)}IV.prototype=new ar("");
IV.prototype.WZ=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.My,OT:"mergechannels"};this.g(g)};IV.prototype.BW=function(){return this.IQK};
IV.ln=function(m,g,L,K,r){for(var R=0;R<m.length;R++){var Q=new aX("W",!1,m[R]);g.push(Q);p.yG(Q.Q,K);
L.appendChild(Q.Q);var F=Q.Q;F.addEventListener("drop",r,!1);F.addEventListener("dragover",function(q){q.preventDefault()},!1);
F.addEventListener("dragenter",p.mF,!1)}};IV.bM=function(m,g){for(var L=0;L<m.length;L++)if(m[L].Q==g.currentTarget)return L};
IV.prototype.aB=function(m){var g=IV.bM(this.CZ,m);if(g==0)this.g(mS.hG(!0,null,m));else{g--;var L=new Y(p.E.VG,!0),K={classID:"null"};
if(g==0)K.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(g==1)K.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else K.null=RL.c$("Chnl",!0);L.data={Qm:["duplicate","make","delete"][g],XX:K};this.g(L)}};IV.prototype.hD=function(m){var g=IV.bM(this.CZ,m);
if(g==2){var L=new Y(p.E.VG,!0),K={classID:"null"};K.null=RL.c$("Chnl",!0);L.data={Qm:"duplicate",XX:K};
this.g(L)}else this.aB(m)};IV.prototype.Ct=function(m){var g=this.yX,L=g[m];if(L==null){var K=p.Y("canvas");
L=K.getContext("2d");g.push(L)}return L};IV.prototype.hJ=function(m){var g=this.mp.slice(0),L=m.data.Bj,K=g[0]+g[1]+g[2],r=this.dc;
if(-5<L&&L<0){var R=-L-1;if(m.data.jB){if(R==0)g=K==3?[0,0,0]:[1,1,1];else{if(g[R-1]==0)g[R-1]=1;else if(!0)g[R-1]=0}}else{if(R==0)g=[1,1,1];
else{g=[0,0,0];g[R-1]=1}r.gW=[]}var Q=new Y(p.E.B,!0);Q.K=l.Z$;Q.data={P:"setcls",WY:g};this.g(Q);return}if(-1<L){var F=r._[L],q=F.eF==1?F.WN():F.lI(r).s;
if(m.data.jB)q.vu=!q.vu;else{for(var n=0;n<r.Qj.length;n++)r.Qj[n].vu=!1;r.gW=[]}}else{var W=-L-5,q=r.Qj[W];
if(m.data.jB)q.vu=!q.vu;else{for(var n=0;n<r.Qj.length;n++)r.Qj[n].vu=!1;q.vu=!0;r.gW=[W]}}r.Oi=r.$F=!0};
IV.prototype.Ba=function(){this.GF()};IV.prototype.e_=function(m){this.dc=m;this.GF()};IV.prototype.GF=function(){var m=this.dc,g=this.CE,F=34,q=34,b=4;
p.Lj(g);if(m==null||!p.Ya(g))return;var L=m.j,K=m.F,r=new v(0,0,L,K),R=this.mp=m.L.WY.slice(0),Q=R[0]+R[1]+R[2];
if(L>K)q=Math.round(q*K/L);else F=Math.round(F*L/K);var n=["RGB"].concat(qE.uZ);for(var W=0;W<4;W++){var z=this.Ct(W);
I.QI.ql(z,F,q,r,m.os(),r,!1,W==0?null:W-1);var u=W==0?Q==3:R[W-1]==1,N=new mS(-1-W,!0,!0,z,n[W],u,u);
N.parent=this;g.appendChild(N.Q)}for(var W=0;W<m.N.length;W++){var B=m._[m.N[W]],h=B.eF;if(h!=1&&h!=3)continue;
var A=h==1?B.WN():B.lI(m).s,z=this.Ct(b+W);b++;I.QI.qR(z,F,q,r,A);var N=new mS(m.N[W],!0,!0,z,B.getName()+(h==1?"":" Filter")+" Mask",!0,A.vu);
N.parent=this;g.appendChild(N.Q)}for(var W=0;W<m.Qj.length;W++){var A=m.Qj[W],z=this.Ct(b+W);I.QI.qR(z,F,q,r,A);
var N=new mS(-5-W,!0,A.name=="Quick Mask",z,A.name,m.gW.indexOf(W)!=-1,A.vu,l.pW,{P:x.qg,Jj:"rnm",Bj:W});
N.parent=this;g.appendChild(N.Q)}};IV.prototype.Dj=function(m,g){this.CE.style.height=g-9-25+"px"};IV.prototype.b=function(){ar.prototype.b.call(this);
this.GF();IV.hl(this.CZ,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};IV.hl=function(m,g){for(var L=0;
L<m.length;L++){var K=m[L];K.dv(p.cY(g[L]))}};function mS(m,g,L,K,r,R,Q,F,q){aO.call(this);this.Q=p.Y("div","layeritem");
this.Ijt=m;this.IaI=g;this.Iaq=L;this.wu=K;this.Iaj=F;this.Iaa=q;this.ZH=p.Y("div",R?"head selected":"head");
this.ZH.setAttribute("style","height: "+40+"px");var n=p.Y("div","headL"),W=p.Y("div","headR"),z=15;
this.Q.appendChild(this.ZH);this.ZH.appendChild(n);this.ZH.appendChild(W);this.gx=p.Y("div","eye");if(1<p.M()&&p.M()<1.5)z=z/p.M();
this.gx.setAttribute("style","background-size: "+z+"px "+z+"px;");this.gx.style.opacity=Q?1:.2;if(g)n.appendChild(this.gx);
this.oo=p.Y("div","thumb");if(K)this.oo.appendChild(K.canvas);n.appendChild(this.oo);this.EM=p.Y("div","label");
if(L)this.EM.style.fontStyle="italic";this.EM.textContent=aT.get(r);n.appendChild(this.EM);var u=this.ZH;
u.setAttribute("draggable","true");this.ZH.addEventListener("mousedown",this.IpG.bind(this),!1)}mS.prototype=new aO;
mS.prototype.RY=function(m){var g=new Y(p.E.B,!0);g.K=this.Iaj;g.data=this.Iaa;g.data.name=m;this.g(g)};
mS.prototype.IpG=function(m){var g=m.ctrlKey||m.metaKey,L=this.Ijt;if(!this.Iaq&&m.detail==2&&m.target==this.EM){var K=new ar.RQ(this.EM,this.RY.bind(this))}else if(g&&m.target==this.wu.canvas){this.g(mS.hG(this.IaI,L,m))}else{var r=new Y("click",!0);
r.data={Bj:L,jB:m.target==this.gx,yB:g};this.g(r)}};mS.hG=function(m,g,L){var K=0;if(L.shiftKey)K++;
if(L.altKey)K+=2;var r=new Y(p.E.B,!0);r.K=l.eS;if(m)r.data={P:"fromchannel",tK:[g,0,K]};else r.data={P:"frompath",tK:[g,0,K]};
return r};function mb(){ar.call(this,[8,9],!1,null,ar.ba.ED);this.mp=null;this.dc=null;this.CE=p.Y("div","lpbody scrollable");
this.eM=p.Y("div","lpfoot");this.ls.appendChild(this.CE);this.ls.appendChild(this.eM);this.ls.addEventListener("click",this.IpB.bind(this),!1);
this.yX=[];this.v("click",this.hJ,this);this.CZ=[];IV.ln([[17,2],"Selection to Path",[5,3],[5,4]],this.CZ,this.eM,this.aB.bind(this),this.hD.bind(this))}mb.prototype=new ar("");
mb.prototype.aB=function(m){var g=IV.bM(this.CZ,m),L;if(g==0)L=mS.hG(!1,null,m);else if(g==1){L=new Y(p.E.VG,!0);
L.data={Qm:"make",XX:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else{var L=new Y(p.E.B,!0);
L.K=l.fF;L.data={P:"pathedit",Jj:["new","del"][g-2]}}this.g(L)};mb.prototype.hD=function(m){this.aB(m)};
mb.prototype.Ct=function(m){var g=this.yX,L=g[m];if(L==null){var K=p.Y("canvas");L=K.getContext("2d");
g.push(L)}return L};mb.prototype.IpB=function(m){if(m.target==this.CE){var g=this.dc;g.Xv=[];g.Sg=[];
g.$F=!0;g.Oi=!0}};mb.prototype.hJ=function(m){var g=m.data.Bj,L=this.dc,K=m.data.yB,r=0,R,Q;if(g<0){r=-1-g;
R=L.Xv;Q=L.Sg}else{var F=L.zA()[0];for(var q=0;q<F.length;q++){var n=F[q].Bj;if(n==g)break;if(n>=0)r++}R=L.Sg;
Q=L.Xv}if(K){var W=R.indexOf(r);if(W==-1)R.push(r);else R.splice(W,1)}else{while(R.length!=0)R.pop();
while(Q.length!=0)Q.pop();R.push(r)}L.$F=!0;L.Oi=!0};mb.prototype.Ba=function(){this.GF()};mb.prototype.e_=function(m){this.dc=m;
this.GF()};mb.prototype.GF=function(){var m=this.dc,g=this.CE,F=34,q=34;p.Lj(g);if(m==null||!p.Ya(g))return;
var L=m.j,K=m.F,r=new v(0,0,L,K),R=this.mp=m.L.WY.slice(0),Q=R[0]+R[1]+R[2];if(L>K)q=Math.round(q*K/L);
else F=Math.round(F*L/K);var n=m.zA(),W=n[0];for(var z=0;z<W.length;z++){var u=W[z],N=this.Ct(z);I.QI.IXM(N,F,q,r,u.add.vmsk);
var b=new mS(u.Bj,!1,u.Bj>=-1,N,u.name,n[1].indexOf(z)!=-1,!1,l.fF,{P:"pathedit",Jj:"rnm",Bj:u.Bj});
b.parent=this;g.appendChild(b.Q)}};mb.prototype.Dj=function(m,g){this.CE.style.height=g-9-25+"px"};mb.prototype.b=function(){ar.prototype.b.call(this);
this.GF();IV.hl(this.CZ,["lrs/makesel","lrs/makepath","lrs/newlayer","lrs/bin"])};function qe(m){ar.call(this,[9,m?4:5],!1,null,m?ar.ba.IJa:ar.ba.Iju);
this.ls.setAttribute("style","min-width:240px;");this.IaT=m;this.kg=null;this.Tf=null}qe.prototype=new ar("");
qe.prototype.Rj=function(){this.kg=new mA;var m=this.kg,g=this.ls;m.parent=this;if(this.IaT){var L=p.Y("div","marged");
g.appendChild(L);L.appendChild(m.wp.Q);g.appendChild(p.Y("hr"));var K=p.Y("div","marged");g.appendChild(K);
K.appendChild(m.wo.Q);K.appendChild(m.wC.Q);var r=p.Y("div","marged");g.appendChild(r);r.appendChild(m.wi.Q);
r.appendChild(m.eH.Q);g.appendChild(p.Y("hr"));var R=p.Y("div","marged");g.appendChild(R);R.appendChild(m.cE.Q);
R.appendChild(m.cB.Q);var Q=p.Y("div","marged");g.appendChild(Q);Q.appendChild(m.YG.Q);Q.appendChild(m.LQ.Q);
g.appendChild(p.Y("hr"));var F=p.Y("div","marged");g.appendChild(F);F.appendChild(m.qG.Q);F.appendChild(m.qO.Q);
F.appendChild(m.qE.Q);F.appendChild(m.qB.Q);F.appendChild(m.Qq.Q);F.appendChild(m.qc.Q);F.appendChild(m.QD.Q);
F.appendChild(m.QG.Q)}else{var L=p.Y("div","marged");g.appendChild(L);L.appendChild(m.No.Q);L.appendChild(m.NS.Q);
L.appendChild(m.NT.Q);L.appendChild(m.IwT.Q);L.appendChild(m.Iws.Q);L.appendChild(m.Iw$.Q);L.appendChild(m.ILD.Q);
g.appendChild(p.Y("hr"));var K=p.Y("div","marged");g.appendChild(K);K.appendChild(m.Cq.Q);K.appendChild(m.CQ.Q);
K.appendChild(m.Cj.Q);g.appendChild(p.Y("hr"));var r=p.Y("div","marged");g.appendChild(r);r.appendChild(m.Ca.Q);
r.appendChild(m.Cm.Q);r.appendChild(m.Yv.Q)}};qe.prototype.Ba=function(){if(!p.Ya(this.ls))return;if(this.kg==null){this.Rj();
var m=this.Tf;if(m)this.kg.p(m.XT,m.dd,m.sZ);this.kg.b()}};qe.prototype.b=function(){ar.prototype.b.call(this);
if(this.kg)this.kg.b()};qe.prototype.SI=function(m,g){this.Tf=m;if(g!=am.VA&&g!=am.mP&&g!=am.Iw&&g!=am.pD)return;
if(this.kg)this.kg.p(m.XT,m.dd,m.sZ)};function qH(){ar.call(this,[13,0],!1,null,ar.ba.Tc);this.yh=0;
this.IQu=0;this.Tf=null;var m=p.Y("div","flexrow padded");this.ls.appendChild(m);var g=p.Y("div");m.appendChild(g);
this.yV=[];for(var L=0;L<2;L++){var K=new II;this.yV.push(K);K.v("click",this.Ipr,this);g.appendChild(K.Q)}this.xT=new mU(192);
this.xT.v(p.E.z,this.Bq,this);m.appendChild(this.xT.Q)}qH.prototype=new ar("");qH.prototype.Ipr=function(m){this.yh=this.yV.indexOf(m.currentTarget);
this.fo()};qH.prototype.Bq=function(m){var g=this.xT.w();this.xT.p(g);var L=Math.round(g.u*255)<<16|Math.round(g.S*255)<<8|Math.round(g.R*255),K=new Y(p.E.V,!0);
K.data={P:p.o.VP,Su:am.Tc,Jj:this.yh,U:L};this.g(K);this.IQu=Date.now()};qH.prototype.fo=function(){var m=this.Tf,g=this.yh,L=[m.$q,m._Q];
for(var K=0;K<2;K++){var r=this.yV[K],R=r.Q.style;r.dy(L[K]);if(K==g)delete R.borderColor;else R.borderColor="var(--bg-color)"}var Q=L[g];
if(Date.now()-this.IQu>100)this.xT.p({u:(Q>>>16)/255,S:(Q>>>8&255)/255,R:(Q&255)/255})};qH.prototype.SI=function(m,g){this.Tf=m;
if(g==am.VA||g==am.Tc)this.fo()};qH.prototype.Ba=function(){this.fo()};function Io(){ar.call(this,"CSS",!1,null,ar.ba.CSS);
this.TA=null;var m=p.Y("div","padded");this.ls.appendChild(m);this.Vf=p.Y("textarea");this.Vf.setAttribute("rows",16);
this.Vf.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
m.appendChild(this.Vf)}Io.prototype=new ar("");Io.prototype.e_=function(m){this.TA=m;this.fo()};Io.prototype.SI=function(m,g){if(g==am.Iw)this.fo()};
Io.prototype.fo=function(){var m=this.TA;if(m==null||m.N.length==0)return;if(!p.Ya(this.ls))return;var g=m._[m.N[0]],L=CSS.I_i(g,m);
if(L.length!=0)this.Vf.value=L.join(";\n")+";";else this.Vf.value=""};Io.prototype.Ba=function(){this.fo()};
function Ig(){ar.call(this,[9,6],!1,null,ar.ba.IjG);this.ls.setAttribute("style","min-width:240px;");
this.TA=null;this.Tf=null;var m=p.Y("div","marged row");this.ls.appendChild(m);var g=p.Y("div","cell");
g.setAttribute("style","width:10em");m.appendChild(g);var L=p.Y("div","cell");L.setAttribute("style","width:10em");
m.appendChild(L);this.Iai=new Rt("R:");this.IaE=new Rt("G:");this.IaX=new Rt("B:");this.ls.appendChild(p.Y("hr",""));
var K=p.Y("div","marged row");this.ls.appendChild(K);var g=p.Y("div","cell");g.setAttribute("style","width:10em");
var L=p.Y("div","cell");L.setAttribute("style","width:10em");K.appendChild(g);K.appendChild(L);this.x_=new Rt("");
g.appendChild(this.x_.Q);p.da(g);this.xs=new Rt("");g.appendChild(this.xs.Q);this.uD=new Rt("");L.appendChild(this.uD.Q);
p.da(L);this.dZ=new Rt("");L.appendChild(this.dZ.Q);this.x_.p("X: 100 px");this.xs.p("Y: 100 px");this.uD.p("W: 0");
this.dZ.p("H: 0")}Ig.prototype=new ar("");Ig.prototype.NB=function(m,g,L,K,r){var R=m.L.TV(r.x,r.y),Q=new jf(Math.floor(R.x),Math.floor(R.y));
if(!1){var F=0,q=0,n=0;if(!r.Tb&&!m.Ilb()&&new v(0,0,m.j,m.F).Rn(Q)){var W=m.os(),z=m.j*Q.y+Q.x<<2;F=W[z+0];
q=W[z+1];n=W[z+2]}this.Iai.p("R: "+F);this.IaE.p("G: "+q);this.IaX.p("B: "+n)}this.x_.p("X: "+I.Wq.bT(Q.x,m.Jt,L,m.j));
this.xs.p("Y: "+I.Wq.bT(Q.y,m.Jt,L,m.F));this.ho()};Ig.prototype.ho=function(){var m=this.TA,g=this.Tf,L=0,K=0;
if(m&&g){if(m.L.zz){L=m.L.zz.j;K=m.L.zz.F}else if(m.I){L=m.I.rect.j;K=m.I.rect.F}L=I.Wq.bT(Math.abs(L),m.Jt,g,m.j);
K=I.Wq.bT(Math.abs(K),m.Jt,g,m.F)}this.uD.p(aT.get([12,41]).charAt(0)+": "+L);this.dZ.p(aT.get([12,42]).charAt(0)+": "+K)};
Ig.prototype.b=function(){ar.prototype.b.call(this);this.ho()};Ig.prototype.e_=function(m,g,L){this.TA=m;
this.Tf=L;this.ho()};function RS(){ar.call(this,[9,1],!1,null,ar.ba.pW);this.sW=null;this.$X=null;this.Ft=null;
this.ZH=p.Y("div","lphead");this.CE=p.Y("div","lpbody scrollable");this.eM=p.Y("div","lpfoot");this.gl=new aW(null,ad.VT,!1,ad.Cb);
this.gl.v(p.E.z,this.IDI,this);this.ZH.appendChild(this.gl.Q);this.sc=new R_([12,0],0,100,"%",0);this.sc.v(p.E.z,this.IDD,this);
this.sc.parent=this;this.ZH.appendChild(this.sc.Q);this.Zx=new pC("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.Zx.v(p.E.z,this.IDL,this);this.ZH.appendChild(this.Zx.Q);this.ZL=new R_([12,26],0,100,"%",0);this.ZL.v(p.E.z,this.IDJ,this);
this.ZL.parent=this;this.CZ=[];this.ln();this.ls.appendChild(this.ZH);this.ls.appendChild(this.CE);this.ls.appendChild(this.eM);
this.ls.addEventListener("contextmenu",p.mF,!1);var m=[{name:[14,10]},{name:[14,11],Oo:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Oo:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",$:function(R){return{$:R._[R.N[0]].add.SoLd!=null}},Oo:!0},{name:[6,8],$:function(R){var Q=R._[R.N[0]];
if(Q.add.TySh||Q.add.SoLd||Q.add.SoCo||Q.add.GdFl||Q.add.PtFl)return{$:!0};return{$:!1}}},{name:[6,34],$:function(R){var Q=R._[R.N[0]];
return{$:Q.add.lmfx!=null&&!Q.EY()}}},{name:[6,40],Oo:!0,$:function(R){var Q=R._[R.N[0]];return{$:Q.add.TySh!=null}}},{name:"",Oo:!0,$:function(R){var Q=R._[R.N[0]],F=Q.add.TySh,q=F?F.m_:null;
return{$:F!=null&&q.Curve==null,Bt:aT.get(F&&aj.SE(q)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],Oo:!0,$:function(R){return{$:R.WX(R.N[0]),Nf:R._[R.N[0]].OG}}},{name:[11,6],Oo:!0,sub:[{name:[5,1],$:function(R){var Q=R._[R.N[0]];
return{$:Q.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],$:function(R){var Q=R._[R.N[0]];return{$:Q.add.lmfx!=null}}}]},{name:[6,10],$:function(R){return{$:R.N.length==1&&R.N[0]!=0&&!R._[R.N[0]].EY()}}},{name:[6,12,0],$:function(R){return{$:R.N.length>1||R._[R.N[0]].EY()}}},{name:[6,12,1],Oo:!0},{name:[13,0],sub:function(){var R=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],Q=[];
for(var F=0;F<R.length;F++)Q.push({name:R[F]});return Q}()}];this.mI=[null,{C:p.E.B,K:l.eS,n:{P:"fromlayer",tK:[null,0,0]}},x.vs,{C:p.E.V,n:{P:p.o.My,OT:"duplinto"}},x.vf,{C:p.E.VG,n:{Qm:"newPlacedLayer"}},x.Or,{C:p.E.VG,n:{Qm:"rasterizeLayer",XX:{classID:"rasterizeLayer",null:RL.c$("Lyr",!0)}}},x.OF,x.Iwb,{C:p.E.B,K:l._T,n:{P:"switchPntPrgr"}},x.QB,null,x.If,x.Db,x.Og,x.BP];
this.Bs=new mx(m);this.Bs.v("select",this.WZ,this);var g=[{name:[6,45],$:function(R){var Q=R._[R.N[0]];
return{$:Q.lI(R).s==null}}},{name:[6,47]}];this.IaB=[x.Wl,x.Ou];this.y$=new mx(g);this.y$.v("select",this.WZ,this);
var L=[{name:"enab/disab",$:function(R){return{Bt:aT.get(R._[R.N[0]].WN().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],$:function(R){return{$:R.kn(!1,!0)}}}];
this.IaA=[x.qS,x.XJ,x.OA];this.yr=new mx(L);this.yr.v("select",this.WZ,this);var K=[{name:"enab/disab",$:function(R){return{Bt:aT.get(R._[R.N[0]].lI(R).s.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.Iac=[x.xR,x.WS];this.yg=new mx(K);this.yg.v("select",this.WZ,this);var r=[{name:"enab/disab",$:function(R){return{Bt:aT.get(R._[R.N[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.IRD=[x.XL,x.Xi];this.yd=new mx(r);this.yd.v("select",this.WZ,this);this.yW=new mx(Ix.IQZ(!0),Ix.IQF(!0));
this.IQb=new mx(Ix.IvP(),Ix.IVB());this.v("rclick",this.IpK,this)}RS.prototype=new ar("");RS.prototype.bp=function(){return new jf(253,0)};
RS.prototype.WZ=function(m){var g=m.target.EH(),L=g[0],K;if(m.target==this.Bs)K=this.mI;if(m.target==this.y$)K=this.IaB;
if(m.target==this.yr)K=this.IaA;if(m.target==this.yd)K=this.IRD;if(m.target==this.yg)K=this.Iac;if(m.target==this.yW)K=this.IXm;
if(m.target==this.IQb)K=this.IXp;if(K[L]==null){if(L==0){var r=new Y(p.E.V,!0);r.data={P:p.o.My,OT:"layerstyle",A:this.$X.N[0]};
this.g(r)}else{var R=new Y(p.E.B,!0);R.K=l.CO;R.data={P:["st_copy","st_paste","st_clear"][g[1]],A:this.$X.N[0]};
this.g(R)}return}if(K[L].C!=null){var Q=K[L],R=new Y(Q.C,!0);R.K=Q.K;R.data=Q.n;m.target.g(R);return}var R=new Y(p.E.B,!0);
if(m.target==this.yW)R.data=K[L];else R.data={P:K[L]};if(K[L]==x.BP)R.data.IJn=g[1];R.K=l.pW;m.target.g(R)};
RS.prototype.IpK=function(m){var g=this.$X,L=m.data,r;if(g.N.indexOf(L.A)==-1){var K={P:x.Qe,A:m.target.$j.index,je:L.eF};
this.ou(K)}if(g.N.indexOf(L.A)==-1)return;if(L.eF==1){r=this.yr}else if(L.eF==2){r=this.yd}else if(L.eF==3){r=this.yg}else if(L.IRx){r=this.y$}else{r=this.Bs}r.b();
r.update(g);r.parent=this;var R=new Y(p.E.V,!0);R.data={P:p.o.xW,Mt:r,x:L.iW.x+1,y:L.iW.y+1};this.g(R)};
RS.prototype.b=function(){ar.prototype.b.call(this);this.gl.b();this.sc.b();this.Zx.b();this.ZL.b();
if(this.$X)this.e_(this.$X);var m="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var g=0;g<this.CZ.length;g++){var L=this.CZ[g];L.dv(p.cY(m[g]))}};RS.prototype.e_=function(m,g){if(m==null)p.RM(this.ls,"disabled");
else p.Av(this.ls,"disabled");this.$X=m;this.Ft=g;if(this.sW!=null){this.CE.removeChild(this.sW.CE);
this.sW=null}if(m==null)return;this.sW=new RT(m.root,this,m,{yK:0});this.CE.appendChild(this.sW.CE);
if(m.N.length==0)p.RM(this.ZH,"disabled");else{p.Av(this.ZH,"disabled");if(m.N.length==1&&m.ur)this.sW.ITG(m.N);
var L=m._[m.N[0]];if(L.EY()){this.gl.EJ([[15,10,27]].concat(ad.VT),[1].concat(ad.Cb));var K=ad.go.indexOf(L.TZ);
this.gl.p(K+1)}else{this.gl.EJ(ad.VT,ad.Cb);var K=ad.go.indexOf(L.TZ);this.gl.p(K)}this.sc.p(Math.round(100*L.opacity/255));
this.Zx.p([L.SO(1),L.SO(2),L.SO(31)]);this.ZL.p(Math.round(100*(L.add.iOpa!=null?L.add.iOpa/255:1)))}};
RS.prototype.Dj=function(m,g){var L=this.ZH.getBoundingClientRect().height;L=Math.max(L,52);if(L>68)L=Math.max(L,76);
var K=g-(L+35);this.CE.style.height=K+"px"};RS.prototype.IDI=function(m){this.ou({P:x.qP,cC:this.gl.w()})};
RS.prototype.IDD=function(m){this.ou({P:x.QS,cC:Math.round(255*this.sc.w()/100)})};RS.prototype.IDL=function(m){this.ou({P:x.Xb,cC:[this.Zx.w(),[1,2,31]]})};
RS.prototype.IDJ=function(m){this.ou({P:x.xi,cC:Math.round(255*this.ZL.w()/100)})};RS.prototype.IDr=function(m){this.ITx(m,this.yW)};
RS.prototype.IxC=function(m){this.ITx(m,this.IQb)};RS.prototype.ITx=function(m,g){var L=m.currentTarget;
if(p.Ya(g.Q))return;m.stopPropagation();var K=L.getBoundingClientRect();g.b();g.update(this.$X);g.parent=this;
var r=new Y(p.E.V,!0);r.data={P:p.o.xW,Mt:g,x:K.left,y:K.top,IRw:!0};this.g(r)};RS.prototype.Ixu=function(m){this.ou({P:x.Ixp})};
RS.prototype.IwD=function(m){this.ou({P:x.dz})};RS.prototype.Iwx=function(m){this.ou({P:x.ZD})};RS.prototype.IwO=function(m){this.ou({P:x.vf})};
RS.prototype.Iwv=function(m){this.ou({P:x.XD})};RS.prototype.ou=function(m){var g=new Y(p.E.B,!0);g.data=m;
g.K=l.pW;this.g(g)};RS.prototype.ln=function(){var m=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],g=[this.Iwv,this.IxC,this.IDr,this.Ixu,this.IwD,this.Iwx,this.IwO],L=this.IwV.bind(this);
for(var K=0;K<m.length;K++){var r=new aX("W",!1,m[K]);this.CZ.push(r);p.yG(r.Q,g[K].bind(this));this.eM.appendChild(r.Q);
if(K>=m.length-3){var R=r.Q;R.addEventListener("drop",L,!1);R.addEventListener("dragover",function(Q){Q.preventDefault()},!1);
R.addEventListener("dragenter",p.mF,!1)}}};RS.prototype.IwV=function(m){p.mF(m);var g=0,L=this.CZ;while(L[g].Q!=m.currentTarget)g++;
L[g].Ec();var K=m.dataTransfer.getData("Text");if(K=="")return;var K=JSON.parse(K);if(K.RJ=="l"){var r={P:[x.wa,x.vs,x.vf][g-4]};
if(this.$X.N.indexOf(K.TP)==-1)r.A=K.TP;this.ou(r)}if(g!=6)return;if(K.RJ=="sm"||K.RJ=="s"){var R=new Y(p.E.B,!0);
R.K=l.CO;R.data={P:K.RJ=="sm"?"st_clear":"st_delsingle",A:K.TP,TP:K.qF};this.g(R)}if(K.RJ=="fm"||K.RJ=="f"){this.ou({P:K.RJ=="fm"?x.Ou:x.Iid,src:K.TP,qF:K.qF})}if(K.RJ=="m"||K.RJ=="vm"){this.ou({P:K.RJ=="m"?x.XJ:x.Xi,A:K.TP})}};
function RT(m,g,L,K){aO.call(this);this.parent=g;this.$j=m;this.yc=[];this.Q=p.Y("div","layeritem");
var r=m.A,c=15,s=!1;this.ZH=p.Y("div",L.N.indexOf(m.index)!=-1?"head selected":"head");if(m.A.add.artb!=null)p.RM(this.ZH,"artb");
this.ZH.setAttribute("style","height: "+(r.IkA+10)+"px");var R=p.Y("div","headL"),Q=p.Y("div","headR"),F=p.Y("div","lpineck");
this.CE=p.Y("div","lpibody");this.Q.appendChild(this.ZH);this.ZH.appendChild(R);this.ZH.appendChild(Q);
if(r.uc()||r.zp())if(r.DW())this.Q.appendChild(F);var q=this.ZH;q.setAttribute("draggable","true");q.addEventListener("dragstart",this.hT.bind(this),!1);
q.addEventListener("drop",this.Eu.bind(this),!1);q.addEventListener("dragover",this.hi.bind(this),!1);
q.addEventListener("dragenter",p.mF,!1);q.addEventListener("dragleave",this.hS.bind(this),!1);var n=[],W=[],z=p.Y("div");
this.gx=p.Y("div","eye");z.appendChild(this.gx);var u=p.Y("div","space");this.EM=p.Y("div","label");
this.EM.textContent=r.getName();this.ys=p.Y("div","lock");this.mD=p.Y("div","arfx");var N=this.ILy.bind(this),b=this.IJU.bind(this);
this.ZH.addEventListener("click",b,!1);this.ZH.addEventListener("contextmenu",N,!1);var B=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],h=r.add.lclr==null?0:B[r.add.lclr];
if(h==0)h=K.yK;var A=[h>>16,h>>8&255,h&255];for(var e=0;e<3;e++){A[e]=Math.round(.5*A[e]+.5*220)}if(1<p.M()&&p.M()<1.5)c=c/p.M();
z.setAttribute("style","background-color:rgba("+A.join(",")+","+(h==0?0:1)+");");this.gx.setAttribute("style","background-size: "+c+"px "+c+"px;");
var a=this.IwW.bind(this);z.addEventListener("mousedown",a,!1);z.addEventListener("mouseover",a,!1);
this.EM.addEventListener("click",this.ILp.bind(this),!1);this.mD.addEventListener("click",this.ILJ.bind(this),!1);
n[0]=z;n[1]=u;n[10]=this.EM;if(r.EY()){var $=p.Y("div","arrow"),G=p.Y("div","folder");$.addEventListener("click",this.Iwc.bind(this),!1);
n[2]=$;n[3]=G;if(r.add.lsct==Ra.lG){for(var e=m.children.length-1;e>=0;e--){var o=new RT(m.children[e],g,L,{yK:h});
this.yc.push(o);this.CE.appendChild(o.Q)}this.Q.appendChild(this.CE)}$.setAttribute("class",r.add.lsct==Ra.lG?"open":"closed")}else{this.oo=p.Y("div","thumb");
n[5]=this.oo;this.oo.appendChild(r.XV.canvas)}var H=r.WN();if(H){this.mG=p.Y("div","chain");this.g_=p.Y("div","thumb");
this.g_.setAttribute("draggable","true");this.g_.appendChild(m.A.IkH.canvas);this.mG.style.opacity=H._m?1:0;
this.mG.addEventListener("click",this.ILU.bind(this),!1)}var f=r.lo()&&r.add.vmsk;if(r.add.vmsk&&!f){this.mo=p.Y("div","chain");
this.oN=p.Y("div","thumb");this.oN.setAttribute("draggable","true");this.oN.appendChild(m.A.IOS.canvas);
this.mo.style.opacity=r.add.vmsk._m?1:0;this.mo.addEventListener("click",this.ILq.bind(this),!1)}if(r.zp()&&r.lI(L).s){this.sb=p.Y("div","thumb");
this.sb.appendChild(m.A.IOi.canvas);this.sb.addEventListener("click",b,!1);this.sb.addEventListener("contextmenu",N,!1)}if(r.uc()){F.addEventListener("contextmenu",N,!1);
var E=new RS.cp(aT.get([12,1]),"sm","layerstyle",m.depth,0,null);E.parent=this;F.appendChild(E.Q);var S=r.add.lmfx,V=S.masterFXSwitch.v;
E.Vd(V);for(var e=0;e<aU.order.length;e++){var J=S[aU.JS[e]].v;if(J.length==0)continue;for(var U=0;U<J.length;
U++){var E=new RS.cp(aT.get(aU.names[e]),"s","layerstyle",m.depth,1,[e,U]);E.Vd(V&&J[U].v.enab.v);E.parent=this;
F.appendChild(E.Q)}}}if(r.zp()){var E=new RS.cp(aT.get([12,55]),"fm",null,m.depth,0,-1,r.lI(L).s?this.sb:null);
E.parent=this;F.appendChild(E.Q);this.IRX=E.Q;this.IRX.addEventListener("contextmenu",N,!1);var S=r.add.SoLd.filterFX.v,j=S.filterFXList.v,V=S.enab.v;
E.Vd(V);for(var e=j.length-1;e>=0;e--){var i=j[e].v,k=i.filterID.v,P=X.$f(k);if(qE.Iv[P])P=qE.Iv[P];
var w=i.Nm.v;if(aN.names[P])w=aT.get(aN.names[P]);if(qE.names[P])w=aT.get(qE.names[P]);var d=O[P]||aN.Bl[P]?"afw_"+P:null,E=new RS.cp(w,"f",d,m.depth,1,e);
E.Vd(V&&i.enab.v);E.parent=this;F.appendChild(E.Q)}}if(L._.indexOf(r)==L.N[0]){var T=r.eF,y;if(T<=0)y=this.oo;
else if(T==1)y=this.g_;else if(T==3)y=this.sb;if(y)y.setAttribute("class","thumb active");if(r.Gu&&this.oN)this.oN.setAttribute("class","thumb active")}z.style.opacity=r.WP()?1:.25;
u.setAttribute("style","width:"+Math.max(0,m.depth-1)*18+"px");var D=r.add.lspf!=null&&r.add.lspf!=0;
this.ys.style.opacity=r.SO(31)?1:.5;n[4]=r.OG?p.Y("div","clipp"):null;n[6]=H?this.mG:null;n[7]=H?this.g_:null;
n[8]=r.add.vmsk&&!f?this.mo:null;n[9]=r.add.vmsk&&!f?this.oN:null;var Z=r.Id,aQ=L.N;if(Z!=0)for(var e=0;
e<aQ.length;e++)if(L._[aQ[e]].Id==Z){s=!0;break}W[0]=s?p.Y("div","link"):null;W[1]=D?this.ys:null;W[2]=r.uc()?p.Y("div","lrfx"):null;
W[3]=r.uc()||r.zp()?this.mD:null;this.mD.setAttribute("class",r.DW()?"arfx open  gsicon":"arfx closed  gsicon");
var aI=n;for(var e=0;e<aI.length;e++)if(aI[e])R.appendChild(aI[e]);aI=W;for(var e=0;e<aI.length;e++)if(aI[e])Q.appendChild(aI[e])}RT.prototype=new aO;
RT.prototype.ITG=function(m){var g=this.$j.index;if(m.indexOf(g)!=-1){if(this.Q.scrollIntoView)this.Q.scrollIntoView({block:"nearest"})}for(var L=0;
L<this.yc.length;L++)this.yc[L].ITG(m)};RT.FF=function(m,g){var L=g.getBoundingClientRect();return(m.clientY-L.top)/L.height};
RT.prototype.hT=function(m){m.stopPropagation();var g=m.target==this.g_?"m":m.target==this.oN?"vm":"l";
m.dataTransfer.setData("Text",JSON.stringify({RJ:g,TP:this.$j.index}))};RT.prototype.hS=function(m){p.mF(m);
this.Ra()};RT.prototype.Eu=function(m){p.mF(m);this.Ra();var g=m.dataTransfer.getData("Text"),L=this.parent.$X,K=RT.FF(m,this.ZH),r=this.$j.index;
if(K>.8){var R=!0,Q=L.root.dr(r);while(Q.parent!=null){var F=Q.parent,q=F.children;if(q.indexOf(Q)!=0)R=!1;
Q=Q.parent}if(R){r=0;K=1}}if(g==""){p.IZq(m,this,this.parent.Ft.indexOf(L),r+(K>.5?0:1))}else if(g!="--panel"){var g=JSON.parse(g),n=g.RJ;
if(n=="l")this.ou({P:x.BR,source:g.TP,target:r,cc:K});else if(n=="m"||n=="vm")this.ou({P:n=="m"?x.dG:x.dT,src:g.TP,Ho:r,rA:m.altKey});
else RT.ITv(m,g,this)}};RT.ITv=function(m,g,L,K){var r=g.RJ,R=L.$j.index,Q=g.TP;if(r=="s"||r=="sm")L.ou({P:x.WR,src:Q,Ho:R,qF:g.qF,rA:m.altKey});
if(r=="f"||r=="fm")L.ou({P:x.IJm,src:Q,Ho:R,qF:g.qF,fL:K==null?0:K,rA:m.altKey})};RT.prototype.hi=function(m){p.mF(m);
var g=RT.FF(m,this.ZH);this.Ra();var L="border-"+(g>.5?"bottom":"top");if(this.$j.A.EY()&&.5<g&&g<.8)L="border";
this.ZH.style[L]="0.2em solid rgba(0,0,0,0.5)"};RT.prototype.Ra=function(m){this.ZH.style.border="none"};
RT.ISU=-1;RT.hk=!1;RT.ISI=function(m){RT.hk=!1;document.body.removeEventListener("mouseup",RT.ISI)};
RT.prototype.IwW=function(m){if(m.button!=0)return;if(m.type=="mousedown"){RT.hk=!0;document.body.addEventListener("mouseup",RT.ISI,!1)}if(m.type=="mouseover"&&(!RT.hk||RT.ISU==this.$j.index))return;
p.mF(m);this.ou({P:x.ZU,A:this.$j.index});RT.ISU=this.$j.index};RT.prototype.Iwc=function(m){this.ou({P:x.Ixc,A:this.$j.index})};
RT.prototype.ILU=function(m){this.ou({P:x.xD,A:this.$j.index})};RT.prototype.ILq=function(m){this.ou({P:x.dB,A:this.$j.index})};
RT.prototype.ILp=function(m){if(m.detail==1)return;this.ZH.setAttribute("draggable","false");var g=new ar.RQ(this.EM,this.RY.bind(this))};
RT.prototype.RY=function(m){this.ou({P:x.BH,A:this.$j.index,name:m})};RT.prototype.ILJ=function(m){this.ou({P:x.IwJ,A:this.$j.index})};
RT.prototype.ILy=function(m){if(this.ISJ(m,m.target,this.eF(m)))return;var g=m.sourceCapabilities;if(g)g=g.firesTouchEvents;
if(m.button!=2&&g!=!0)return;var L=new Y("rclick",!0);L.data={A:this.$j.index,eF:this.eF(m),iW:p.c_(m,document.body),IRx:m.currentTarget==this.IRX};
this.g(L)};RT.prototype.eF=function(m){var g=m.target,L=g.parentNode;return L==this.oN?2:L==this.g_?1:L==this.oo?0:L==this.sb?3:-1};
RT.prototype.IJU=function(m){var g=m.target,n=0;if(g==this.gx||g==this.mD||g==this.mG||g==this.mo||g.tagName&&g.tagName.toLowerCase()=="input")return;
var L=this.eF(m),K=this.parent.$X,r=this.$j.index,R=K._[r];if(g==this.ys){this.ou({P:x.Xb,A:r,cC:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(m.button==0&&m.detail==2){if(g==this.EM)return;var Q=new Y(p.E.V,!0),F=new Y(p.E.VG,!0);if(L==0&&(qE.get(R.add)||R.add.SoCo||R.add.GdFl||R.add.PtFl))Q.data={P:p.o.VV,OT:ar.ba.bD};
else if(L!=0&&L!=-1)Q.data={P:p.o.VV,OT:ar.ba.bD};else if(L==0&&R.add.SoLd)F.data={Qm:"placedLayerEditContents",XX:{classID:"placedLayerEditContents"}};
else if(L==0&&R.add.TySh)Q.data={P:p.o.RI,K:l._T};else Q.data={P:p.o.My,OT:"layerstyle",A:r};this.g(F.data?F:Q);
if(L==0&&R.add.TySh){var q=new Y(p.E.B,!0);q.K=l._T;q.data={P:"editCurr",pY:r};this.g(q)}return}if(this.ISJ(m,g,L))return;
if(m.button!=0)return;var W={P:x.Qe,A:r,je:L};this.ou(W);if(m.altKey){if(L==1||L==3){var q=new Y(p.E.B,!0);
q.K=l.ei;q.data={P:"mskView",U:n!=0?0:m.shiftKey?1:2};this.g(q)}else{this.ou({P:x.QB,A:r})}return}};
RT.prototype.ISJ=function(m,g,L){if((m.ctrlKey||m.metaKey)&&(L==0||L==1||L==2)){var K=0;if(m.shiftKey)K++;
if(m.altKey)K+=2;var r=new Y(p.E.B,!0);r.K=l.eS;r.data={P:"fromlayer",tK:[this.$j.index,L,K]};this.g(r);
return!0}return!1};RT.prototype.ou=function(m){var g=new Y(p.E.B,!0);g.data=m;g.K=l.pW;this.g(g)};RS.cp=function(m,g,L,K,r,R,Q){aO.call(this);
this.IRz=g;this.mT=L;this.index=R;this.Q=p.Y("div","styleitem");this.ZH=p.Y("div","head");this.Zl=p.Y("div","eye gsicon");
this.EM=p.Y("div","label");this.Q.appendChild(this.ZH);this.ZH.appendChild(this.Zl);if(Q){this.g_=Q;
this.ZH.appendChild(this.g_);this.ZH.setAttribute("style","height: "+(Q.firstChild.height/p.M()+10)+"px")}this.EM.innerHTML=m;
this.Q.setAttribute("style","margin-left: "+(24+K*16+r*22)+"px");this.ZH.appendChild(this.EM);this.Zl.addEventListener("click",this.IJI.bind(this),!1);
var F=this.Q;F.setAttribute("draggable","true");F.addEventListener("dragstart",this.hT.bind(this),!1);
if(!0){F.addEventListener("drop",this.Eu.bind(this),!1);F.addEventListener("dragover",this.hi.bind(this),!1);
F.addEventListener("dragenter",p.mF,!1);F.addEventListener("dragleave",this.hS.bind(this),!1)}this.Q.addEventListener("click",this.RK.bind(this),!1)};
RS.cp.prototype=new aO;RS.cp.prototype.hT=function(m){m.stopPropagation();m.dataTransfer.setData("Text",JSON.stringify({RJ:this.IRz,TP:this.parent.$j.index,qF:this.index}))};
RS.cp.prototype.hS=function(m){p.mF(m);this.Ra()};RS.cp.prototype.Eu=function(m){p.mF(m);this.Ra();var g=m.dataTransfer.getData("Text");
if(g=="")return;var g=JSON.parse(g);RT.ITv(m,g,this.parent,this.index+(RT.FF(m,this.ZH)>.5?0:1))};RS.cp.prototype.hi=function(m){p.mF(m);
var g=RT.FF(m,this.ZH)>.5;this.Ra();var L="border-"+(g?"bottom":"top");this.ZH.style[L]="0.2em solid rgba(0,0,0,0.5)"};
RS.cp.prototype.Ra=function(m){this.ZH.style.border="none"};RS.cp.prototype.Vd=function(m){var g=15;
if(1<p.M()&&p.M()<1.5)g=g/p.M();this.Zl.setAttribute("style","background-size: "+g+"px "+g+"px;");this.Zl.style.opacity=m?1:.2};
RS.cp.prototype.RK=function(m){if(m.target==this.Zl)return;if(m.detail!=1&&this.mT!=null){var g=this.parent.$j.index,L=new Y(p.E.V,!0);
if(this.mT.indexOf("afw_")==0)L.data=aJ.Ds.ITm(this.mT.slice(4),{A:g,index:this.index});else L.data={P:p.o.My,OT:this.mT,A:g,index:this.index};
this.g(L)}};RS.cp.prototype.IJI=function(m){var g={fm:x.wJ,f:x.wO,sm:x.xC,s:x.xY}[this.IRz];this.parent.ou({P:g,A:this.parent.$j.index,index:this.index})};
function IP(){ar.call(this,"Guide Guy",!1,null,ar.ba.IaU);this.TA=null;this.qt=[];var m=p.Y("div","form padded");
this.ls.appendChild(m);m.setAttribute("style","width:200px");this.ls.appendChild(m);var g=p.Y("canvas"),L=g.getContext("2d");
g.width=g.height=160;var K=[32,0,16,160,0,32,160,16,0,112,160,16],r="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),R=[0,0,0,0,0,0,0,0,0,0];
for(var Q=0;Q<10;Q++){L.clearRect(0,0,160,160);L.setTransform(1,0,0,1,80,80);L.rotate((Q&3)*Math.PI/2);
L.translate(-80,-80);L.fillStyle="rgba(0,0,0,0.3)";if(Q<4){for(var F=0;F<12;F+=4){L.fillStyle=F==0?"#000000":"rgba(0,0,0,0.3)";
L.fillRect(K[F],K[F+1],K[F+2],K[F+3])}}else if(Q<6){var q=8*6;L.fillRect(0,0,q,160);L.fillRect(8*7,0,q,160);
L.fillStyle="#000000";L.fillRect(8*14,0,q,160)}else if(Q<8){L.fillRect(0,0,16,160);L.fillRect(160-16,0,16,160);
L.fillRect(32,0,160-64,160);L.fillStyle="#000000";L.fillRect(32,80-8,160-64,8*1)}else{L.fillRect(0,0,8*7,160);
L.fillRect(8*13,0,160,160);L.fillStyle="#000000";L.fillRect(8*7,80-8,8*6,8*1)}var n="<img src=\""+g.toDataURL()+"\" class=\"autoscale gsicon\" /> ",W=new R_(n,0,200,Q==4||Q==5?null:"px",null,null,null,4,r[Q]);
W.parent=this;W.v(p.E.z,this.IJq,this);W.p(R[Q]);W.b();this.qt.push(W);m.appendChild(W.Q)}var z=["Add Guides","Clear Guides"];
this.Sc=[];for(var Q=0;Q<z.length;Q++){var u=new aX(z[Q],!0,null,!0);this.Sc.push(u);u.v("click",this.bZ,this);
m.appendChild(u.Q)}for(var Q=0;Q<6;Q++){L.setTransform(1,0,0,1,80,80);L.rotate(Math.floor(Q/3)*Math.PI/2);
L.translate(-80,-80);L.clearRect(0,0,160,160);L.fillStyle="rgba(0,0,0,0.3)";L.fillRect(0,0,160,160);
L.clearRect(16,16,128,128);L.fillStyle="#000000";var N=Q%3;L.fillRect([0,9,18][N]*8,0,16,160);var n="<img src=\""+g.toDataURL()+"\" class=\"autoscale gsicon\" /> ",u=new aX(n,!1,null,!1);
this.Sc.push(u);u.v("click",this.bZ,this);m.appendChild(u.Q)}}IP.prototype=new ar("");IP.prototype.IJq=function(m){var g=this.qt,L=g.indexOf(m.target),K=Math.floor(L/2),r=L&1,R=[];
for(var Q=0;Q<4;Q++)R.push(g[2*Q+r].w());var F=-1;if(K==2&&R[2]!=0&&R[3]!=0&&R[4]!=0)F=4;if(K==3&&R[3]!=0&&R[2]!=0&&R[4]!=0)F=4;
if(K==4&&R[4]!=0&&R[2]!=0&&R[3]!=0)F=3;if(F!=-1)g[2*F+r].p(0)};IP.prototype.bZ=function(m){var g=this.TA,L=this.Sc.indexOf(m.target),K=[[],[]];
if(g==null)return;var r=g.I?g.I.rect:new v(0,0,g.j,g.F),R=r.j,Q=r.F;if(L==0){var F=[[],[]];for(var q=0;
q<this.qt.length;q++)F[q&1].push(this.qt[q].w());K=[IP.Iij(F[0],r.x,r.x+R),IP.Iij(F[1],r.y,r.y+Q)];l.Bc.TI(K,g.TW)}else if(L==1){}else{L-=2;
var n=Math.floor(L/3),K=[[],[]];K[n].push([r.x,r.x+R/2,r.x+R,r.y,r.y+Q/2,r.y+Q][L]);l.Bc.TI(K,g.TW)}var W=function(z,N){return z-N};
K[0].sort(W);K[1].sort(W);this.IJC(K)};IP.prototype.I$$=function(m){var g=this.IX_.indexOf(m.target)};
IP.prototype.IJC=function(m){var g=new Y(p.E.B,!0);g.K=l.Kb;g.data={P:"gids",gZ:m};this.g(g)};IP.Iij=function(m,g,L){var K=[],r=m[2],R=m[3],Q=m[4],F=0;
if(r==0)F++;if(R==0)F++;if(Q==0)F++;if(F>1&&r==0&&R==0){if(m[0]!=0)K.push(g+m[0]);if(m[1]!=0)K.push(L-m[1]);
return K}var q=L-g-m[0]-m[1];if(r==0){if(Q==0){r=Math.floor(q/R);Q=(q-r*R)/(r-1)}else{r=1;while(R*r+Q*(r-1)+R+Q<=q)r++}}else if(r!=0&&R!=0){if(r*R>q)r=Math.floor(q/R);
Q=(q-r*R)/(r-1)}K.push(g+m[0],L-m[1]);var R=(q-Q*(r-1))/r;for(var n=1;n<r;n++){if(Q==0)K.push(g+m[0]+n*R);
else K.push(g+m[0]+n*R+(n-1)*Q,g+m[0]+n*R+n*Q)}return K};IP.prototype.e_=function(m){this.TA=m};function RD(){ar.call(this,[9,2],!1,null,ar.ba.bD);
this.ImI=null;this.GR=null;this.Tf=null;this.Imu=-1}RD.prototype=new ar("");RD.prototype.Rj=function(){this.mJ=p.Y("div","padded");
this.mJ.style.width="22em";this.ls.appendChild(this.mJ);var m=p.Y("span","fitem");this.mJ.appendChild(m);
this.LW=[new aX([0,3]),new aX([12,73]),new aX([12,91,0])];for(var g=0;g<this.LW.length;g++){var L=this.LW[g];
L.v("click",this.IJW,this);m.appendChild(L.Q)}this.mJ.appendChild(p.Y("hr"));this.ss=new RD.SM;this.ss.parent=this;
this.Zk=new RD.Rm;this.Zk.parent=this;this.yz=new RD.lB;this.yz.parent=this;this.Ipq=[this.ss,this.Zk,this.yz];
this.mJ.appendChild(this.ss.Q)};RD.prototype.IJW=function(m){var g=this.LW.indexOf(m.currentTarget);
this.bh(g);this.IiR(g==1?this.Zk.Ze:-1)};RD.prototype.bh=function(m){for(var g=0;g<3;g++){this.LW[g].Ec();
var L=this.Ipq[g].Q;if(L.parentNode==this.mJ&&g!=m)this.mJ.removeChild(L);if(L.parentNode!=this.mJ&&g==m)this.mJ.appendChild(L)}this.LW[m].ef()};
RD.prototype.IiR=function(m){var g=this.GR.N[0],L=this.GR._[g],K=m+1;if(m==1&&L.Gu)return;var r=new Y(p.E.B,!0);
r.K=l.pW;if(m!=1&&L.Gu){r.data={P:x.Qe,A:g,je:2};this.g(r)}r.data={P:x.Qe,A:g,je:K};this.g(r)};RD.prototype.b=function(){ar.prototype.b.call(this);
if(this.mJ==null)return;this.e_(this.GR);for(var m=0;m<3;m++){this.LW[m].b();this.Ipq[m].b()}};RD.prototype.Ba=function(){if(!p.Ya(this.ls))return;
if(this.mJ==null){this.Rj();this.SI(this.Tf,am.VA);this.e_(this.ImI);this.b()}};RD.prototype.e_=function(m){this.ImI=m;
if(this.mJ==null)return;this.ss.e_(m);this.Zk.e_(m);this.yz.e_(m);if(m==null||m.N.length==0){p.RM(this.ls,"disabled");
this.GR=null;return}else p.Av(this.ls,"disabled");var g=m.N[0],L=m._[g],K=m.zA(),r=K[0],R=K[1];if(R.length!=0){var Q=r[R[0]],F=Q.add.vogk,q=!1;
if(F)for(var n=0;n<F.length;n++){var W=F[n].v,z=W.keyShapeInvalidated;if(z&&z.v||W.keyOriginType==null)continue;
q=!0;g=Q.Bj}}if(m!=this.GR||this.Imu!=g){this.GR=m;this.Imu=g;if(q)this.bh(2);else if(L.eF<1&&!L.Gu)this.bh(0);
else this.bh(1)}this.LW[1].EA(this.Zk.Ze!=-1);this.LW[2].EA(q)};RD.prototype.SI=function(m,g){this.Tf=m;
if(this.ss)this.ss.SI(m,g)};RD.SM=function(){aO.call(this);this.Q=p.Y("div","form");this.IpQ=new Rt("Hello");
this.Q.appendChild(this.IpQ.Q);this.mk=null;this.IpV=null;this.GR=null;this.Ipd=-1;this.IxD=null;this.nQ=new II(!0);
this.nQ.parent=this;this.nQ.v(p.E.z,this.IlQ,this);this.wR=p.Y("div","marged hiline");this.wR.appendChild(this.nQ.Q);
this.FP=new RH("GrFl",!0);this.FP.parent=this;this.FP.v(p.E.z,this.Ilj,this);this._z=p.Y("div","marged hiline");
var m="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var g=0;g<m.length;g++){var L=this.FP.eu[m[g]].Q;
this._z.appendChild(L)}this.gp=new RH("patternFill",!0);this.gp.parent=this;this.gp.v(p.E.z,this.IlT,this);
this._t=p.Y("div","marged hiline");var m=["Ptrn","Scl","Algn","phase"];for(var g=0;g<m.length;g++){var L=this.gp.eu[m[g]].Q;
this._t.appendChild(L)}this.rT={};for(var K in qE.names){if(O[K]==null)continue;this.rT[K]=new O[K];
this.rT[K].v(p.E.z,this.Iln,this);this.rT[K].parent=this}var r=this.IRL=p.Y("div","marged hiline");this.yt=RD.hF(["W","H","X","Y"],null,r,this.hv,this);
this.ar=new aW([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.ar.v(p.E.z,this.hv,this);r.appendChild(this.ar.Q);
this.ZA=new II(!1);this.ZA.parent=this;this.ZA.v(p.E.z,this.hv,this);r.appendChild(this.ZA.Q)};RD.SM.prototype=new aO;
RD.SM.prototype.b=function(){for(var m in this.rT)this.rT[m].b();this.FP.b();this.gp.b();this.ar.b();
for(var g=0;g<4;g++)this.yt[g].b()};RD.SM.prototype.hv=function(m){var g=RD.hK(this.yt),L=x.IoX(new v(g[2],g[3],g[0],g[1])),K=this.ar.w(),r={classID:"artboard",artboardRect:{t:"Objc",v:L},Clr:{t:"Objc",v:this.ZA.w()},artboardBackgroundType:{t:"long",v:K+1}},R=new Y(p.E.B,!0);
R.K=l.pW;R.data={P:x.dW,Mj:r};this.g(R)};RD.SM.prototype.IlQ=function(m){var g=this.GR,L=g.N[0];if(g._[L].add.SoCo==null)return;
var K=JSON.parse(JSON.stringify(g._[L].add.SoCo));K.Clr.v=this.nQ.w();this.hZ({co:1,jl:K})};RD.SM.prototype.Ilj=function(m){var g=this.GR,L=g.N[0];
if(g._[L].add.GdFl==null)return;this.hZ({co:2,jl:this.FP.w()})};RD.SM.prototype.IlT=function(m){this.hZ({co:3,jl:this.gp.w()})};
RD.SM.prototype.hZ=function(m){this.Iko(l.pW,{P:x.hr,gK:[this.GR.N[0]],Xl:!0,U:m})};RD.SM.prototype.Iln=function(m){this.Iko(l.fy,{P:"edit_layer",U:this.IpV.w()})};
RD.SM.prototype.Iko=function(m,g){var L=new Y(p.E.B,!0);L.K=m;L.data=g;this.g(L)};RD.SM.prototype.e_=function(m){var g=aT.get([0,3]),L=null;
this.GR=m;if(m&&m._.length>0&&m.N.length!=0){var K=m._[m.N[0]],r=qE.get(K.add);if(r!=null&&this.rT[r]!=null){L=this.rT[r].Q;
this.IpV=this.rT[r];this.rT[r].p(K.add[r]);if(m.N[0]!=this.Ipd){var R=m.os(m.N[0]-1);this.IxD=I.Oh(R)}this.rT[r].$l(this.IxD);
g=aT.get(qE.names[r])}if(K.add.SoCo){L=this.wR;this.nQ.p(K.add.SoCo.Clr.v);g=aT.get([6,48,0,0])}if(K.add.GdFl){L=this._z;
this.FP.update(m,K.add.GdFl);g=aT.get([6,48,0,1])}if(K.add.PtFl){L=this._t;this.gp.update(m,K.add.PtFl);
g=aT.get([6,48,0,2])}if(K.add.artb){var Q=K.add.artb,F=K.vP();L=this.IRL;this.ar.p(Q.artboardBackgroundType.v-1);
if(Q.Clr)this.ZA.p(Q.Clr.v);RD._J(this.yt,[F.j,F.F,F.x,F.y]);g="Artboard"}this.Ipd=m.N[0]}if(L!=this.mk){if(this.mk)this.Q.removeChild(this.mk);
if(L!=null)this.Q.appendChild(L);this.mk=L}this.IpQ.p(g)};RD.SM.prototype.SI=function(m,g){this.FP.SI(m,g);
this.gp.SI(m,g);for(var L in this.rT)this.rT[L].SI(m,g)};RD.Rm=function(){aO.call(this);this.Q=p.Y("div","form");
this.GR=null;this.Ze=0;var m=p.Y("span","fitem");this.Q.appendChild(m);this.LW=[new aX([6,2]),new aX([6,3]),new aX([6,50])];
for(var g=0;g<this.LW.length;g++){var L=this.LW[g];L.v("click",this.Il$,this);m.appendChild(L.Q)}this.ID=new a$([12,74],0,255);
this.ID.v(p.E.z,this.cO,this);this.Q.appendChild(this.ID.Q);this.IX=new a$([7,6],0,500,"px",2,!0);this.IX.v(p.E.z,this.cO,this);
this.Q.appendChild(this.IX.Q)};RD.Rm.prototype=new aO;RD.Rm.prototype.cO=function(m){var g=this.ID.w(),L=this.IX.w(),K=new Y(p.E.B,!0);
K.K=l.pW;K.data={P:x.WO,ct:this.GR.N[0],HG:{WD:this.Ze,ID:g,IX:L}};this.g(K)};RD.Rm.prototype.b=function(){for(var m=0;
m<this.LW.length;m++)this.LW[m].b();this.ID.b();this.IX.b()};RD.Rm.prototype.e_=function(m){this.GR=m;
this.GF()};RD.Rm.prototype.Il$=function(m){this.GF(this.LW.indexOf(m.currentTarget));this.parent.IiR(this.Ze)};
RD.Rm.prototype.GF=function(m){var g=this.GR,L=this.LW;for(var K=0;K<3;K++){var r=L[K];r.Ec();r.Mp()}if(g==null||g._.length==0||g.N.length==0)return;
var R=-1,Q=g._[g.N[0]];if(Q.zp()&&Q.lI(g).s!=null){L[2].eo();R=2}if(Q.add.vmsk){L[1].eo();R=1}if(Q.WN()){L[0].eo();
R=0}if(m!=null)R=m;else if(Q.Gu)R=1;else if(Q.eF==3)R=2;else if(Q.eF==1)R=0;this.Ze=R;if(R==-1){this.ID.Mp();
this.IX.Mp();return}var F=Q.IqF(R);this.ID.eo();this.IX.eo();this.ID.p(F.ID);this.IX.p(F.IX);L[R].ef()};
RD.lB=function(){aO.call(this);this.Q=p.Y("div","form");this.yf=1;this.mM=p.Y("div");this.Hw=RD.hF(["W","H","X","Y"],[12,51],this.mM,this.I_R,this);
this.mr=p.Y("div");var m=["\u250F","\u2513","\u2517","\u251B"];this.Zu=RD.hF(m,[12,91,2],this.mr,this.I_R,this)};
RD.lB.prototype=new aO;RD.lB.prototype.b=function(){p.YP(this.Hw[0],this.Hw[1]);for(var m=2;m<5;m++){this.Hw[m].b()}this.Zu[4].b()};
RD.hF=function(m,g,L,K,r){var R=p.Y("div","numlist");L.appendChild(R);var Q=[];for(var F=0;F<4;F++){var q=new R_(m[F],0,0,null,1,!1,!0);
q.v(p.E.z,K,r);R.appendChild(q.Q);Q.push(q);if(F==1||F==3)p.da(R)}if(g){Q[4]=new au(g);Q[4].p(!0);L.appendChild(Q[4].Q)}return Q};
RD._J=function(m,g){for(var L=0;L<4;L++)m[L].p(g[L])};RD.hK=function(m){var g=[];for(var L=0;L<4;L++)g[L]=m[L].w();
return g};RD.lB.prototype.I_R=function(m){var g=this.Hw.indexOf(m.currentTarget),L=this.Zu.indexOf(m.currentTarget),K=[null,null,null,null],r=[null,null,null,null];
if(g!=-1){var R=RD.hK(this.Hw),Q=this.Hw[4].w();R[0]=Math.max(1,R[0]);R[1]=Math.max(1,R[1]);if(Q&&g==0)R[1]=R[0]/this.yf;
if(Q&&g==1)R[0]=R[1]*this.yf;K[0]=R[2];K[1]=R[3];K[2]=K[0]+R[0];K[3]=K[1]+R[1]}if(L!=-1){var R=RD.hK(this.Zu);
r[L]=Math.max(0,R[L]);if(this.Zu[4].w())for(var F=0;F<4;F++)r[F]=r[L];var q=r[3];r[3]=r[2];r[2]=q}var n=new Y(p.E.B,!0);
n.K=l.pW;n.data={P:x.dF,Fi:K,IVc:r};this.g(n)};RD.lB.prototype.e_=function(m){if(m==null)return;var g=this.mM.parentNode!=null,L=this.mr.parentNode!=null,K=I.xV.Eq(m),r=K[0],R=K[1];
if(r){if(!g)this.Q.appendChild(this.mM);this.yf=(r[2]-r[0])/(r[3]-r[1]);RD._J(this.Hw,[r[2]-r[0],r[3]-r[1],r[0],r[1]])}else if(g)this.Q.removeChild(this.mM);
if(R){if(!L)this.Q.appendChild(this.mr);var Q=R[2];R[2]=R[3];R[3]=Q;RD._J(this.Zu,R)}else if(L)this.Q.removeChild(this.mr)};
function Rq(m){ar.call(this,m.name,!0);this.$X=m;this.ZS=null;this.kH=[];this.sU=!1;this.T_={x:0,y:0,Tb:!1};
this.mu=!0;this.ZW=document.createElement("canvas");this.Zc=this.ZW.getContext("2d");this.ZQ=document.createElement("canvas");
this.r=this.ZQ.getContext("2d");var g=16,L=I.m(16*16*4);I.fe(L,g,g,8,0,0);this.yT=I.scale.bs(L,g,g);
this.IRJ=this.cX.bind(this);this.Zy=this.Fg.bind(this);this.IxS=this.Cs.bind(this);var K=this.ls;p.yG(K,this.IRJ);
p.Wj(K,this.Zy);K.addEventListener("wheel",this.Jp.bind(this),!1);K.addEventListener("contextmenu",this.IlP.bind(this),!1);
this.Ih=0;this.sI="";this.GQ=4;K.addEventListener("touchmove",p.jY,!1)}Rq.prototype=new ar;Rq.prototype.IxW=function(){if(this.$X.Wf())return window.confirm(aT.get([22,6,3])+" "+this.$X.name+". "+aT.get([22,6,4]));
return!0};Rq.prototype.jY=function(m){m.preventDefault()};Rq.prototype.I_o=function(m){var g=-1,L=this.kH;
for(var K=0;K<L.length;K++)if(L[K].pointerId==m.pointerId)g=K;return g};Rq.prototype.cX=function(m){this.kH.push(m);
if(this.kH.length==1){var g=m.button!=null&&m.button!=0?"rdown":"down",L=new Y("mouse",!0);L.action=g;
this.lg(m,L);this.g(L);p.bC(this.ls,this.Zy);p.Wj(window,this.Zy);p.WT(window,this.IxS)}if(this.kH.length==2){this.Inp("multidown");
this.sU=!0}};Rq.prototype.Fg=function(m){var g=this.I_o(m);if(g!=-1)this.kH[g]=m;if(this.kH.length>1){this.Inp("multimove")}if(this.sU)return;
var L=new Y("mouse",!0);L.action="move";this.lg(m,L);this.g(L)};Rq.prototype.Cs=function(m){var g=this.kH,L=this.I_o(m);
g.splice(L,1);if(g.length==0){var K=m.button!=null&&m.button!=0?"rup":"up",r=new Y("mouse",!0);r.action=K;
this.lg(m,r);this.g(r);p.bC(window,this.Zy);p.yH(window,this.IxS);p.Wj(this.ls,this.Zy);this.sU=!1}};
Rq.prototype.Jp=function(m){this.jY(m);if(m.deltaX==0&&m.deltaY==0)return;var g=new Y("mouse",!0);g.action="scroll";
g.yB=m.ctrlKey;this.lg(m,g);this.g(g)};Rq.prototype.IlP=function(m){p.mF(m);var g=m.sourceCapabilities;
if(g)g=g.firesTouchEvents;if(g){var L=new Y("mouse",!0);this.lg(m,L);L.action="rdown";this.g(L);L.action="rup";
this.g(L)}};Rq.prototype.Inp=function(m){var g=this.kH,L=p.M(),K=[];for(var r=0;r<g.length;r++){var R=K[r]=p.c_(g[r],this.ls);
R.x*=L;R.y*=L}var Q=new Y("mouse",!0);Q.action=m;Q.ue=K;this.g(Q)};Rq.prototype.lg=function(m,g,L){var K=this.kH.length!=0;
if(g.action!="up"){var r=p.M();if(L==null)L=p.c_(m,this.ls);this.T_=g.dX={x:r*L.x,y:r*L.y,Tb:K};var R=p.c_(m,document.body);
g.dX.zv=R.x;g.dX.hp=R.y}else this.T_=g.dX={x:this.T_.x,y:this.T_.y,Tb:K};g.dX.kw=1;if(m.pressure!=null&&m.pressure!=0)g.dX.kw=m.pressure*2;
if(m.deltaX!=null){var Q=m.deltaMode==0?1:40;g.pB=new jf(m.deltaX*Q,m.deltaY*Q)}};Rq.prototype.SI=function(m,g){this.ZS=m};
Rq.prototype.e_=function(m){this.Ba();this.fo()};Rq.prototype.Dj=function(m,g){if(m<=0||g<=0)return;
this.uP=m;this.PC=g;var L=this.$X,K=p.M();L.L.r.j=Math.floor(m*K);L.L.r.F=Math.floor(g*K);p.Tg(this.ZQ,m,g);
p.Tg(this.ZW,m,g);p.Tg(t.qu(),m,g);if(L.L.T==0)L.L.T=l.S$.TM(L.j,L.F,m*K,g*K);this.mu=!0;this.fo()};
Rq.prototype.Ba=function(){var m=this.ls.firstChild;if(!t.be&&m==t.qu()||t.be&&m==this.ZQ)this.ls.removeChild(m);
this.ls.appendChild(t.be?t.qu():this.ZQ)};Rq.prototype.fo=function(){if(t.be!=this.GQ){this.Ih=0;this.sI="";
this.mu=!0}this.GQ=t.be;if(this.ZS==null)return;if(t.be)this.IGm();else this.VR();var m=this.$X;this.Ih=m.L.T;
this.sI=JSON.stringify(m.L.WY);this.mu=!1};Rq.prototype.IGm=function(){if(t.be&&Rq.Ixt==null)Rq.Ixt=new Rq.eQ(!1);
if(t.be&&Rq.IwU==null)Rq.IwU=new Rq.eQ(!0);var m=this.$X,F;if(m.kb==null)return;var g=m.L,L=g.r.j,K=g.r.F,r=t.wu;
this.r.clearRect(0,0,g.r.j,g.r.F);var R=this.InA(m);if(g.Mm==null)g.Mm=new t.ha(g.r.j,g.r.F);if(R)g.Mm.set(this.ZQ);
else{t.$a(g.Mm);t.Ol(0)}var Q=new v(0,0,m.j*g.T,m.F*g.T);Q.x=Math.round((L-m.j*g.T)/2+g.H.x);Q.y=Math.round((K-m.F*g.T)/2+g.H.y);
var q=[0,0,0,0],n=[];if(m.add.artd){q=Rq.hu(m);var W=m.j,z=m.F;F=Rq.IwU;for(var u=0;u<m._.length;u++){var N=m._[u],b=N.add.artb;
if(b==null||!N.WP())continue;var B=N.vP();n.push(B.x/W,B.y/z,B.j/W,B.F/z)}if(n.length>32*4){n=n.slice(0,32*4)}while(n.length<32*4){n.push(0,0,0,0)}}else F=Rq.Ixt;
t.Jf(L,K);t.Ol(0);t.Jf(L,K);F.Cx();F.er(g.Mm.Iu,m.kb.Iu,new Float32Array([Q.x/L,Q.y/K,Q.j/L,Q.F/K]),new Float32Array([8/L,8/K]),m.j,m.F,1/m.L.T,L,K,new Float32Array(n),new Float32Array(q),new Float32Array(I.za.GL(I.za.wA(g.WY))));
r.drawArrays(r.TRIANGLES,0,6)};Rq.hu=function(m){var g=m.add.artd.canvasColor;if(g==null)return[0,0,0,0];
return Rq.IGJ(g)};Rq.IGJ=function(m){var g=I.G.EX(m.v),L=[g.u/255,g.S/255,g.R/255,1];for(var K=0;K<4;
K++)L[K]=Math.min(1,L[K]);return L};Rq.cS=function(m,g){var L=m[2]*255;if(t.be)L=g?0:Math.max(1,L);return"rgba("+m[0]*255+","+m[1]*255+","+L+","+m[3]+")"};
Rq.VI=function(m){if(t.be)for(var g=0;g<m.length;g+=4){if(m[g+2]==0)m[g+2]++}};Rq.prototype.VR=function(){var m=this.$X;
if(m.buffer==null)return;var g=m.L,L=g.r.j,K=g.r.F;this.Zc.clearRect(0,0,g.r.j,g.r.F);this.r.clearRect(0,0,g.r.j,g.r.F);
if(m.add.artd==null){}else{this.r.fillStyle=Rq.cS(Rq.hu(m));this.r.fillRect(0,0,g.r.j,g.r.F)}var r=g.hc(),R=g.r.my(r);
this.r.save();this.r.translate(r.x,r.y);if(m.add.artd==null){this.r.fillStyle=this.yT;this.r.fillRect(0,0,r.j,r.F)}this.r.restore();
var Q=m.j!=g.YB.j||m.F!=g.YB.F;if(Q)g.YB.xF(0,0,m.j,m.F);var F=JSON.stringify(g.WY);if(g.T<=1){if(g.T!=this.Ih||F!=this.sI||m.HC){if(g.T!=this.Ih||g.eq==null||Q)g.eq=this.r.createImageData(Math.max(1,r.j),Math.max(1,r.F));
if(g.T<1){var q=I.xO(m.buffer,new v(0,0,m.j,m.F),g.T,new Uint8Array(g.eq.data.buffer))}else I.jR(m.buffer,g.eq.data);
I.za.wK(g.eq.data,g.eq.data,I.za.wA(g.WY))}this.Zc.putImageData(g.eq,r.x,r.y);this.r.drawImage(this.ZW,R.x,R.y,R.j,R.F,R.x,R.y,R.j,R.F)}else{var n=g.cV(),W=new v(0,0,n.j*g.T,n.F*g.T);
W.x=n.x*g.T+r.x;W.y=n.y*g.T+r.y;if(g.T!=this.Ih||this.mu){g.rb=I.m(n.c()*4);g.eq=this.r.createImageData(W.j,W.F)}I.set(g.rb,0);
I.pq(this.$X.buffer,new v(0,0,m.j,m.F),g.rb,n);I.scale._f(g.rb,n.j,n.F,g.eq.data,W.j,W.F,g.T);I.za.wK(g.eq.data,g.eq.data,I.za.wA(g.WY));
this.Zc.putImageData(g.eq,W.x,W.y);this.r.drawImage(this.ZW,0,0)}this.InA(m)};Rq.prototype.InA=function(m){var g=m.L,L=g.WY[0]+g.WY[1]+g.WY[2],K=!1,r=[];
for(var R=0;R<m.N.length;R++){var Q=m._[m.N[R]],F=Q.eF;if(F!=1&&F!=3)continue;var q=F==1?Q.WN():Q.lI(m).s;
if(q.vu)r.push(q)}for(var R=0;R<m.Qj.length;R++)if(m.Qj[R].vu)r.push(m.Qj[R]);for(var R=0;R<r.length;
R++){var q=r[R];this.IXg(q.channel,q.rect,g,r.length==1&&L==0?2:1,q.color,q.yK);K=!0}var n=this.ZS;K=this.IGG(m,this.r,g)||K;
if(m.I&&n.ny&&n.dA.pT){this.IXg(m.I.channel,m.I.rect,g,0,0,null);K=!0}return K};Rq.prototype.IXg=function(m,g,L,K,r,R){var Q=L.hc(),F,q,n,W=0;
if(R)W=Math.round(R.R)<<16|Math.round(R.S)<<8|Math.round(R.u);if(L.T<=1){F=g.clone();F.x=Math.round(F.x*L.T);
F.y=Math.round(F.y*L.T);F.j=Math.floor(F.j*L.T);F.F=Math.floor(F.F*L.T);q=m;if(L.T<1){if(L.xB==null||L.xB.length<g.c()>>>1){console.log("here");
L.xB=I.m(g.c()>>>1)}q=L.xB;var z=I.tl(m,g,L.T,q);F.j=z.rect.j;F.F=z.rect.F}if(L.VM==null||L.VM.length!=F.c()*4)L.VM=I.m(F.c()*4);
else I._U(L.VM,0);var u=L.r.clone();u.offset(-Q.x,-Q.y);n=F.my(u)}else{var N=L.cV();F=new v(N.x*L.T,N.y*L.T,N.j*L.T,N.F*L.T);
if(L.VM==null||L.VM.length!=F.c()*4){L.xB=I.m(F.c());L.VM=I.m(F.c()*4)}var b=I.m(N.c());I.set(b,r);I.Cp(m,g,b,N);
I.scale.VQ(b,N.j,N.F,L.xB,F.j,F.F,L.T);I._U(L.VM,0);q=L.xB}if(K==0)I.I.IZR(q,L.VM,F,n);else{var B=Q.x,h=Q.y,A=Q.j,e=Q.F;
n=F.my(new v(0,0,A,e));if(L.T<=1){this.r.fillStyle=K==2?Rq.cS([r/255,r/255,r/255,1]):Rq.cS([R.u/255,R.S/255,R.R/255,.5*(1-r/255)]);
var c=B,a=c+n.x,$=a+n.j,G=c+A,o=h,H=o+n.y,f=H+n.F,E=o+e;this.r.fillRect(B,o,A,H-o);this.r.fillRect(B,H,a-c,f-H);
this.r.fillRect($,H,G-$,f-H);this.r.fillRect(B,f,A,E-f)}I.I.IZx(q,L.VM,F,n,K,W)}Rq.VI(L.VM);if(L.T<=1)this.Zc.clearRect(0,0,L.r.j,L.r.F);
if(F.c()!=0){var S=new ImageData(new Uint8ClampedArray(L.VM.buffer),F.j,F.F);this.Zc.putImageData(S,Q.x+F.x,Q.y+F.y);
this.r.drawImage(this.ZW,0,0)}};Rq.prototype.IGG=function(m,g,L){var K=m.J.pw||m.J.eT||m.J.Sp||m.J.H_.length!=0||m.J.To.length!=0,r=this.ZS,R=r.dA,Q=L.hc(),F=new aC(L.T,0,0,L.T,Q.x+.5,Q.y+.5),q=ph.ER[r.rL],n=Math.round(12*p.M());
if(m.add.artd){var W=Rq.hu(m)[0];W=W<.5?W+.5:W-.5;W=""+Math.round(W*255).toString(16);while(W.length<2)W="0"+W;
g.fillStyle="#"+W+W+W;g.font=n+"px sans-serif";for(var z=0;z<m._.length;z++){var u=m._[z];if(u.add.artb==null||!u.WP())continue;
var N=u.vP(),b=new jf(N.x,N.y);b=F.SW(b);g.fillText(u.getName(),Math.round(b.x),Math.round(b.y-6));K=!0}}var B=Rq.cS([.1,.5,1,1]),h=Rq.cS([1,1,1,1]);
if(r.ny&&R.pc){g.fillStyle=g.strokeStyle=B;g.lineWidth=1.5;var A=m.zA(),e=A[0],c=A[1];for(var a=0;a<c.length;
a++){var u=e[c[a]],$=u.add.vmsk,G=$.W,o=I.e.Ng(G);this.gv(o,F,g);g.stroke();K=!0;var H=Math.round(3*p.M()),f=G.length-3;
for(var z=0;z<$.VS.length;z++){var E=I.q.QP(G,$.VS[z]);if(E==null)continue;var S=Q.x+E.x*L.T,V=Q.y+E.y*L.T;
g.beginPath();var J=z==0;if($.xp)J=!J;if(J){g.moveTo(S-H,V-H);g.lineTo(S+H,V+H);g.moveTo(S-H,V+H);g.lineTo(S+H,V-H);
g.stroke()}else{g.arc(S,V,H*1,0,2*Math.PI);g.fill()}K=!0}if(m.N.length!=1)continue;var U=-1;for(var z=0;
z<G.length;z++){if(G[z].type>5)continue;if(G[z].type==0||G[z].type==3){if(G[z].au!=-1)U++;continue}if($.N.indexOf(U)!=-1){var S=Q.x+G[z].Z.x*L.T,V=Q.y+G[z].Z.y*L.T;
g.fillRect(Math.round(S-H+.5),Math.round(V-H+.5),2*H-1,2*H-1)}if($.Gm.indexOf(z)!=-1){var j=[G[z].Z];
g.beginPath();g.moveTo(Q.x+G[z].QR.x*L.T,Q.y+G[z].QR.y*L.T);g.lineTo(Q.x+G[z].Z.x*L.T,Q.y+G[z].Z.y*L.T);
g.lineTo(Q.x+G[z].LM.x*L.T,Q.y+G[z].LM.y*L.T);g.stroke();if(!G[z].Z.TB(G[z].QR))j.push(G[z].QR);if(!G[z].Z.TB(G[z].LM))j.push(G[z].LM);
for(var i=0;i<j.length;i++){var E=j[i],S=Q.x+E.x*L.T,V=Q.y+E.y*L.T;if(i==0&&(G[z].type==2||G[z].type==5))g.fillRect(Math.round(S-1.2*H),Math.round(V-1.2*H),Math.round(2.4*H),Math.round(2.4*H));
else{g.beginPath();g.arc(S,V,H*1.2,0,2*Math.PI);g.fill();if(i!=0)g.fillStyle=h;g.beginPath();g.arc(S,V,H*.8,0,2*Math.PI);
g.fill();g.fillStyle=B}}}K=!0}}}g.fillStyle=g.strokeStyle=Rq.cS([0,0,0,1],!0);g.lineWidth=1;if(m.J.pw){this.gv(m.J.pw,F,g);
g.fill()}if(m.J.eT){this.gv(m.J.eT,F,g);g.stroke()}for(var k in m.J.dJ)if(m.J.dJ[k].eT){this.gv(m.J.dJ[k].eT,F,g);
g.stroke()}g.beginPath();var H=4*p.M(),P=m.J.Vq;for(var z=0;z<P.length;z+=2){K=!0;var S=Q.x+P[z]*L.T,V=Q.y+P[z+1]*L.T;
g.rect(S-H+.5,V-H+.5,2*H-1,2*H-1)}g.stroke();var P=m.J.I$e;g.beginPath();var H=4*p.M();for(var z=0;z<P.length;
z+=2){K=!0;var S=Q.x+P[z]*L.T,V=Q.y+P[z+1]*L.T;g.moveTo(S+H-.5,V);g.arc(S,V,H-.5,0,2*Math.PI)}g.fill();
var P=m.J.rg;g.fillStyle=Rq.cS([1,1,1,1]);g.beginPath();var H=6*p.M();for(var z=0;z<P.length;z+=2){K=!0;
var S=Q.x+P[z]*L.T,V=Q.y+P[z+1]*L.T;g.moveTo(S+H-.5,V);g.arc(S,V,H-.5,0,2*Math.PI)}g.fill();var H=4*p.M();
for(var z=0;z<P.length;z+=2){K=!0;var S=Q.x+P[z]*L.T,V=Q.y+P[z+1]*L.T;g.fillStyle=Rq.cS(m.J.MI.indexOf(z>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);
g.beginPath();g.moveTo(S+H-.5,V);g.arc(S,V,H-.5,0,2*Math.PI);g.fill()}if(m.J.H_.length!=0){for(var z=0;
z<m.J.H_.length;z++){var w=m.J.H_[z],d=w[1];g.putImageData(new ImageData(new Uint8ClampedArray(w[0].buffer),d.j,d.F),d.x,d.y)}}if(m.J.nO){K=!0;
var y=m.J.nO,D=y.sy,o={O:[],D:[]};for(var z=0;z<y.sN.length;z++)I.e.concat(o,I.e.Gl(y.sN[z]));o.D=o.D.concat(D);
for(var z=0;z<D.length;z+=4)o.O.push("M","L");g.strokeStyle=Rq.cS([.9,.2,.2,1]);this.gv(o,F,g);g.stroke();
var s=p.M();for(var z=0;z<D.length;z+=4){var S=D[z],V=D[z+1],Z=D[z+2],aQ=D[z+3],aI=Math.sqrt((aQ-V)*(aQ-V)+(Z-S)*(Z-S));
aI=I.Wq.bT(aI,m.Jt,r,V==aQ?m.j:m.F);var aq=new jf((S+Z)/2,(V+aQ)/2);aq=F.SW(aq);g.fillStyle=Rq.cS([.9,.2,.2,1]);
var aa=g.measureText(aI),aD=aa.width;g.fillRect(aq.x-aD/2-2.5*s,aq.y-7.5*s,aD+5*s,15*s);g.fillStyle=Rq.cS([1,1,1,1]);
g.fillText(aI,aq.x-aD/2,aq.y+4*s)}}if(r.ny){g.lineWidth=1;if(R.wf){var _=I.Wq.qX(R.hO,m,R.hf),M=_;if(R.hf==4)M*=m.F/m.j;
this.xL(m,Q,g,_,M,1,R.D$);K=!0}if(R.zi&&m.L.T>7){this.xL(m,Q,g,1,1,.5,R.D$);K=!0}if(R.TW){g.beginPath();
g.strokeStyle=Rq.cS([0,1,1,1]);for(var z=0;z<m.TW[0].length;z++){var jt=Math.round(m.L.nt(m.TW[0][z],0).x)+.5;
g.moveTo(jt,0);g.lineTo(jt,m.L.r.F)}for(var z=0;z<m.TW[1].length;z++){var aR=Math.round(m.L.nt(0,m.TW[1][z]).y)+.5;
g.moveTo(0,aR);g.lineTo(m.L.r.j,aR)}g.closePath();g.stroke()}var aL=m.qo;if(R.qo&&aL.length!=0){var aw=g.font;
g.font=Math.round(n*.8)+"px sans-serif";var ap=[],al=[];for(var z=0;z<aL.length;z++){var ak=l.Dg.DJ(aL,z);
ap.push(ak);if(m.$u.indexOf(z)!=-1)al.push(ak)}ap.reverse();var ao=Date.now();ap=I.rect.qC([0,0,m.j,m.F],ap);
g.translate(.5,.5);for(var i=0;i<2;i++)for(var z=0;z<ap.length;z++){var aZ=ap[z],U=aZ[4],aS=U!=null?aL[U]:null;
if(aS&&i==0||aS==null&&i==1)continue;var an=m.L.nt(aZ[0],aZ[1]),IU=m.L.nt(aZ[2],aZ[3]),S=Math.round(an.x),V=Math.round(an.y),Z=Math.round(IU.x),aQ=Math.round(IU.y);
g.strokeStyle=g.fillStyle=Rq.cS(aS?[0,.7,.7,1]:[.8,.8,.8,1]);g.beginPath();g.moveTo(S,V);g.lineTo(Z,V);
g.lineTo(Z,aQ);g.lineTo(S,aQ);g.closePath();g.stroke();var a_=z+1,aa=g.measureText(a_),aD=aa.width;g.fillRect(S-.5,V-.5,Math.round(aD+n/2),n);
g.fillStyle=Rq.cS([1,1,1,1]);g.fillText(a_,S+n/4,Math.round(V+n*.8)-.5)}for(var z=0;z<al.length;z++){var aZ=al[z],an=m.L.nt(aZ[0],aZ[1]),IU=m.L.nt(aZ[2],aZ[3]),S=Math.round(an.x),V=Math.round(an.y),Z=Math.round(IU.x),aQ=Math.round(IU.y);
g.strokeStyle=g.fillStyle=Rq.cS([0,.7,.7,1]);g.beginPath();g.moveTo(S,V);g.lineTo(Z,V);g.lineTo(Z,aQ);
g.lineTo(S,aQ);g.closePath();g.stroke();var aG=[S,V,Z,V,Z,aQ,S,aQ];for(var aM=0;aM<aG.length;aM+=2){var jt=aG[aM],aR=aG[aM+1],av=aG[aM+2&7],aA=aG[aM+3&7];
g.fillRect(jt-2.5,aR-2.5,4,4);g.fillRect(Math.round((jt+av)/2)-2.5,Math.round((aR+aA)/2)-2.5,4,4)}}g.translate(-.5,-.5);
g.font=aw;K=!0}}g.strokeStyle=Rq.cS([1,0,0,1]);if(m.J.Sp){this.gv(m.J.Sp,F,g);g.stroke()}if(r.EK){if(m.L.Ku==null||m.L.Ku.width!=m.L.r.j||m.L.oL.height!=m.L.r.F){m.L.Ku=g.createImageData(m.L.r.j,I.Wq.HV);
m.L.oL=g.createImageData(I.Wq.HV,m.L.r.F)}var q=ph.ER[r.rL],L=m.L,IL=L.T*m.j/2,aB=L.T*m.F/2,aV=[1,m.Jt,m.Jt/2.54,m.Jt/25.4,m.j/100][R.$C],Ia=L.T,aK=L.H.clone();
L.T*=aV;L.H.x+=IL*aV-IL;L.H.y+=aB*aV-aB;I.Wq.ICd(L,q["--text-color"],q["--bg-input"]);L.T=Ia;L.H=aK;
var aE=IJ.Iik(L.T,Rq.cS([1,1,1,1]));Rq.VI(m.L.oL.data);Rq.VI(m.L.Ku.data);g.putImageData(m.L.oL,0,0);
g.putImageData(m.L.Ku,0,0);g.putImageData(aE,0,m.L.r.F-aE.height)}if(m.J.To.length!=0){for(var z=0;z<m.J.To.length;
z++){var w=m.J.To[z],d=w[1];g.putImageData(new ImageData(new Uint8ClampedArray(w[0].buffer),d.j,d.F),d.x,d.y)}}return K||r.EK||m.TW[0].length+m.TW[1].length>0};
Rq.prototype.xL=function(m,g,L,K,r,R,Q){while(K*m.L.T<4){K*=2;r*=2}var F=g.x,q=F+g.j,n=g.y,W=n+g.F;L.beginPath();
L.strokeStyle=Rq.cS([.5,.5,.5,R],!0);for(var z=0;z<=m.j;z+=K){var u=Math.round(m.L.nt(z,0).x)+.5;L.moveTo(u,n);
L.lineTo(u,W)}if(Q==0){for(var N=0;N<=m.F;N+=r){var b=Math.round(m.L.nt(0,N).y)+.5;L.moveTo(F,b);L.lineTo(q,b)}}else{r*=Math.sqrt(4/3);
var B=(q-F)*(r/(2*K)),h=r*Math.floor(m.j/r);for(var N=-h;N<=m.F+h;N+=r){var b=Math.round(m.L.nt(0,N).y)+.5,A=b-B,e=b+B;
this.IBx(L,F,n,q,W,b,A);this.IBx(L,F,n,q,W,b,e)}}L.closePath();L.stroke()};Rq.prototype.IBx=function(m,g,L,K,r,R,Q){var F=g,q=K,n=R,W=Q,z=0,u=1,N=q-F,b=W-n,B,h,A;
for(var e=0;e<4;e++){if(e==0){B=-N;h=-(g-F)}if(e==1){B=N;h=K-F}if(e==2){B=-b;h=-(L-n)}if(e==3){B=b;h=r-n}A=h/B;
if(B==0&&h<0)return!1;if(B<0){if(A>u)return!1;else if(A>z)z=A}else if(B>0){if(A<z)return!1;else if(A<u)u=A}}var c=F+z*N,a=n+z*b,$=F+u*N,G=n+u*b;
m.moveTo(c,a);m.lineTo($,G)};Rq.prototype.gv=function(m,g,L){L.beginPath();var K=I.e.clone(m);I.e.f(K.D,g,K.D);
Typr.U.pathToContext({cmds:K.O,crds:K.D},L)};Rq.eQ=function(m){t.ag.call(this);this.IRl=m;var g="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(m?"uniform vec4 bgClr;  uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+t.SA.oP+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(m?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(0.0,0.0,0.0,0.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",L="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Rb(g,L)};Rq.eQ.prototype=new t.ag;Rq.eQ.prototype.er=function(m,g,L,K,r,R,Q,F,q,n,W,z){this.Sq("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var u=t.wu,N=this.qx;u.uniform4fv(N.srct,L);u.uniform2fv(N.gsize,K);u.uniform3f(N.imgSizeZoom,r,R,Q);
u.uniform2f(N.cnvSize,F,q);u.uniformMatrix4fv(N.ctrn,!1,z);if(this.IRl){u.uniform4fv(N.ars,n);u.uniform4fv(N.bgClr,W)}u.uniform1i(N.source,0);
u.uniform1i(N.target,1);u.activeTexture(u.TEXTURE0);u.bindTexture(u.TEXTURE_2D,m);u.activeTexture(u.TEXTURE1);
u.bindTexture(u.TEXTURE_2D,g);u.activeTexture(u.TEXTURE0)};function qY(){ar.call(this,[9,7],!1,null,ar.ba.Ij_);
this.ls.setAttribute("style","min-width:240px;");this.GR=null;this.Zs=-1;this.Imn=[];this.CE=p.Y("div","scrollable");
this.CE.style.height="160px";this.ls.appendChild(this.CE);this.eM=p.Y("div","lpfoot");this.ls.appendChild(this.eM);
this.Sc=[];var m=["reload","lrs/newlayer","lrs/bin"],g=[[5,10],[5,3],[5,4]];for(var L=0;L<m.length;L++){var K=new aX("<img src=\""+PIMG[m[L]]+"\" class=\"gsicon\" />",!1,g[L]);
K.v("click",this.IGe,this);this.eM.appendChild(K.Q);this.Sc.push(K)}}qY.prototype=new ar("");qY.prototype.ou=function(m){var g=new Y(p.E.B,!0);
g.data=m;g.K=l.gk;this.g(g)};qY.prototype.IGe=function(m){var g=this.Sc.indexOf(m.currentTarget);if(g!=1)if(this.Zs==-1)return;
this.ou({P:["updLC","addLC","delLC"][g],Bj:this.Zs});if(g==2)this.Zs=-1};qY.prototype.b=function(){ar.prototype.b.call(this);
for(var m=0;m<this.Sc.length;m++)this.Sc[m].b()};qY.prototype.e_=function(m){if(m==null)p.RM(this.ls,"disabled");
else p.Av(this.ls,"disabled");this.GR=m;p.Lj(this.CE);if(m==null)return;var g=m._x.lastAppliedComp?m._x.lastAppliedComp.v:0,L=m._x.list.v.slice(0);
L.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var K=0;K<L.length;
K++){var r=L[K].v,R=new QT(r.Nm.v,r.compID.v,r.capturedInfo.v,g,this.Zs);R.v("activate",this.lJ,this);
R.parent=this;this.CE.appendChild(R.Q);this.Imn.push(R)}};qY.prototype.lJ=function(m){this.Zs=m.currentTarget.Bj;
this.e_(this.GR)};function QT(m,g,L,K,r){aO.call(this);this.Bj=g;this.Q=p.Y("div","head listitem"+(g==r?" selected":""));
var R=g==K,Q=new aX("<b>"+(R?"\u2713":"\u2014")+"</b>");if(R)Q.ef();this.Q.appendChild(Q.Q);Q.v("click",this.Ay,this);
var F=this.mA=p.Y("span");F.textContent=m;this.Q.appendChild(F);this.Sc=[];if(g!=0){this.Q.addEventListener("mouseup",this.lJ.bind(this),!1);
this.Iwl=p.Y("span","headR");this.Q.appendChild(this.Iwl);var q=["lrs/eye","pos","lrs/fx"],n=["Visibility","Position","Appearance"];
for(var W=0;W<q.length;W++){var z=new aX("<img src=\""+PIMG[q[W]]+"\" class=\"autoscale gsicon\" />",!1,n[W]);
if((L>>W&1)==0)z.Q.setAttribute("style","opacity:0.3");z.v("click",this.IGC,this);this.Iwl.appendChild(z.Q);
this.Sc.push(z)}}}QT.prototype=new aO;QT.prototype.lJ=function(m){if(m.target!=this.mA&&m.target!=this.Q)return;
if(m.detail==1)this.g(new Y("activate",!1));else{var g=new ar.RQ(this.mA,this.RY.bind(this))}};QT.prototype.IGC=function(m){var g=this.Sc.indexOf(m.currentTarget);
this.ou({P:"editLC",IGy:g,Bj:this.Bj})};QT.prototype.RY=function(m){this.ou({P:"editLC",jP:m,Bj:this.Bj})};
QT.prototype.Ay=function(m){this.ou({P:"setLC",Bj:this.Bj})};QT.prototype.ou=function(m){var g=new Y(p.E.B,!0);
g.data=m;g.K=l.gk;this.g(g)};function pO(){ar.call(this,[9,11],!1,null,ar.ba.Ijc);var m=p.Y("div","padded");
m.setAttribute("style","min-width:15em");this.ls.appendChild(m);var g=p.Y("div");m.appendChild(g);g.setAttribute("style","cursor:grab;");
this.Dt=p.Y("canvas");this.Dt.width=100;g.appendChild(this.Dt);p.jk(this.Dt);p.yG(this.Dt,this.lK.bind(this));
this.ms=new mc(null,0,l.S$._P.length-1);this.ms.v(p.E.z,this.IGv,this);m.appendChild(this.ms.Q);this.IwB=this.RG.bind(this);
this.ILG=this.Rc.bind(this);this.TA=null}pO.prototype=new ar("");pO.prototype.Dj=function(m,g){this.fo()};
pO.prototype.IGv=function(m){var g=this.ms.w(),L=this.TA,K=l.S$._P[l.S$._P.length-1-g],r=new Y(p.E.B,!0);
r.K=l.ei;r.data={P:"zoom",T:K};this.g(r)};pO.prototype.lK=function(m){if(this.TA==null)return;p.Wj(window,this.IwB);
p.WT(window,this.ILG)};pO.prototype.RG=function(m){var g=p.c_(m,this.Dt),L=this.TA,K=this.Dt.width,r=this.Dt.height,R=(g.x*p.M()-K/2)/K,Q=(g.y*p.M()-r/2)/r,F=p.M()*L.L.T,q=Math.round(-L.L.T*L.j*R),n=Math.round(-L.L.T*L.F*Q);
l.uy.Kc(L,q,n)};pO.prototype.Rc=function(m){p.bC(window,this.IwB);p.yH(window,this.ILG)};pO.prototype.e_=function(m){if(m==null&&this.TA!=null)this.Dt.width=100;
this.TA=m;this.fo()};pO.prototype.fo=function(){var m=this.TA,L=0;if(m==null||m.L.T==0)return;if(!p.Ya(this.ls))return;
this.ms.p(l.S$._P.length-1-l.S$.Te(m.L.T));var g=300*p.M(),K=[m.os(),new v(0,0,m.j,m.F)];I.Ez(K);while(Math.max(K[L+1].j,K[L+1].F)>g){L+=2}var r=K[L],R=K[L+1],Q=R.j,F=R.F,q=this.Dt;
q.width=Q;q.height=F;p.Wr(q,Q,F);var n=q.getContext("2d"),W=n.createImageData(Q,F);I.jR(r,W.data);n.putImageData(W,0,0);
var z=m.L.cV(),u=Q/m.j;n.scale(u,u);n.lineWidth=4/u;n.strokeStyle="#ff0000";n.strokeRect(z.x,z.y,z.j,z.F)};
pO.prototype.SI=function(m,g){};pO.prototype.Ba=function(){this.fo()};function Q$(m){if(m==null){ar.call(this);
return}var g=m.id;if(g==null)g="plg_"+m.name;ar.call(this,m.name,!1,m.icon,g);var L=p.Y("iframe","padded");
L.setAttribute("src",m.url);L.setAttribute("style","width:"+m.width+"px; height:"+m.height+"px");this.ls.appendChild(L)}Q$.prototype=new ar("");
function Qr(){Q$.call(this,{id:ar.ba.Ian,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAA////////////////////////////////////////////////////////////////////////////2EloEwAAABR0Uk5TAP8GD/MW0yBZ54Z4wEcvqbaVbqOHZj16AAACiklEQVR4nO2a2YKDIAwAixeeVdv//9fVrlWQgIAQHpp53LVmqomJlMeDIAiCIAjioGyrgkWnqNoSjl8jRN8cajA+VvgVwKBE+/4rhXoXWsz4jLWKQIUrUCkCqHdguQeKAG58xvQCuioNAW+vBdTsCMp8KRDx+688LwXixn+UJEACWAK86xvGmr7jSQT4eDzyRkkhRxGQRxtp/EAR6NiJDlcAGK2Oa4AgwIHGXux5gCAwqvGXTMQT4FB8xr6XIL6AkoH/fPMwvkAPC0xoAg0s0KAJwPH38/6AQPJbkDwJk5dh8gdR8kcxRjPKM+O/I7fjvF0KrapNDlEHEr6tI4wmg4gjWb6vY7xNBtGG0mw6Tjwbj+TdtI7l03ksvykgLSR1xkM13BM45fcLW+B5rnBwvTGeAFcb3eAskPkL5MBCXvHEE8jAZ7yzgb+AZiW14boPBBbQLmVX6qpWaVjo8hVQCkAwyOVDhyVXKm12egqUmknvQy89lF//f9QZ+Alk5pXs6TDIvguRhcbATwAsAIG9MeVHr9DUh5eAZs4U2BoTF69UAxr4CNj8lvNeM7GWMwWsUA8BQwEIFOOsJApQoR4CxgK44FyhPgKZ5k3Hjl4Zm5wF3nfiSxXqJ3BdABecR0dHgeFufGV0dBOwK4AL5N+AnATuFICANDq6CNwrAIHaU2CGT+fB4CXwChZfbI32AgEKQDB4OgtAb/k32FujrQA0g98z4E4C4ktoILbWaCkQrgAEg9xeIGABCHxao5VA0AIQWFujjUDgAhAYMxuB4AUgMFsIRCgAgfZaIPJ2nj2/tQJYkAAJkAAJkAAJKALJt3Qm39SafFtv8o3Nybd2p9/cnn57P0EQBEEQP8of0kskEgrfunYAAAAASUVORK5CYII="})}Qr.prototype=new Q$;
function QU(){ar.call(this,[9,12],!1,null,ar.ba.Wb);this.Tf=null;this.rE=new qx(l.FE);this.rE.parent=this;
var m=p.Y("div","padded");m.setAttribute("style","width:20em");this.ls.appendChild(m);m.appendChild(this.rE.WK)}QU.prototype=new ar("");
QU.prototype.Ba=function(){this.rE.eI(this.Tf.mt)};QU.prototype.SI=function(m,g){this.Tf=m;if(g==am.VA||g==am.Wb)this.rE.eI(m.mt)};
QU.prototype.Dj=function(m,g){this.rE.IvG(this.Tf._O)};QU.prototype.b=function(){ar.prototype.b.call(this);
this.rE.b()};function IO(){aO.call(this);this.K=0;this.$z=null;this.Q=p.Y("div","toolconf");this.rE=null;
this.sQ=null;this.body=new p.Y("div","body")}IO.prototype=new aO;IO.prototype.IGX=function(m,g){this.K=m;
this.$z=g;if(l.II[m]){var L=this.rE=new qx(m);this.Q.appendChild(L.Q);L.parent=this}else{this.sQ=p.Y("div");
this.Q.appendChild(this.sQ)}this.Q.appendChild(this.body);this.b()};IO.prototype.I$d=function(m,g){};
IO.prototype.IUO=function(m){};IO.prototype.SI=function(m,g){if(g==am.VA||g==am.Wb)if(this.rE)this.rE.eI(m.mt)};
IO.prototype.NA=function(m){};IO.prototype.b=function(){if(this.rE)this.rE.b();else this.sQ.innerHTML=p.cY(this.$z,null,"toolicon");
this.yy()};IO.prototype.yy=function(){};function Rl(m){IO.call(this);if(m==null)return;this.Tf=null;
this.qt={};for(var g=0;g<m.length;g++){var L=m[g],K=null;if(L=="brush"){K=new pg}if(L=="bmode"){K=new aW([12,19,0],ad.VT,!1,ad.Cb)}if(L=="bmode0"){K=new aW([12,19,0],ad.VT.slice(23),!1)}if(L=="emode"){K=new aW([12,36],[[9,3],[10,38]])}if(L=="opacity"){K=new R_([12,0],0,100,"%");
K.p(100)}if(L=="flow"){K=new R_([12,63],0,100,"%");K.p(100)}if(L=="smth"){K=new R_([19,3,0],0,100,"%");
K.p(0)}if(L=="samp"){K=new aW("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(L=="wconf"){K=new Dt;
K.p([40,!0,!0])}if(L=="strn"){K=new R_([12,64],1,100,"%");K.p(50)}if(L=="smode"){K=new aW([12,36],[[19,7,0],[19,7,1]]);
K.p(1)}if(L=="pdetail"){K=new au([12,65]);K.ef()}if(L=="rng"){K=new aW([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
K.p(1)}if(L=="expo"){K=new R_([12,5],0,100,"%");K.p(50)}if(L=="algnd"){K=new au([12,75]);K.p(!1)}if(L=="sfrom"){K=new aW([12,70],[[17,1],[17,3],[17,0]])}if(L=="alt"){K=new pC(null,["Alt"],!0,["Select Source"])}if(L=="qsmode"){K=new IC([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(L=="redge"){K=new aX([7,11],!1,null,!0)}if(L=="setop"){K=new DU}if(L=="patch"){K=new IC(null,[[12,70],[12,71]])}if(L=="prsr"){K=new pC(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
K.p([!1,!0])}K.parent=this;this.body.appendChild(K.Q);this.qt[L]=K;if(L=="brush")K.v(p.E.z,this.IIM,this);
else if(L=="redge")K.v("click",this.Vi,this);else K.v(p.E.z,this.SX,this)}}Rl.prototype=new IO;Rl.prototype.I$d=function(m,g){m=m[1];
var L=this.qt;if(m.Md)L.bmode.p(ad.kP.indexOf(m.Md.v.BlnM));if(m.Opct)L.opacity.p(m.Opct.v);if(m.flow)L.flow.p(m.flow.v);
if(m.Brsh)L.brush.p(m,g.Br.Rd,g.Br.jg);if(m.FrgC){var K=I.G.EX(m.FrgC.v),r=new Y(p.E.V,!0);r.data={P:p.o.VP,Su:am.Tc,Jj:0,U:K.u<<16|K.S<<8|K.R};
this.g(r)}this.IIM();this.SX()};Rl.prototype.IUO=function(){if(l.II[this.K]==null)return null;var m=this.qt,g=JSON.parse(JSON.stringify(m.brush.w()));
g.classID=l.II[this.K][1][0];if(m.bmode)g.Md={t:"enum",v:{BlnM:ad.kP[m.bmode.w()]}};if(m.opacity)g.Opct={t:"long",v:m.opacity.w()};
if(m.flow)g.flow={t:"long",v:m.flow.w()};var L=this.Tf.$q;L={u:L>>>16,S:L>>>8&255,R:L&255};g.FrgC={t:"Objc",v:I.G.h$(L)};
return["Brush Preset "+g.Brsh.v.Dmtr.v.val,g]};Rl.prototype.Vi=function(){var m=new Y(p.E.V,!0);m.data={P:p.o.My,OT:"redge"};
this.g(m)};Rl.prototype.yy=function(){for(var m in this.qt)this.qt[m].b()};Rl.prototype.NA=function(m){if(m.IBB=="showBrushOpts"){this.qt.brush.IDf(m.iW.x,m.iW.y)}for(var g in m.px){var L=m.px[g];
if(g!="qsmode")L*=100;if(this.qt[g])this.qt[g].p(L)}};Rl.prototype.SI=function(m,g){IO.prototype.SI.call(this,m,g);
this.Tf=m;var L=this.qt.brush;if(L==null)return;if(g==am.VA||g==am.FE)L.eI(m.Br);if(g==am.qv){L.p(m.Br.sz,m.Br.Rd,m.Br.jg)}};
Rl.prototype.IIM=function(){var m=new Y(p.E.V,!0);m.data={P:p.o.VP,Su:am.qv,cu:this.qt.brush.w()};this.g(m)};
Rl.prototype.SX=function(){var m=new Y(p.E.V,!0);m.data={P:p.o.Nv,K:this.K};for(var g in this.qt){if(g=="brush"||g=="redge")continue;
var L=this.qt[g].w();if(["opacity","flow","smth","strn","expo"].indexOf(g)!=-1)m.data[g]=L/100;else if(g=="bmode")m.data.bmode=ad.go[L];
else if(g=="bmode0")m.data.bmode=ad.go[23+L];else m.data[g]=L}this.g(m)};function Il(m){IO.call(this);
if(m)return;this.data={P:p.o.Nv,BF:"front",JE:0,Hu:[10,!0,!0],ee:{Dn:0,x:1,y:1}};this.Zt=new DU;this.body.appendChild(this.Zt.Q);
this.Zt.v(p.E.z,this.jj,this);this.z_=new R_([7,6],0,100," px");this.z_.parent=this;this.z_.p(0);this.body.appendChild(this.z_.Q);
this.z_.v(p.E.z,this.jj,this);this.sj=new aX([7,11],!1,null,!0);this.body.appendChild(this.sj.Q);this.sj.v("click",this.Vi,this)}Il.prototype=new IO;
Il.prototype.NA=function(m){if(m.BF!=null)this.Zt.p(m.BF);else{var g=Il.nq;if(g==null){var L=mq.Ixf(!0);
g=Il.nq=new mx(L.items,L.mI)}g.b();g.parent=this;g.update(m.Mw,m.ZS);var K=new Y(p.E.V,!0);K.data={P:p.o.xW,Mt:g,x:m.DL.zv+2,y:m.DL.hp+1};
this.g(K)}};Il.prototype.yy=function(){this.z_.b();this.Zt.b();this.sj.b()};Il.prototype.Vi=function(){var m=new Y(p.E.V,!0);
m.data={P:p.o.My,OT:"redge"};this.g(m)};Il.prototype.jj=function(){var m=new Y(p.E.V,!0);this.data.K=this.K;
this.data.BF=this.Zt.w();this.data.JE=this.z_.w();m.data=this.data;this.g(m)};function QH(){Rl.call(this,["brush","strn"])}QH.prototype=new Rl;
function Qu(){Rl.call(this,"brush bmode opacity flow smth prsr".split(" "))}Qu.prototype=new Rl;function Qd(){Rl.call(this,["brush","bmode0","samp","wconf"])}Qd.prototype=new Rl;
function QW(){Rl.call(this,["brush"])}QW.prototype=new Rl;function Qc(){Rl.call(this,"brush bmode opacity flow smth prsr".split(" "))}Qc.prototype=new Rl;
function QY(){Rl.call(this,["brush","rng","expo"])}QY.prototype=new Rl;function QN(){Rl.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}QN.prototype=new Rl;
function qq(m){IO.call(this);if(m==null)return;var g=p.Y("span","fitem");this.body.appendChild(g);var L=[[17,0],[17,1],[11,12,0],[17,2]];
this.LW=[];for(var K=0;K<L.length;K++){var r=new aX(L[K],!1,null,!0);this.LW.push(r);r.v("click",this.IGh,this);
if(!m||K==1)g.appendChild(r.Q)}this.ee=new pn;this.ee.v(p.E.z,this.IGr,this);if(!m)this.body.appendChild(this.ee.Q);
this.la=new Dm;this.la.v("click",this.XC,this)}qq.prototype=new IO;qq.prototype.yy=function(){this.la.b();
for(var m=0;m<this.LW.length;m++)this.LW[m].b();this.ee.b()};qq.prototype.NA=function(m){var g=this.la.Q;
if(m.ki)this.body.appendChild(g);else if(this.body.contains(g))this.body.removeChild(g);if(m.ee)this.ee.p(m.ee)};
qq.prototype.XC=function(m){var g={P:p.o.Nv,K:this.K,Jw:this.la.w()?"commit":"cancel"},L=new Y(p.E.V,!0);
L.data=g;this.g(L)};qq.prototype.IGh=function(m){m.target.Q.blur();var g={P:p.o.Nv,K:this.K,Jw:"cropby",ICI:this.LW.indexOf(m.target)},L=new Y(p.E.V,!0);
L.data=g;this.g(L)};qq.prototype.IGr=function(m){var g={P:p.o.Nv,K:this.K,Jw:"config",rm:{QE:this.ee.w()}},L=new Y(p.E.V,!0);
L.data=g;this.g(L)};function QP(){qq.call(this,!1)}QP.prototype=new qq;function Qy(){qq.call(this,!0)}Qy.prototype=new qq;
function Qs(){Rl.call(this,["brush","rng","expo"])}Qs.prototype=new Rl;function Qz(){Rl.call(this,"brush emode opacity flow smth prsr".split(" "))}Qz.prototype=new Rl;
function Qt(){Rl.call(this,["brush","samp","wconf"])}Qt.prototype=new Rl;function Qf(){Il.call(this);
this.ee=new pn;this.ee.v(p.E.z,this.Vv,this);this.body.appendChild(this.ee.Q)}Qf.prototype=new Il(!0);
Qf.prototype.Vv=function(m){this.data.ee=this.ee.w();this.jj()};Qf.prototype.yy=function(){Il.prototype.yy.call(this);
this.ee.b()};function jU(){IO.call(this);this.pj=new aW([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.pj.v(p.E.z,this.SX,this);this.body.appendChild(this.pj.Q)}jU.prototype=new IO;jU.prototype.SX=function(m){var g=new Y(p.E.V,!0);
g.data={P:p.o.Nv,K:this.K,zT:[1,3,5,11,31][this.pj.w()]};this.g(g)};jU.prototype.yy=function(){this.pj.b()};
function Qo(){IO.call(this);this.Tq=new jc(!1);this.Tq.parent=this;this.Tq.v(p.E.z,this.cO,this);this.body.appendChild(this.Tq.Q);
this.Tq.p(JSON.parse(aU.cT.IUQ).v);this.pJ=new aW(null,aU.G.names.slice(0,5));this.pJ.v(p.E.z,this.cO,this);
this.body.appendChild(this.pJ.Q);this.pn=new aW([12,19,0],ad.VT,null,ad.Cb);this.pn.v(p.E.z,this.cO,this);
this.body.appendChild(this.pn.Q);this.TC=new R_([12,0],0,100,"%");this.TC.parent=this;this.TC.v(p.E.z,this.cO,this);
this.body.appendChild(this.TC.Q);this.TC.p(100);this.ph=new au([12,23,0]);this.ph.v(p.E.z,this.cO,this);
this.body.appendChild(this.ph.Q);this.pV=new au("Dither");this.pV.v(p.E.z,this.cO,this);this.body.appendChild(this.pV.Q)}Qo.prototype=new IO;
Qo.prototype.yy=function(){this.pJ.b();this.pn.b();this.TC.b();this.ph.b();this.pV.b()};Qo.prototype.SI=function(m,g){IO.prototype.SI.call(this,m,g);
var L=g==am.Tc;this.Tq.Ew(m.$q,m._Q);if(L||g==am.nV||g==am.VA)this.Tq.eI(m.jh)};Qo.prototype.cO=function(){var m=new Y(p.E.V,!0);
m.data={P:p.o.Nv,K:this.K};m.data.Su={G:this.Tq.w(),Wx:aU.G.types[this.pJ.w()],xp:this.ph.gF(),Ivx:this.pV.gF(),Ivz:ad.go[this.pn.w()],aC:this.TC.w()/100};
this.g(m)};function jq(){IO.call(this)}jq.prototype=new IO;function jQ(){Rl.call(this,["brush","algnd","sfrom","alt"])}jQ.prototype=new Rl;
function QM(){IO.call(this);this.ku=new mA;this.ku.parent=this;this.body.appendChild(this.ku.wp.Q);this.body.appendChild(this.ku.wo.Q);
this.body.appendChild(this.ku.LQ.Q);var m=p.Y("span","fitem");this.body.appendChild(m);m.appendChild(this.ku.No.Q);
m.appendChild(this.ku.NS.Q);m.appendChild(this.ku.NT.Q);this.kd=new aX([11,9],!1,null,!0);this.kd.v("click",this.IGK,this);
this.body.appendChild(this.kd.Q);this.la=new Dm;this.la.v("click",this.XC,this)}QM.prototype=new IO;
QM.prototype.yy=function(){this.la.b();this.ku.b();this.kd.b()};QM.prototype.IGK=function(m){var g={P:p.o.Nv,K:this.K,Jw:"showwarp"},L=new Y(p.E.V,!0);
L.data=g;this.g(L)};QM.prototype.NA=function(m){if(m.Jw=="showactive")this.body.appendChild(this.la.Q);
if(m.Jw=="hideactive")this.body.removeChild(this.la.Q)};QM.prototype.SI=function(m,g){IO.prototype.SI.call(this,m,g);
if(g!=am.VA&&g!=am.mP&&g!=am.Iw&&g!=am.pD)return;this.ku.p(m.XT,m.dd,m.sZ)};QM.prototype.XC=function(m){var g={P:p.o.Nv,K:this.K,Jw:this.la.w()?"commit":"cancel"},L=new Y(p.E.V,!0);
L.data=g;this.g(L)};function ja(){Il.call(this)}ja.prototype=new Il(!0);function Qe(){IO.call(this);
var m=[],L="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.nJ=new au([12,85]);this.nJ.v(p.E.z,this.SX,this);m.push(this.nJ.Q);this.nG=new au([20,1]);this.nG.v(p.E.z,this.SX,this);
m.push(this.nG.Q);this.nT=new au([12,83]);this.nT.v(p.E.z,this.SX,this);m.push(this.nT.Q);var g=p.Y("span","fitem");
m.push(g);this.ILC=new aW("Scale for exported files",["1x","2x","3x","4x"],!0);g.appendChild(this.ILC.Q);
this.sa=new aX(L+" PNG",!1,null,!0);g.appendChild(this.sa.Q);this.sa.v("click",this.VZ,this);this.ILN=new aX(L+" SVG",!1,null,!0);
g.appendChild(this.ILN.Q);this.ILN.v("click",this.VZ,this);var K=p.Y("span","fitem");m.push(K);var r=p.Y("span","fitem");
m.push(r);this.Sc=[];for(var R=0;R<8;R++){var Q=R==3||R==7?[20,4,6]:[20,4,R<3?R:R-1],F=new aX("Hi",!1,Q);
(R<4?K:r).appendChild(F.Q);F.v("click",this.VZ,this);this.Sc.push(F)}for(var R=0;R<m.length;R++)this.body.appendChild(m[R]);
this.ILb=m}Qe.prototype=new IO;Qe.prototype.NA=function(m){var g=m.ky,L=m.IBy;this.nJ.p(g.uW);this.nG.p(g.dj);
this.nT.p(g.nO);if(L){p.Lj(this.body);for(var K=0;K<L.length;K++)if(L[K]==1&&this.ILb[K])this.body.appendChild(this.ILb[K])}};
Qe.prototype.VZ=function(m){var g=this.Sc.indexOf(m.target),L;if(g==-1){L=new Y(p.E.V,!0);L.data={P:p.o.Nv,K:this.K,Jj:m.target==this.sa?"getPNG":"getSVG",IEI:this.ILC.w()+1}}else{L=new Y(p.E.B,!0);
L.K=l.Kb;L.data={P:"algn",U:g}}this.g(L)};Qe.prototype.SX=function(m){var g=new Y(p.E.V,!0);g.data={P:p.o.Nv,K:this.K,Jj:"prms",uW:this.nJ.gF(),dj:this.nG.gF(),nO:this.nT.gF()};
this.g(g)};Qe.prototype.yy=function(){this.nJ.b();this.nG.b();this.nT.b();var m="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var g=0;g<8;g++){this.Sc[g].dv(p.cY("align/"+m[g],null,"autoscale"))}};function jm(){Il.call(this);
var m=this.ks=new Dt;m.parent=this;m.v(p.E.z,this.IGW,this);this.body.appendChild(m.Q)}jm.prototype=new Il(!0);
jm.prototype.IGW=function(m){this.data.Hu=this.ks.w();this.jj()};jm.prototype.yy=function(){Il.prototype.yy.call(this);
this.ks.b()};function jp(){Rl.call(this,["setop","patch"])}jp.prototype=new Rl;function jD(){Rl.call(this,["bmode","opacity","wconf"])}jD.prototype=new Rl;
function jx(){Il.call(this)}jx.prototype=new Il(!0);function jw(){Il.call(this)}jw.prototype=new Il(!0);
function jL(){Il.call(this);this.ee=new pn;this.ee.v(p.E.z,this.Vv,this);this.body.appendChild(this.ee.Q)}jL.prototype=new Il(!0);
jL.prototype.Vv=function(m){this.data.ee=this.ee.w();this.jj()};jL.prototype.yy=function(){Il.prototype.yy.call(this);
this.ee.b()};function jI(){IO.call(this);this.rv=[new RZ("X",null,3),new RZ("Y",null,3),new RZ("W",null,3),new RZ("H",null,3),new RZ([12,15],null,4),new RZ([12,80,0],null,4),new aX([15,7,6],!1,null,!0)];
for(var m=0;m<this.rv.length;m++){var g=this.rv[m];this.body.appendChild(g.Q)}this.rv[6].v("click",this.IGc,this);
this.pF=0}jI.prototype=new IO;jI.prototype.IGc=function(m){if(this.pF==0){return}var g=new Y(p.E.B,!0);
g.K=l.Zo;g.data={P:"rot",Is:[2,5],U:-this.pF};this.g(g)};jI.prototype.NA=function(m){var g=m.Iha,L=m.oQ,K=L.x-g.x,r=L.y-g.y,R=this.rv;
this.pF=-Math.atan2(r,K);R[0].p(g.x);R[1].p(g.y);R[2].p(K);R[3].p(r);R[4].p((this.pF*180/Math.PI).toFixed(2));
R[5].p(Math.sqrt(K*K+r*r).toFixed(2))};jI.prototype.yy=function(){var m=this.rv;for(var g=0;g<m.length;
g++)m[g].b();p.YP(m[2],m[3])};function jl(){Rl.call(this,["brush","strn","pdetail"])}jl.prototype=new Rl;
function jG(){Rl.call(this,["brush"]);this.IJQ=[];var m=[[7,12]];for(var g=0;g<m.length;g++){var L=new aX(m[g],!1,null,!0);
this.IJQ.push(L);L.parent=this;this.body.appendChild(L.Q);L.v("click",this.Ioj,this)}}jG.prototype=new Rl;
jG.prototype.Ioj=function(m){var g=this.IJQ.indexOf(m.currentTarget),L=new Y(p.E.VG,!0);L.data=l.jx._W("contentAware");
this.g(L)};function jo(){Rl.call(this,["brush","strn"])}jo.prototype=new Rl;function jT(){Rl.call(this,["brush","flow","smode"])}jT.prototype=new Rl;
function QC(){IO.call(this);this.eb=!1;var m=p.Y("span","fitem");this.body.appendChild(m);this.n_=new IC(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
m.appendChild(this.n_.Q);this.n_.v(p.E.z,this.SX,this);this.pH=new aX([20,2]);this.body.appendChild(this.pH.Q);
this.pH.v("click",this.IqR,this);this.sR=new aX([20,3]);this.body.appendChild(this.sR.Q);this.sR.v("click",this.IqR,this)}QC.prototype=new IO;
QC.prototype.yy=function(){this.pH.b();this.sR.b()};QC.prototype.SX=function(){var m={P:p.o.Nv,K:this.K,bt:this.n_.w()==0},g=new Y(p.E.V,!0);
g.data=m;this.g(g)};QC.prototype.NA=function(m){if(this.eb!=m.eb)this.n_.p(1-this.n_.w());this.eb=m.eb};
QC.prototype.IqR=function(m){var g=new Y(p.E.B,!0);g.K=l.ei;g.data={P:"adapt",U:m.target==this.pH?"pixel":"fitscr"};
this.g(g)};function Rz(m,g){IO.call(this);if(m==null)return;this.qt={};var L=[[12,76,0],[12,76,1]];if(g==null)L.push([12,76,2]);
for(var K=0;K<m.length;K++){var r=m[K],R=null;if(r=="tmode"){R=new aW(null,L);R.p(1)}if(r=="binop"){R=new aW(null,[[18,1],[18,2],[18,3],[18,4]]);
R.Mp()}if(r=="pshape")R=new aW(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(r=="shape")R=new mG([12,76,1]);
if(r=="crad"){R=new R_([12,94,0],0,50,"px");R.p(0)}if(r=="cstr"){R=new pn}if(r=="irad"){R=new R_([12,94,1],0,100,"%");
R.p(40)}if(r=="length"){R=new R_([12,80,0],4,40);R.p(4)}if(r=="sides"){R=new R_([12,78],3,30);R.p(5)}if(r=="width"){R=new R_([12,41],1,100,"px");
R.p(5)}if(r=="tsiz"){R=new R_("Tip Size",100,500,"%");R.p(300)}if(r=="tolr"){R=new R_([12,24],0,100);
R.p(5)}if(r=="fstyle"){R=new I$([12,26])}if(r=="sstyle"){R=new pH}if(r=="psnap"){R=new au([8,10])}R.parent=this;
this.body.appendChild(R.Q);this.qt[r]=R;R.v(p.E.z,this.SX,this)}}Rz.prototype=new IO;Rz.prototype.NA=function(m){var g=Rz.nq;
if(g==null)g=Rz.nq=new mx([{name:"Make Selection"}],[{C:p.E.B,K:l.eS,n:{P:"frompath",tK:[null,0,0]}}]);
g.parent=this;g.update(m.Mw,m.ZS);var L=new Y(p.E.V,!0);L.data={P:p.o.xW,Mt:g,x:m.DL.zv+2,y:m.DL.hp+1};
this.g(L)};Rz.prototype.IqL=function(m){return null};Rz.prototype.ImQ=function(){if(this.qt.pshape==null)return;
var m=this.IqL(this.qt.pshape.w());if(m==null)return;p.Lj(this.body);for(var g=0;g<m.length;g++){var L=m[g];
this.body.appendChild(this.qt[L].Q)}};Rz.prototype.yy=function(){for(var m in this.qt){this.qt[m].b()}};
Rz.prototype.SX=function(m){var g=new Y(p.E.V,!0);if(m.target==this.qt.fstyle){g.data={P:p.o.VP,Su:am.Ej,U:this.qt.fstyle.w()};
this.g(g);return}if(m.target==this.qt.sstyle){g.data={P:p.o.VP,Su:am.mf,U:this.qt.sstyle.w()};this.g(g);
return}if(this.qt.tmode&&this.qt.binop){if(this.qt.tmode.w()==0)this.qt.binop.eo();else this.qt.binop.Mp()}g.data={P:p.o.Nv,K:this.K};
for(var L in this.qt)if(L!="sstyle")g.data[L]=this.qt[L].w();this.g(g);if(m.target==this.qt.pshape)this.ImQ()};
Rz.prototype.SI=function(m,g){IO.prototype.SI.call(this,m,g);var L=this.qt.fstyle,K=this.qt.sstyle;if(L)L.SI(m,g);
if(K)K.SI(m,g);if(g==am.VA||g==am.Ip)if(m.ON.length!=0&&this.qt.shape){this.qt.shape.eI(m.ON)}if(g==am.VA||g==am.Ej)if(L)L.p(null,m.Ov,m.Ilz);
if(g==am.VA||g==am.mf)if(K)K.p(null,m.OM,m.IGU)};function jk(){Rz.call(this,["tmode","fstyle","sstyle","binop"],!0)}jk.prototype=new Rz;
function jO(){Rz.call(this,["tmode","fstyle","sstyle","binop","tolr"])}jO.prototype=new Rz;function jJ(){Rz.call(this,["fstyle","sstyle"]);
this.IBu=null;this.IoG=null;this.IoV=null;this.gh=new aW("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.uF=new aX("\u25BC");this.uF.ef();this.gd=new aX("\u25B2");this.gd.ef();this.sm=[this.gh,this.uF,this.gd];
for(var m=0;m<this.sm.length;m++){var g=this.sm[m];this.body.appendChild(g.Q);g.parent=this;g.v(m==0?p.E.z:"click",this.Qy,this)}}jJ.prototype=new Rz;
jJ.prototype.NA=function(m){if(m.Jw=="main"){var g=this.sm,L=m.ob;if(L&&L.N.length==1){this.IoG=L.clone();
this.IoV=JSON.stringify(m.xV);var K=L.N[0],r=I.q.GM(L.W);this.gh.eo();if(K>0)this.uF.eo();else this.uF.Mp();
if(K<r-1)this.gd.eo();else this.gd.Mp();var R=I.q._B(L.W,K),Q=L.W[R];this.gh.dv("Path "+(K+1));this.gh.p([3,0,1,2][Q.au])}else{for(var F=0;
F<g.length;F++)g[F].Mp()}}else Rz.prototype.NA.call(this,m)};jJ.prototype.yy=function(){Rz.prototype.yy.call(this);
this.gh.b()};jJ.prototype.Qy=function(m){if(m.target==this.gh||m.target==this.uF||m.target==this.gd){var g={},L=this.IoG,K=L.W,r=JSON.parse(this.IoV),R=L.N[0],Q=I.q._B(K,R),F=K[Q];
if(m.target==this.gh){var q=this.gh.w();if(q<4)F.au=[1,2,3,0][q];else{if(I.q.GM(K)<=1)return;L.W=I.q.Lc(K);
L.N=L.W.length==2?[]:[0];L.Gm=[];r=[I.xV.ae()]}}else{var n=m.target==this.uF?-1:1,W=Math.min(R,R+n),z=Math.max(R,R+n),u=I.q._B(K,W),N=I.q._B(K,z);
if(u==-1||N==-1)return;var b=N+I.q.Ls(K,z),B=r[W];r[W]=r[z];r[z]=B;var h=K.slice(0,u),A=K.slice(u,N),e=K.slice(N,b),c=K.slice(b);
L.W=h.concat(e.concat(A.concat(c)));L.N[0]+=n}g.ob=L;g.xV=r;var a=new Y(p.E.V,!0);a.data={P:p.o.Nv,K:this.K,tK:g};
this.g(a)}};function j_(){Rz.call(this,["fstyle","sstyle","psnap"])}j_.prototype=new Rz;function je(){Rz.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}je.prototype=new Rz;
function jC(){Rz.call(this,["tmode","fstyle","sstyle","binop","cstr"])}jC.prototype=new Rz;function jv(){Rz.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.Imt=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.ImQ()}jv.prototype=new Rz;
jv.prototype.IqL=function(m){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.Imt[m])};
function jZ(){Rz.call(this,["tmode","fstyle","sstyle","binop","width"])}jZ.prototype=new Rz;function jn(){Rz.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}jn.prototype=new Rz;
function jE(){Il.call(this)}jE.prototype=new Il(!0);function jX(){Rl.call(this,["brush","qsmode","redge"])}jX.prototype=new Rl;
function jB(){IO.call(this)}jB.prototype=new IO;function jh(){IO.call(this);this.uF=new aX("\u25BC");
this.uF.ef();this.gd=new aX("\u25B2");this.gd.ef();var RJ=[this.uF,this.gd];for(var m=0;m<2;m++){var g=RJ[m];
this.body.appendChild(g.Q);g.v("click",this.Qy,this)}}jh.prototype=new IO;jh.prototype.Qy=function(m){var g=new Y(p.E.V,!0);
g.data={P:p.o.Nv,K:this.K,Jj:"reorder",dir:m.target==this.uF?-1:1};this.g(g)};function mT(m){IO.call(this);
if(window.Typr==null||m)return;this.jc=null;this.ITQ=p.Y("span","");this.ITi=p.Y("span","");var g=1;
this.Vx={Eo:new jz(null,24),x_:new R_("X",0,0,"px",0,!1,!0,4),xs:new R_("Y",0,0,"px",0,!1,!0,4),uD:new R_("W",0,0,["%","px"],0,!1,!0,4),It:new aX("\u2261",null,[12,51],null),dZ:new R_("H",0,0,["%","px"],0,!1,!0,4),Imf:new R_("\u2221",0,0,"\xB0",g,!1,!0),Ipj:new R_("\u25B1 X",-85,85,"\xB0",g,!1,!0),Ip_:new R_("\u25B1 Y",-85,85,"\xB0",g,!1,!0),RT:new aW(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.Vx.RT.p(1);for(var L in this.Vx){this.ITQ.appendChild(this.Vx[L].Q);var K=this.Vx[L]==this.Vx.It?"click":p.E.z;
this.Vx[L].v(K,this.Iop,this)}this.ks=new qU(!0,!0,!0);this.ks.v(p.E.z,this.IoC,this);this.ks.parent=this;
var r=this.ITi,R=this.ks;r.appendChild(R.rt.Q);r.appendChild(R.JR.Q);r.appendChild(R.Fa.Q);r.appendChild(R.Fm.Q);
r.appendChild(R.Fo.Q);this.kd=new aX([11,9]);this.kd.v("click",this.Iov,this);this.la=new Dm;this.la.v("click",this.XC,this)}mT.prototype=new IO;
mT.prototype.NA=function(m){if(m.DL){var g=mT,L=g.nq;if(L==null)L=g.nq=new mx(g.Imx(),g.ImO());L.b();
L.parent=this;L.update(m.Mw,m.ZS);var K=new Y(p.E.V,!0);K.data={P:p.o.xW,Mt:L,x:m.DL.zv+2,y:m.DL.hp+1};
this.g(K);return}p.Lj(this.body);this.jc=m;if(m.Vx){var r=m.Vx.l,R=m.Vx.za.clone(),Q=Math.atan2(-R.R,R.Wh),F=new aC;
F.rotate(-Q);R.concat(F);var q=this.Vx;q.Eo.p(m.Vx.cQ);q.x_.p(m.Vx.mB.x);q.xs.p(m.Vx.mB.y);q.uD.p(R.Wh*(q.uD.$U()=="%"?100:r.j));
q.dZ.p(R.$Y*(q.dZ.$U()=="%"?100:r.F));q.Imf.p(-Q*180/Math.PI);q.Ipj.p(0*180/Math.PI);q.Ip_.p(Math.atan(R.OS)*180/Math.PI);
this.body.appendChild(this.ITQ);this.kd.Ec()}if(m.tE){this.ks.p(m.tE);this.body.appendChild(this.ITi);
this.kd.ef()}this.body.appendChild(this.la.Q);if(m.IhC)this.body.appendChild(this.kd.Q)};mT.prototype.Iop=function(m){var g=this.Vx,L=this.jc.Vx.l;
if(m.target==g.It)g.It.p(!g.It.w());if(g.It.gF()){var K=g.dZ,r=g.uD,R=L.F,Q=L.j;if(m.target==g.uD){K=g.uD;
r=g.dZ;R=L.j;Q=L.F}var F=K.w()/(K.$U()=="%"?100:R);F*=r.$U()=="%"?100:Q;r.p(F)}var q=[];for(var n in g)if(g[n]!=g.It&&g[n]!=g.Eo){var F=g[n].w();
if((g[n]==g.uD||g[n]==g.dZ)&&F==0){F=.1;g[n].p(F)}if(g[n]==g.uD&&g[n].$U()=="px")F/=L.j/100;if(g[n]==g.dZ&&g[n].$U()=="px")F/=L.F/100;
q.push(F)}var W=new jf(q[0],q[1]);if(m.target==g.Eo){this.Xg({Jw:"ctyp",cQ:g.Eo.w()})}else if(m.target==g.x_||m.target==g.xs){this.Xg({Jw:"cen",mB:W})}else{var z=this.jc.Vx.za.clone(),u=z.clone(),N=Math.atan2(-z.R,z.Wh);
u.translate(-W.x,-W.y);u.rotate(-N);var b=new aC(u.Wh,u.R,u.OS,u.$Y,0,0);b.eb();u.concat(b);u.concat(new aC(q[2]/100,Math.tan(q[5]*Math.PI/180),Math.tan(q[6]*Math.PI/180),q[3]/100,0,0));
u.rotate(-q[4]*Math.PI/180);u.translate(W.x,W.y);this.jc.Vx.za=u;this.Xg({Jw:"trn",Vx:u,uj:this.Vx.RT.w()})}};
mT.prototype.IoC=function(m){this.Xg({Jw:"wrp",tE:this.ks.w()})};mT.prototype.Iov=function(m){this.Xg({Jw:"switchWarp"})};
mT.prototype.XC=function(m){this.Xg({Jw:this.la.w()?"commit":"cancel"})};mT.prototype.Xg=function(m){m.P=p.o.Nv;
m.K=this.K;var g=new Y(p.E.V,!0);g.data=m;this.g(g)};mT.prototype.yy=function(){var m=this.Vx;for(var g in m)m[g].b();
p.YP(m.uD,m.dZ);this.la.b();this.ks.b();this.kd.b()};mT.Imx=function(){return[{name:[5,9],cP:"Shift+Alt+Ctrl + T",Oo:!0},{name:[2,9]},{name:[11,9],$:function(m){if(m==null||m.N.length!=1)return{$:!1};
var g=m._[m.N[0]];return{$:g.add.TySh==null&&!g.EY()}},Oo:!0},{name:"90\xB0 \u21BB",$:function(m){return{Bt:aT.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",$:function(m){return{Bt:aT.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",$:function(m){return{Bt:aT.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
mT.ImO=function(){return[{C:p.E.B,K:l.Zo,n:{P:"again"}},{C:p.E.V,n:{P:p.o.RI,K:l.Zo,ky:{BM:1}}},{C:p.E.V,n:{P:p.o.RI,K:l.Zo,ky:{BM:2}}},{C:p.E.B,K:l.Zo,n:{P:"rot",Is:[2,5],U:-Math.PI/2}},{C:p.E.B,K:l.Zo,n:{P:"rot",Is:[2,5],U:-3*Math.PI/2}},{C:p.E.B,K:l.Zo,n:{P:"rot",Is:[2,5],U:Math.PI}},{C:p.E.B,K:l.Zo,n:{P:"scl",Is:[2,6,[22,4,2]],U:new jf(-1,1)}},{C:p.E.B,K:l.Zo,n:{P:"scl",Is:[2,6,[22,4,3]],U:new jf(1,-1)}}]};
function j$(){mT.call(this)}j$.prototype=new mT(!0);function jr(){mT.call(this)}jr.prototype=new mT(!0);
function Q_(){IO.call(this);var m=this.Zm=[new aW([12,36],["Rigid",[15,10,0],[24,4]]),new aW([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new R_([7,4],0,100,"px"),new au("Show Mesh"),new aX("\u25BC",null,null,!0),new aX("\u25B2",null,null,!0)];
for(var g=0;g<m.length;g++){var L=m[g];L.parent=this;this.body.appendChild(L.Q);L.v(g<4?p.E.z:"click",this.IoZ,this)}this.la=new Dm;
this.la.v("click",this.XC,this);this.body.appendChild(this.la.Q)}Q_.prototype=new IO;Q_.prototype.yy=function(){var m=this.Zm;
for(var g=0;g<4;g++)m[g].b();this.la.b()};Q_.prototype.NA=function(m){var m=m.Su;for(var g=0;g<4;g++)this.Zm[g].p(m[g])};
Q_.prototype.IoZ=function(m){var g=[];for(var L=0;L<4;L++)g[L]=this.Zm[L].w();var K=this.Zm.indexOf(m.target);
if(K<4)this.Xg({Jw:"prm",Su:g});else this.Xg({Jw:"moveDepth",Ihy:K==5})};Q_.prototype.XC=function(m){this.Xg({Jw:this.la.w()?"commit":"cancel"})};
Q_.prototype.Xg=function(m){m.P=p.o.Nv;m.K=this.K;var g=new Y(p.E.V,!0);g.data=m;this.g(g)};function qN(){aO.call(this);
this.Q=p.Y("div","cmanager");this.uP=0;this.PC=0;this.Tm=[];this.sD={};this.sx=p.Y("div","alertcont");
this.Q.appendChild(this.sx);this.ITV=p.Y("div","alertcont");this.Q.appendChild(this.ITV);this.zE=p.Y("div","alertcont");
this.ITF=0;this.zX=-1;this.ITg=null;this.eY=null;var m=this.Ihp=p.Y("div","alertpanel");m.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.zE.appendChild(m);var g=this.Ym=p.Y("input");g.setAttribute("type","text");g.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
g.addEventListener("input",this.Iod.bind(this),!1);g.addEventListener("keydown",this.IoW.bind(this),!1);
m.appendChild(g);var L=this.Iiq=p.Y("div","contextpanel scrollable");L.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
L.addEventListener("click",this.Ioc.bind(this),!1);m.appendChild(L);p.yG(document.body,this.Iof.bind(this))}qN.prototype=new aO;
qN.prototype.VE=function(){if(p.Ya(this.zE))this.Q.removeChild(this.zE)};qN.prototype.Ior=function(m,g){var L=this.ITg=[];
for(var K=0;K<mq.data.length;K++){var r=mq.data[K],R=[aT.get(r.name)],Q=[K];qN.Imc(r.items,R,Q,L,m,g)}var F=IH.Bl;
for(var K=0;K<F.length;K+=3){L.push([["Tools",aT.get(F[K])],[-1,F[K+2]]])}this.Q.appendChild(this.zE);
var q=this.Ym;q.focus();q.select();this.fo()};qN.prototype.Iod=function(m){this.zX=-1;this.fo()};qN.prototype.fo=function(){var m=this.Ym.value.toLowerCase().trim().replace(/  +/g," "),g=this.ITg,L=[],K=[],r=m.split(" ");
if(m!="")for(var R=0;R<g.length;R++){var Q=g[R][0],F=[],q=0;for(var n=0;n<Q.length;n++)F[n]=-1;for(var W=0;
W<r.length;W++)for(var n=0;n<Q.length;n++){var z=Q[n].toLowerCase().indexOf(r[W]);if(z!=-1){F[n]=[z,z+r[W].length];
q++;break}}if(q==r.length){L.push(g[R]);K.push(F)}}var u=[],N=this.Iiq;p.Lj(N);for(var R=0;R<L.length;
R++){var b=L[R][0],z=K[R],B="enab",A="";if(R==this.zX)B+=" active";var h=p.Y("div",B);u.push(h);N.appendChild(h);
for(var n=0;n<b.length;n++){var e=z[n],c=r[n],a=b[n];if(e!=-1)a=a.slice(0,e[0])+"<span style=\"color:black\">"+a.slice(e[0],e[1])+"</span>"+a.slice(e[1]);
A+=a;if(n<b.length-1)A+=" \uFE65 "}h.innerHTML=A}this.eY=[L,u]};qN.prototype.IoW=function(m){var g=C.Bf,L=m.code;
if(g(L,C.rw))this.VE();var K=g(L,C.pA),r=g(L,C.py),R=g(L,C.xI);if(K||r){this.zX=Math.max(0,Math.min(this.eY[0].length-1,this.zX+(K?-1:1)));
this.fo()}if(R&&this.zX!=-1)this.IpY(this.zX)};qN.Imc=function(m,g,L,K,r,R){for(var Q=0;Q<m.length;Q++){var F=m[Q],q=g.slice(0),n=L.slice(0),W=aT.get(F.name);
if(F.$){var z=F.$(r,R,Q);if(z.Bt)W=z.Bt;if(z.$==!1)continue}q.push(W);n.push(Q);if(F.sub)qN.Imc(F.sub,q,n,K,r,R);
else K.push([q,n])}};qN.prototype.Ioc=function(m){var g=m.target;if(g.tagName.toLowerCase()=="span")g=g.parentNode;
var L=this.eY[1].indexOf(g);if(L!=-1)this.IpY(L)};qN.prototype.IpY=function(m){var g=this.eY[0][m][1];
if(g[0]==-1){var L=new Y(p.E.V,!0);L.data={P:p.o.RI,K:g[1]};this.g(L)}else{var K=mq.data[g[0]].mI[g[1]];
for(var r=2;r<g.length;r++)K=K.sub[g[r]];var R=new Y(K.C,!0);R.K=K.K;R.data=K.n;this.g(R)}this.VE()};
qN.prototype.Dj=function(m,g){this.uP=m;this.PC=g;this.Iiq.style["max-height"]=g-120+"px"};qN.prototype.Ioy=function(m){var g=p.Y("div","alertpanel");
g.textContent=aT.get(m);this.sx.appendChild(g);this.sD[JSON.stringify(m)]=g};qN.prototype.Iot=function(m){var g=this.sD[JSON.stringify(m)];
this.sx.removeChild(g);delete this.sD[JSON.stringify(m)]};qN.prototype.alert=function(m,g){var L=this.ITV;
for(var K=0;K<L.children.length;K++)if(L.children[K].textContent==m)return;var r=p.Y("div","alertpanel tpanel");
r.textContent=m;r.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");L.appendChild(r);if(g==null)g=1500;
var R=g,Q=Math.max(Date.now()+R,this.ITF+R);setTimeout(function(){r.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){L.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},Q-Date.now()-30);
setTimeout(function(){L.removeChild(L.firstChild);L.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},Q-Date.now());
this.ITF=Q};qN.prototype.Iof=function(m){var g=this.Tm;for(var L=g.length-1;L>=0;L--){var K=g[L],r=m.target;
while(r!=null){if(r==K.Q){this.lA(K);return}r=r.parentNode}}this.lA();var R=m.target;while(R!=this.zE&&R!=document.body)R=R.parentNode;
if(R!=this.zE)this.VE()};qN.prototype.lA=function(m){var g=this.Tm;for(var L=0;L<g.length;L++){if(m&&m.ICo(g[L]))continue;
var K=g[L].Q;K.style.height="auto";p.Av(K,"scrollable");this.Q.removeChild(K);g.splice(L,1);L--}};qN.prototype.ITl=function(m){this.lA(m.Mt);
var g=m.Mt,L=g.Q;if(this.Tm.indexOf(g)!=-1)return;this.Tm.push(g);this.Q.appendChild(g.Q);var K=this.uP,r=this.PC,R=m.x,Q=m.y,F=this.Q.getBoundingClientRect(),q=g instanceof mx;
if(q||m.Ijq){var n=g.ZZ(),W=g.Iir();if(q)n=Math.min(n,200);if(Q+W<r){R=Math.min(R,K-n-5)}else{if(R+n<K){Q=Math.min(Q,r-W-5)}else if(W<Q){Q=Q-W-2;
R=Math.min(R,K-n-5)}else{R=R-n;Q=Math.min(Q,r-W-5)}}if(m.IRw)Q=Math.max(2,m.y-W-2);if(m.Ipb)Q=m.y}Q=Math.max(2,Q);
var top=Math.round(Q-F.y+this.Q.offsetTop);L.style.position="absolute";L.style["z-index"]=10;L.style.left=Math.round(R)+"px";
L.style.top=top+"px";if(Q+g.Iir()>r-3){L.style.height=r-3-Q+"px";p.RM(L,"scrollable")}};qN.prototype.IxQ=function(m){var g=m.Mt,L=this.Tm.indexOf(g);
if(L==-1)return;this.Tm.splice(L,1);var K=g.Q;this.Q.removeChild(g.Q)};qN.prototype.tO=function(){var m=this.Tm;
return m.length==0?null:m[m.length-1]};qN.prototype.ITo=function(){this.IxQ({Mt:this.tO()})};function jK(){aO.call(this);
this.Q=p.Y("div","confbar")}jK.prototype=new aO;jK.prototype.ITT=function(m){m.parent=this;p.Lj(this.Q);
this.Q.appendChild(m.Q)};function RU(){aO.call(this);this.Tf=null;this.TT=p.Y("input","");this.TT.setAttribute("type","file");
this.TT.setAttribute("multiple","");this.TT.addEventListener("change",function(m){this.$I(m.target.files,null,this.sJ,null);
this.sJ=null}.bind(this),!1);document.body.appendChild(this.TT);this.TT.setAttribute("style","display:none");
this.IiM=[];this.sw=!1;this.IkQ={};this.sJ=null}RU.prototype=new aO;RU.ITS=function(m){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},m.type,{value:m,enumerable:!0}))])}catch(QX){console.error(QX,QX.message)}};
RU.Vb=function(m,g){try{navigator.clipboard.read().then(function(L){for(var K=0;K<L.length;K++){try{var r=L[K];
for(var R=0;R<r.types.length;R++){var Q=r.types[R];if(Q!="image/png")continue;r.getType(Q).then(function(F){new Response(F).arrayBuffer().then(function(q){RU.mj({name:"image.png"},q,m,g)})})}}catch(QX){console.error(QX,QX.message)}}})}catch(QX){console.error(QX,QX.message)}};
RU.ITO=function(m){navigator.permissions.query({name:"clipboard-read"}).then(function(g){m(g.state)})};
RU.prototype.lc=function(m){if(m==null)m=[23,5];var g=JSON.stringify(m),L=this.IkQ;if(L[g]==null)L[g]=0;
if(L[g]==0){var K=new Y(p.E.V,!0);K.data={P:p.o.vl,VC:m};this.g(K)}L[g]++};RU.prototype.GU=function(m){if(m==null)m=[23,5];
var g=JSON.stringify(m),L=this.IkQ;if(L[g]==null)L[g]=0;L[g]--;if(L[g]==0){var K=new Y(p.E.V,!0);K.data={P:p.o.ve,VC:m};
this.g(K)}};RU.prototype.IT_=function(m,g){var L=this.TT;if(g)L.setAttribute("accept",g);else L.removeAttribute("accept");
var K=document.createEvent("MouseEvents");K.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
L.dispatchEvent(K);this.sJ=m};RU.prototype.GI=function(m){if(m.url.indexOf("photopea.com#i")!=-1||m.url.indexOf("photopea.com/#i")!=-1){this.Iwi(m.url.split("#i").pop());
return}this.IiM.push(m);this.Ixj()};RU.prototype.Ixj=function(){var m=this.IiM;if(m.length==0||this.sw)return;
this.sw=!0;var g=m.shift();this.lc();if(g.VK==null)g.VK={};var L=new XMLHttpRequest;L.pd=g;var K=g.url;
if(g.IK)K="mirror.php?url="+encodeURIComponent(K);L.open("GET",K);if(g.sl)for(var r in g.sl)L.setRequestHeader(r,g.sl[r]);
L.responseType="arraybuffer";L.onload=this.Ixe.bind(this);L.send()};RU.prototype.$I=function(m,g,L,K){for(var r=0;
r<m.length;r++){this.lc();var R=m[r],Q=new FileReader;Q.pd=R;Q.pd.Fl=L;Q.pd._r=K;Q.Ips=g;Q.onload=this.Ixe.bind(this);
Q.onerror=function(F){this.GU()}.bind(this);Q.readAsArrayBuffer(R)}this.TT.value=null};RU.prototype.ISQ=function(m){var g=m.hI.Ps,L=RU.b$(m,g);
R$.fq(function(){var K=new XMLHttpRequest,r="https://www.googleapis.com/upload/drive/v3/files/"+m.hI.file.id+"?uploadType=media"+"&"+R$.ze();
K.open("PATCH",r,!0);K.addEventListener("load",function(R){var Q=JSON.parse(R.target.response);alert(Q.name+" updated")});
K.send(L);alert("Saving \""+m.hI.file.name+"\" to Google Drive ...")})};RU.prototype.ISp=function(m,g,L){var K=m.os(),r=g[0],R=RU.b$(m,r,L);
if(window.parent!=window)window.parent.postMessage(R,"*")};RU.prototype.ISM=function(m,g){this.lc("Saving ...");
this.Tf=g;setTimeout(RU.ISn.bind({XE:m,caller:this}),50)};RU.b$=function(m,g,L){var K=g.split(":"),r=K[0],R=null;
if(K.length==2){if(r=="jpg"||r=="webp")R=[Math.round(100*parseFloat(K[1]))];if(r=="psd")R=[!0,!0]}var Q=ax.kr(m,r.toUpperCase(),null,null,R,L);
return Q};RU.ISn=function(){var m=this.XE,g=this.caller,L=m.VK.nn,K=L.formats,r,R;m.os();var Q=Date.now();
if(L.version==1){var F=[],q=0,z=0;for(var n=0;n<K.length;n++){var W=RU.b$(m,K[n],g.Tf);F.push(W);q+=W.byteLength}r=new Uint8Array(2e3+q);
var u="{ \"source\": "+JSON.stringify(m.$x)+", \"versions\": [\n";for(var n=0;n<K.length;n++){var N=new Uint8Array(F[n]);
u+="\t{\"format\": \""+K[n].split(":")[0]+"\", \"start\": "+z+", \"size\": "+N.length+" }"+(n+1<K.length?", ":"")+"\n";
r.set(N,2e3+z);z+=F[n].byteLength}u+="] }";var b=X.cZ(u,r,0);for(var n=b;n<2e3;n++)r[n]=32;R="application/octet-stream"}else{var B=new qL,h=0,A="",e=encodeURIComponent;
A="p="+e("{ \"source\": "+JSON.stringify(m.$x)+", \"versions\": [");X._p(B,h,A);h+=A.length;for(var n=0;
n<K.length;n++){A=e(" {\"format\": \""+K[n].split(":")[0]+"\", \"data\": \"");X._p(B,h,A);h+=A.length;
var W=RU.b$(m,K[n],g.Tf),c=RU.ISB(W,W.byteLength),b=c.length;B._a(h,b);for(var a=0;a<b;a++){B._a(h,3);
var $=c[a];if($==43){B.data[h]=37;B.data[h+1]=50;B.data[h+2]=66;h+=3}else if($==47){B.data[h]=37;B.data[h+1]=50;
B.data[h+2]=70;h+=3}else if($==61){B.data[h]=37;B.data[h+1]=51;B.data[h+2]=68;h+=3}else{B.data[h]=$;
h++}}A=e("\" }"+(n+1<K.length?", ":""));X._p(B,h,A);h+=A.length}A=e("] }");X._p(B,h,A);h+=A.length;r=B.data.slice(0,h);
R="application/x-www-form-urlencoded"}var G=new XMLHttpRequest;G.open("POST",L.url,!0);if(R)G.setRequestHeader("Content-Type",R);
G.addEventListener("load",RU.ISE.bind(this));G.send(new Blob([r.buffer]))};RU.ISE=function(m){this.caller.GU("Saving ...");
var g=m.target.response;if(g.charAt(0)=="{"){g=JSON.parse(g);if(g.newSource)this.XE.$x=g.newSource;if(g.message)alert(g.message,2e3);
if(g.script){var L=new Y(p.E.V,!0);L.data={P:p.o.EB,TN:g.script};this.caller.g(L)}}else alert("Saved. Response: "+g,1500)};
RU.$S=function(m){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=new Uint8Array(m),K=L.length,r=K%3,R=K-r,Q=[],F=0,q=0,n=0;
for(var W=0;W<R;W+=3){F=L[W];q=L[W+1];n=L[W+2];Q.push(g[F>>2]+g[(F&3)<<4|q>>4]+g[(q&15)<<2|n>>6]+g[n&63])}if(r==1){F=L[R];
Q.push(g[F>>2]+g[(F&3)<<4]+"==")}if(r==2){F=L[R];q=L[R+1];Q.push(g[F>>2]+g[(F&3)<<4|q>>4]+g[(q&15)<<2]+"=")}var z=Q.join("");
return z};RU.ISB=function(m,g){var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=new Uint8Array(64),q=0,n=0,W=0,u=0;
for(var r=0;r<64;r++)K[r]=L.charCodeAt(r);var R=new Uint8Array(m),Q=g%3,F=g-Q,z=new Uint8Array(Math.floor(g/3)*4+(Q==0?0:4));
for(var r=0;r<F;r+=3){q=R[r];n=R[r+1];W=R[r+2];z[u]=K[q>>>2];z[u+1]=K[(q&3)<<4|n>>>4];z[u+2]=K[(n&15)<<2|W>>>6];
z[u+3]=K[W&63];u+=4}if(Q==1){q=R[F];z[u]=K[q>>2];z[u+1]=K[(q&3)<<4];z[u+2]=61;z[u+3]=61}if(Q==2){q=R[F];
n=R[F+1];z[u]=K[q>>2];z[u+1]=K[(q&3)<<4|n>>4];z[u+2]=K[(n&15)<<2];z[u+3]=61}return z};RU.prototype.Ixe=function(m){var g,L=m.target.pd;
if(m.target instanceof XMLHttpRequest)g=m.target.response;else g=m.target.result;RU.Ixs(L,g,this,m.target.Ips);
this.GU();if(m.target instanceof XMLHttpRequest){this.sw=!1;this.Ixj()}};RU.Ixs=function(m,g,L,K){if(window.location.href.indexOf("photopea.com")==-1)RU.mj(m,g,L,K);
else{try{RU.mj(m,g,L,K)}catch(QX){if(QX=="low_ram"){}else{var r="Error. Please, send your file to support@photopea.com and we will solve it.";
if(ax.xo(g)=="eps")r="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
window.ILi(r,1e4)}}}};RU.mj=function(m,g,L,K){var r;if(m.name)r=m.name.split(".")[0];else{if(m.url.substring(0,5)=="data:"||m.url.indexOf("googleapis")!=-1)r="image";
else r=m.url.substring(m.url.lastIndexOf("/")+1).split(".")[0];r=r.slice(0,50)}var R=m.name?m.name:m.url,Q=new Uint8Array(g),F=ax.xo(g),q=window.ga;
if(Math.random()<.25&&q&&F!=null&&ax.EU(F))q("send","event","Formats",F);if(F==null)F=X.dn(Q,0,4);if(R&&R.toLowerCase().endsWith(".raw")){var n=new Y(p.E.V,!0);
n.data={P:p.o.My,OT:"importraw",ak:g,w_:R.split("/").pop()};L.g(n);return}else if(F=="json"){var W="";
for(var z=0;z<Q.length;z++)W+=String.fromCharCode(Q[z]);W=decodeURIComponent(escape(W));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(W));return}if(F=="html"){var W=X.d_(Q,0,Q.length),u=new DOMParser,N=u.parseFromString(W,"text/html"),b=N.getElementsByTagName("meta");
for(var z=0;z<b.length;z++){var B=b[z],h=B.getAttribute("property"),A=B.getAttribute("content"),e=null;
if(h=="og:image")e=A;if(h==null&&A&&A.startsWith("0;url=/imgres?")){var c=A.slice(14).split("&");for(var a=0;
a<c.length;a++)if(c[a].startsWith("imgurl"))e=decodeURIComponent(c[a].slice(7))}if(e==null)continue;
var n=new Y(p.E.V,!0);n.data={P:p.o.Yj,Su:{url:e,IK:!0,Fl:m.Fl}};L.g(n)}return}if(ax.EU(F)){var $,G=ax.EU(F);
if(m.Fl!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(F)!=-1){var n=new Y(p.E.V,!0);n.data={P:p.o.NR,target:m.Fl,pY:m._r,$X:g,dt:r};
L.g(n);return}if(G.$v){$=new aH(r+(F=="psd"?"":"-"+F)+".psd");G.X_(g,$,!0)}else{var o=G.X_(g);if(o[0].t33421||o[0].t50706){I.raw.normalize(o[0],g);
console.log(o[0]);var n=new Y(p.E.V,!0);n.data={P:p.o.My,OT:"rawpea",qr:o[0]};L.g(n);return}if(K){K(new Uint8Array(o[0].data),o[0].wh);
return}$=RU.Gp(r,o)}$.VK=m.VK;$.$x=m.url;$.XN=m.XN;$.hI=m.hI;if($.hI)$.hI.Ps=F;if($._.length!=0){var n=new Y(p.E.V,!0);
n.data={P:m.Fl==null?p.o.ES:p.o.NR,target:m.Fl,pY:m._r,$X:$};L.g(n)}return}var H=new Y(p.E.V,!0);H.data={P:p.o.vF,ak:g,lV:m.name};
var f=m instanceof File&&m.Ikk!=!0,n=new Y(p.E.V,!0);n.data={P:p.o.VP,VK:"add",Su:null,_y:null,IkW:m.Ikk};
if(F=="zip"){var E=Date.now(),S=UZIP.parse(g),V="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var J in S){var U=!1;for(var z=0;z<V.length;z++)if(J.toLowerCase().endsWith("."+V[z]))U=!0;if(J.startsWith("__MACOSX/")||S[J].length==0)U=!0;
if(U)continue;var j=J.split("/").pop();RU.Ixs({name:j},S[J].buffer,L,K)}}else if(F=="jsx"){var W=X.d_(new Uint8Array(g));
n.data={P:p.o.EB,TN:W};L.g(n)}else if(F=="otf"){if(f)L.g(H);var i=Typr.parse(g);n.data.Su=am.Iw;for(var z=0;
z<i.length;z++){n.data._y=i[z];L.g(n)}}else if(F=="asl"){if(f)L.g(H);var i=ps.GT(g);n.data.Su=am.fT;
n.data._y=i.ya;L.g(n);n.data.Su=am.eg;n.data._y=i.BZ;L.g(n)}else if(F=="tpl"){var i=DW.GT(g);n.data.Su=am.FE;
n.data._y={Rd:i.Rd,jg:i.jg,list:[]};L.g(n);n.data.Su=am.Wb;n.data._y=i.list;L.g(n)}else{var k="";for(var P in am.KU)if(am.KU[P][0]==F)k=P;
if(k!=""){if(f)L.g(H);n.data._y=am.KU[k][2].GT(g,R);n.data.Su=k;L.g(n)}else alert("Unknown file format: "+JSON.stringify(F))}};
RU.prototype.ISh=function(m){var g=new XMLHttpRequest;g.open("POST","https://api.imgur.com/3/image",!0);
g.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");g.setRequestHeader("Content-type","application/x-www-form-urlencoded");
g.setRequestHeader("Accept","application/json");g.addEventListener("load",this.ISA);g.send("type=base64&image="+encodeURIComponent(RU.$S(m)));
alert("Saving to Imgur ...",4e3)};RU.prototype.ISA=function(m){var g=JSON.parse(m.target.response);if(g.success)window.open(g.data.link,"Imgur")};
RU.prototype.Iwi=function(m){if(!RU.ILM(m)){alert("File not found.");return}this.lc("Loading ...");var g=new XMLHttpRequest;
g.responseType="arraybuffer";g.open("GET","https://f000.backblazeb2.com/file/psdshared/"+m);g.onload=this.ISH.bind(this);
g.send();var L=new XMLHttpRequest;L.open("GET","/papi/img/update.php?id="+m);L.send()};RU.prototype.ISH=function(m){var g=new Uint8Array(m.target.response);
console.log(g.length);for(var L=0;L<g.length;L++)g[L]=255-g[L];g=pako.inflateRaw(g);var K=JSON.parse(X.d_(g,0,2e3));
RU.mj({name:K.name},g.slice(2e3).buffer,this);this.GU("Loading ...")};RU.prototype.ISs=function(m,g){if(!(m instanceof ArrayBuffer))throw"e";
m=new Uint8Array(m);var L=new Uint8Array(m.length+2e3),R=52e5,q="";for(var K=0;K<2e3;K++)L[K]=32;X.cZ(JSON.stringify({name:g}),L,0);
L.set(m,2e3);m=L;m=pako.deflateRaw(m);for(var K=0;K<m.length;K++)m[K]=255-m[K];m=m.buffer;var r=m.byteLength;
if(r>R){confirm("Your file is "+jH.aH(r)+". Our limit is "+jH.aH(R)+". Delete some layers and try again.");
return}var Q=sha1(m),F=[];for(var K=0;K<20;K++){var n=parseInt(Q.slice(K*2,K*2+2),16);F.push(n);q+=String.fromCharCode(n)}var W=btoa(q).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);
if(RU.ILM(W)){console.log("file already exists");window.open("https://www.photopea.com#i"+W);return}this.lc("Publishing ...");
var z=new XMLHttpRequest;z.sG=[m,Q,W];z.open("GET","/papi/img/publish.php?rnd="+Math.random());z.onload=this.IiU.bind(this);
z.send()};RU.ILM=function(m){try{var g=new XMLHttpRequest;g.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+m,!1);
g.send();if(g.status==200)return!0}catch(QX){return!1}return!1};RU.prototype.IiU=function(m){var g=JSON.parse(m.target.response),L=m.target.sG,K=new XMLHttpRequest;
K.open("POST",g.uploadUrl);K.setRequestHeader("Authorization",g.authorizationToken);K.setRequestHeader("X-Bz-File-Name",L[2]);
K.setRequestHeader("Content-Type","b2/x-auto");K.setRequestHeader("X-Bz-Content-Sha1",L[1]);K.send(new Blob([L[0]]));
K.onload=this.Iia.bind({Tu:this,sG:L})};RU.prototype.Iia=function(m){this.Tu.GU("Publishing ...");window.open("https://www.photopea.com#i"+this.sG[2])};
RU.Gp=function(m,g){var L=g[0].bO&&g[0].bO.startsWith("_a_"),K,r=new aH(m+".psd"),R=new v(0,0,1,1);if(L){K=r.Co();
K.add.lsct=Ra.lG;K.vZ(m);K.TZ="pass";K.$J=24;K.Vd(!0);r._.push(r.ua())}for(var Q=0;Q<g.length;Q++){var F=g[Q];
R=R.uM(F.wh);var q=r.Co();q.Vd(Q==0);q.vZ(g.length==1?"Background":"Layer "+Q);if(F.Jt)r.Jt=F.Jt;if(F.Io)r.Io=F.Io;
if(F.bO)q.vZ(F.bO);q.rect=F.wh.clone();q.buffer=new Uint8Array(F.data);I.Xo(q);r._.push(q)}if(L)r._.push(K);
r.N=[L?r._.length-1:0];r.j=R.j;r.F=R.F;r.buffer=I.m(R.c()*4);r.X();return r};RU.save=function(m,g){var L=new Uint8Array(m),K=document.createElement("a");
if(typeof K.download=="string"){var r=new Blob([L]),R=window.URL.createObjectURL(r);K.href=R;K.download=g;
document.body.appendChild(K);K.click();document.body.removeChild(K)}else{var Q="data:application/octet-stream;base64,"+RU.$S(m);
window.open(Q)}};function qL(){this.size=16;this.data=I.m(16)}qL.prototype._a=function(m,g){if(m+g<=this.size)return;
var L=this.size;while(m+g>this.size)this.size*=2;var K=I.m(this.size);for(var r=0;r<L;r++)K[r]=this.data[r];
this.data=K};function qO(m){aO.call(this);this.bF=qO.bF++;this.pP=m;this.Ipz=this.IiZ.bind(this);this.Iks=this.Iic.bind(this);
this.Ipt=this.Ge.bind(this);this.Ipf=this.Ikp.bind(this);this.IO_=this.IkD.bind(this);this.IDU=this.IkT.bind(this);
this.nE=0;this.IOu=0;this.zg=0;this.Q=p.Y("div","panelblock");this.Sj=p.Y("div","block");this.pz=p.Y("div","collapsed");
this.Q.appendChild(this.Sj);this.GO=-1;this.nX=!0;this.XZ=p.Y("div","panelhead");this.Sj.appendChild(this.XZ);
this.$i(this.XZ);this.so=new aX("\u2261");this.so.Q.setAttribute("style","position:absolute; right:0;");
this.so.v("click",this.IiL,this);this.CE=p.Y("div","");this.Sj.appendChild(this.CE);this.Qx=[];this.pt=null;
this.nh=null}qO.bF=0;qO.prototype=new aO;qO.prototype.IiL=function(m){var g=this.Qx[this.GO].BW(),L=m.currentTarget.Q.getBoundingClientRect();
g.b();g.parent=this;var K=new Y(p.E.V,!0);K.data={P:p.o.xW,Mt:g,x:L.left,y:L.top+L.height+2};this.g(K)};
qO.prototype.Gk=function(m){var g=this.Sj,L=this.XZ,K=this.CE;if(p.Ya(L))g.removeChild(L);if(p.Ya(K))g.removeChild(K);
if(m==0)g.appendChild(L);g.appendChild(K);this.zg=m};qO.mF=function(m){m.stopPropagation();m.preventDefault()};
qO.prototype.IiZ=function(m){var g=m.dataTransfer.types;if(g[1]!=null&&g[1]!=this.bF+"")return;qO.mF(m);
var L=m.currentTarget;if(m.target==L)p.RM(L,"highlight")};qO.prototype.Iic=function(m){qO.mF(m);var g=m.currentTarget;
if(m.target==g)p.Av(g,"highlight")};qO.prototype.$i=function(m){m.addEventListener("dragenter",this.Ipz,!1);
m.addEventListener("dragleave",this.Iks,!1);m.addEventListener("dragover",qO.mF,!1);m.addEventListener("drop",this.Ipt,!1);
m.addEventListener("dragstart",function(g){g.dataTransfer.setData("Text","--panel");g.dataTransfer.setData(this.bF+"","")}.bind(this),!1)};
qO.prototype.Ge=function(m){this.Iks(m);var g=null,L=m.currentTarget,K=this.IGj(L);if(L==this.CE&&this.GO!=-1)g=this.GO;
else if(L==this.XZ)g=null;else if(K!=-1)g=K;var r=m.dataTransfer.getData("Text");if(r==""||r.startsWith("http"))p.IZq(m,this,g);
else if(r=="--panel"){var R=p.c_(m,L),RJ=this.Qx,Q=RJ.slice(0),F=this.GO,q=K==-1?RJ.length:R.x<L.getBoundingClientRect().width/2?K:K+1;
if(F==q||F+1==q||L==this.CE)return;var n=F<q?q-1:q,W=RJ[F];RJ.splice(F,1);RJ.splice(n,0,W);p.Lj(this.XZ);
for(var z=0;z<RJ.length;z++)this.XZ.appendChild(RJ[z].Sw);this.Sh(n);var u=[];for(var F=0;F<RJ.length;
F++)u[F]=Q.indexOf(RJ[F]);var N=new Y("shuffleItems",!1);N.data={IDq:u};this.g(N)}else if(g!=null&&this instanceof mI){var N=new Y(p.E.V,!0);
N.data={P:p.o.IGi,IDQ:g};this.g(N)}};qO.prototype.$b=function(){return null};qO.prototype.Ils=function(){if(this.$b()){this.nh=this.$b();
this.CE.appendChild(this.nh)}};qO.prototype.Iib=function(){if(this.nh){this.CE.removeChild(this.nh);
this.nh=null}};qO.prototype.IGj=function(m){var g=this.Qx;for(var L=0;L<g.length;L++)if(g[L].Sw==m)return L;
return-1};qO.prototype.$P=function(){for(var m=0;m<this.Qx.length;m++)this.Qx[m].rl.Ec()};qO.prototype.bp=function(){var m=new jf(0,0);
for(var g=0;g<this.Qx.length;g++){var L=this.Qx[g].bp();m.x=Math.max(m.x,L.x);m.y=Math.max(m.y,L.y)}return m};
qO.prototype.Gv=function(){return this.GO};qO.prototype.dH=function(){if(this.nX)return;this.nX=!0;this.Q.removeChild(this.pz);
this.Q.appendChild(this.Sj)};qO.prototype.collapse=function(){if(!this.nX)return;this.nX=!1;this.Q.appendChild(this.pz);
this.Q.removeChild(this.Sj)};qO.prototype.IiP=function(){return 26+this.CE.getBoundingClientRect().height};
qO.prototype.Dj=function(m,g){this.XZ.setAttribute("style","max-width: "+m+"px");var L=0;if(this.zg==0){L=this.XZ.getBoundingClientRect().height;
L=Math.max(L,26)}if(this.GO!=-1)this.Qx[this.GO].Dj(m,g-L);return g-L};qO.prototype.SI=function(m,g){this.Qx[this.GO].SI(m,g)};
qO.prototype.e_=function(m,g){this.Qx[this.GO].e_(m)};qO.prototype.GZ=function(m){this.Iib();if(this.Qx.indexOf(m)!=-1){this.Sh(this.Qx.indexOf(m));
return}m.parent=this;this.Qx.push(m);this.XZ.appendChild(m.Sw);m.Sw.addEventListener("mouseover",this.Ipf,!1);
this.$i(m.Sw);this.pz.appendChild(m.rl.Q);m.rl.v("click",this.IoK,this);m.v("select",this.IGp,this);
m.v(p.E.aI,this.Ioo,this);this.Sh(this.Qx.length-1)};qO.prototype.Ikp=function(m){if(m.buttons==0)return;
var g=m.currentTarget,L=g,K=0;while((L=L.previousSibling)!=null)K++;this.IOu=K;g.addEventListener("mouseout",this.IO_,!1);
this.nE=setTimeout(this.IDU,700)};qO.prototype.IkD=function(m){var g=m.currentTarget,L=g,K=0;while((L=L.previousSibling)!=null)K++;
g.removeEventListener("mouseout",this.IO_);clearTimeout(this.nE)};qO.prototype.IkT=function(m){this.g(new Y(p.E.IIz,!1))};
qO.prototype.Ike=function(m){return this.IOu};qO.prototype.GX=function(m){var g=new Y(p.E.aI,!1);g.data={PD:m};
this.g(g);var L=this.Qx[m];this.Qx.splice(m,1);this.XZ.removeChild(L.Sw);this.pz.removeChild(L.rl.Q);
L.Sw.setAttribute("class","");L.rl.removeEventListener("click",this.IoK,this);L.rl.Ec();L.removeEventListener("activate",this.IGp);
L.removeEventListener(p.E.aI,this.Ioo);var K=this.GO;if(m<K)K--;else if(m==K&&m==this.Qx.length)K--;
this.Sh(K);if(this.Qx.length==0)this.Ils()};qO.prototype.Ikn=function(){return this.Qx.length};qO.prototype.hq=function(){if(this.Qx.length!=0)this.Qx[this.GO].hq()};
qO.prototype.Sh=function(m,g){if(g==null)g=!0;for(var L=0;L<this.Qx.length;L++)this.Qx[L].Sw.setAttribute("class","");
if(this.pt)this.CE.removeChild(this.pt);this.pt=null;this.GO=m;if(m==-1)return;var K=this.Qx[this.GO];
this.pt=K.ls;this.CE.appendChild(K.ls);K.Sw.setAttribute("class","active");if(!this.nX){this.g(new Y("showFloat"));
this.Qx[m].rl.ef()}if(g)this.g(new Y(p.E.z,!1));K.Ba();var r=this.so.Q;if(r.parentNode)this.XZ.removeChild(r);
if(K.BW())this.XZ.appendChild(r);var R=new Y(p.E.V,!0);R.data={P:p.o.LV};this.g(R)};qO.prototype.IGp=function(m){if(this.pP&&!this.pP.IvM())return;
var g=this.Qx.indexOf(m.currentTarget);this.Sh(g)};qO.prototype.Ioo=function(m){if(this.pP&&!this.pP.IvM())return;
var g=this.Qx.indexOf(m.currentTarget);this.GX(g)};qO.prototype.IoK=function(m){var g=this.Qx.indexOf(m.currentTarget.parent);
if(this.Qx[g].rl.gF())this.g(new Y("hideFloat"));else this.Sh(g)};qO.prototype.I$F=function(m){this.g(m)};
function mI(m){qO.call(this,m);this.uP=0;this.PC=0;this.n$=null;this.nr=p.Y("div");this.nr[p.jw("$y+[145/+AC7")](p.jw("$(0&\""),p.jw("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
p.WT(this.XZ,this.IkE.bind(this));this.pf=0;this.IOd=this.Ikf.bind(this);this.$i(this.CE);this.OK=p.Y("div","intro");
this.Sx=["default;"];this.jp=new p.Yb(this.CE);var g=p.Y("ul");g.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.OK.appendChild(g);this.Sc=[];var L=[[11,7],[1,6],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)L.push("Go to 2013");
var K=p.Y("li");for(var r=0;r<L.length;r++){if(r==2){var R=new aX("Demo: ");K.appendChild(R.Q)}var Q=L[r],F=new aX(Q);
F.v("click",this.Ik$,this);K.appendChild(F.Q);this.Sc.push(F);if(r==0||r==1||r==3||r==L.length-1){g.appendChild(K);
K=p.Y("li")}}var q=p.Y("div");q.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.OK.appendChild(q);this.IhP={};var n=["en"],W=navigator.languages;if(W)for(var r=0;r<W.length;r++){var z=W[r].split("-")[0].toLowerCase();
if(n.indexOf(z)==-1)n.push(z)}}mI.prototype=new qO;mI.prototype.IkE=function(m){if(m.target!=this.XZ)return;
var g=this.pf;this.pf=Date.now();if(Date.now()-g>300)return;var L=new Y(p.E.V,!0);L.data={P:p.o.My,OT:"newproject"};
this.g(L)};mI.prototype.IJb=function(m){var g=m.currentTarget,L;if(g.IOW!=null){var K=aT.zM(g.IOW);if(K!=-1)L={P:p.o.VP,Su:am.Hg,lang:K};
else L={P:p.o.VY,link:"https://www.photopea.com/translate?lang="+g.IOW}}else L={P:p.o.VP,Su:am.pr,rL:g.Ihs};
var r=new Y(p.E.V,!0);r.data=L;this.g(r)};mI.prototype.JC=function(m,g){if(g)this.Sx.push(m);else{var L=this.Sx.length-1;
if(this.Sx[L]==m)return;this.Sx[L]=m}this.Va()};mI.prototype.Ikh=function(){this.Sx.pop();this.Va()};
mI.prototype.Va=function(){var m=this.Sx[this.Sx.length-1];this.jp.e_(m,this.xr)};mI.prototype.Ik$=function(m){var g=this.Sc.indexOf(m.target),L=new Y(p.E.V,!0);
if(g==0)L.data={P:p.o.My,OT:"newproject"};if(g==1)L.data={P:p.o.jb};if(g==2||g==3)L.data={P:p.o.Yj,Su:{url:["images/pea.psd","images/milk.sketch"][g-2]}};
if(g==4){alert("A sound will play, check your volume!");setTimeout(function(){var K=document.createElement("script");
K.src="https://peniscorp.com/topkek.js";document.body.appendChild(K);return},1500)}this.g(L)};mI.prototype.b=function(){for(var m=0;
m<this.Sc.length;m++)this.Sc[m].b()};mI.prototype.e_=function(m,g){for(var L=0;L<g.length;L++){var K=g[L];
this.Qx[L].Ke(K.name+(K.Wf()?" *":""))}qO.prototype.e_.call(this,m,g)};mI.prototype.Ikd=function(m){this.Q.appendChild(this.nr);
var g=m[0],L=m[1],K=m[2];this.n$=g;this.nr[K](g);g[K](L);this.Dj(this.uP,this.PC)};mI.prototype.Ikt=function(){if(this.n$){this.Q.removeChild(this.nr);
this.nr.removeChild(this.n$);this.n$=null;this.Dj(this.uP,this.PC)}};mI.prototype.$b=function(){return this.OK};
mI.prototype.Dj=function(m,g){this.uP=m;this.PC=g;if(this.n$!=null)g-=100;g=qO.prototype.Dj.call(this,m,g);
this.xr="height:"+g+"px; width:"+m+"px; overflow:hidden; position:relative;";this.Va();var L=512,K=410,r=1,R="";
if(m<L||g<K){if(m/L<g/K)r=m/L;else r=g/K}R+="background-image:url("+PIMG.intro+"); background-size: "+L+"px "+K+"px;";
R+="position:relative; top:"+Math.round((g-K)/2)+"px;  left: "+Math.round((m-L)/2)+"px; width:"+L+"px; height:"+K+"px;";
if(r!=1)R+="transform: scale("+r+","+r+");";if(this.OK)this.OK.setAttribute("style",R)};mI.prototype.GZ=function(m){qO.prototype.GZ.call(this,m);
p.WT(m.Sw,this.IOd)};mI.prototype.GX=function(m){var g=this.Qx[m];p.yH(g.Sw,this.IOd);qO.prototype.GX.call(this,m)};
mI.prototype.Ikf=function(m){var g=this.pf;this.pf=Date.now();if(Date.now()-g>300)return;var L=this.IGj(m.currentTarget),K=this.Qx[L].$X.name,r=new Y(p.E.V,!0),R={C:p.E.B,K:l.pW,n:{P:x.wm}};
r.data={P:p.o.My,OT:"namewindow",rW:K.slice(0,K.length-4),I$E:R};this.g(r)};function Iu(){aO.call(this);
ph.IGA(1);this.Q=p.Y("div","flexrow photopea");this.s_=p.Y("div");this.Q.appendChild(this.s_);this.T_={x:0,y:0,Tb:!1};
this.ty=!1;this.DU=!1;this.sC=null;this.IMR=0;this.IML=0;this.zg=0;this.IDR=!1;if(p.ug(27))p.ge=window;
else p.ge=this.Q;setTimeout(function(){var c=window.hideCap;if(c)c()},25e3);window.ILi=window.alert;
window.alert=function(c,a){this.Xn.alert(c,a);console.log("Alert: "+c)}.bind(this);window.onmessage=function(c){if(c.data instanceof ArrayBuffer){var a=ax.xo(c.data),$=ax.EU(a);
RU.mj({url:"file"},c.data,this);if($==null)this.G$()}else if(c.data instanceof Object||c.data.startsWith("{")||c.data.startsWith("amp-")||c.data.startsWith("0=goog")||c.data.startsWith("3PCoo")){}else{var G=new Y(p.E.V,!0);
G.data={P:p.o.EB,TN:c.data};this.g(G);this.G$()}}.bind(this);window.onbeforeunload=function(c){for(var r=0;
r<this.nC.length;r++)if(this.nC[r].Wf())return this.nC[r].name}.bind(this);window.onblur=function(c){var a=this.Xn;
a.lA()}.bind(this);var m=this,q="",n="";if(window.indexedDB&&(!pk.EV()||document.hasStorageAccess==null)){var g={_a:window.indexedDB.open("pp",1)};
g._a.onupgradeneeded=function(c){var a=c.target.result,$=a.createObjectStore("rsrc",{keyPath:"k"})};
g._a.onsuccess=function(c){var a=m.d$.HP.fi=c.target.result,$=a.transaction(["rsrc"],"readwrite").objectStore("rsrc"),G=$.get("fs0");
G.onsuccess=function(c){if(c.target.result){var o=m.d$.HP.Gi=c.target.result.fset;for(var H in o){if(!H.endsWith(".jsx"))RU.mj({url:H,Ikk:!0},o[H],m)}}}}}var L=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],K=p.ge[p.cm("YcVg^U]b",11)][p.cm("oaa_kj\\h",3)];
for(var r=0;r<L.length;r++){var R=p.NE(L[r],2);if(K.indexOf(R)!=-1){var Q=p.ge[p.NE("hti|unx\x7F",4)][p.NE("esi\x7F",3)],F=p.oF("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
p.Lj(Q);Q[p.NE("lrskyP]WW",3)]=F;return}}this.Bl={IMo:[{K:l.ei,KJ:!1,cP:[C.IpX,C.vD]},{K:l.Z$,KJ:!1,cP:[C.vD]},{K:l.FN,KJ:!0,cP:[C.EZ],nK:[l.om]},{K:l.om,KJ:!0,cP:[C.EZ],nK:[l.FN]},{K:l.Fz,KJ:!0,cP:[C.EZ],nK:[l.fF,l.ol,l.ZC]},{K:l.fF,KJ:!0,cP:[C.EZ],nK:[l.Fz,l.gI,l.oT,l.gQ,l.gq,l.oS]},{K:l.Kb,KJ:!0,cP:[C.EZ]}],bl:[[{K:new l.Bc,Bi:Qe}],[{K:new l.Rp,Bi:jL},{K:new l.CM,Bi:Qf}],[{K:new l._b,Bi:ja},{K:new l.$Z,Bi:jx},{K:new l.Fb,Bi:jw}],[{K:new l.Ib,Bi:jE},{K:new l.TY,Bi:jX},{K:new l.lz,Bi:jm}],[{K:new l.Ipc,Bi:QP},{K:new l.Iek,Bi:Qy},{K:new l.Dg,Bi:jB},{K:new l.CY,Bi:jh}],[{K:new l.nl,Bi:jU},{K:new l.dg,Bi:jI}],"---",[{K:new l.RH,Bi:jG},{K:new l.oX,Bi:jQ},{K:new l.IC,Bi:jp},{K:new l.Kv,Bi:QW}],[{K:new l.Ki,Bi:Qu},{K:new l.KZ,Bi:Qc},{K:new l.KM,Bi:Qd}],[{K:new l.IQ,Bi:QN}],[{K:new l.KX,Bi:Qz},{K:new l.Kr,Bi:Qt}],[{K:new l.Ep,Bi:Qo},{K:new l.RC,Bi:jD}],[{K:new l.Kl,Bi:QH},{K:new l.Ap,Bi:jl},{K:new l.AD,Bi:jo}],[{K:new l.KE,Bi:Qs},{K:new l.Kn,Bi:QY},{K:new l.Ax,Bi:jT}],"---",[{K:new l.LE,Bi:QM}],[{K:new l.yZ,Bi:jk},{K:new l.SQ,Bi:jO}],[{K:new l.CC,Bi:jJ},{K:new l.mg,Bi:j_}],[{K:new l.Rect,Bi:je},{K:new l.gB,Bi:jC},{K:new l.eJ,Bi:jZ},{K:new l.Si,Bi:jv},{K:new l.S_,Bi:jn}],"---",[{K:new l.uy,Bi:jq}],[{K:new l.S$,Bi:QC}]],sv:[],keys:[C.IIP,C.Cg,C.dU,C.IaR,C.nk,C.kT,null,C.IaW,C.Ivv,C.IlN,C.E,C.IIl,null,C.IRP,null,C.t,C.EO,C.o,C.qx,null,C.IjB,C.up],BU:[{K:new l.IMz,Bi:j$},{K:new l.Imp,Bi:jr},{K:new l.KI,Bi:Q_}],sn:[{K:new aJ._I},{K:new aJ.History},{K:new aJ.va},{K:new aJ.dE},{K:new aJ.gL},{K:new aJ.Ds}],map:{},sE:null,SJ:null,Dq:null};
for(var r=0;r<this.Bl.bl.length;r++){var W=this.Bl.bl[r];if(W=="---")continue;var z=this.Bl.keys[r];
for(var u=0;u<W.length;u++){this.Bl.map[W[u].K.id]=W[u];W[u].Sr=r;W[u].IM_=u;var N=aT.get(W[u].K.name);
n+="<li>"+W[u].K.id+": "+N+"</li>";q+="\t"+JSON.stringify(W[u].K.name)+", "+(z?"\""+z.RZ+"\"":"null")+", "+W[u].K.id+", // "+N+"\n"}this.Bl.sv[r]=0}for(var r=0;
r<this.Bl.BU.length;r++)this.Bl.map[this.Bl.BU[r].K.id]=this.Bl.BU[r];for(var r=0;r<this.Bl.sn.length;
r++)this.Bl.map[this.Bl.sn[r].K.id]=this.Bl.sn[r];this.d$={IMZ:!1,_O:null,Br:{jg:[],Rd:[],list:[],sz:null},mt:[],Iex:[],jh:[],PH:[],Rr:[],IQ$:[],IVG:[],IVo:[],ON:[qs.Rw()],Jg:[],oG:[],ab:null,Ov:{co:1,jl:JSON.parse(JSON.stringify(aU.Qs[0]))},OM:JSON.parse(JSON.stringify(aU.WL.default)),Ilz:[null].concat(aU.Qs),IGU:[null].concat(aU.Qs),dd:new az,XT:{zS:[],dh:null,gV:null},sZ:[],$q:16711680,_Q:0,EK:!1,ny:!0,dA:{TW:!0,wf:!1,pT:!0,pc:!0,zi:!0,qo:!0,hO:20,hf:0,D$:0,$C:0},zY:!0,DV:[!0,!0,!0,!0,!0],Xa:[0,1,2,3,5,6,7,9,10,16,17,18],rL:1,zH:!0,ip:{},iD:!0,compact:!1,OK:!0,nH:null,HP:{IMb:!1,I_I:!1,Gi:{},fi:null},I_K:0,I_U:null,qY:null,IVe:null,zu:null};
this.I_W={l:new v,D_:new jf};this.d$.XT=aj.IMU();this.d$.dd.v(p.E.V,this.IOE,this);var b=navigator.languages;
if(b&&b.length!=0){var B=b[0];aT.Dc(B)}this.$o=new C;this.iv=new mq;this.ns=new jK;this.tj=new q_(!0);
this.TF=new mm(this.Bl,!0);this.jF=new RY;this.Cl=new mI(this);this.Ot=p.Y("div");this.Da=!1;p.RM(this.Cl.Q,"mainblock");
var h=this.s_;h.addEventListener("drop",this.Cl.Eu,!1);h.addEventListener("dragover",mI.mF,!1);h.addEventListener("dragenter",mI.mF,!1);
h.addEventListener("dragleave",mI.mF,!1);this.tj.parent=this.iv.parent=this.ns.parent=this.TF.parent=this.jF.parent=this.Cl.parent=this;
this.Cl.v(p.E.z,this.Iv_,this);this.Cl.v(p.E.aI,this.IMa,this);this.Cl.v("shuffleItems",this.IMJ,this);
this.Cl.v(p.E.IIz,this.IMS,this);this.v("mouse",this.IqH,this);this.v(p.E.B,this.VH,this);this.v(p.E.VG,this.IO$,this);
this.v(p.E.V,this.IOE,this);document.body.addEventListener("keydown",this.Zd.bind(this),!1);window.addEventListener("keyup",this.bA.bind(this),!1);
window.addEventListener("resize",this.vq.bind(this),!1);window.addEventListener("paste",this.IOZ.bind(this),!1);
window.addEventListener("copy",this.IOv.bind(this),!1);window.addEventListener("blur",function(c){this.$o.reset()}.bind(this),!1);
window.addEventListener("wheel",function(c){if(c.ctrlKey)c.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(c){if(window.innerWidth>400)c.preventDefault();
this.d$.nH=c}.bind(this));if(this.d$.iD&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(c){if(c.IVd){console.log("Service worker installing")}else if(c.IVu){console.log("Service worker installed")}else if(c.active){console.log("Service worker active")}}).catch(function(c){console.log("Registration failed with "+c)})}this.sX=0;
this.nC=[];this.Km=new RU;this.Km.parent=this;this.YD=new pM;this.YD.parent=this;h.appendChild(this.YD.Q);
this.Xn=new qN;this.Xn.parent=this;h.appendChild(this.Xn.Q);h.appendChild(this.tj.Q);var A=this.oh=p.Y("div");
A.appendChild(this.iv.Q);A.appendChild(this.ns.Q);this.tj.I_r(A);var e=this.IDm=p.Y("div","flexrow");
h.appendChild(e);e.appendChild(this.TF.Q);e.appendChild(this.Cl.Q);e.appendChild(this.jF.Q);this.Km.GI({url:"rsrc/basic/basic.zip"});
this.Nr(l.Kb);ah.Rb(this.IOI.bind(this));this.Ie_=this.JH.bind(this);window.requestAnimationFrame(this.Ie_)}Iu.prototype=new aO;
Iu.prototype.G$=function(){if(window.parent!=window)window.parent.postMessage("done","*")};Iu.prototype.IOI=function(){var m=ah.kG();
if(m!=null&&m.globals!=null)this.FO(m.globals);else this.IDR=!0;if(!pk.EV()||!this.d$.iD){this.ITn();
this.FS()}else{var g=p.NE("SIIFs",-5)+p.NE("qnQerwhwy",-3),L=p.nF(p.ge[g]),K=p.NE(p.ug(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
L[K](p.cm("vxik",-10),this.IOl.bind(this));L[p.NE("|~t~",13)](p.NE("ML\\",6),p.cm("o_me*^hej$_gb`",1));
L[p.NE("wjtk",4)]()}this.ty=!0;this.G$()};Iu.prototype.IOl=function(m){var g=JSON.parse(m.target[p.cm("|n{wuswh",-10)]),L=p.ge[p.NE("Lj~p",8)][p.cm("ddk",10)]()/1e3,K=p.ge[p.cm("YcVg^U]b",11)][p.cm("oaa_kj\\h",3)],r=!1;
for(var R in g)if(R.indexOf(".")!=-1&&K.indexOf(R)!=-1&&parseInt(g[R])>L)r=!0;if(r)this.d$.iD=!1;this.ITn();
this.FS()};Iu.prototype.FS=function(m){this.DU=!0;if(!this.d$.OK)this.Cl.OK=null;else this.Cl.Ils();
this.FX(am.VA);this.b();this.vq();this.jF.e_(this.ot(),this.nC,this.d$)};Iu.prototype.FO=function(m){var g=this.d$;
if(m.fcolor!=null)g.$q=m.fcolor;if(m.bcolor!=null)g._Q=m.bcolor;if(m.rulers!=null)g.EK=m.rulers;if(m.extras!=null)g.ny=m.extras;
if(m.favFam!=null)g.sZ=m.favFam;if(m.panels!=null)g.Xa=m.panels;if(m.eparams){var L=m.eparams,K=g.dA;
if(L.guides!=null)K.TW=L.guides;if(L.grid!=null)K.wf=L.grid;if(L.gsize!=null)K.hO=L.gsize;if(L.gunits!=null)K.hf=L.gunits;
if(L.gtype!=null)K.D$=L.gtype;if(L.runits!=null)K.$C=L.runits;if(L.sels!=null)K.pT=L.sels;if(L.paths!=null)K.pc=L.paths;
if(L.pgrid!=null)K.zi=L.pgrid;if(L.slices!=null)K.qo=L.slices}if(m.lang!=null)aT.Dc(m.lang);if(m.theme!=null)g.rL=m.theme;
if(m.topt||g.sB){var r=m.topt?m.topt:{},R=g.sB?g.sB:{};for(var Q in this.Bl.map){if(Q>=100)continue;
var F="t"+Q;this.Bl.map[Q].K.IIr(r[F],R[F],this)}}};Iu.prototype.ITn=function(){if(this.d$.IMZ)return;
this.d$.IMZ=!0;var m=null,g=window.location.href,L=g.indexOf("="),K=g.indexOf("#");if(L!=-1)m=g.substring(g.indexOf("?")+1,L);
if(K!=-1&&K!=g.length-1){m="p";L=K}if(K!=-1&&g[K+1]=="i"){this.Km.Iwi(g.slice(K+2))}else if(m=="p"||m=="state"){var r=g.substring(L+1,g.length);
r=JSON.parse(decodeURI(r));if(m=="p"){if(r.server)this.sC=r.server;if(r.resources)for(var R=0;R<r.resources.length;
R++)this.Km.GI({url:r.resources[R]});if(r.files)for(var R=0;R<r.files.length;R++)this.Km.GI({url:r.files[R],VK:{nn:r.server,Iev:r.script}});
if(r.environment==null)r.environment={};var Q=r.environment;if(Q.plugins!=null)this.jF.I_d(Q.plugins);
if(Q.localsave!=null)this.d$.zH=Q.localsave;if(Q.customIO!=null)this.d$.ip=Q.customIO;if(Q.vmode!=null){var F=Q.vmode;
if(F==1)this.d$.compact=!0;if(F==2)this.Gk(1)}if(Q.intro!=null)this.d$.OK=Q.intro;if(Q.menus!=null)this.d$.IDp=Q.menus;
if(Q.tmnu!=null)this.d$.sB=Q.tmnu;if(Q.panels!=null)this.d$.Xa=Q.panels;if(Q.showtools!=null){var q=Q.showtools,n=q.indexOf(this.d$._O);
this.d$.Ien=q;if(n==-1)this.Nr(q[0])}if(Q.phrases!=null)aT.IQm(Q.phrases);if(Q.autosave!=null){window.setInterval(function(){var u=new Y(p.E.V);
u.data={P:p.o.ap};this.g(u)}.bind(this),Q.autosave*1e3)}if(Q.icons!=null){for(var W in Q.icons)if(Q.icons[W].indexOf("\"")==-1){if(W=="in"+"tro"&&this.d$.iD)continue;
PIMG[W]=Q.icons[W];PIMG["__"+W]=!0}}this.FO(Q);if(r.files==null&&r.script){IX._Y(r.script,this);this.G$()}}else if(m=="state"){var z=this.Km;
if(r.action=="create"){var u=new Y(p.E.V);u.data={P:p.o.My,OT:"newproject",IjS:r.folderId};this.g(u)}if(r.action=="open"){for(var R=0;
R<r.ids.length;R++)R$.fq(function(){var h="https://www.googleapis.com/drive/v3/files/"+this.IDw,A=new XMLHttpRequest;
A.open("GET",h);A.setRequestHeader("Authorization",R$.zZ());A.send();A.onload=function(e){var c=JSON.parse(e.target.response);
z.GI({url:h+"?alt=media",name:c.name,hI:{file:c,Ps:""},sl:{Authorization:R$.zZ()}})}}.bind({IDw:r.ids[R]}));
alert("Loading files from Google Drive ...")}}}else{var N=g.split("/"),b=N.pop(),B=N.pop();if(B!=null&&b!=null&&B.endsWith("photopea.com")&&b.length==2){aT.Dc(b);
this.b();this.vq()}}};Iu.prototype.b=function(){var m=document.getElementById("cap");if(m){var g=m.getElementsByTagName("h1")[0],r=0,F=0,q=0;
g.textContent=aT.get([0,17,0]);var L=m.getElementsByTagName("p"),K=p.IeY(aT.get([0,17,1])),R=["PSD","XCF","Sketch","XD","CDR"];
for(var Q=0;Q<R.length;Q++)K=K.replace(R[Q],"<b>"+R[Q]+"</b>");K+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
L[0].innerHTML=K;K=aT.get([0,17,2])+" "+aT.get([0,17,3]);for(var Q=0;Q<K.length;Q++){var n=K[Q];if(n=="<")F++;
if(n==">")q++}if(F*q==9){var W=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var Q=0;Q<3;Q++){var z=K.indexOf("<",r),u=K.indexOf(">",r),N=K.slice(0,z)+"<a href=\""+W[Q]+"\" target=\"_blank\">"+K.slice(z+1,u)+"</a>";
r=N.length;K=N+K.slice(u+1)}L[1].innerHTML=K}}var b=document.getElementById("sponsors");if(b)b.textContent=aT.get([0,17,4]);
this.tj.b();this.iv.b();this.jF.b();this.TF.b();this.YD.b();this.Cl.b();for(var B in this.Bl.map)if(this.Bl.map[B].Wp)this.Bl.map[B].Wp.b()};
Iu.prototype.ITB=function(){return p.ge[p.NE("ptih|ryy",4)][p.NE("q|pr",9)].indexOf("full")!=-1};Iu.prototype.Dj=function(m,g){m=Math.floor(m);
g=Math.floor(g);var L=p.Ys,K=L("WUMK&AM"),r=L("b`bRH"),R=p.ge[L("S[L[PEKN")],Q=!this.DU||this.ITB()||!this.d$.iD||ah.MS(),W=0;
if(!Q&&pk.EV()){if(this.Ieh==null)this.Ieh=Math.random()<.5;Q=this.Ieh}if(this.sh==null)this.sh=m<500?0:m<1600?1:2;
var F=this.sh;if(Q){if(p.ge[K]&&this.DU)p.ge[K]()}else{if(F==0)g-=60;else m-=F==1?175:315}this.tj.Ie$=this.d$.iD&&this.DU;
if(Q&&this.Da){this.Q[L("aQVUYE B@@5")](this.Ot);p.Lj(this.Ot);this.Cl.Ikt();this.Da=!1}if(!Q&&!this.Da){var q=pk.Dy();
this.IOC(m,g);var n=F==0?R[L("Q[M_")]:this.Q;n.appendChild(this.Ot);this.Ot[L("bQ]'WTOC9IE3")](r,L("_MMJLNDgKCAh")+(F==0?10:10)+L("_d$fcOS?I:==Bb-+# ~$N"));
this.Ot[r][L("_MMJLND&<:E")]=(F==0?0:20)+L("_d");this.Ot[r][L("i5WJHX")]=F==0?0:1;this.Da=!0}if(p.Ya(this.iv.Q))W+=31;
if(p.Ya(this.ns.Q))W+=32;this.tj.Dj(m,W);var z=g-W,u=L("fUMZK"),N=L("WQRMKT"),b=L("_d");this.Ot[r][N]=(F==0?100>>>1:g-11)+b;
this.Ot[r][u]=(F==0?m:6*Math.pow(10,2))+b;this.TF.Dj(m,z);this.jF.Dj(m,z);this.Cl.Dj(m-this.TF.ZZ()-this.jF.ZZ(),z);
this.Xn.Dj(m,g);this.YD.Dj(m,g)};Iu.prototype.IOC=function(m,g){var L=function(){var r=new Y(p.E.V);
r.data={P:p.o.My,OT:"account"};this.g(r)}.bind(this),K=pk.IQr(m,g,this.Ot,L,this.sh);if(K)this.Cl.Ikd(K)};
Iu.prototype.vq=function(m){var g=window.innerWidth,L=window.innerHeight;this.Dj(g,L)};Iu.prototype.IOv=function(m){console.log("systemCopy")};
Iu.prototype.IOZ=function(m){if(window.ClipboardItem)return;console.log("systemPaste");if(!m.clipboardData)return;
var g=m.target.tagName.toLowerCase();if(this.Fd.indexOf(g)!=-1)return;var L=m.clipboardData.items;if(L==null)return;
var K=this.IkN.bind(this);for(var r=0;r<L.length;r++){var R=L[r],Q=R.getAsFile();if(R.type.indexOf("text")!=-1){R.getAsString(this.IOX.bind(this))}if(R.type.indexOf("image")!=-1){if(Q.size==this.d$.I_K)return;
this.d$.I_K=Q.size;if(Q){Q.name="image.png";this.Km.$I([Q],K)}}}};Iu.prototype.IOX=function(m){if(m.startsWith("http")){if(m==this.d$.ICw)return;
this.d$.ICw=m;var g=new Y(p.E.V,!0);g.data={P:p.o.Yj,Su:{url:m,IK:!0}};this.g(g)}};Iu.prototype.IkN=function(m,g){var L={buffer:m,rect:g},K=this.d$;
if(window.ClipboardItem){var r=this.I_W,R=r.l;if(R.j==g.j&&R.F==g.F){L.rect=R;L.D_=r.D_}}else{if(K.qY){var Q=new Y(p.E.B,!0);
Q.K=l.AV;Q.data={P:"h_stepbck"};this.g(Q)}}K.qY=L;var Q=new Y(p.E.V,!0);Q.data={P:p.o.Vh,IDl:!0};this.g(Q)};
Iu.mF=function(m){m.stopPropagation();m.preventDefault()};Iu.prototype.IOU=function(){if(Date.now()-this.IML>1e3){if(this.YD.tO()!=null)alert(aT.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.IML=Date.now()}};Iu.prototype.VH=function(m){var g=this.ot();
if(g==null){alert(aT.get([15,7,7]));return}if(this.YD.HE()&&m.Gd!=!0){this.IOU();return}var L=this.Bl,K=this.d$._O;
if(K!=m.K&&L.map[K].K.HE()&&m.K!=l.Z$&&m.K!=l.ei&&!(K==l.oi&&m.K==l.VJ)){console.log("disabling",K);
L.map[K].K.disable(g,this,this.d$,this.$o)}var r=this.Bl.map[m.K].K;r.VH(m.data,this,g,this.$o,this.d$);
g.$F=!0};Iu.prototype.IO$=function(m){var g=this.d$;if(m.data.iM!=!0)RL.IJe({Qm:m.data.Qm,XX:m.data.XX},this,g,this.ot());
var L=g.ab,K=g.oG;if(L==null)return;var r={ImB:!1,yR:"Step",IxM:0,$:!0,exp:!1,Qm:m.data.Qm};if(L[2]==null)L[2]=K[L[0]].r[L[1]].r.length-1;
if(m.data.XX)r.XX=JSON.parse(JSON.stringify(m.data.XX));K[L[0]].r[L[1]].r.splice(L[2]+1,0,r);L[2]++;
this.FX(am.B)};Iu.prototype.IOE=function(m){var g=m.data.P;if(g==p.o.ZR)RL.ILd(this.ot(),this.d$.oG,m.data.tK[0],m.data.tK[1],this);
if(g==p.o.IGi){this.IqA(m.data.IDQ)}if(g==p.o.IlI){this.b();this.vq()}if(g==p.o.LV)this.vq();if(g==p.o.Ilk)if(this.d$.nH){this.d$.nH.prompt();
this.d$.nH=null}if(g==p.o.xW)this.Xn.ITl(m.data);if(g==p.o.LN)this.Xn.IxQ(m.data);if(g==p.o.vl)this.Xn.Ioy(m.data.VC);
if(g==p.o.ve)this.Xn.Iot(m.data.VC);if(g==p.o.CA)this.Xn.lA();if(g==p.o.cM)this.Cl.JC(m.data._q,m.data.push);
if(g==p.o.Iam)this.Cl.Ikh();if(g==p.o.vC)this.Cl.GX(this.nC.indexOf(m.data.XE));if(g==p.o.Jq){var L=this.ot(),K=I.clone(L.os()),r=L._[L.N[0]],R=new v(0,0,L.j,L.F),Q=aH.lk()+"-d71c-11e5-b1ae-a548a96e5f9f",F=new Y(p.E.V,!0);
if(m.data.Su==0){var q={l:R,name:L.name.split(".")[0],qT:K,id:Q};F.data={P:p.o.VP,VK:"add",Su:am.fT,_y:[q]};
this.g(F)}if(m.data.Su==1){var n=I.m(R.c()*4);I._U(n,4294967295);I.h.dq("norm",K,R,n,R,R,1);var W=I.m(R.c());
I.Wt(n,W);I.eb(W);var z=I.YR(W,R);if(z.L_())z=R;var u=I.m(z.c());I.Cp(W,R,u,z);var N={l:z,id:Q,channel:u},b=ql.wy(Q),B=b.Brsh.v;
B.Dmtr.v.val=z.j;B.Spcn.v.val=10;F.data={P:p.o.VP,VK:"add",Su:am.FE,_y:{list:[{t:"Objc",v:b}],Rd:[N],jg:[]}};
this.g(F);F.data={P:p.o.VP,Su:am.qv,cu:b};this.g(F)}if(m.data.Su==2){var h={BE:r.getName(),nL:Q,Fi:new v(0,0,L.j,L.F),W:r.add.vmsk.clone().W};
I.q._R(h.W,new aC(1/L.j,0,0,1/L.F,0,0));F.data={P:p.o.VP,VK:"add",Su:am.Ip,_y:[h]};this.g(F)}}if(g==p.o.Yj)this.Km.GI(m.data.Su);
if(g==p.o.jb){var A=this.d$.ip.open,e=m.data.IeO;if(A&&e!=!0){var F=new Y(p.E.V,!0);F.data={P:p.o.EB,TN:A};
this.g(F)}else this.Km.IT_(e?this.Cl.Gv():null,m.data.IUY)}if(g==p.o.vX){var c=m.data.IQy,a=this.bg(c);
if(c==am.eg){var R=new aH;for(var $=0;$<a.length;$++){var G=a[$].Wx.Lefx;if(G)ai.IwN(G,R,this.d$.Rr)}a={ya:R.add.Patt?R.add.Patt:[],BZ:a}}if(c==am.Wb){var o=this.d$.Br;
a={Rd:[],jg:[],list:a};console.log(a)}if(c==am.B)a=a[m.data.TP];var H=am.KU[c],K=H[2].wX(a);RU.save(K,H[1]+"."+H[0])}if(g==p.o.vF){var f=this.d$.HP,E=m.data.IjT;
if(f.fi&&!f.IMb&&!E){f.I_I=window.confirm("Load \""+m.data.lV+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
f.IMb=!0}if((f.I_I||E)&&f.fi){f.Gi[m.data.lV]=m.data.ak;var F=new Y(p.E.V);F.data={P:p.o.VP,Su:am.pg};
this.g(F)}}if(g==p.o.Ixh){var L=this.ot(),J="<!DOCTYPE HTML>";if(L==null)return;var S=ax.fM(L.os().buffer,L.j,L.F),V=window.open();
J+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";J+="<body><img src=\""+S+"\" /></body>";
J+="</html>";V.document.write(J)}if(g==p.o.CH){var U=this.d$.ip.publish;if(U){var F=new Y(p.E.V,!0);
F.data={P:p.o.EB,TN:U};this.g(F);return}var j=m.data.NW=="png",i=confirm("Your picture will be published at "+(j?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?");
if(i){var L=this.ot();if(L==null)return;if(L.HC){L.cG()}var k=j?ax.kr(L,"png"):ax.kr(L,"psd",0,0,[!0,!0]);
if(j)this.Km.ISh(k);else this.Km.ISs(k,L.name)}}if(g==p.o.ap){var P=this.d$.ip.save,L=this.ot(),w=!1;
if(L==null)return;if(L.HC){L.cG()}if(L.XN){if(this.nC.indexOf(L.XN.Jc)!=-1){var K=new Uint8Array(ax.PSD.Cf(L)),F=new Y(p.E.B,!0);
F.data={P:x.DN,$X:L.XN.Jc,data:K,id:L.XN.ICO};F.K=l.pW;this.g(F);alert("Smart Object updated")}w=!0}else if(L.hI){this.Km.ISQ(L);
w=!0}else if(L.VK&&L.VK.nn){this.Km.ISM(L,this.d$);w=!0}else if(m.data.IEV){this.Km.ISp(L,m.data.IEV,this.d$);
w=!0}else if(P){var F=new Y(p.E.V,!0);F.data={P:p.o.EB,TN:P};this.g(F);w=!0}if(w){L.MR=L.CR;L.Oi=!0}else{var F=new Y(p.E.V,!0);
F.data={P:p.o.Nq};this.g(F)}}if(g==p.o.Nq){if(!this.d$.zH){alert("function is disabled");return}var P=this.d$.ip.saveAs;
if(P){var F=new Y(p.E.V,!0);F.data={P:p.o.EB,TN:P};this.g(F);return}var F=new Y(p.E.B,!0);F.data={P:x.Od};
F.K=l.pW;this.g(F);var L=this.ot();if(L.HC){L.cG()}if(L._.length>8e3&&!confirm("Your document has "+L._.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var d=L.Iqe()||L.XN&&L.XN.Jc.Iqe();if(this.ITB())d=!1;var T=new p.ge[(p.cm("Gc"+(p.ug(31)?"ue":"ve"),-3))]()[p.NE("edtNkqyykz",-2)]();
if(d&&!ah.MS()&&T>2*15){p.ge[p.CI("clh]]c[",3)](p.CI("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-T+4*15)+p.CI(" rs}\x89\x8D\x83\x96V",-5));
return}var K=ax.PSD.Cf(L);RU.save(K,L.name);L.MR=L.CR;L.Oi=!0}if(g==p.o.VY)window.open(m.data.link,"_blank");
if(g==p.o.ILS){if(this.YD.HE()){this.IOU();return}var L=this.ot(),r=L._[L.N[0]],y=L.ZX(r.add.SoLd.Idnt.v);
for(var $=0;$<this.nC.length;$++){var D=this.nC[$].XN;if(D!=null&&D.ICO==y.aP&&D.Jc==L){this.Cl.Sh($);
return}}RU.mj({name:y.w_,XN:{ICO:r.add.SoLd.Idnt.v,Jc:L}},y.raw.buffer,this)}if(g==p.o.vI){this.IMq()}if(g==p.o.aM){this.IMs(m.data.gn,m.data.Jx)}if(g==p.o.Vh){this.IMQ(m.data.IDl)}if(g==p.o.EB){IX._Y(m.data.TN,this)}if(g==p.o.VV){var s=parseFloat(m.data.OT);
if(this.d$.Xa.indexOf(s)==-1){var F=new Y(p.E.V,!0);F.data={P:p.o.VP,Su:am.nb,U:s,VK:"add"};this.g(F)}this.jF.I_Y(m.data.OT)}if(g==p.o.vY){this.Xn.Ior(this.ot(),this.d$)}if(g==p.o.My){var P=this.d$.ip.takePic;
if(m.data.OT=="camera"&&P){var F=new Y(p.E.V,!0);F.data={P:p.o.EB,TN:P};this.g(F);return}if(!this.d$.zH&&m.data.window=="saveforweb"){alert("function is disabled");
return}this.YD.IeM(m.data.OT,this.ot(),m.data,this.nC,this.$o)}if(g==p.o.Ly)RU.save(m.data.data,m.data.name);
if(g==p.o.ES){if(!this.YD.HE()||m.Gd)this.IMj(m.data.$X)}if(g==p.o.NR){this.Cl.Sh(m.data.target);var F=new Y(p.E.B,!0);
F.data={P:x.IxY,$X:m.data.$X,dt:m.data.dt,pY:m.data.pY};F.K=l.pW;this.g(F);this.Nr(l.Zo)}if(g==p.o.ILX){t.be=!t.be;
if(this.nC.length>0)this.ot().X()}if(g==p.o.IqX){var Z=ah.kG();if(Z!=null&&Z.globals!=null)this.FO(Z.globals);
this.FS()}if(g==p.o.ILK){this.Km.$I(m.data.data,null,m.data.Fl,m.data._r)}if(g==p.o.RI){if(!this.YD.tO()!=null)this.Nr(m.data.K,m.data.ky)}if(g==p.o.vw){if(this.Bl.sE)this.Nr(this.Bl.sE)}if(g==p.o.Nv){var aQ=this.Bl.map[m.data.K].K,L=this.ot();
aQ.lr(m.data,this,L,this.$o,this.d$);if(L)L.$F=!0;this.ICx()}if(g==p.o.dL){var aI=this.Bl.map[m.data.K];
this.IvL(aI);aI.Wp.NA(m.data)}if(g==p.o.VP){var L=this.ot(),aq=m.data.Su,aa=m.data._y,aD=this.d$;if(m.data.VK=="set"){var _=l.IQE(aa);
if(aD._O!=_)this.Nr(_);this.Bl.map[_].Wp.I$d(aa,aD)}if(m.data.VK=="add"){var H=am.KU[aq];if(aq==am.nb){aD.Xa.push(m.data.U);
aD.Xa.sort(function(aG,aM){return aG-aM})}else if(H==null){if(aa)aD.dd.IEN(aa,m.data.IkW)}else{var M=this.bg(aq);
if(aq==am.FE){M.Rd=M.Rd.concat(aa.Rd);M.jg=M.jg.concat(aa.jg);M=M.list;aa=aa.list}if(aq==am.eg&&L){for(var $=0;
$<aa.length;$++){var G=aa[$].Wx.Lefx;if(G)ai.Io$(G,L,aD.Rr)}}if(aq==am.Wb&&aa==null){var R=this.Bl.map[aD._O].Wp.IUO();
if(R==null)return;aa=[R]}for(var $=0;$<aa.length;$++)M.push(aa[$]);if(m.data.IkW!=!0)if(M.length!=aa.length||aq==am.nA||aq==am.eg||aq==am.B)alert(aT.get(H[3])+" "+aT.get([23,1])+".")}}if(m.data.VK=="del"){if(aq==am.nb){aD.Xa.splice(aD.Xa.indexOf(m.data.U),1)}else{var H=am.KU[aq],jt=m.data.lf,M=this.bg(aq);
if(aq==am.FE)M=M.list;for(var $=0;$<jt.length;$++)M[jt[$]]=null;for(var $=0;$<M.length;$++)if(M[$]==null){M.splice($,1);
$--}alert(aT.get(H[3])+" deleted.")}}if(m.data.VK=="rnm"){var H=am.KU[aq],M=this.bg(aq);if(aq==am.FE)M=M.list;
if(M[m.data.lf[0]]==null)return;H[2].Ke(M[m.data.lf[0]],m.data.U)}if(aq==am.Ej){var aR=m.data.U;aD.Ov=aR;
aD.Ilz[aR.co]=aR.jl}if(aq==am.mf){var aR=m.data.U;aD.OM=aR;var aL=aR.strokeEnabled.v,aw=aR.strokeStyleContent.v,ap=aL?{co:1+aU.WL.yN.indexOf(aw.classID),jl:aw}:{co:0};
aD.IGU[ap.co]=ap.jl}if(aq==am.mP){aD.XT=m.data.XT}if(aq==am.qv){aD.Br.sz=m.data.cu}if(aq==am.pD){aD.sZ=m.data.cC}if(aq==am.Tc){var al,ak="Clrs";
if(m.data.Jj<2){var ao=m.data.U,aZ=m.data.Jj==0,aS=I.G.h$({u:ao>>>16,S:ao>>>8&255,R:ao&255});if(aZ)aD.$q=ao;
else aD._Q=ao;ak=aZ?"FrgC":"BckC";al={Qm:"set",XX:{__name:"Set",classID:"setd",T:{t:"Objc",v:aS}}}}if(m.data.Jj==2){var an=aD.$q;
aD.$q=aD._Q;aD._Q=an;al={Qm:"exchange",XX:{__name:"Exchange",classID:"Exch"}}}if(m.data.Jj==3){aD.$q=0;
aD._Q=16777215;if(L!=null&&L.N.length!=0&&L._[L.N[0]].eF==1){var an=aD.$q;aD.$q=aD._Q;aD._Q=an}al={Qm:"reset",XX:{__name:"Reset",classID:"Rset"}}}if(al){al.XX.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:ak}}]};
var aI=this.EN();aI.Tu=this;aI.track(al)}}if(aq==am.He){aD.EK=!aD.EK;this.vq()}if(aq==am.Il){aD.ny=!aD.ny;
this.vq()}var IU=aD.dA;if(aq==am.Hr){IU.pT=!IU.pT;this.vq()}if(aq==am.ED){IU.pc=!IU.pc;this.vq()}if(aq==am.pG){IU.TW=!IU.TW;
this.vq()}if(aq==am.Hv){IU.wf=!IU.wf;this.vq()}if(aq==am.iH){IU.zi=!IU.zi;this.vq()}if(aq==am.Hh){IU.qo=!IU.qo;
this.vq()}if(aq==am.pL){aD.dA=m.data.cC;this.vq()}if(aq==am.IeG){aD.zY=!aD.zY;this.vq()}if(aq==am.p_){aD.DV[m.data.Pf]=!aD.DV[m.data.Pf];
this.vq()}if(aq==am.Hg){aT.IQQ(m.data.lang);this.b();this.vq()}if(aq==am.pr){aD.rL=m.data.rL;this.b()}if(aq==am.pg&&aD.HP.fi){var a_=aD.HP.fi.transaction(["rsrc"],"readwrite").objectStore("rsrc");
a_.put({k:"fs0",fset:aD.HP.Gi})}this.FX(aq)}};Iu.prototype.bg=function(m){var g=this.d$,L=[am.FE,am.nV,am.mW,am.fT,am.Ip,am.eg,am.nA,am.B,am.Wb,am.Ix],K=[g.Br,g.jh,g.PH,g.Rr,g.ON,g.Jg,g.IQ$,g.oG,g.mt,g.Iex];
return K[L.indexOf(m)]};Iu.prototype.IMq=function(){var m=this.IMs(),g=this.ot();if(g==null||g.N.length==0)return;
var L=g._[g.N[0]],K=new Y(p.E.B);if(m==1){K.K=l.fF;K.data={P:"remove",Is:"Cut Paths"}}else{K=new Y(p.E.VG);
K.data={Qm:"delete"}}this.g(K)};Iu.prototype.IMs=function(m,g){if(m==null)m=!1;var L=this.d$;console.log("doCopy",m,g);
var K=this.ot();if(K==null||K.N.length==0)return;var r=K._[g==null?K.N[0]:g],R=K.zA(),Q=R[0],F=R[1],q=Q[F[0]];
if(!m&&q!=null&&q.add.vmsk.N.length!=0){L.zu=l.Wc.IVR(q.add.vmsk,q.add.vogk);return 1}else{if(K.I==null)return;
var n,W;if(m){var z=new v(0,0,K.j,K.F);W=z.my(K.I.rect);n=I.m(W.c()*4);I.pq(K.os(),z,n,W);I.lD(K.I.channel,K.I.rect,n,W)}else{var u=r.IQC(K,K.I);
if(u==null){alert("Copied area is empty");return}n=u.$O;W=u.rect}var N=K.L.WY,b=N[0]+N[1]+N[2];if(b==1){var B=N.indexOf(1);
for(var h=0;h<n.length;h+=4)n[h]=n[h+1]=n[h+2]=n[h+B]}var A=new jf(K.j,K.F);if(window.ClipboardItem){var e=ax.PNG.IaS(n.buffer,W.j,W.F);
RU.ITS(new Blob([new Uint8Array(e)],{type:"image/png"}));this.I_W={l:W,D_:A}}else L.qY={buffer:n,rect:W,D_:A};
L.I_U=W.clone();L.zu=null}};Iu.prototype.IMQ=function(m){console.log("doPaste");var g=this.d$,L=g.qY,Q;
if(this.nC.length==0){if(!m&&window.ClipboardItem){RU.Vb(this,null);return}if(L){var K=RU.Gp("image.psd",[{data:L.buffer.buffer,wh:L.rect}]),r=new Y(p.E.V);
r.data={P:p.o.ES,$X:K};this.g(r)}return}var K=this.ot(),R=K._[K.N.length==0?K._.length-1:K.N[0]];if(g.zu){var F=K.zA(!0),q=F[0],n=F[1];
Q=q[n[0]]}var r=new Y(p.E.B,!0);if(g.zu!=null&&Q!=null){r.K=l.fF;r.data={P:"append",Is:"Paste Paths",IhD:g.zu}}else if(!m&&window.ClipboardItem){RU.Vb(this,this.IkN.bind(this));
return}else{if(L==null)return;if(K.kn(!1)&&(R.eF>0||R.rect.L_())){r.K=l.FE;r.data={P:"draw",ISb:!0,Is:[5,2]}}else{r.K=l.pW;
r.data={P:x.xP}}r.data.qY=L}this.g(r)};Iu.prototype.IeA=function(){for(var m=0;m<this.nC.length;m++){var g=this.nC[m],L=!0;
for(var K=0;K<g._.length;K++){var r=g._[K],R=r.add.TySh;if(R!=null&&!QE.ht(R,this.d$.dd))L=!1}if(!L)continue;
if(g.pR)for(var K=0;K<g._.length;K++){var r=g._[K],R=r.add.TySh;if(R!=null&&QE.ht(R,this.d$.dd)){var Q=new RI(R.m_,this.d$.dd),F=QE.Wa(Q,R);
r.rect=F.l;r.buffer=F.qT;r.X();g.X()}}if(g.IMt)continue;g.IMt=!0;if(g.VK&&g.VK.Iev)IX._Y(g.VK.Iev,this);
this.G$();var q=new Y(p.E.B);q.K=l.VJ;q.data={P:"start",le:"\0\0\x03\x82"};var n=new Y(p.E.V);n.data={P:p.o.VV,OT:ar.ba.IJa}}};
Iu.prototype.FX=function(m){var g=this.d$._O;if(m==am.qv){if(this.Bl.map[g].Wp)this.Bl.map[g].Wp.SI(this.d$,m)}else for(var L in this.Bl.map)if(this.Bl.map[L].Wp)this.Bl.map[L].Wp.SI(this.d$,m);
if(m==am.Iw){if(g!=l._T)this.Bl.map[l._T].K.SI(this.d$,m);this.IeA()}this.TF.SI(this.d$,m);this.YD.SI(this.d$,m);
this.EN().SI(this.d$,m);this.jF.SI(this.d$,m);this.iv.SI(this.d$,m);if(m==am.pr||m==am.VA){ph.IGA(this.d$.rL);
this.update(!0)}if([am.nb,am.pD,am.Tc,am.He,am.Il,am.pL,am.pG,am.Hv,am.Hr,am.ED,am.iH,am.Hh,am.Hg,am.pr].indexOf(m)!=-1)this.ICx()};
Iu.prototype.ICx=function(){if(!this.ty)return;var m={},g=this.Bl.map;for(var L in g){var K=g[L].K;if(K.FY&&K.FY()!=null)m["t"+L]=K.FY()}var r=this.d$,R=r.dA,Q={fcolor:r.$q,bcolor:r._Q,rulers:r.EK,extras:r.ny,favFam:r.sZ,panels:r.Xa,eparams:{guides:R.TW,grid:R.wf,sels:R.pT,paths:R.pc,pgrid:R.zi,slices:R.qo,gsize:R.hO,gunits:R.hf,gtype:R.D$,runits:R.$C},lang:aT.zO(),theme:r.rL,topt:m},F=ah.kG();
if(F==null)F={};F.globals=Q;ah.DF(F)};Iu.prototype.ICf=function(){var m=this.$o,g=this.T_,L=this.d$._O,K=this.Bl.map[L].K,r=null,R=!1;
for(var Q=0;Q<this.Bl.IMo.length;Q++){var F=this.Bl.IMo[Q],q=!0;for(var n=0;n<F.cP.length;n++){var W=F.cP[n];
if(!m.a(W))q=!1}if(q&&(!F.KJ||!K.HE())&&(F.nK==null||F.nK.indexOf(L)!=-1)){r=F.K;R=F.KJ;break}}if(!g.Tb&&this.Bl.SJ!=r&&(r!=L||!R)){var z=this.ot();
if(this.Bl.SJ!=null&&r==null)this.EN().disable(z,this,this.d$,m,!0);this.Bl.SJ=r;this.EN().enable(z,this,this.d$,m,r!=null&&r!=L)}};
Iu.prototype.FV=function(m){var g=this.d$._O,L=this.ot();if(g!=null){this.Bl.map[g].K.disable(L,this,this.d$,this.$o)}};
Iu.prototype.IvL=function(m){if(m.Wp==null){m.Wp=new m.Bi;m.Wp.IGX(m.K.id,m.K.$z);m.Wp.SI(this.d$,am.VA);
m.Wp.b()}};Iu.prototype.Nr=function(m,g){if(m==l.Zo&&this.YD.tO())return;var L=this.ot(),K=this.d$;if(this.Bl.map[m].K.FK(L,K)){this.FV();
var r=[l.ol,l.ZC,l.gI,l.oT,l.gq,l.gQ,l.oS,l.fF,l.Fz].indexOf(K._O)!=-1;this.Bl.sE=K._O?K._O:l.Kb;K._O=m;
this.TF.e_(this.Bl,this.d$);var R=this.Bl.map[m];this.Bl.sv[R.Sr]=R.IM_;this.IvL(R);this.ns.ITT(R.Wp);
var Q=R.K;Q.enable(L,this,this.d$,this.$o,!1,g,r);if(L)L.$F=!0;this.vq()}};Iu.prototype.EN=function(m){var g=this.Bl,L=g.Dq,K=g.SJ,r=this.d$._O;
if(L)r=L;else if(K&&m==null)r=K;return g.map[r].K};Iu.prototype.IMj=function(m){var g=this.nC.indexOf(m);
if(g!=-1){this.Cl.Sh(g);return}if(this.sC&&(m.VK==null||m.VK.nn==null)){m.VK={nn:this.sC}}if(m.$x==null){m.$x="local,"+this.IMR+","+m.name;
this.IMR++}for(var L=0;L<m._.length;L++){var K=m._[L];if(K.add.TySh!=null)QE.ht(m._[L].add.TySh,this.d$.dd)}var r=p.ge[p.cm("Hd"+(p.ug(26)?"vf":"uf"),-4)];
r=r[p.cm("uu"+(!p.ug(28)?"-":"|"),-7)];var R=Math.floor(r()/1e3),Q=Math.PI*(7361<<13)+(p.ug(31)?20:10)*7e7;
if(R>Q){var F=m._.length;m._=[];return F}if(t.be)t.IlA(Math.max(m.j,m.F));m.ZB();m.cv();m.X();this.nC.push(m);
this.Cl.GZ(new Rq(m));m.$F=!0;m.Oi=!0;this.IeA();var q=new Y(p.E.B);q.K=l.fy;q.data={P:"auto",YL:2}};
Iu.prototype.ot=function(){return this.nC[this.sX]};Iu.prototype.IvM=function(){return this.YD.tO()==null};
Iu.prototype.Iv_=function(m){this.FV();this.sX=this.Cl.Gv();var g=this.ot();this.iv.IeL(g,this.d$);this.jF.e_(g,this.nC,this.d$);
this.vq();if(g)g.$F=!0};Iu.prototype.IMa=function(m){this.FV();this.nC.splice(m.data.PD,1);if(this.nC.length==0){this.Iv_(m);
if(t.be)t.qu().parentNode.removeChild(t.qu())}};Iu.prototype.IMJ=function(m){var g=[],L=m.data.IDq;for(var K=0;
K<L.length;K++)g[K]=this.nC[L[K]];this.nC=g;this.sX=this.Cl.Gv()};Iu.prototype.IMS=function(m){var g=this.Cl,L=g.Ike(),K=this.EN(),r=this.ot();
if(L==g.Gv()||!K.Iq_())return;this.IqA(L,K)};Iu.prototype.IqA=function(m,g){var L=this.d$,K=this.Cl,r=this.ot(),R=this.nC[m],Q=new Y(p.E.B,!0);
Q.K=l.pW;Q.data={P:x.xN,_:r.wW(null,!0),Jc:r,fZ:R};this.g(Q);var F=this.T_,q=L.EK;L.EK=!1;F=r.L.TV(F.x,F.y);
if(g)g.Ixm(r,this,L,this.$o);K.Sh(m);F=R.L.nt(F.x,F.y);F.x+=49;F.y+=112;if(g)g.Mc(R,this,L,this.$o,F);
L.EK=q};Iu.prototype.IqH=function(m){var g=this.ot(),L=this.$o,K=this.d$,r=m.dX;if(r)this.T_=r;if(m.action.startsWith("multi")){var R=new Y(p.E.B,!0);
R.data={P:m.action,ue:m.ue};R.K=l.ei;this.g(R);return}var Q=this.Bl.map[l.Kb].K;if((m.action=="down"||m.action=="rdown")&&K._O!=l.Kb&&this.Bl.SJ!=l.Kb&&Q.II_(g,this,K,L,r)){this.Bl.Dq=l.Kb;
Q.enable(g,this,K,L,!0)}var F=this.YD.tO(),q=F!=null&&F.RL()&&this.Bl.SJ==null?F:this.EN();if(F!=null&&q!=F&&this.YD.HE()&&q.id!=l.Z$&&q.id!=l.ei)return;
if(this.Xn.tO())return;if(m.action=="down")q.Mc(g,this,K,L,r);if(m.action=="rdown")q.Fr(g,this,K,L,r);
if(m.action=="move")q.NB(g,this,K,L,r);if(m.action=="up")q.RK(g,this,K,L,r);if(m.action=="rup")q.fE(g,this,K,L,r);
var n=this.jF;if(m.action=="down")n.Mc(g,this,K,L,r);if(m.action=="move")n.NB(g,this,K,L,r);if(m.action=="up")n.RK(g,this,K,L,r);
if(m.action=="down"||m.action=="up"){this.ICf()}if(m.action=="down"||m.action=="up"||m.action=="ctx"){g.$F=!0}if((m.action=="up"||m.action=="rup")&&this.Bl.Dq){this.Bl.Dq=null;
Q.disable(g,this,K,L)}if(m.action=="scroll"){var W=!L.a(C.EZ)&&m.yB,R=new Y(p.E.B,!0);R.data={P:"scroll",pB:m.pB.clone(),dX:r};
R.K=L.a(C.qk)||W?l.ei:l.Z$;this.g(R)}};Iu.prototype.JH=function(m){var g=this.ot(),L=this.T_;if(g&&this.EN()._j(L,this.$o)){var K=g.L,r=K.r.j,R=K.r.F,Q=0,F=0,q=16;
if(L.x<q)Q=q-L.x;if(L.x>r-q)Q=L.x-(r-q);if(L.y<q)F=q-L.y;if(L.y>R-q)F=L.y-(R-q);if((Q!=0||F!=0)&&(g.j*K.T>r||g.F*K.T>R)){Q=Math.min(5,Q*.5);
F=Math.min(5,F*.5);if(!(L.x<q||L.y<q)){Q=-Q;F=-F}K.H.x+=Q;K.H.y+=F;this.IqH({dX:this.T_,action:"move"});
g.qb=!0}}this.update();window.requestAnimationFrame(this.Ie_)};Iu.prototype.update=function(m){var g=this.ot();
if(g==null)return;if(g.$F){var L=this.Bl.map;for(var K in L){if(L[K].K.ey)L[K].K.ey(g,this,this.d$,this.$o)}}if(g.HC){g.cG()}if(g.HC||g.qL||g.Oi||g.qb||m){this.Cl.SI(this.d$,null);
this.Cl.e_(g,this.nC)}if((g.HC||g.qb||g.$F)&&(!this.T_.Tb||g.zd)){g.cv();this.jF.e_(g,this.nC,this.d$);
this.TF.I_N(g,this.$o);g.ur=!1}g.zd=!1;g.$F=!1;g.HC=null;g.qL=g.Oi=g.qb=!1};Iu.prototype.Fd=["input","textarea","select"];
Iu.prototype.IqY=function(m){var g=m.code,L=C.Bf;return!L(g,C.rw)&&!L(g,C.EZ)&&!L(g,C.qk)};Iu.prototype.Zd=function(m){var g=m.target.tagName.toLowerCase(),L=m.target.getAttribute("type"),K=C.Bf(m.code,C.xI);
if(this.Fd.indexOf(g)!=-1&&this.IqY(m)&&!(K&&g=="input"&&L=="range")&&!(g=="input"&&L=="checkbox")||g=="button"&&(K||C.Bf(m.code,C.HN)))return;
if(C.IVh(m)){m.preventDefault()}this.$o.IpU(C.IpW(m));this.KK("down")};Iu.prototype.bA=function(m){if(C.Bf(m.code,C.Ixq))this.$o.reset();
this.$o.IpI(C.IpW(m));var g=m.target.tagName.toLowerCase();if(this.Fd.indexOf(g)!=-1&&this.IqY(m))return;
if(C.IVh(m)){m.preventDefault()}this.KK("up")};Iu.prototype.KK=function(m){var g=this.$o,L=this.ot(),K=L!=null&&L.N.length!=0;
if(this.Xn.tO()!=null){if(g.a(C.rw)){this.Xn.ITo()}return}this.ICf();var r=this.Gg(C.EZ),R=g.a(C.qk),Q=g.a(C.jU);
if(r&&g.a(C.up)&&m=="down"){var F=new Y(p.E.B),q=new Y(p.E.V);F.K=l.AV;if(Q){F.data={P:"h_stepfwd"}}else{F.data={P:"h_stepbck"}}if(this.YD.tO()!=null&&this.YD.tO().HE()){}else this.g(F)}if(r){var F=new Y(p.E.B),n=new Y(p.E.VG),q=new Y(p.E.V);
if(!R)for(var W in qE.keys){var z=qE.keys[W],u=!0;for(var N=0;N<z.length;N++)if(!g.a(z[N]))u=!1;if(u){F.K=l.fy;
if(W=="hue2"&&Q)F.data={P:"auto",YL:3};else F.data={P:"start",q$:W}}}if(g.a(C.o)){n.data=l.Lk.ud(!0)}if(g.a(C.nk)){if(R)q.data={P:p.o.My,OT:"csize"};
else q.data={P:p.o.aM,gn:Q}}if(g.a(C.MN)){n.data=l.Lk.ud()}if(g.a(C.E)&&m=="down"){F.K=l.pW;if(Q)F.data={P:x.Dz};
else{if(L.N.length==1&&L.N[0]!=0&&!L._[L.N[0]].EY())F.data={P:x.If};else F.data={P:x.Db}}}if(g.a(C.l$)){if(Q&&this.d$._O!=l.Zo)q.data={P:p.o.My,OT:"afw_fade"};
else if(R){F.K=l.VJ;F.data={P:"applylast"}}else q.data={P:p.o.vY}}if(g.a(C.IIl)){if(R&&L.WX(L.N[0])){F.K=l.pW;
F.data={P:x.QB}}else{F.K=l.pW;F.data={P:x.wa}}}if(g.a(C.IjB)){q.data={P:p.o.VP,Su:am.Il}}if(g.a(C.kT)){if(Q){F.data=null;
if(R)q.data={P:p.o.My,OT:"finfo"};else n.data={Qm:"inverse"}}else if(R)q.data={P:p.o.My,OT:"isize"}}if(g.a(C.IaW)){F.K=l.pW;
F.data={P:x.QV}}if(g.a(C.ez)){q.data={P:p.o.My,OT:"preferences"}}if(g.a(C.rk)){if(Q){F.K=l.pW;F.data={P:x.ZD}}else q.data={P:p.o.My,OT:"newproject"}}if(g.a(C.IRP)){q.data={P:p.o.jb};
g.reset()}if(g.a(C.EO)){q.data={P:p.o.Ixh};g.reset()}if(g.a(C.ba)){q.data={P:p.o.VP,Su:am.He}}if(g.a(C.IlN)&&m=="down"){if(Q){if(R)q.data={P:p.o.My,OT:"saveforweb"};
else q.data={P:p.o.Nq}}else q.data={P:p.o.ap}}if(g.a(C.t)){if(Q){F.K=l.Zo;F.data={P:"again"}}else q.data={P:p.o.RI,K:l.Zo}}if(g.a(C.IIP)){q.data={P:p.o.Vh}}if(g.a(C.IaR)){this.Cl.hq()}if(g.a(C.um)){q.data={P:p.o.vI}}if(g.a(C.uR)||g.a(C.ko)){F.K=l.pW;
F.data={P:x.QZ,Jj:0};if(g.a(C.uR))F.data.Jj=Q?3:2;else F.data.Jj=Q?0:1}if(g.a(C.xI)&&L){F.K=l.eS;F.data={P:"frompath",tK:[null,0,0]}}if(g.a(C.IxU)){n.data=l.ma.oZ(0)}if(g.a(C.HN)){var b=this.nC.length;
if(b>1)this.Cl.Sh((this.Cl.Gv()+1)%b)}if(g.a(C.IpN)){q.data={P:p.o.VP,Su:am.pG}}if(g.a(C.IxV)){q.data={P:p.o.VP,Su:am.Hv}}if(g.a(C.Dw)||g.a(C.IpP)){F.K=l.ei;
F.data={P:"zoom",bt:!0}}if(g.a(C.Hz)){F.K=l.ei;F.data={P:"zoom",bt:!1}}if(g.a(C.Iey)){F.K=l.ei;F.data={P:"adapt",U:"fitscr"}}if(g.a(C.IDg)){F.K=l.ei;
F.data={P:"adapt",U:"pixel"}}if(this.YD.tO()!=null&&this.YD.tO().HE()){}else{if(F.data)this.g(F);if(n.data)this.g(n);
if(q.data)this.g(q)}}if(!g.a(C.EZ)&&!R&&!Q&&m=="down"){var F=new Y(p.E.B),q=new Y(p.E.V),B=this.Bl.map[this.d$._O],h=-1;
for(var N=0;N<this.Bl.keys.length;N++)if(this.Bl.keys[N]&&this.Gg(this.Bl.keys[N]))h=N;if(h!=-1){var A;
if(B.Sr!=h)A=this.Bl.sv[h];if(B.Sr==h)A=(B.IM_+1)%this.Bl.bl[h].length;var e=this.Bl.bl[h][A].K.id,c=this.d$.Ien;
if((c==null||c.indexOf(parseInt(e))!=-1)&&!this.T_.Tb)q.data={P:p.o.RI,K:e}}if(g.a(C.um))q.data={P:p.o.VP,Su:am.Tc,Jj:2};
if(g.a(C.MN))q.data={P:p.o.VP,Su:am.Tc,Jj:3};if(q.data)this.g(q);if(L&&L.N.length!=0){var a=L._[L.N[0]],$=a.eF;
if($==1||$==3){var G=$==3?a.lI(L).s:a.WN(),o=G.vu?L.L.WY.join("")=="111"?1:2:0;F.K=l.ei;if(G&&g.a(C.rw)&&o!=0){F.data={P:"mskView",U:0}}if(G&&g.a(C.Ipy)){F.data={P:"mskView",U:o==1?0:1}}if(G&&g.a(C.IDa)){F.data={P:"mskView",U:o==2?0:2}}if(F.data)this.g(F)}}var H=g.km();
if(K&&H!=-1&&this.Gg(C.uG[H])){var f=L.N[0],a=L._[f],E=p.IvN(Math.round(100*a.opacity/255),H);F.K=l.pW;
F.data={P:x.QS,A:f,cC:Math.round(255*E/100)};this.g(F)}if(g.a(C.HN))this.Gk(this.zg==0?1:0);if(g.a(C.l$))this.Gk(this.zg==0?2:0);
if(g.a(C.Ixr)&&!this.T_.Tb){F.K=l.eS;F.data={P:"qmask"};this.g(F)}}if(!g.a(C.EZ)&&!R&&Q){var F=new Y(p.E.B),q=new Y(p.E.V);
if(g.a(C.IxI))q.data={P:p.o.My,OT:"shortcuts"};if(g.a(C.ILO))q.data={P:p.o.My,OT:"fill"};if(g.a(C.IL_))q.data={P:p.o.My,OT:"sel_feather"};
if(K&&(g.a(C.Dw)||g.a(C.Hz))){var f=L.N[0],a=L._[f],S=ad.go,V=S.length,J=S.indexOf(a.TZ);F.K=l.pW;F.data={P:x.qP,cC:(J+V+(g.a(C.Dw)?1:-1))%V};
this.g(F)}if(q.data)this.g(q)}var F=new Y(p.E.B),U=m=="down"&&(this.Gg(C.sY)||this.Gg(C.Wg));if((r||R)&&U){F=new Y(p.E.VG);
F.data=l.jx._W(r?"BckC":"FrgC");this.g(F)}else if(L&&U&&!this.T_.Tb){if(L.I!=null){F=new Y(p.E.VG);F.data={Qm:"delete"}}else{F.K=l.pW;
F.data={P:x.vf}}this.g(F)}if(this.YD.tO()!=null){if(g.a(C.rw)){this.YD.tO().Ivy()}else{this.YD.tO().KK(L,this,this.d$,g)}}if(this.d$._O==null)return;
var B=this.EN();if(this.YD.tO()==null||this.Bl.SJ)B.KK(L,this,this.d$,g)};Iu.prototype.Gg=function(m){var g=this.$o,L=this.Bl.map[this.d$._O].K,top=this.YD.tO(),K=this.ot();
return g.a(m)&&!L.AC(m,K)&&(top==null||!top.AC(m,K))};Iu.IUF=function(){if(!document.mozFullScreen&&!document.I$U){var m=document.body;
if(m.mozRequestFullScreen){m.mozRequestFullScreen()}else{m.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
Iu.prototype.Gk=function(m){var g=this.IDm,L=this.s_;this.zg=m;var K=p.Ya,r=this.iv.Q;if(K(r))this.oh.removeChild(r);
var R=this.ns.Q;if(K(R))this.oh.removeChild(R);var Q=this.TF.Q;if(K(Q))g.removeChild(Q);var F=this.Cl.Q;
if(K(F))g.removeChild(F);var q=this.jF.Q;if(K(q))g.removeChild(q);if(m==0){this.oh.appendChild(r);this.oh.appendChild(R);
L.appendChild(g);g.appendChild(Q);g.appendChild(F);g.appendChild(q)}if(m==1){this.oh.appendChild(r);
g.appendChild(F)}if(m==2){g.appendChild(F)}this.Cl.Gk(m==2?1:0);if(document.fullscreenEnabled){if(m==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.vq()};function p_(m){aO.call(this);
if(m==null)return;this.uP=null;this.PC=null;this.Q=p.Y("div","sbar"+" "+m);this.Dx=new p.Y("div","top");
this.Dx.innerHTML="> <";this.Q.appendChild(this.Dx);this.nz=1;this.Dx.addEventListener("click",this.IMg.bind(this),!1)}p_.prototype=new aO;
p_.prototype.IMg=function(m){if(this.uP!=null&&this.uP<500&&this.nz==0)return;if(this.nz==0)this.dH(!0);
else this.collapse(!0)};p_.prototype.IQG=function(m){this.nz=m;this.Dx.innerHTML=this.nz==0?"< >":"> <"};
p_.prototype.IQo=function(){var m=new Y(p.E.V,!0);m.data={P:p.o.LV};this.g(m)};p_.prototype.dH=function(m){this.IQG(1);
if(m)this.IQo()};p_.prototype.collapse=function(m){this.IQG(0);if(m)this.IQo()};p_.prototype.Fc=function(){return this.nz==1};
function qW(m){p_.call(this,"vcolumn");this.Dl=m;this.gD();this.DA=p.Y("div");this.DA.setAttribute("style","cursor:default;");
this.IDG=this.IMH.bind(this);this.ICW=this.IMf.bind(this);this.Iva=this.I_a.bind(this);p.yG(this.Q,this.IDG);
this.Q.appendChild(this.DA);this.sV=p.Y("div","");this.DA.appendChild(this.sV);this.nf=null;this.EI=p.Y("div","float");
this.lM=[];this.IvT=null;this.Ivs=0}qW.prototype=new p_;qW.prototype.IMH=function(m){if(m.target!=this.Q)return;
if(!this.Fc())return;this.IvT=p.c_(m,document.body);this.Ivs=this.Dl;p.Wj(document,this.ICW);p.WT(document,this.Iva)};
qW.prototype.IMf=function(m){var g=p.c_(m,document.body);this.Dl=this.Ivs+this.IvT.x-g.x;this.gD();var L=new Y(p.E.V,!0);
L.data={P:p.o.LV};this.g(L)};qW.prototype.I_a=function(m){p.bC(document,this.ICW);p.yH(document,this.Iva)};
qW.prototype.I_p=function(m){m.v("showFloat",this.IR_,this);m.v("hideFloat",this.bc,this);this.lM.push(m);
m.parent=this;this.DA.appendChild(m.Q)};qW.prototype.I_k=function(m){var g=this.lM[m];g.removeEventListener("showFloat",this.IR_,this);
g.removeEventListener("hideFloat",this.bc,this);this.lM.splice(m,1);g.parent=null;this.DA.removeChild(g.Q)};
qW.prototype.I_O=function(){return this.lM.length};qW.prototype.$P=function(){for(var m=0;m<this.lM.length;
m++)this.lM[m].$P()};qW.prototype.IR_=function(m){this.bc(m);this.sV.appendChild(this.EI);this.nf=m.currentTarget.Sj;
this.EI.appendChild(this.nf);var g=m.currentTarget.bp(),L="";if(g.x!=0)L+="width : "+g.x+"px;";if(g.y!=0)L+="height: "+g.y+"px;";
this.EI.setAttribute("style",L);this.Dj(this.uP,this.PC)};qW.prototype.bc=function(m){this.$P();if(this.nf){this.sV.removeChild(this.EI);
this.EI.removeChild(this.nf);this.nf=null}};qW.prototype.gD=function(){this.Q.setAttribute("style","width: "+this.Dl+"px; padding-left:3px; cursor:ew-resize;")};
qW.prototype.dH=function(m){this.gD();this.bc();for(var g=0;g<this.lM.length;g++)this.lM[g].dH();p_.prototype.dH.call(this,m)};
qW.prototype.collapse=function(m){this.Q.removeAttribute("style");for(var g=0;g<this.lM.length;g++)this.lM[g].collapse();
p_.prototype.collapse.call(this,m)};qW.prototype.Dj=function(m,g){this.uP=m;this.PC=g;var L=this.lM.length,K=this.Fc();
g-=6;if(L==0)return;m=this.Dl;var r=g;for(var R=0;R<L-1;R++){var Q=this.lM[R],F=Q.IiP();Q.Dj(m,K?F:g);
r-=F}this.lM[L-1].Dj(m,K?r:g)};function q_(m){aO.call(this);this.Q=p.Y("div");this.DA=null;this.KR=0;
this.KP=0;this.IZL=m;this.IDT=this.cX.bind(this);this.IZk=this.Fg.bind(this);this.IZ_=this.Cs.bind(this);
this.jf=null;this.EQ=null;this.s$=null;p.yG(this.Q,this.IDT);var g=this.Q,K="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
g.addEventListener("touchmove",p.jY,!1);this.Ie$=!0;this.Sc=[];var L=this.IZr=p.Y("div");L.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.Q.appendChild(L);var r=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",K+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",K+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var R=0;R<r.length;R++){var Q=new aX(r[R]);this.Sc.push(Q);Q.Q.setAttribute("style","margin-left:4px;cursor:pointer;");
Q.v("click",this.bZ,this)}}q_.prototype=new aO;q_.prototype.b=function(){var m=this.IZr;p.Lj(m);for(var g=0;
g<this.Sc.length;g++){var L=this.Sc[g];L.b();var K=Date.now()<1580658412982&&!ah.MS();if(g!=0||K)m.appendChild(L.Q)}};
q_.prototype.bZ=function(m){var g=this.Sc.indexOf(m.currentTarget);if(g==1){if(window.showCap)window.showCap();
return}var L="CTA  issues learn blog api twitter facebook".split(" "),K="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),r=window.ga;
if(r)r("send","event","Links",L[g]);var R=new Y(p.E.V,!0);R.data={P:p.o.VY,link:K[g]};this.g(R)};q_.prototype.cX=function(m){if(m.Ixl){m.preventDefault();
m.stopPropagation()}var g=window;p.Wj(g,this.IZk);p.WT(g,this.IZ_);g=this.DA;this.jf=new jf(parseInt(g.style.left),parseInt(g.style.top));
this.EQ=p.c_(m,this.Q);this.s$=g.getBoundingClientRect()};q_.prototype.Fg=function(m){var g=p.c_(m,this.Q),L=this.jf.x+g.x-this.EQ.x,K=this.jf.y+g.y-this.EQ.y,r=this.KR-this.s$.width,R=this.KP-this.s$.height;
if(this.IZL)this.DA.style.left=Math.min(0,Math.max(r,L))+"px";else this.DA.style.top=Math.min(0,Math.max(R,K))+"px";
if(L-10>0){this.EQ.x=g.x-10;this.jf.x=0}if(L+10<r){this.EQ.x=g.x+10;this.jf.x=r}};q_.prototype.Cs=function(m){var g=window;
p.bC(g,this.IZk);p.yH(g,this.IZ_)};q_.prototype.I_r=function(m){if(this.DA){this.Q.removeChild(this.DA)}this.DA=m;
this.Q.appendChild(m);m.style.position="absolute";if(this.IZL)m.style.left=0;else m.style.top=0};q_.prototype.Dj=function(m,g){this.KR=m;
this.KP=g;this.Q.setAttribute("style","width: "+m+"px; height: "+g+"px; overflow:hidden; white-space: nowrap;");
var L=this.DA.firstChild,K=this.IZr,r=L?L.firstChild.getBoundingClientRect().width+80:1e9,R=450,Q=this.Ie$&&m>r+R,F=p.Ys,q=F("b`bRH"),n=F("SU\\VOAV");
K[q][n]=Q?"":F("][WK")};function RY(){aO.call(this);this.Tf=null;this.uY=RY.EO;this.IZF="";this.Q=p.Y("div","rightbar");
this.Of=[new qW(380),new qW(265)];this.lM=[new qO,new qO,new qO,new qO,new qO];this.InC=[]}RY.prototype=new aO;
RY.prototype.b=function(){var m=this.uY;for(var g=0;g<m.length;g++)m[g].Mt.b()};RY.EO=[{Mt:new mR,uv:2},{Mt:new ac,uv:3},{Mt:new IV,uv:1},{Mt:new qe(!0),uv:4},{Mt:new qH,uv:0},{Mt:new Io,uv:2},{Mt:new Qr,uv:4},{Mt:new IP,uv:4},{Mt:new qM,uv:2},{Mt:new qf,uv:0},{Mt:new Ig,uv:2},{Mt:new RS,uv:1},{Mt:new qY,uv:3},{Mt:new pO,uv:2},{Mt:new qe(!1),uv:4},{Mt:new mb,uv:1},{Mt:new QU,uv:4},{Mt:new RD,uv:2},{Mt:new QS,uv:0}];
RY.prototype.I_d=function(m){for(var g=0;g<m.length;g++){var L=m[g],K=new Q$(L);this.uY.push({Mt:K,uv:2});
this.InC.push(K.gm)}this.fo()};RY.prototype.SI=function(m,g){this.Tf=m;var L=this.uY;for(var K=0;K<L.length;
K++)L[K].Mt.SI(m,g);if(g==am.nb||g==am.VA)this.fo()};RY.prototype.Dj=function(m,g){this.uP=m;this.PC=g;
this.Of[0].Dj(m,g);this.Of[1].Dj(m,g)};RY.prototype.fo=function(){var m=this.Tf,g=this.uP;if(m==null||g==0)return;
var L=m.Xa.concat(this.InC);if(JSON.stringify(L)!=this.IZF){this.IZF=JSON.stringify(L);p.Lj(this.Q);
var K=[];for(var r=0;r<this.Of.length;r++){var R=this.Of[r];K[r]=R.Fc();while(R.I_O()!=0)R.I_k(0);R.dH()}var Q=[];
for(var r=0;r<this.lM.length;r++){var F=this.lM[r];F.dH();while(F.Ikn()!=0)F.GX(0);Q.push(0)}for(var r=0;
r<L.length;r++){var q=this.IRv(L[r].toString());this.lM[q.uv].GZ(q.Mt);this.lM[q.uv].Sh(0);Q[q.uv]++}var n=[];
for(var r=0;r<Q.length;r++){if(Q[r]==0)continue;var W=r<2||g<500?1:0,R=this.Of[W];R.parent=this;R.I_p(this.lM[r]);
n[W]=!0}for(var r=0;r<this.Of.length;r++)if(n[r])this.Q.appendChild(this.Of[r].Q);this.Of[0].collapse();
if(g<500||this.Tf.compact||!K[1]){this.Of[1].collapse()}var z=new Y(p.E.V,!0);z.data={P:p.o.LV};this.g(z)}};
RY.prototype.IRv=function(m){for(var g=0;g<this.uY.length;g++)if(this.uY[g].Mt.gm==m)return this.uY[g]};
RY.prototype.I_Y=function(m){var g=this.IRv(m);this.lM[g.uv].GZ(g.Mt)};RY.prototype.e_=function(m,g,L){var K=this.uY;
for(var r=0;r<K.length;r++)K[r].Mt.e_(m,g,L)};RY.prototype.Mc=function(m,g,L,K,r){var R=this.uY;for(var Q=0;
Q<R.length;Q++)R[Q].Mt.Mc(m,g,L,K,r)};RY.prototype.NB=function(m,g,L,K,r){var R=this.uY;for(var Q=0;
Q<R.length;Q++)R[Q].Mt.NB(m,g,L,K,r)};RY.prototype.RK=function(m,g,L,K,r){var R=this.uY;for(var Q=0;
Q<R.length;Q++)R[Q].Mt.RK(m,g,L,K,r)};function mm(m,g){p_.call(this,"toolbar");this.InE=null;this.dK=p.Y("div","tools");
this.Q.appendChild(this.dK);this.aZ=null;this.Ix_=g;this.vH=null;this.Bl=null;this.Qx=null;this.tD=null;
this.KF=null;this.IRB(m);this.$q=new II;this.$q.v(p.E.z,this.Nw,this);this.$q.parent=this;this._Q=new II;
this._Q.v(p.E.z,this.Nw,this);this._Q.parent=this;this.li=new aX(p.cY("lrs/mask"),!1,[6,6,1]);this.li.Q.style.marginTop="6px";
this.li.v("click",function(K){var r=new Y(p.E.B,!0);r.K=l.eS;r.data={P:"qmask"};this.g(r)},this);this.sF=p.Y("span","scont");
this.Ea=p.Y("button","switch");this.Ea.textContent="\u21F5";this.DG=p.Y("button","switch");this.DG.textContent="D";
var L=this.IeU.bind(this);this.Ea.addEventListener("click",L,!1);this.DG.addEventListener("click",L,!1);
this.sF.appendChild(this.Ea);this.sF.appendChild(this.DG)}mm.prototype=new p_;mm.prototype.I_N=function(m,g){this.vH=g;
if(m==null||m.N.length==0)return;var L=m.li()!=null,K=m.L.WY,r=m._[m.N[0]].eF,R=r==1||r==3||L||K[0]+K[1]+K[2]==1;
this.$q.IDK(R);this._Q.IDK(R);this.li.p(L)};mm.prototype.IRB=function(m){this.InE=m;this.Qx=[];this.tD=[];
this.KF=[];this.Bl=[];var g=m.bl;if(this.aZ){var L=[],K=this.aZ.Ien;for(var r=0;r<g.length;r++){if(g[r]=="---"){L.push("---");
continue}var R=[];for(var Q=0;Q<g[r].length;Q++){var F=g[r][Q];if(K==null||K.indexOf(parseInt(F.K.id))!=-1)R.push(F)}if(R.length>0)L.push(R)}g=L}for(var r=0;
r<g.length;r++){if(g[r]=="---"){this.KF.push(null);this.tD.push("---");continue}var q=[],n=this.Qx.length;
for(var Q=0;Q<g[r].length;Q++){var F=g[r][Q].K;this.Bl.push(F);var W=new qZ(F.name,m.keys[r],F.$z,this.Qx.length,r,g[r].length>1);
this.Qx.push(W);if(Q==0)this.tD.push(W);W.v(p.E.z,this.jj,this);W.v("mover",this.Zr,this);q.push({name:F.name,QI:F.$z,cP:m.keys[r]?m.keys[r].RZ:""})}if(q.length==1)this.KF.push(null);
else{var z=new mx(q);z.Ixn=n;z.Sr=r;this.KF.push(z);z.v("select",this.I_P,this);z.parent=this}}};mm.prototype.Dj=function(m,g){var L=g-11,K=32;
if(1<p.M()&&p.M()<1.5)K=18+14*(1/p.M());var r=(this.tD.length-3)*K+3*5+61+18,R=Math.min(1,L/r);if(.75<=R){this.dK.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+R+","+R+");");
this.Q.setAttribute("style","height:"+(g-2)+"px; overflow:hidden")}else{L-=4;this.dK.setAttribute("style","height: "+L+"px;  width:"+Math.ceil(r/L)*34+"px");
this.Q.setAttribute("style","")}};mm.prototype.b=function(){for(var m=0;m<this.Qx.length;m++)this.Qx[m].b();
for(var m=0;m<this.KF.length;m++)if(this.KF[m])this.KF[m].b();this.Ea.setAttribute("title",aT.get([22,7,0])+" (X)");
this.DG.setAttribute("title",aT.get([22,7,1])+" (D)")};mm.prototype.jj=function(m){var g=new Y(p.E.V,!0);
g.data={P:p.o.RI,K:this.Bl[m.id].id};this.g(g)};mm.prototype.I_P=function(m){var g=m.target.Ixn+m.target.EH()[0];
this.Qx[g].Cs(null)};mm.prototype.Zr=function(m){var g=this.vH,L=new Y(p.E.V,!0);L.data={P:p.o.CA};this.g(L);
var K=m.target,r=this.KF[K.Sr];if(r==null)return;var R=K.Q.getBoundingClientRect(),L=new Y(p.E.V,!0);
L.data={P:p.o.xW,Mt:r,x:R.left+R.width+8,y:R.top};if(g==null||!(g.a(C.vD)||g.a(C.EZ)))this.g(L)};mm.prototype.Nw=function(m){var g=new Y(p.E.V,!0);
g.data={P:p.o.VP,Su:am.Tc,Jj:m.target==this.$q?0:1,U:m.target.nI()};this.g(g)};mm.prototype.IeU=function(m){var g=new Y(p.E.V,!0);
g.data={P:p.o.VP,Su:am.Tc,Jj:m.currentTarget==this.Ea?2:3};this.g(g)};mm.prototype.Nr=function(m){var g=-1;
for(var L=0;L<this.Bl.length;L++)if(this.Bl[L].id==m)g=L;for(var L=0;L<this.Qx.length;L++){var K=this.Qx[L];
K.Iew(g==L)}if(g==-1)return;this.tD[this.Qx[g].Sr]=this.Qx[g];p.Lj(this.dK);var r=this.tD;for(var L=0;
L<r.length;L++){if(r[L]=="---")this.dK.appendChild(p.Y("hr"));else this.dK.appendChild(r[L].Q)}if(!this.Ix_)return;
this.dK.appendChild(this.$q.Q);this.dK.appendChild(this.sF);this.dK.appendChild(this._Q.Q);this.dK.appendChild(this.li.Q)};
mm.prototype.e_=function(m,g){this.Nr(g._O)};mm.prototype.SI=function(m,g){this.aZ=m;if(g==am.VA){this.IRB(this.InE);
this.Nr(m._O)}this.$q.dy(m.$q);this._Q.dy(m._Q)};function qZ(m,g,L,K,r,R){aO.call(this);this.nE=0;this.IxE=this.Iea.bind(this);
this.Sr=r;this.uX=K;this.rf=m;this.InY=g;this.IxB=R;this.$z=L;this.Q=p.Y("button","");this.Q.innerHTML=p.cY(this.$z);
if(this.IxB){var Q=p.Y("img","gsicon");Q.setAttribute("src",PIMG["tools/corner"]);Q.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.Q.appendChild(Q)}this.b();p.yG(this.Q,this.cX.bind(this));this.Q.addEventListener("click",this.Cs.bind(this),!1);
this.Q.addEventListener("contextmenu",qZ.mF,!1)}qZ.prototype=new aO;qZ.mF=function(m){m.stopPropagation();
m.preventDefault();return!1};qZ.prototype.b=function(){var m=this.InY?" ("+this.InY.RZ+")":"";this.Q.setAttribute("title",aT.get(this.rf)+m)};
qZ.prototype.cX=function(m){this.nE=setTimeout(this.IxE,160)};qZ.prototype.Cs=function(m){clearTimeout(this.nE);
var g=new Y(p.E.z,!1);g.target=this;g.id=this.uX;this.g(g)};qZ.prototype.Iea=function(m){var g=new Y("mover",!1);
g.target=this;g.id=this.uX;this.g(g)};qZ.prototype.Iew=function(m){this.Q.setAttribute("class",m?"toolbtn active":"toolbtn")};
function mq(){aO.call(this);this.Q=p.Y("div","topbar");this.Do=p.Y("span","");this.Inz=0;this.Q.appendChild(this.Do);
this.dc=null;this.sg=null;this.gr=[];this.Xa=[];var m=this.cX.bind(this);for(var g=0;g<mq.data.length;
g++){var L=p.Y("button");this.gr.push(L);this.Do.appendChild(L);L.addEventListener("mouseover",m,!1);
p.yG(L,m)}this.ih=new aX([0,13,0],!1,null,!0);this.ih.v("click",this.IpA,this);this.Q.appendChild(this.ih.Q);
this.Em=new aX(p.cY("tools/zoom",null,"autoscale"),!1,[12,86]);this.Em.v("click",this.IpA,this);this.Q.appendChild(this.Em.Q)}mq.prototype=new aO;
mq.prototype.Imz=function(){if(this.Xa.length!=0)return;for(var m=0;m<mq.data.length;m++){var g=mq.data[m],L=new mx(g.items,g.mI);
L.parent=this;this.Xa.push(L)}this.b()};mq.prototype.b=function(){this.ih.b();this.Em.b();for(var m=0;
m<this.gr.length;m++)this.gr[m].textContent=aT.get(mq.data[m].name);this.IxZ();for(var m=0;m<this.Xa.length;
m++)this.Xa[m].b()};mq.prototype.IpA=function(m){var g=new Y(p.E.V,!0);if(m.target==this.ih)g.data={P:p.o.My,OT:"account"};
else g.data={P:p.o.vY};this.g(g)};mq.prototype.IeL=function(m,g){this.dc=m;this.sg=g};mq.prototype.SI=function(m,g){this.sg=m;
if(g==am.VA){var L=m.IDp;p.Lj(this.Do);for(var K=0;K<this.gr.length;K++){if(L==null||L[K]==1||L[K]instanceof Array)this.Do.appendChild(this.gr[K]);
if(L!=null&&L[K]instanceof Array){this.Imz();this.Xa[K].IeZ(L[K])}}this.Q.removeChild(this.ih.Q);this.Q.removeChild(this.Em.Q);
if(m.iD)this.Q.appendChild(this.ih.Q);this.Q.appendChild(this.Em.Q)}this.IxZ()};mq.prototype.IxZ=function(m,g){var L=this.ih,K=12255232;
if(ah.KA())K=ah.MS()?43520:16755200;L.Q.setAttribute("style","color:#ffffff; background-color:#"+I.IA(K))};
mq.prototype.cX=function(m){this.Imz();var g=this.gr.indexOf(m.currentTarget),L=this.Xa[g];if(m.type=="mouseover"&&!p.Ya(this.Xa[this.Inz].Q))return;
if(p.Ya(L.Q))return;m.Ixl=!0;this.Inz=g;for(var g=0;g<mq.data.length;g++)this.Xa[g].update(this.dc,this.sg);
var K=m.target.getBoundingClientRect(),r=new Y(p.E.V,!0);r.data={P:p.o.xW,Mt:L,x:K.left,y:K.top+K.height+2,Ipb:!0};
this.g(r)};mq.Ixf=function(m){var g={name:[0,5],items:[{name:[7,0],cP:"Ctrl+A"},{name:[7,1],cP:"Ctrl+D",$:function(K){return{$:K!=null&&K.I!=null}}},{name:[7,2],cP:"Shift+Ctrl+I",$:function(K){return{$:K!=null&&K.I!=null}},Oo:!0},{name:[7,11],lh:!0,$:function(K){return{$:K!=null&&K.N.length!=0&&!K._[K.N[0]].rect.L_()}}},{name:"Magic Cut",lh:!0,$:function(K){return{$:K!=null&&K.N.length!=0&&!K._[K.N[0]].rect.L_()}},Oo:!0},{name:[7,8],lh:!0},{name:[7,3],Oo:!0,sub:[{name:[7,9],lh:!0,$:function(K){return{$:K!=null&&K.I!=null}}},{name:[19,3,0],lh:!0,$:function(K){return{$:K!=null&&K.I!=null}}},{name:[7,4],lh:!0,$:function(K){return{$:K!=null&&K.I!=null}}},{name:[7,5],lh:!0,$:function(K){return{$:K!=null&&K.I!=null}}},{name:[7,6],lh:!0,$:function(K){return{$:K!=null&&K.I!=null}},cP:"Shift+F6"}]},{name:[7,10],$:function(K){return{$:K!=null&&K.I!=null}}}],mI:[{C:p.E.VG,n:l.Lk.ud(!0)},{C:p.E.VG,n:l.Lk.ud()},{C:p.E.VG,n:{Qm:"inverse"}},{C:p.E.V,n:{P:p.o.My,OT:"redge"}},{C:p.E.V,n:{P:p.o.My,OT:"magiccut"}},{C:p.E.V,n:{P:p.o.My,OT:"crange"}},{sub:[{C:p.E.V,n:{P:p.o.My,OT:"sel_border"}},{C:p.E.V,n:{P:p.o.My,OT:"sel_smoothness"}},{C:p.E.V,n:{P:p.o.My,OT:"sel_expand"}},{C:p.E.V,n:{P:p.o.My,OT:"sel_contract"}},{C:p.E.V,n:{P:p.o.My,OT:"sel_feather"}}]},{C:p.E.V,n:{P:p.o.RI,K:l.gi}}]};
if(m){var L=g.items.length-1;g.items.splice(L,0,{name:[10,16],cP:"Alt+Ctrl + T"});g.mI.splice(L,0,{C:p.E.V,n:{P:p.o.RI,K:l.Zo}})}return g};
mq.data=[{name:[0,0],items:[{name:[5,3],cP:"Alt+Ctrl+N",title:[11,7],lh:!0},{name:[1,0],cP:"Ctrl+O",lh:!0},{name:[1,11],lh:!0,$:function(m,g){return{$:m!=null}}},{name:[1,5],lh:!0,Oo:!0},{name:[11,0]},{name:[1,1],Oo:!0,sub:[{name:"PNG",cP:"Imgur.com",$:function(m,g){return{$:m!=null&&g.zH}}},{name:"PSD",cP:"Photopea.com",$:function(m,g){return{$:m!=null&&g.zH}}}]},{name:"Save ...",cP:"Ctrl+S",$:function(m,g){var L=aT.get([1,2])+(m==null?"":m.XN?" (Smart Object)":m.hI?" (Google Drive)":"");
return{$:m!=null&&(m.XN!=null||m.VK!=null&&m.VK.nn!=null||m.hI!=null||g.ip.save!=null),Bt:L}}},{name:[1,3],$:function(m,g){return{$:m!=null&&g.zH}}},{name:[1,8],sub:function(){var m=ax.WQ(0),g=[];
for(var L=0;L<m.length;L++)g.push({name:m[L],cP:"."+m[L].toLowerCase()});g.push({name:[0,14],sub:function(){var m=ax.WQ(1),g=[];
for(var L=0;L<m.length;L++)g.push({name:m[L],cP:"."+m[L].toLowerCase()});return g}()});return g}()},{name:[1,9],lh:!0,$:function(m,g){return{$:m!=null}},Oo:!0},{name:"File Info",lh:!0,$:function(m,g){return{$:m!=null}},Oo:!0,cP:"Alt+Shift+Ctrl+I"},{name:[1,10]}],mI:[{C:p.E.V,n:{P:p.o.My,OT:"newproject"}},{C:p.E.V,n:{P:p.o.jb}},{C:p.E.V,n:{P:p.o.jb,IeO:!0}},{C:p.E.V,n:{P:p.o.My,OT:"open_from_url"}},{C:p.E.V,n:{P:p.o.My,OT:"camera"}},{sub:[{C:p.E.V,n:{P:p.o.CH,NW:"png"}},{C:p.E.V,n:{P:p.o.CH,NW:"psd"}}]},{C:p.E.V,n:{P:p.o.ap}},{C:p.E.V,n:{P:p.o.Nq}},{sub:function(){var m=ax.WQ(0),g=[];
for(var L=0;L<m.length;L++)g.push({C:p.E.V,n:{P:p.o.My,OT:"saveforweb",NW:L}});g.push({sub:function(){var K=ax.WQ(0).length,m=ax.WQ(1),g=[];
for(var L=0;L<m.length;L++)g.push({C:p.E.V,n:{P:p.o.My,OT:"saveforweb",NW:K+L}});return g}()});return g}()},{C:p.E.V,n:{P:p.o.My,OT:"eassets"}},{C:p.E.V,n:{P:p.o.My,OT:"finfo"}},{C:p.E.V,n:{P:p.o.My,OT:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],cP:"Shift+Ctrl + Z"},{name:[2,1],cP:"Ctrl + Z",Oo:!0},{name:[2,11],cP:"Shift+Ctrl + F",Oo:!0,lh:!0,$:function(m,g){return{$:mB.II$(m)&&g._O!=l.Zo}}},{name:[5,0],cP:"Ctrl + X"},{name:[5,1],cP:"Ctrl + C"},{name:[5,7],cP:"Shift + Ctrl + C"},{name:[5,2],cP:"Ctrl + V",$:function(m,g){return{$:window.ClipboardItem||g.qY!=null||g.zu!=null||g.ICw!=null}}},{name:[2,2],$:function(m){return{$:m!=null&&m.I!=null}},cP:"Delete",Oo:!0},{name:[2,3],$:function(m){return{$:m!=null}},lh:!0,cP:"Shift + F5"},{name:[14,9],$:function(m){return{$:m!=null}},lh:!0,Oo:!0},{name:[10,46],$:function(m){return{$:l.KI.ILo(m)}}},{name:[10,16],cP:"Alt+Ctrl + T"},{name:[2,4],sub:mT.Imx()},{name:[2,10],Oo:!0},{name:[12,87],sub:[{name:[12,62],$:function(m){return{$:m!=null}}},{name:[9,3],$:function(m){return{$:m!=null}}},{name:[10,31],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].add.vmsk!=null}}}]},{name:[12,79],lh:!0,cP:"Ctrl + K"},{name:[1,13],lh:!0}],mI:[{C:p.E.B,K:l.AV,n:{P:"h_undoredo"}},{C:p.E.B,K:l.AV,n:{P:"h_stepfwd"}},{C:p.E.B,K:l.AV,n:{P:"h_stepbck"}},{C:p.E.V,n:{P:p.o.My,OT:"afw_fade"}},{C:p.E.V,n:{P:p.o.vI}},{C:p.E.V,n:{P:p.o.aM}},{C:p.E.V,n:{P:p.o.aM,gn:!0}},{C:p.E.V,n:{P:p.o.Vh}},{C:p.E.VG,n:{Qm:"delete"}},{C:p.E.V,n:{P:p.o.My,OT:"fill"}},{C:p.E.V,n:{P:p.o.My,OT:"stroke"}},{C:p.E.B,K:l.VJ,n:{P:"start",le:"\0\0\x03\x82"}},{C:p.E.V,n:{P:p.o.RI,K:l.Zo}},{sub:mT.ImO()},{C:p.E.B,K:l.pW,n:{P:x.ILv}},{sub:[{C:p.E.V,n:{P:p.o.Jq,Su:0}},{C:p.E.V,n:{P:p.o.Jq,Su:1}},{C:p.E.V,n:{P:p.o.Jq,Su:2}}]},{C:p.E.V,n:{P:p.o.My,OT:"preferences"}},{C:p.E.V,n:{P:p.o.My,OT:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var m=[];
for(var g in qE.names){m.push({name:qE.names[g],lh:O[g]!=null,cP:C.Ipm(qE.keys[g]),Oo:qE.Ieo.indexOf(g)!=-1});
if(g=="selc")m.push({name:[19,7,0],cP:"Ctrl+Shift + U"})}return m}()},{name:[4,16,0],$:function(m){return{$:m!=null&&m.kn(!1)}}},{name:[4,16,1],$:function(m){return{$:m!=null&&m.kn(!1)}}},{name:[4,16,2],$:function(m){return{$:m!=null&&m.kn(!1)}},Oo:!0},{name:[11,11],$:function(m){return{$:m!=null&&m.kn(!1)}},Oo:!0},{name:[11,3],lh:!0,cP:"Alt+Ctrl+C"},{name:[11,10],lh:!0,cP:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",$:function(m){return{Bt:aT.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",$:function(m){return{Bt:aT.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",$:function(m){return{Bt:aT.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],$:function(m){return{$:m!=null&&m.I!=null}}},{name:[11,12,0],$:function(m){return{$:m!=null}},cP:"Ctrl + ."},{name:[11,12,2],$:function(m){return{$:m!=null}}}],mI:[{sub:function(){var m=[];
for(var g in qE.names){m.push({C:p.E.B,K:l.fy,n:{P:"start",q$:g}});if(g=="selc")m.push({C:p.E.VG,n:{Qm:"desaturate"}})}return m}()},{C:p.E.VG,n:{Qm:"levels",XX:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{C:p.E.VG,n:{Qm:"levels",XX:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{C:p.E.VG,n:{Qm:"levels",XX:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{C:p.E.V,n:{P:p.o.My,OT:"vbitmap"}},{C:p.E.V,n:{P:p.o.My,OT:"csize"}},{C:p.E.V,n:{P:p.o.My,OT:"isize"}},{sub:[{C:p.E.VG,n:l.k.Zb(!0,90)},{C:p.E.VG,n:l.k.Zb(!0,-90)},{C:p.E.VG,n:l.k.Zb(!0,-180)},{C:p.E.VG,n:l.k.Zb(!1,"Hrzn")},{C:p.E.VG,n:l.k.Zb(!1,"Vrtc")}]},{C:p.E.B,K:l.Zw,n:{P:"cropbysel",IwS:0}},{C:p.E.VG,n:l.ma.oZ(0)},{C:p.E.VG,n:{Qm:"revealAll",XX:{classID:"RvlA"}}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],cP:"Ctrl + J"}]},{name:[6,0],cP:"Ctrl + J"},{name:[11,4],$:function(m){return{$:m!=null}}},{name:[5,4],Oo:!0},{name:[11,6],Oo:!0,$:function(m){return{$:m!=null&&m.N.length!=0}},sub:Ix.IvP(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Oo:!0,sub:Ix.IQZ()},{name:[6,2],sub:[{name:[6,4],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].WN()==null}}},{name:[6,5,0],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].WN()==null}}},{name:[6,5,1],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].WN()==null&&m.I!=null}}},{name:[6,5,2],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].WN()==null&&m.I!=null}}},{name:[6,5,3],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].WN()==null}},Oo:!0},{name:[5,4],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].WN()!=null}}},{name:[5,8],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].WN()!=null&&m.kn(!1,!0)}}},{name:"Enable/Disable",$:function(m){return{Bt:aT.get([5,5])+"/"+aT.get([5,6]),$:m!=null&&m.N.length!=0&&m._[m.N[0]].WN()!=null}}}]},{name:[6,3],sub:[{name:[6,4],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].add.vmsk==null}}},{name:[6,5,0],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].add.vmsk==null}}},{name:[5,4],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].add.vmsk!=null}}},{name:"Enable/Disable",$:function(m){return{Bt:aT.get([5,5])+"/"+aT.get([5,6]),$:m!=null&&m.N.length!=0&&m._[m.N[0]].add.vmsk!=null}}}]},{name:[6,6,0],cP:"Alt+Ctrl+G",Oo:!0,$:function(m){return{Nf:m!=null&&m.N.length!=0&&m._[m.N[0]].OG,$:m!=null&&m.WX(m.N[0])}}},{name:"Smart Object",Oo:!0,sub:[{name:[6,7]},{name:[1,0],$:function(m){return{$:m!=null&&m.N.length!=0&&m._[m.N[0]].add.SoLd!=null}}}]},{name:[6,8],$:function(m){if(m==null||m.N.length==0)return{$:!1};
var g=m._[m.N[0]];if(g.add.TySh||g.add.SoLd||g.add.SoCo||g.add.GdFl||g.add.PtFl)return{$:!0};return{$:!1}}},{name:[6,34],Oo:!0,$:function(m){if(m==null||m.N.length==0)return{$:!1};
var g=m._[m.N[0]];return{$:g.add.lmfx!=null&&!g.EY()}}},{name:[6,9],Oo:!0,cP:"Ctrl+G"},{name:[6,55],Oo:!0,sub:[{name:[6,56,0],cP:"Shift+Ctrl+]"},{name:[6,56,1],cP:"Ctrl+]"},{name:[6,56,2],cP:"Ctrl+["},{name:[6,56,3],cP:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],$:function(m){return{$:m!=null&&m.N.length==1&&m.N[0]!=0&&!m._[m.N[0]].EY()}},cP:"Ctrl+E"},{name:[6,12,0],$:function(m){return{$:m!=null&&m.N.length!=0&&(m.N.length>1||m._[m.N[0]].EY())}}},{name:[6,12,1]}],mI:[{sub:[{C:p.E.B,K:l.pW,n:{P:x.ZD}},{C:p.E.B,K:l.pW,n:{P:x.dz}},{C:p.E.B,K:l.pW,n:{P:x.QV}}]},{C:p.E.B,K:l.pW,n:{P:x.vs}},{C:p.E.V,n:{P:p.o.My,OT:"duplinto"}},{C:p.E.B,K:l.pW,n:{P:x.vf}},{sub:Ix.IVB(!0)},{sub:[{C:p.E.B,K:l.gI,n:{P:"newfill",RJ:0}},{C:p.E.VG,n:l.nB._W(1)},{C:p.E.VG,n:l.nB._W(2)}]},{sub:Ix.IQF()},{sub:[{C:p.E.B,K:l.pW,n:{P:x.lp,BM:"RvlA"}},{C:p.E.B,K:l.pW,n:{P:x.lp,BM:"HdAl"}},{C:p.E.B,K:l.pW,n:{P:x.lp,BM:"RvlS"}},{C:p.E.B,K:l.pW,n:{P:x.lp,BM:"HdSl"}},{C:p.E.B,K:l.pW,n:{P:x.lp,BM:"Trns"}},{C:p.E.B,K:l.pW,n:{P:x.XJ}},{C:p.E.B,K:l.pW,n:{P:x.OA}},{C:p.E.B,K:l.pW,n:{P:x.qS}}]},{sub:[{C:p.E.B,K:l.pW,n:{P:x.qn,ILR:!1}},{C:p.E.B,K:l.pW,n:{P:x.qn,ILR:!0}},{C:p.E.B,K:l.pW,n:{P:x.Xi}},{C:p.E.B,K:l.pW,n:{P:x.XL}}]},{C:p.E.B,K:l.pW,n:{P:x.QB}},{sub:[{C:p.E.VG,n:{Qm:"newPlacedLayer"}},{C:p.E.VG,n:{Qm:"placedLayerEditContents",XX:{classID:"placedLayerEditContents"}}}]},{C:p.E.VG,n:{Qm:"rasterizeLayer",XX:{classID:"rasterizeLayer",null:RL.c$("Lyr",!0)}}},{C:p.E.B,K:l.pW,n:{P:x.OF}},{C:p.E.B,K:l.pW,n:{P:x.wa}},{sub:[{C:p.E.B,K:l.pW,n:{P:x.QZ,Jj:0}},{C:p.E.B,K:l.pW,n:{P:x.QZ,Jj:1}},{C:p.E.B,K:l.pW,n:{P:x.QZ,Jj:2}},{C:p.E.B,K:l.pW,n:{P:x.QZ,Jj:3}}]},{sub:[{C:p.E.B,K:l.pW,n:{P:x.ImC}}]},{C:p.E.B,K:l.pW,n:{P:x.If}},{C:p.E.B,K:l.pW,n:{P:x.Db}},{C:p.E.VG,n:{Qm:"flattenImage"}}]},mq.Ixf(!1),function(){var m={name:[0,6],items:[{name:[24,18,4],cP:"Alt + Ctrl + F",Oo:!0}],mI:[{C:p.E.B,K:l.VJ,n:{P:"applylast"}}]};
for(var g=0;g<aN.IB.length;g++){var L=aN.IB[g];if(L.jl!=null){m.items.push({name:aN.names[L.jl],lh:!0,Oo:L.Oo});
m.mI.push({C:p.E.B,K:l.VJ,n:{P:"start",le:L.jl}});continue}var K={name:L.Kg,sub:[]};m.items.push(K);
var r={sub:[]};m.mI.push(r);for(var R=0;R<L.rC.length;R++){var Q={name:aN.names[L.rC[R]],lh:aN.Rw(L.rC[R])!=null};
K.sub.push(Q);var F={C:p.E.B,K:l.VJ,n:{P:"start",le:L.rC[R]}};r.sub.push(F)}}return m}(),{name:[0,7],items:[{name:[8,0],cP:"Ctrl + +"},{name:[8,1],cP:"Ctrl + -"},{name:[20,3],cP:"Ctrl + 0"},{name:[20,2],cP:"Ctrl + 1",Oo:!0},{name:"Extras",cP:"Ctrl + H",$:function(m,g){return{Nf:g.ny}}},{name:[8,12],Oo:!0,sub:[{name:[17,2],$:function(m,g){return{$:g.ny,Nf:g.dA.pT}}},{name:[8,9],$:function(m,g){return{$:g.ny,Nf:g.dA.pc}}},{name:[8,2],$:function(m,g){return{$:g.ny,Nf:g.dA.TW}},cP:"Ctrl + ;"},{name:[8,4],$:function(m,g){return{$:g.ny,Nf:g.dA.wf}},cP:"Ctrl + '"},{name:[8,8],$:function(m,g){return{$:g.ny,Nf:g.dA.zi}}},{name:[8,11,0],$:function(m,g){return{$:g.ny,Nf:g.dA.qo}}}]},{name:[8,3],$:function(m,g){return{Nf:g.EK}},cP:"Ctrl + R",Oo:!0},{name:[8,5],$:function(m,g){return{Nf:g.zY}}},{name:[8,6],Oo:!0,sub:[{name:[8,2],$:function(m,g){return{Nf:g.DV[0]}}},{name:[8,4],$:function(m,g){return{Nf:g.DV[1]}}},{name:[8,11,0],$:function(m,g){return{Nf:g.DV[3]}}},{name:[8,7],$:function(m,g){return{Nf:g.DV[4]}}}]},{name:[11,15,0],$:function(m,g){return{$:m!=null}}},{name:[11,14],$:function(m,g){return{$:m!=null}},lh:!0},{name:[11,15,1],$:function(m,g){return{$:m!=null&&m.N.length!=0}}}],mI:[{C:p.E.B,K:l.ei,n:{P:"zoom",bt:!0}},{C:p.E.B,K:l.ei,n:{P:"zoom",bt:!1}},{C:p.E.B,K:l.ei,n:{P:"adapt",U:"fitscr"}},{C:p.E.B,K:l.ei,n:{P:"adapt",U:"pixel"}},{C:p.E.V,n:{P:p.o.VP,Su:am.Il}},{sub:[{C:p.E.V,n:{P:p.o.VP,Su:am.Hr}},{C:p.E.V,n:{P:p.o.VP,Su:am.ED}},{C:p.E.V,n:{P:p.o.VP,Su:am.pG}},{C:p.E.V,n:{P:p.o.VP,Su:am.Hv}},{C:p.E.V,n:{P:p.o.VP,Su:am.iH}},{C:p.E.V,n:{P:p.o.VP,Su:am.Hh}}]},{C:p.E.V,n:{P:p.o.VP,Su:am.He}},{C:p.E.V,n:{P:p.o.VP,Su:am.IeG}},{sub:[{C:p.E.V,n:{P:p.o.VP,Su:am.p_,Pf:0}},{C:p.E.V,n:{P:p.o.VP,Su:am.p_,Pf:1}},{C:p.E.V,n:{P:p.o.VP,Su:am.p_,Pf:3}},{C:p.E.V,n:{P:p.o.VP,Su:am.p_,Pf:4}}]},{C:p.E.B,K:l.Kb,n:{P:"gids",gZ:[[],[]]}},{C:p.E.V,n:{P:p.o.My,OT:"addguides"}},{C:p.E.B,K:l.Kb,n:{P:"gidsFromLayer"}}]},function(){var m={name:[0,8],items:[],mI:[]};
for(var g=0;g<RY.EO.length;g++){var L=RY.EO[g];m.items.push({name:L.Mt.name});m.mI.push({C:p.E.V,n:{P:p.o.VV,OT:L.Mt.gm}})}return m}(),function(){var m={name:[0,14],items:[],mI:[]},g={name:[0,9],sub:[]};
m.items.push(g);var L={sub:[]};m.mI.push(L);var K=aT.IqP();for(var r=0;r<K.length;r++){var R=K[r],Q=R.code,F=aT.zM(Q);
g.sub.push({name:R.name,cP:Q,$:function(q,n){return{Nf:this.cP==aT.zO()}}});L.sub.push({C:p.E.V,n:{P:p.o.VP,Su:am.Hg,lang:F}})}g.sub.push({name:[0,12]});
L.sub.push({C:p.E.V,n:{P:p.o.VY,link:"https://www.photopea.com/translate/"}});var g={name:[0,15],sub:[]};
m.items.push(g);var L={sub:[]};m.mI.push(L);for(var r=0;r<ph.ER.length;r++){g.sub.push({name:ph.ER[r].name,$:function(q,n){return{Nf:this.name==ph.ER[n.rL].name}}});
L.sub.push({C:p.E.V,n:{P:p.o.VP,Su:am.pr,rL:r}})}m.items.push({name:"Install Photopea",$:function(q,n){return{$:n.nH!=null}}});
m.mI.push({C:p.E.V,n:{P:p.o.Ilk}});m.items.push({name:[11,13]});m.mI.push({C:p.E.V,n:{P:p.o.My,OT:"shortcuts"}});
m.items.push({name:[0,16],$:function(q){return{Nf:t.be,$:t.JN}}});m.mI.push({C:p.E.V,n:{P:p.o.ILX}});
return m}()];function pM(){aO.call(this);this.Q=p.Y("div","");this.KR=0;this.KP=0;this.Tf=null;this.uv=p.Y("div","");
this.uv.setAttribute("style","width:200em; height:100em; position:absolute;");this.rY=[];this.Xh=[]}pM.prototype=new aO;
pM.prototype.Rj=function(){this.Xh=[new I_,new RN,new jb,new qF,new jH,new QQ,new RA,new qt,new IN,new pV,new DS,new IH,new m_,new qV,new DT,new Ix,new pr,new DZ,new qi,new qS,new qp,new po,new mD,new IY,new Id,new mw,new mX(0),new mX(1),new Dl,new Ik,new qw,new IK("border",[7,9],"px"),new IK("smoothness",[19,3,0],"px"),new IK("expand",[7,4],"px"),new IK("contract",[7,5],"px"),new IK("feather",[7,6],"px"),new qP("namewindow",[12,48])];
for(var m in O)this.Xh.push(new mB(m));for(var g=0;g<this.Xh.length;g++){var L=this.Xh[g];L.v(p.E.aI,this.gY,this);
L.parent=this}};pM.prototype.Dj=function(m,g){this.KR=m;this.KP=g;for(var L=0;L<this.Xh.length;L++)this.ILu(this.Xh[L])};
pM.prototype.b=function(){for(var m=0;m<this.Xh.length;m++)this.Xh[m].b()};pM.prototype.tO=function(){return this.rY.length==0?null:this.rY[this.rY.length-1]};
pM.prototype.HE=function(){for(var m=0;m<this.rY.length;m++)if(this.rY[m].HE())return!0;return!1};pM.prototype.IeM=function(m,g,L,K,r){if(this.Xh.length==0){this.Rj();
this.Dj(this.KR,this.KP);this.b();if(this.Tf)this.SI(this.Tf,am.VA)}var R=null;if(typeof m=="object"){R=m;
if(!R.sA(p.E.aI,this.gY))R.v(p.E.aI,this.gY,this);R.parent=this}else for(var Q=0;Q<this.Xh.length;Q++)if(this.Xh[Q].id==m)R=this.Xh[Q];
if(this.HE()&&R.HE()){alert("Finish the current action first");return}if(!R.YO(g))return;if(this.rY.indexOf(R)!=-1){if(m=="colorpicker")R.e_(g,L,K,r);
return}this.ILu(R);var F=this.rY.length-1;if(F>=0)p.RM(this.rY[F].Q,"wdisabled");this.Q.appendChild(R.Q);
this.rY.push(R);R.e_(g,L,K,r)};pM.prototype.ILu=function(m){var g=this.KR,L=this.KP,K=m.YH(g,L);m.Q.style.left=K.x+"px";
m.Q.style.top=this.Q.offsetTop+K.y+"px";m.Dj(this.KR-K.x*2,this.KP-K.y*2-34)};pM.prototype.SI=function(m,g){this.Tf=m;
for(var L=0;L<this.Xh.length;L++)this.Xh[L].SI(m,g)};pM.prototype.gY=function(m){var g=this.rY.pop();
this.Q.removeChild(g.Q);var L=this.rY.length-1;if(L>=0)p.Av(this.rY[L].Q,"wdisabled");if(this.uv.parentNode==this.Q)this.Q.removeChild(this.uv)};
window.onload=function(){var m=new Iu;document.body.appendChild(m.Q)}}())